!function(){var n,t;(function(){n={}}).call(this),function(){(function(){var t=this,r=t._,e={},i=Array.prototype,u=Object.prototype,a=Function.prototype,c=i.push,o=i.slice,l=i.concat,f=u.toString,s=u.hasOwnProperty,p=i.forEach,h=i.map,v=i.reduce,y=i.reduceRight,d=i.filter,g=i.every,m=i.some,b=i.indexOf,_=i.lastIndexOf,w=Array.isArray,x=Object.keys,j=a.bind,A=function(n){return n instanceof A?n:this instanceof A?void(this._wrapped=n):new A(n)};"undefined"!=typeof n?("undefined"!=typeof module&&module.exports&&(n=module.exports=A),n._=A):t._=A,A.VERSION="1.5.2";var k=function(n){return"[object Arguments]"===f.call(n)};k(arguments)||(k=function(n){return!(!n||!s.call(n,"callee")||"function"!=typeof n.callee)});var O=function(n){return n.length===+n.length&&(k(n)||n.constructor!==Object)},E=A.each=A.forEach=function(n,t,r){if(null!=n)if(p&&n.forEach===p)n.forEach(t,r);else if(O(n)){for(var i=0,u=n.length;i<u;i++)if(t.call(r,n[i],i,n)===e)return}else for(var a=A.keys(n),i=0,u=a.length;i<u;i++)if(t.call(r,n[a[i]],a[i],n)===e)return};A.map=A.collect=function(n,t,r){var e=[];return null==n?e:h&&n.map===h?n.map(t,r):(E(n,function(n,i,u){e.push(t.call(r,n,i,u))}),e)};var F="Reduce of empty array with no initial value";A.reduce=A.foldl=A.inject=function(n,t,r,e){var i=arguments.length>2;if(null==n&&(n=[]),v&&n.reduce===v)return e&&(t=A.bind(t,e)),i?n.reduce(t,r):n.reduce(t);if(E(n,function(n,u,a){i?r=t.call(e,r,n,u,a):(r=n,i=!0)}),!i)throw new TypeError(F);return r},A.reduceRight=A.foldr=function(n,t,r,e){var i=arguments.length>2;if(null==n&&(n=[]),y&&n.reduceRight===y)return e&&(t=A.bind(t,e)),i?n.reduceRight(t,r):n.reduceRight(t);var u=n.length;if(!O(n)){var a=A.keys(n);u=a.length}if(E(n,function(c,o,l){o=a?a[--u]:--u,i?r=t.call(e,r,n[o],o,l):(r=n[o],i=!0)}),!i)throw new TypeError(F);return r},A.find=A.detect=function(n,t,r){var e;return M(n,function(n,i,u){if(t.call(r,n,i,u))return e=n,!0}),e},A.filter=A.select=function(n,t,r){var e=[];return null==n?e:d&&n.filter===d?n.filter(t,r):(E(n,function(n,i,u){t.call(r,n,i,u)&&e.push(n)}),e)},A.reject=function(n,t,r){return A.filter(n,function(n,e,i){return!t.call(r,n,e,i)},r)},A.every=A.all=function(n,t,r){t||(t=A.identity);var i=!0;return null==n?i:g&&n.every===g?n.every(t,r):(E(n,function(n,u,a){if(!(i=i&&t.call(r,n,u,a)))return e}),!!i)};var M=A.some=A.any=function(n,t,r){t||(t=A.identity);var i=!1;return null==n?i:m&&n.some===m?n.some(t,r):(E(n,function(n,u,a){if(i||(i=t.call(r,n,u,a)))return e}),!!i)};A.contains=A.include=function(n,t){return null!=n&&(b&&n.indexOf===b?n.indexOf(t)!=-1:M(n,function(n){return n===t}))},A.invoke=function(n,t){var r=o.call(arguments,2),e=A.isFunction(t);return A.map(n,function(n){return(e?t:n[t]).apply(n,r)})},A.pluck=function(n,t){return A.map(n,function(n){return n[t]})},A.where=function(n,t,r){return A.isEmpty(t)?r?void 0:[]:A[r?"find":"filter"](n,function(n){for(var r in t)if(t[r]!==n[r])return!1;return!0})},A.findWhere=function(n,t){return A.where(n,t,!0)},A.max=function(n,t,r){if(!t&&A.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.max.apply(Math,n);if(!t&&A.isEmpty(n))return-(1/0);var e={computed:-(1/0),value:-(1/0)};return E(n,function(n,i,u){var a=t?t.call(r,n,i,u):n;a>e.computed&&(e={value:n,computed:a})}),e.value},A.min=function(n,t,r){if(!t&&A.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.min.apply(Math,n);if(!t&&A.isEmpty(n))return 1/0;var e={computed:1/0,value:1/0};return E(n,function(n,i,u){var a=t?t.call(r,n,i,u):n;a<e.computed&&(e={value:n,computed:a})}),e.value},A.shuffle=function(n){var t,r=0,e=[];return E(n,function(n){t=A.random(r++),e[r-1]=e[t],e[t]=n}),e},A.sample=function(n,t,r){return arguments.length<2||r?n[A.random(n.length-1)]:A.shuffle(n).slice(0,Math.max(0,t))};var R=function(n){return A.isFunction(n)?n:function(t){return t[n]}};A.sortBy=function(n,t,r){var e=R(t);return A.pluck(A.map(n,function(n,t,i){return{value:n,index:t,criteria:e.call(r,n,t,i)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||void 0===r)return 1;if(r<e||void 0===e)return-1}return n.index-t.index}),"value")};var S=function(n){return function(t,r,e){var i={},u=null==r?A.identity:R(r);return E(t,function(r,a){var c=u.call(e,r,a,t);n(i,c,r)}),i}};A.groupBy=S(function(n,t,r){(A.has(n,t)?n[t]:n[t]=[]).push(r)}),A.indexBy=S(function(n,t,r){n[t]=r}),A.countBy=S(function(n,t){A.has(n,t)?n[t]++:n[t]=1}),A.sortedIndex=function(n,t,r,e){r=null==r?A.identity:R(r);for(var i=r.call(e,t),u=0,a=n.length;u<a;){var c=u+a>>>1;r.call(e,n[c])<i?u=c+1:a=c}return u},A.toArray=function(n){return n?A.isArray(n)?o.call(n):O(n)?A.map(n,A.identity):A.values(n):[]},A.size=function(n){return null==n?0:O(n)?n.length:A.keys(n).length},A.first=A.head=A.take=function(n,t,r){if(null!=n)return null==t||r?n[0]:o.call(n,0,t)},A.initial=function(n,t,r){return o.call(n,0,n.length-(null==t||r?1:t))},A.last=function(n,t,r){if(null!=n)return null==t||r?n[n.length-1]:o.call(n,Math.max(n.length-t,0))},A.rest=A.tail=A.drop=function(n,t,r){return o.call(n,null==t||r?1:t)},A.compact=function(n){return A.filter(n,A.identity)};var I=function(n,t,r){return t&&A.every(n,A.isArray)?l.apply(r,n):(E(n,function(n){A.isArray(n)||A.isArguments(n)?t?c.apply(r,n):I(n,t,r):r.push(n)}),r)};A.flatten=function(n,t){return I(n,t,[])},A.without=function(n){return A.difference(n,o.call(arguments,1))},A.uniq=A.unique=function(n,t,r,e){A.isFunction(t)&&(e=r,r=t,t=!1);var i=r?A.map(n,r,e):n,u=[],a=[];return E(i,function(r,e){(t?e&&a[a.length-1]===r:A.contains(a,r))||(a.push(r),u.push(n[e]))}),u},A.union=function(){return A.uniq(A.flatten(arguments,!0))},A.intersection=function(n){var t=o.call(arguments,1);return A.filter(A.uniq(n),function(n){return A.every(t,function(t){return A.indexOf(t,n)>=0})})},A.difference=function(n){var t=l.apply(i,o.call(arguments,1));return A.filter(n,function(n){return!A.contains(t,n)})},A.zip=function(){for(var n=A.max(A.pluck(arguments,"length").concat(0)),t=new Array(n),r=0;r<n;r++)t[r]=A.pluck(arguments,""+r);return t},A.object=function(n,t){if(null==n)return{};for(var r={},e=0,i=n.length;e<i;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},A.indexOf=function(n,t,r){if(null==n)return-1;var e=0,i=n.length;if(r){if("number"!=typeof r)return e=A.sortedIndex(n,t),n[e]===t?e:-1;e=r<0?Math.max(0,i+r):r}if(b&&n.indexOf===b)return n.indexOf(t,r);for(;e<i;e++)if(n[e]===t)return e;return-1},A.lastIndexOf=function(n,t,r){if(null==n)return-1;var e=null!=r;if(_&&n.lastIndexOf===_)return e?n.lastIndexOf(t,r):n.lastIndexOf(t);for(var i=e?r:n.length;i--;)if(n[i]===t)return i;return-1},A.range=function(n,t,r){arguments.length<=1&&(t=n||0,n=0),r=arguments[2]||1;for(var e=Math.max(Math.ceil((t-n)/r),0),i=0,u=new Array(e);i<e;)u[i++]=n,n+=r;return u};var T=function(){};A.bind=function(n,t){var r,e;if(j&&n.bind===j)return j.apply(n,o.call(arguments,1));if(!A.isFunction(n))throw new TypeError;return r=o.call(arguments,2),e=function(){if(!(this instanceof e))return n.apply(t,r.concat(o.call(arguments)));T.prototype=n.prototype;var i=new T;T.prototype=null;var u=n.apply(i,r.concat(o.call(arguments)));return Object(u)===u?u:i}},A.partial=function(n){var t=o.call(arguments,1);return function(){return n.apply(this,t.concat(o.call(arguments)))}},A.bindAll=function(n){var t=o.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return E(t,function(t){n[t]=A.bind(n[t],n)}),n},A.memoize=function(n,t){var r={};return t||(t=A.identity),function(){var e=t.apply(this,arguments);return A.has(r,e)?r[e]:r[e]=n.apply(this,arguments)}},A.delay=function(n,t){var r=o.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},A.defer=function(n){return A.delay.apply(A,[n,1].concat(o.call(arguments,1)))},A.throttle=function(n,t,r){var e,i,u,a=null,c=0;r||(r={});var o=function(){c=r.leading===!1?0:new Date,a=null,u=n.apply(e,i)};return function(){var l=new Date;c||r.leading!==!1||(c=l);var f=t-(l-c);return e=this,i=arguments,f<=0?(clearTimeout(a),a=null,c=l,u=n.apply(e,i)):a||r.trailing===!1||(a=setTimeout(o,f)),u}},A.debounce=function(n,t,r){var e,i,u,a,c;return function(){u=this,i=arguments,a=new Date;var o=function(){var l=new Date-a;l<t?e=setTimeout(o,t-l):(e=null,r||(c=n.apply(u,i)))},l=r&&!e;return e||(e=setTimeout(o,t)),l&&(c=n.apply(u,i)),c}},A.once=function(n){var t=!1,r;return function(){return t?r:(t=!0,r=n.apply(this,arguments),n=null,r)}},A.wrap=function(n,t){return function(){var r=[n];return c.apply(r,arguments),t.apply(this,r)}},A.compose=function(){var n=arguments;return function(){for(var t=arguments,r=n.length-1;r>=0;r--)t=[n[r].apply(this,t)];return t[0]}},A.after=function(n,t){return function(){if(--n<1)return t.apply(this,arguments)}},A.keys=x||function(n){if(n!==Object(n))throw new TypeError("Invalid object");var t=[];for(var r in n)A.has(n,r)&&t.push(r);return t},A.values=function(n){for(var t=A.keys(n),r=t.length,e=new Array(r),i=0;i<r;i++)e[i]=n[t[i]];return e},A.pairs=function(n){for(var t=A.keys(n),r=t.length,e=new Array(r),i=0;i<r;i++)e[i]=[t[i],n[t[i]]];return e},A.invert=function(n){for(var t={},r=A.keys(n),e=0,i=r.length;e<i;e++)t[n[r[e]]]=r[e];return t},A.functions=A.methods=function(n){var t=[];for(var r in n)A.isFunction(n[r])&&t.push(r);return t.sort()},A.extend=function(n){return E(o.call(arguments,1),function(t){if(t)for(var r in t)n[r]=t[r]}),n},A.pick=function(n){var t={},r=l.apply(i,o.call(arguments,1));return E(r,function(r){r in n&&(t[r]=n[r])}),t},A.omit=function(n){var t={},r=l.apply(i,o.call(arguments,1));for(var e in n)A.contains(r,e)||(t[e]=n[e]);return t},A.defaults=function(n){return E(o.call(arguments,1),function(t){if(t)for(var r in t)void 0===n[r]&&(n[r]=t[r])}),n},A.clone=function(n){return A.isObject(n)?A.isArray(n)?n.slice():A.extend({},n):n},A.tap=function(n,t){return t(n),n};var N=function(n,t,r,e){if(n===t)return 0!==n||1/n==1/t;if(null==n||null==t)return n===t;n instanceof A&&(n=n._wrapped),t instanceof A&&(t=t._wrapped);var i=f.call(n);if(i!=f.call(t))return!1;switch(i){case"[object String]":return n==String(t);case"[object Number]":return n!=+n?t!=+t:0==n?1/n==1/t:n==+t;case"[object Date]":case"[object Boolean]":return+n==+t;case"[object RegExp]":return n.source==t.source&&n.global==t.global&&n.multiline==t.multiline&&n.ignoreCase==t.ignoreCase}if("object"!=typeof n||"object"!=typeof t)return!1;for(var u=r.length;u--;)if(r[u]==n)return e[u]==t;var a=n.constructor,c=t.constructor;if(a!==c&&!(A.isFunction(a)&&a instanceof a&&A.isFunction(c)&&c instanceof c))return!1;r.push(n),e.push(t);var o=0,l=!0;if("[object Array]"==i){if(o=n.length,l=o==t.length)for(;o--&&(l=N(n[o],t[o],r,e)););}else{for(var s in n)if(A.has(n,s)&&(o++,!(l=A.has(t,s)&&N(n[s],t[s],r,e))))break;if(l){for(s in t)if(A.has(t,s)&&!o--)break;l=!o}}return r.pop(),e.pop(),l};A.isEqual=function(n,t){return N(n,t,[],[])},A.isEmpty=function(n){if(null==n)return!0;if(A.isArray(n)||A.isString(n))return 0===n.length;for(var t in n)if(A.has(n,t))return!1;return!0},A.isElement=function(n){return!(!n||1!==n.nodeType)},A.isArray=w||function(n){return"[object Array]"==f.call(n)},A.isObject=function(n){return n===Object(n)},E(["Arguments","Function","String","Number","Date","RegExp"],function(n){A["is"+n]=function(t){return f.call(t)=="[object "+n+"]"}}),A.isArguments(arguments)||(A.isArguments=function(n){return!(!n||!A.has(n,"callee"))}),"function"!=typeof/./&&(A.isFunction=function(n){return"function"==typeof n}),A.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},A.isNaN=function(n){return A.isNumber(n)&&n!=+n},A.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"==f.call(n)},A.isNull=function(n){return null===n},A.isUndefined=function(n){return void 0===n},A.has=function(n,t){return s.call(n,t)},A.noConflict=function(){return t._=r,this},A.identity=function(n){return n},A.times=function(n,t,r){for(var e=Array(Math.max(0,n)),i=0;i<n;i++)e[i]=t.call(r,i);return e},A.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))};var q={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};q.unescape=A.invert(q.escape);var B={escape:new RegExp("["+A.keys(q.escape).join("")+"]","g"),unescape:new RegExp("("+A.keys(q.unescape).join("|")+")","g")};A.each(["escape","unescape"],function(n){A[n]=function(t){return null==t?"":(""+t).replace(B[n],function(t){return q[n][t]})}}),A.result=function(n,t){if(null!=n){var r=n[t];return A.isFunction(r)?r.call(n):r}},A.mixin=function(n){E(A.functions(n),function(t){var r=A[t]=n[t];A.prototype[t]=function(){var n=[this._wrapped];return c.apply(n,arguments),U.call(this,r.apply(A,n))}})};var D=0;A.uniqueId=function(n){var t=++D+"";return n?n+t:t},A.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var P=/(.)^/,z={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},C=/\\|'|\r|\n|\t|\u2028|\u2029/g;A.template=function(n,t,r){var e;r=A.defaults({},r,A.templateSettings);var i=new RegExp([(r.escape||P).source,(r.interpolate||P).source,(r.evaluate||P).source].join("|")+"|$","g"),u=0,a="__p+='";n.replace(i,function(t,r,e,i,c){return a+=n.slice(u,c).replace(C,function(n){return"\\"+z[n]}),r&&(a+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'"),e&&(a+="'+\n((__t=("+e+"))==null?'':__t)+\n'"),i&&(a+="';\n"+i+"\n__p+='"),u=c+t.length,t}),a+="';\n",r.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{e=new Function(r.variable||"obj","_",a)}catch(n){throw n.source=a,n}if(t)return e(t,A);var c=function(n){return e.call(this,n,A)};return c.source="function("+(r.variable||"obj")+"){\n"+a+"}",c},A.chain=function(n){return A(n).chain()};var U=function(n){return this._chain?A(n).chain():n};A.mixin(A),E(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=i[n];A.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!=n&&"splice"!=n||0!==r.length||delete r[0],U.call(this,r)}}),E(["concat","join","slice"],function(n){var t=i[n];A.prototype[n]=function(){return U.call(this,t.apply(this._wrapped,arguments))}}),A.extend(A.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this)}.call(this),function(){t=n._}.call(this),"undefined"==typeof Package&&(Package={}),function(n,t){for(var r in t)r in n||(n[r]=t[r])}(Package.underscore={},{_:t})}();

!function(){var t=Package.underscore._,e,n,r;(function(){e=this}).call(this),function(){n=__meteor_runtime_config__.meteorEnv,r={isProduction:"production"===n.NODE_ENV,isDevelopment:"production"!==n.NODE_ENV,isClient:!0,isServer:!1,isCordova:!1},"object"==typeof __meteor_runtime_config__&&__meteor_runtime_config__.PUBLIC_SETTINGS&&(r.settings={public:__meteor_runtime_config__.PUBLIC_SETTINGS})}.call(this),function(){function e(t){if(t)return r._debug("Exception in callback of async function",t.stack?t.stack:t)}if(r.isServer)var n=Npm.require("fibers/future");"object"==typeof __meteor_runtime_config__&&__meteor_runtime_config__.meteorRelease&&(r.release=__meteor_runtime_config__.meteorRelease),t.extend(r,{_get:function(t){for(var e=1;e<arguments.length;e++){if(!(arguments[e]in t))return;t=t[arguments[e]]}return t},_ensure:function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];n in t||(t[n]={}),t=t[n]}return t},_delete:function(t){for(var e=[t],n=!0,r=1;r<arguments.length-1;r++){var o=arguments[r];if(!(o in t)){n=!1;break}if(t=t[o],"object"!=typeof t)break;e.push(t)}for(var r=e.length-1;r>=0;r--){var o=arguments[r+1];if(n)n=!1;else for(var i in e[r][o])return;delete e[r][o]}},wrapAsync:function(o,i){return function(){for(var a=i||this,s=t.toArray(arguments),u,c=s.length-1;c>=0;--c){var l=s[c],f=typeof l;if("undefined"!==f){"function"===f&&(u=l);break}}if(!u){if(r.isClient)u=e;else{var p=new n;u=p.resolver()}++c}s[c]=r.bindEnvironment(u);var _=o.apply(a,s);return p?p.wait():_}},_inherits:function(e,n){for(var r in n)t.has(n,r)&&(e[r]=n[r]);var o=function(){this.constructor=e};return o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype,e}});var o=!1;r._wrapAsync=function(t,e){return o||(r._debug("Meteor._wrapAsync has been renamed to Meteor.wrapAsync"),o=!0),r.wrapAsync.apply(r,arguments)}}.call(this),function(){"use strict";function t(){if(o.setImmediate){var t=function(t){o.setImmediate(t)};return t.implementation="setImmediate",t}return null}function e(){function t(t,e){return"string"==typeof t&&t.substring(0,e.length)===e}function e(e){if(e.source===o&&t(e.data,s)){var n=e.data.substring(s.length);try{a[n]&&a[n]()}finally{delete a[n]}}}if(!o.postMessage||o.importScripts)return null;var n=!0,r=o.onmessage;if(o.onmessage=function(){n=!1},o.postMessage("","*"),o.onmessage=r,!n)return null;var i=0,a={},s="Meteor._setImmediate."+Math.random()+".";o.addEventListener?o.addEventListener("message",e,!1):o.attachEvent("onmessage",e);var u=function(t){++i,a[i]=t,o.postMessage(s+i,"*")};return u.implementation="postMessage",u}function n(){var t=function(t){o.setTimeout(t,0)};return t.implementation="setTimeout",t}var o=this;r._setImmediate=t()||e()||n()}.call(this),function(){var e=function(t){if(Package.ddp){var e=Package.ddp.DDP._CurrentInvocation;if(e.get()&&e.get().isSimulation)throw new Error("Can't set timers inside simulations");return function(){e.withValue(null,t)}}return t},n=function(t,n){return r.bindEnvironment(e(n),t)};t.extend(r,{setTimeout:function(t,e){return setTimeout(n("setTimeout callback",t),e)},setInterval:function(t,e){return setInterval(n("setInterval callback",t),e)},clearInterval:function(t){return clearInterval(t)},clearTimeout:function(t){return clearTimeout(t)},defer:function(t){r._setImmediate(n("defer callback",t))}})}.call(this),function(){r.makeErrorType=function(t,e){var n=function(){Error.captureStackTrace?Error.captureStackTrace(this,n):this.stack=(new Error).stack,e.apply(this,arguments),this.errorType=t};return r._inherits(n,Error),n},r.Error=r.makeErrorType("Meteor.Error",function(t,e,n){var r=this;r.error=t,r.reason=e,r.details=n,r.reason?r.message=r.reason+" ["+r.error+"]":r.message="["+r.error+"]"}),r.Error.prototype.clone=function(){var t=this;return new r.Error(t.error,t.reason,t.details)}}.call(this),function(){r._noYieldsAllowed=function(t){return t()},r._SynchronousQueue=function(){var t=this;t._tasks=[],t._running=!1,t._runTimeout=null},t.extend(r._SynchronousQueue.prototype,{runTask:function(e){var n=this;if(!n.safeToRunTask())throw new Error("Could not synchronously run a task from a running task");n._tasks.push(e);var o=n._tasks;n._tasks=[],n._running=!0,n._runTimeout&&(clearTimeout(n._runTimeout),n._runTimeout=null);try{for(;!t.isEmpty(o);){var i=o.shift();try{i()}catch(e){if(t.isEmpty(o))throw e;r._debug("Exception in queued task: "+(e.stack||e))}}}finally{n._running=!1}},queueTask:function(e){var n=this;n._tasks.push(e),n._runTimeout||(n._runTimeout=setTimeout(t.bind(n.flush,n),0))},flush:function(){var t=this;t.runTask(function(){})},drain:function(){var e=this;if(e.safeToRunTask())for(;!t.isEmpty(e._tasks);)e.flush()},safeToRunTask:function(){var t=this;return!t._running}})}.call(this),function(){var t=[],e=!1,n=!1,o=0,i=function(){o++},a=function(){o--,s()},s=function(){if(!(n||!e||o>0)){for(n=!0;t.length;)t.shift()();r.isCordova&&WebAppLocalServer.startupDidComplete()}},u=function(){e||(e=!0,s())};r.isCordova&&(i(),document.addEventListener("deviceready",a,!1)),"complete"===document.readyState||"loaded"===document.readyState?window.setTimeout(u):document.addEventListener?(document.addEventListener("DOMContentLoaded",u,!1),window.addEventListener("load",u,!1)):(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&u()}),window.attachEvent("load",u)),r.startup=function(e){var o=!document.addEventListener&&document.documentElement.doScroll;if(o&&window===top){try{o("left")}catch(t){return void setTimeout(function(){r.startup(e)},50)}e()}else n?e():t.push(e)}}.call(this),function(){var t=0;r._debug=function(){if(t)return void t--;if("undefined"!=typeof console&&"undefined"!=typeof console.log)if(0==arguments.length)console.log("");else if("function"==typeof console.log.apply){for(var e=!0,n=0;n<arguments.length;n++)"string"!=typeof arguments[n]&&(e=!1);e?console.log.apply(console,[Array.prototype.join.call(arguments," ")]):console.log.apply(console,arguments)}else if("function"==typeof Function.prototype.bind){var r=Function.prototype.bind.call(console.log,console);r.apply(console,arguments)}else Function.prototype.call.call(console.log,console,Array.prototype.slice.call(arguments))},r._suppress_log=function(e){t+=e},r._suppressed_log_expected=function(){return 0!==t}}.call(this),function(){r._escapeRegExp=function(t){return String(t).replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}.call(this),function(){var t;t=r.isClient?n.TEST_METADATA:process.env.TEST_METADATA;var e=JSON.parse(t||"{}"),o=e.driverPackage;r.isTest=!!e.isTest,r.isAppTest=!!e.isAppTest,r.isPackageTest=!!o&&!r.isTest&&!r.isAppTest,"string"==typeof o&&r.startup(function(){var t=Package[o];if(!t)throw new Error("Can't find test driver package: "+o);if(r.isClient){if("function"!=typeof t.runTests)throw new Error("Test driver package "+o+" missing `runTests` export");t.runTests()}else"function"==typeof t.start&&t.start()})}.call(this),function(){var e=0,n=[];r.EnvironmentVariable=function(){this.slot=e++},t.extend(r.EnvironmentVariable.prototype,{get:function(){return n[this.slot]},getOrNullIfOutsideFiber:function(){return this.get()},withValue:function(t,e){var r=n[this.slot];try{n[this.slot]=t;var o=e()}finally{n[this.slot]=r}return o}}),r.bindEnvironment=function(e,o,i){var a=t.clone(n);if(!o||"string"==typeof o){var s=o||"callback of async function";o=function(t){r._debug("Exception in "+s+":",t&&t.stack||t)}}return function(){var r=n;try{n=a;var s=e.apply(i,t.toArray(arguments))}catch(t){o(t)}finally{n=r}return s}},r._nodeCodeMustBeInFiber=function(){}}.call(this),function(){r.absoluteUrl=function(e,n){n||"object"!=typeof e||(n=e,e=void 0),n=t.extend({},r.absoluteUrl.defaultOptions,n||{});var o=n.rootUrl;if(!o)throw new Error("Must pass options.rootUrl or set ROOT_URL in the server environment");return/^http[s]?:\/\//i.test(o)||(o="http://"+o),/\/$/.test(o)||(o+="/"),e&&(o+=e),n.secure&&/^http:/.test(o)&&!/http:\/\/localhost[:\/]/.test(o)&&!/http:\/\/127\.0\.0\.1[:\/]/.test(o)&&(o=o.replace(/^http:/,"https:")),n.replaceLocalhost&&(o=o.replace(/^http:\/\/localhost([:\/].*)/,"http://127.0.0.1$1")),o},r.absoluteUrl.defaultOptions={},"object"==typeof __meteor_runtime_config__&&__meteor_runtime_config__.ROOT_URL&&(r.absoluteUrl.defaultOptions.rootUrl=__meteor_runtime_config__.ROOT_URL),r._relativeToSiteRootUrl=function(t){return"object"==typeof __meteor_runtime_config__&&"/"===t.substr(0,1)&&(t=(__meteor_runtime_config__.ROOT_URL_PATH_PREFIX||"")+t),t}}.call(this),"undefined"==typeof Package&&(Package={}),function(t,e){for(var n in e)n in t||(t[n]=e[n])}(Package.meteor={},{Meteor:r,global:e,meteorEnv:n})}();

!function(){"undefined"==typeof Package&&(Package={}),Package["meteor-base"]={}}();

!function(){"undefined"==typeof Package&&(Package={}),Package["mobile-experience"]={}}();

!function(){var e=Package.meteor.Meteor,r=Package.meteor.global,n=Package.meteor.meteorEnv,t,o;t=function(e){"use strict";function r(e,r){return o(e)&&(l(P,e,r),i(w)&&w(b)),b}function n(e){this.id=e,this.children=[]}function t(e,r){return x.call(e,r)&&e[r]}function o(e){return e&&"object"==typeof e}function i(e){return"function"==typeof e}function u(e){return"string"==typeof e}function f(e){function r(r){var n=m(e,r);if(n)return a(n,e.m);var t=new Error("Cannot find module '"+r+"'");if(i(q))return q(r,e.m.id,t);throw t}return i(g)&&(r=g(r,e.m.id)),r.resolve=function(r){var n=m(e,r);if(n)return n.m.id;var t=new Error("Cannot find module '"+r+"'");if(q&&i(q.resolve))return q.resolve(r,e.m.id,t);throw t},r}function c(e,r){var t=this;t.p=r=r||null,t.m=new n(e)}function a(e,r){var n=e&&e.c,t=e.m;if(!x.call(t,"exports")){if(r){t.parent=r;var o=r.children;Array.isArray(o)&&o.push(t)}i(t.useNode)&&t.useNode()||n(t.require=t.require||f(e),t.exports={},t,e.m.id,e.p.m.id),t.loaded=!0}return i(t.runModuleSetters)&&t.runModuleSetters(),t.exports}function s(e){return e&&o(e.c)}function l(e,r,n){if(Array.isArray(r)){var f=[];r.forEach(function(e){u(e)?f.push(e):i(e)&&(r=e)}),i(r)?r.d=f:r=null}else i(r)?r.d=r.d||[]:u(r)||o(r)||(r=null);r&&(e.c=e.c||(o(r)?{}:r),o(r)&&s(e)&&Object.keys(r).forEach(function(o){if(".."===o)i=e.p;else{var i=t(e.c,o);i||(i=e.c[o]=new c(e.m.id.replace(/\/*$/,"/")+o,e),i.o=n)}l(i,r[o],n)}))}function p(e){return e.o&&e.o.extensions||y}function d(e,r,n){for(;e&&!s(e);)e=e.p;if(!e||!r||"."===r)return e;if(".."===r)return e.p;var o=t(e.c,r);if(n&&(!o||s(o)))for(var i=0;i<n.length;++i){var u=t(e.c,r+n[i]);if(u)return u}return o}function v(e,r,n){var t=r.split("/");return t.every(function(r,o){return e=o<t.length-1?d(e,r):d(e,r,n)}),e}function m(e,r,n){var t=p(e);for(e="/"===r.charAt(0)?v(P,r,t):"."===r.charAt(0)?v(e,r,t):h(e,r,t);s(e);){if(n=n||[],n.indexOf(e)<0){n.push(e);var o=d(e,"package.json"),i=o&&a(o).main;if(u(i)&&(e=v(e,i,t)||m(e,i,n)))continue}e=d(e,"index.js")}return e&&u(e.c)&&(e=m(e,e.c,n)),e}function h(e,r,n){if(i(k)&&(r=k(r,e.m.id)),u(r)){for(var t;e&&!t;e=e.p)t=s(e)&&v(e,"node_modules/"+r,n);return t}}e=e||{};var y=e.extensions||[".js",".json"],w=e.onInstall,g=e.wrapRequire,k=e.override,q=e.fallback,x={}.hasOwnProperty,P=new c("/",new c("/..")),b=f(P);return n.prototype.resolve=function(e){return this.require.resolve(e)},r.Module=n,r},"object"==typeof exports&&(exports.makeInstaller=t),function(){var r={},n=r.hasOwnProperty,i=/^[^.\/]/;"function"==typeof Profile&&process.env.METEOR_PROFILE&&(r.wrapRequire=function(e){return Profile(function(e){return"require("+JSON.stringify(e)+")"},e)}),r.fallback=function(e,r,n){if(i.test(e)&&"object"==typeof Npm&&"function"==typeof Npm.require)return Npm.require(e);throw n},r.fallback.resolve=function(r,n,t){if(e.isServer&&i.test(r))return r;throw t},o=t(r);var u=o.Module.prototype;e.isServer&&(u.useNode=function(){if("function"!=typeof npmRequire)return!1;var e=this.id.split("/"),r=0;if(""===e[r]&&++r,"node_modules"===e[r]&&"meteor"===e[r+1]&&(r+=2),e.indexOf("node_modules",r)<0)return!1;try{npmRequire.resolve(this.id)}catch(e){return!1}return this.exports=npmRequire(this.id),!0})}.call(this),"undefined"==typeof Package&&(Package={}),function(e,r){for(var n in r)n in e||(e[n]=r[n])}(Package["modules-runtime"]={},{meteorInstall:o})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,r=Package.meteor.meteorEnv,o=Package.underscore._,n=Package["modules-runtime"].meteorInstall,i,s,c=n({node_modules:{meteor:{modules:{"client.js":["./install-packages.js","./stubs.js","./buffer.js","./process.js","reify/lib/runtime","./css",function(e,t,r){e("./install-packages.js"),e("./stubs.js"),e("./buffer.js"),e("./process.js"),e("reify/lib/runtime").enable(r.constructor),t.addStyles=e("./css").addStyles}],"buffer.js":["buffer",function(e){try{i=t.Buffer||e("buffer").Buffer}catch(e){}}],"css.js":function(e,t){var r=document,o=r.getElementsByTagName("head").item(0);t.addStyles=function(e){var t=r.createElement("style");t.setAttribute("type","text/css");var n=t.sheet||t.styleSheet;return n?n.cssText=e:t.appendChild(r.createTextNode(e)),o.appendChild(t)}},"install-packages.js":function(e,t,r){function o(e,t){var r={};t?r[e+".js"]=[t,function(e,r,o){o.exports=e(t)}]:r[e+".js"]=function(t,r,o){o.exports=Package[e]},n({node_modules:{meteor:r}})}o("underscore"),o("meteor"),o("meteor-base"),o("mobile-experience"),o("modules-runtime"),o("modules","meteor/modules/client.js"),o("es5-shim","meteor/es5-shim/client.js"),o("promise","meteor/promise/client.js"),o("ecmascript-runtime","meteor/ecmascript-runtime/runtime.js"),o("babel-compiler"),o("ecmascript"),o("base64"),o("ejson"),o("id-map"),o("ordered-dict"),o("tracker"),o("babel-runtime","meteor/babel-runtime/babel-runtime.js"),o("random"),o("mongo-id"),o("diff-sequence"),o("geojson-utils","meteor/geojson-utils/main.js"),o("minimongo"),o("check","meteor/check/match.js"),o("retry"),o("ddp-common"),o("reload"),o("ddp-client"),o("ddp"),o("ddp-server"),o("allow-deny"),o("mongo"),o("blaze-html-templates"),o("reactive-dict"),o("session"),o("jquery","meteor/jquery/main.js"),o("observe-sequence"),o("reactive-var"),o("deps"),o("htmljs"),o("blaze"),o("mquandalle:jade"),o("ui"),o("spacebars"),o("templating-compiler"),o("templating-runtime"),o("templating"),o("iron:core"),o("iron:dynamic-template"),o("iron:layout"),o("iron:url"),o("iron:middleware-stack"),o("iron:location"),o("iron:controller"),o("iron:router"),o("ddp-rate-limiter"),o("localstorage"),o("callback-hook"),o("accounts-base","meteor/accounts-base/client_main.js"),o("sha"),o("srp"),o("accounts-password"),o("jakobloekke:rabbitmq"),o("meteorhacks:npm"),o("fortawesome:fontawesome"),o("matb33:collection-hooks"),o("url"),o("dandv:http-more"),o("ostrio:templatehelpers"),o("email"),o("mquandalle:jade-compiler"),o("meteorhacks:ssr"),o("mrt:later"),o("coffeescript"),o("vsivsi:job-collection"),o("service-configuration"),o("oauth"),o("accounts-oauth"),o("oauth2"),o("mrt:accounts-vk"),o("facebook"),o("accounts-facebook"),o("markdown"),o("d3js:d3"),o("bozhao:later-js"),o("mrt:moment"),o("cfs:standard-packages"),o("cfs:base-package"),o("livedata"),o("mongo-livedata"),o("raix:eventemitter"),o("cfs:storage-adapter"),o("cfs:filesystem"),o("fourseven:scss"),o("mfpierre:chartist-js"),o("shell-server"),o("aldeed:simple-schema"),o("momentjs:moment"),o("aldeed:collection2-core"),o("aldeed:schema-index"),o("aldeed:schema-deny"),o("aldeed:collection2"),o("aldeed:autoform"),o("juliancwirko:s-alert"),o("juliancwirko:s-alert-stackslide"),o("easysearch:core","meteor/easysearch:core/lib/main.js"),o("peerlibrary:assert"),o("peerlibrary:reactive-field"),o("peerlibrary:computed-field"),o("peerlibrary:base-component"),o("peerlibrary:data-lookup"),o("peerlibrary:blaze-components"),o("easysearch:components","meteor/easysearch:components/lib/main.js"),o("easy:search","meteor/easy:search/main.js"),o("comerc:autoform-selectize"),o("jeremy:selectize"),o("numtel:pg"),o("perak:markdown"),o("jorisroling:autoform-markdown"),o("natestrauser:animate-css"),o("maazalik:malihu-jquery-custom-scrollbar"),o("app-app"),o("standard-minifier-js"),o("seba:minifiers-autoprefixer"),o("npm-container"),o("meteorhacks:cluster"),o("webapp"),o("hot-code-push"),o("launch-screen"),o("meteorhacks:async"),o("http"),o("cfs:data-man"),o("cfs:file"),o("cfs:tempstore"),o("cfs:http-methods"),o("cfs:http-publish"),o("cfs:access-point"),o("cfs:reactive-property"),o("cfs:reactive-list"),o("cfs:power-queue"),o("cfs:upload-http"),o("cfs:collection"),o("cfs:collection-filters"),o("cfs:worker"),o("mrstn"),o("app-ctrl-collections"),o("app-ctrl-jobs"),o("lnmunhoz:autoform-markdown-editor"),o("app-collection-posts"),o("app-collection-credentials"),o("app-emails"),o("app-indexer"),o("app-collection-bills"),o("app-collection-deposits"),o("app-collection-payments"),o("app-collection-pictures"),o("app-openstack"),o("app-os-tokens"),o("app-os-projects"),o("app-os-servers"),o("app-os-volumes"),o("app-os-keypairs"),o("app-os-flavors"),o("app-os-floatingips"),o("app-os-routers"),o("app-os-ports"),o("app-os-networks"),o("app-os-subnet-pools"),o("app-os-subnets"),o("app-os-group"),o("app-os-role-assignments"),o("app-os-images"),o("app-os-ctrl-neutron"),o("app-users"),o("app-oauth"),o("app-price-list"),o("app-ctrl-sync"),o("app-ctrl-routing"),o("app-interactivity"),o("app-startup"),o("autoupdate"),o("mdg:validation-error")},"process.js":["process",function(i,c,a){try{s=t.process||i("process")}catch(e){s={}}e.isServer?n({node_modules:{"process.js":function(e,t,r){r.exports=s}}}):(s.platform="browser",s.nextTick=s.nextTick||e._setImmediate),"object"!=typeof s.env&&(s.env={}),o.extend(s.env,r)}],"stubs.js":["meteor-node-stubs",function(e){try{e("meteor-node-stubs")}catch(e){}}],node_modules:{reify:{lib:{"runtime.js":["./entry.js","./utils.js",function(e,t,r){var o=e("./entry.js").Entry,n=e("./utils.js");t.enable=function(t){function r(e){var t=e.exports;t&&"object"==typeof t&&(t.__esModule=!0)}var i=t.prototype;return"function"==typeof i.import&&"function"==typeof i.export?t:(i.resolve=i.resolve||function e(t){throw new Error("Module.prototype.resolve not implemented")},i.runModuleSetters=function e(t){var r=o.get(this.id);return r&&r.runModuleSetters(this),t},i.import=function(t,n){var s=this;r(s);var c=s.resolve(t);if(n&&"object"==typeof n){var a=o.getOrCreate(c);a.addSetters(s,n)}var u=a&&a.runCount,f="function"==typeof s.require?s.require(c):e(c);a&&a.runCount===u&&a.runModuleSetters({id:c,exports:f,getExportByName:i.getExportByName})},i.export=function(e){var t=this;r(t),n.isPlainObject(e)&&o.getOrCreate(t.id).addGetters(e),t.loaded&&t.runModuleSetters()},i.getExportByName=function(e){var t=this.exports;return"*"===e?t:"default"!==e||t&&"object"==typeof t&&t.__esModule&&"default"in t?t&&t[e]:t},t)}}],"entry.js":["./utils.js",function(e,t,r){function o(e){this.id=e,this.runCount=0,this.setters=Object.create(null),this.getters=Object.create(null)}function n(e){var t=c[e.id];t&&t.runModuleSetters(e)}function i(e){var t=c[e.id];return t?t.runModuleGetters(e):0}var s=Object.prototype.hasOwnProperty,c=Object.create(null),a=e("./utils.js"),u=o.prototype;o.get=function(e){return c[e]||null},o.getOrCreate=function(e){return c[e]=c[e]||new o(e)},u.addSetters=function(e,t){var r=this;Object.keys(t).forEach(function(o){var n=t[o];"function"==typeof n&&"__esModule"!==o&&(n.parent=e,(r.setters[o]=r.setters[o]||[]).push(n))})},u.addGetters=function(e){var t=this;Object.keys(e).forEach(function(r){var o=e[r];"function"==typeof o&&"__esModule"!==r&&(t.getters[r]=o)})},u.runModuleGetters=function(e){var t=this,r=0;return Object.keys(t.getters).forEach(function(o){t.runGetter(e,o)&&++r}),r},u.runGetter=function(e,t){if(!s.call(this.getters,t))return!1;var r=this.getters[t];try{var o=r.call(e)}catch(e){}var n=e.exports;return(!s.call(n,t)||n[t]!==o)&&(n[t]=o,!0)},u.runModuleSetters=function(e){function t(t,n){function i(e,r,o){if("__esModule"!==o)return e.last=e.last||Object.create(null),s.call(e.last,o)&&e.last[o]===r?void 0:t.apply(n,arguments)}o.forEach(function(t){r.setters[t].forEach(function(r){var o=e.getExportByName(t);"*"===t?Object.keys(o).forEach(function(e){i(r,o[e],e)}):i(r,o,t)})})}var r=this,o=Object.keys(r.setters);r.runModuleGetters(e);var c=[],u,f;t(function(e,t,r){var o=e.parent;f=f||Object.create(null),s.call(f,o.id)||(u=u||Object.create(null),u[o.id]=o,a.isPlainObject(o.exports)?f[o.id]=a.assign({},o.exports):f[o.id]=o.exports),c.push(e,t,r)});for(var l=0;l<c.length;l+=3){var p=c[l],d=c[l+1],_=c[l+2];p.call(e,p.last[_]=d,_)}++r.runCount,u&&Object.keys(u).forEach(function(e){var t=u[e];if(i(t)>0)return n(t);var r=t.exports,o=f[t.id];a.shallowObjEqual(r,o)||n(t)})},t.Entry=o}],"utils.js":function(e,t){function r(e){return n.call(e)===i}var o=Object.prototype.hasOwnProperty,n=Object.prototype.toString,i=n.call({});t.isPlainObject=r,t.assign=Object.assign||function(e){for(var t=arguments.length,r=1;r<t;++r){var o=arguments[r];if(o&&"object"==typeof o)for(var n=Object.keys(o),i=0;i<n.length;++i){var s=n[i];e[s]=o[s]}}return e},t.shallowObjEqual=function(e,t){if(e===t)return!0;if(!r(e)||!r(t))return!1;var n=Object.keys(e),i=Object.keys(t);return n.length===i.length&&n.every(function(r){return o.call(t,r)&&e[r]===t[r]})}}}}}}},"babel-runtime":{regenerator:{"index.js":["regenerator-runtime",function(e,t,r){r.exports=e("regenerator-runtime")}]},helpers:{"typeof.js":["../core-js/symbol/iterator","../core-js/symbol",function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=e("../core-js/symbol/iterator"),n=r(o),i=e("../core-js/symbol"),s=r(i),c="function"==typeof s.default&&"symbol"==typeof n.default?function(e){return typeof e}:function(e){return e&&"function"==typeof s.default&&e.constructor===s.default&&e!==s.default.prototype?"symbol":typeof e};t.default="function"==typeof s.default&&"symbol"===c(n.default)?function(e){return"undefined"==typeof e?"undefined":c(e)}:function(e){return e&&"function"==typeof s.default&&e.constructor===s.default&&e!==s.default.prototype?"symbol":"undefined"==typeof e?"undefined":c(e)}}],"classCallCheck.js":function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},"possibleConstructorReturn.js":["../helpers/typeof",function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=e("../helpers/typeof"),n=r(o);t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":(0,n.default)(t))&&"function"!=typeof t?e:t}}],"inherits.js":["../core-js/object/set-prototype-of","../core-js/object/create","../helpers/typeof",function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=e("../core-js/object/set-prototype-of"),n=r(o),i=e("../core-js/object/create"),s=r(i),c=e("../helpers/typeof"),a=r(c);t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":(0,a.default)(t)));e.prototype=(0,s.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(n.default?(0,n.default)(e,t):e.__proto__=t)}}],"createClass.js":["../core-js/object/define-property",function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=e("../core-js/object/define-property"),n=r(o);t.default=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),(0,n.default)(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}()}],"toConsumableArray.js":["../core-js/array/from",function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=e("../core-js/array/from"),n=r(o);t.default=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return(0,n.default)(e)}}]},"core-js":{symbol:{"iterator.js":["core-js/library/fn/symbol/iterator",function(e,t,r){r.exports={default:e("core-js/library/fn/symbol/iterator"),__esModule:!0}}]},"symbol.js":["core-js/library/fn/symbol",function(e,t,r){r.exports={default:e("core-js/library/fn/symbol"),__esModule:!0}}],object:{"set-prototype-of.js":["core-js/library/fn/object/set-prototype-of",function(e,t,r){r.exports={default:e("core-js/library/fn/object/set-prototype-of"),__esModule:!0}}],"create.js":["core-js/library/fn/object/create",function(e,t,r){r.exports={default:e("core-js/library/fn/object/create"),__esModule:!0}}],"define-property.js":["core-js/library/fn/object/define-property",function(e,t,r){r.exports={default:e("core-js/library/fn/object/define-property"),__esModule:!0}}]},array:{"from.js":["core-js/library/fn/array/from",function(e,t,r){r.exports={default:e("core-js/library/fn/array/from"),__esModule:!0}}]}}},"regenerator-runtime":{"package.json":function(e,t,r){t.name="regenerator-runtime",t.version="0.9.6",t.main="runtime-module.js"},"runtime-module.js":["./runtime",function(e,r,o){var n="object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:this,i=n.regeneratorRuntime&&Object.getOwnPropertyNames(n).indexOf("regeneratorRuntime")>=0,s=i&&n.regeneratorRuntime;if(n.regeneratorRuntime=void 0,o.exports=e("./runtime"),i)n.regeneratorRuntime=s;else try{delete n.regeneratorRuntime}catch(e){n.regeneratorRuntime=void 0}}],"runtime.js":function(e,r,o){!function(e){"use strict";function t(e,t,r,o){var i=t&&t.prototype instanceof n?t:n,s=Object.create(i.prototype),c=new _(o||[]);return s._invoke=l(e,r,c),s}function r(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}function n(){}function i(){}function c(){}function a(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function u(e){this.arg=e}function f(e){function t(o,n,i,s){var c=r(e[o],e,n);if("throw"!==c.type){var a=c.arg,f=a.value;return f instanceof u?Promise.resolve(f.arg).then(function(e){t("next",e,i,s)},function(e){t("throw",e,i,s)}):Promise.resolve(f).then(function(e){a.value=e,i(a)},s)}s(c.arg)}function o(e,r){function o(){return new Promise(function(o,n){t(e,r,o,n)})}return n=n?n.then(o,o):o()}"object"==typeof s&&s.domain&&(t=s.domain.bind(t));var n;this._invoke=o}function l(e,t,o){var n=k;return function i(s,c){if(n===S)throw new Error("Generator is already running");if(n===E){if("throw"===s)throw c;return b()}for(;;){var a=o.delegate;if(a){if("return"===s||"throw"===s&&a.iterator[s]===m){o.delegate=null;var u=a.iterator.return;if(u){var f=r(u,a.iterator,c);if("throw"===f.type){s="throw",c=f.arg;continue}}if("return"===s)continue}var f=r(a.iterator[s],a.iterator,c);if("throw"===f.type){o.delegate=null,s="throw",c=f.arg;continue}s="next",c=m;var l=f.arg;if(!l.done)return n=O,l;o[a.resultName]=l.value,o.next=a.nextLoc,o.delegate=null}if("next"===s)o.sent=o._sent=c;else if("throw"===s){if(n===k)throw n=E,c;o.dispatchException(c)&&(s="next",c=m)}else"return"===s&&o.abrupt("return",c);n=S;var f=r(e,t,o);if("normal"===f.type){n=o.done?E:O;var l={value:f.arg,done:o.done};if(f.arg!==P)return l;o.delegate&&"next"===s&&(c=m)}else"throw"===f.type&&(n=E,s="throw",c=f.arg)}}}function p(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function d(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(p,this),this.reset(!0)}function y(e){if(e){var t=e[v];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(j.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=m,t.done=!0,t};return o.next=o}}return{next:b}}function b(){return{value:m,done:!0}}var j=Object.prototype.hasOwnProperty,m,h="function"==typeof Symbol?Symbol:{},v=h.iterator||"@@iterator",g=h.toStringTag||"@@toStringTag",x="object"==typeof o,w=e.regeneratorRuntime;if(w)return void(x&&(o.exports=w));w=e.regeneratorRuntime=x?o.exports:{},w.wrap=t;var k="suspendedStart",O="suspendedYield",S="executing",E="completed",P={},M=c.prototype=n.prototype;i.prototype=M.constructor=c,c.constructor=i,c[g]=i.displayName="GeneratorFunction",w.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===i||"GeneratorFunction"===(t.displayName||t.name))},w.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,g in e||(e[g]="GeneratorFunction")),e.prototype=Object.create(M),e},w.awrap=function(e){return new u(e)},a(f.prototype),w.async=function(e,r,o,n){var i=new f(t(e,r,o,n));return w.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},a(M),M[v]=function(){return this},M[g]="Generator",M.toString=function(){return"[object Generator]"},w.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var o=t.pop();if(o in e)return r.value=o,r.done=!1,r}return r.done=!0,r}},w.values=y,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=m,this.done=!1,this.delegate=null,this.tryEntries.forEach(d),!e)for(var t in this)"t"===t.charAt(0)&&j.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=m)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,o){return i.type="throw",i.arg=e,r.next=t,!!o}if(this.done)throw e;for(var r=this,o=this.tryEntries.length-1;o>=0;--o){var n=this.tryEntries[o],i=n.completion;if("root"===n.tryLoc)return t("end");if(n.tryLoc<=this.prev){var s=j.call(n,"catchLoc"),c=j.call(n,"finallyLoc");if(s&&c){if(this.prev<n.catchLoc)return t(n.catchLoc,!0);if(this.prev<n.finallyLoc)return t(n.finallyLoc)}else if(s){if(this.prev<n.catchLoc)return t(n.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<n.finallyLoc)return t(n.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&j.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var n=o;break}}n&&("break"===e||"continue"===e)&&n.tryLoc<=t&&t<=n.finallyLoc&&(n=null);var i=n?n.completion:{};return i.type=e,i.arg=t,n?this.next=n.finallyLoc:this.complete(i),P},complete:function(e,t){if("throw"===e.type)throw e.arg;"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=e.arg,this.next="end"):"normal"===e.type&&t&&(this.next=t)},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),d(r),P}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var o=r.completion;if("throw"===o.type){var n=o.arg;d(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:y(e),resultName:t,nextLoc:r},P}}}("object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:this)}},"core-js":{library:{fn:{symbol:{"iterator.js":["../../modules/es6.string.iterator","../../modules/web.dom.iterable","../../modules/_wks-ext",function(e,t,r){e("../../modules/es6.string.iterator"),e("../../modules/web.dom.iterable"),r.exports=e("../../modules/_wks-ext").f("iterator")}],"index.js":["../../modules/es6.symbol","../../modules/es6.object.to-string","../../modules/es7.symbol.async-iterator","../../modules/es7.symbol.observable","../../modules/_core",function(e,t,r){e("../../modules/es6.symbol"),e("../../modules/es6.object.to-string"),e("../../modules/es7.symbol.async-iterator"),e("../../modules/es7.symbol.observable"),r.exports=e("../../modules/_core").Symbol}]},object:{"set-prototype-of.js":["../../modules/es6.object.set-prototype-of","../../modules/_core",function(e,t,r){e("../../modules/es6.object.set-prototype-of"),r.exports=e("../../modules/_core").Object.setPrototypeOf}],"create.js":["../../modules/es6.object.create","../../modules/_core",function(e,t,r){e("../../modules/es6.object.create");var o=e("../../modules/_core").Object;r.exports=function e(t,r){return o.create(t,r)}}],"define-property.js":["../../modules/es6.object.define-property","../../modules/_core",function(e,t,r){e("../../modules/es6.object.define-property");var o=e("../../modules/_core").Object;r.exports=function e(t,r,n){return o.defineProperty(t,r,n)}}]},array:{"from.js":["../../modules/es6.string.iterator","../../modules/es6.array.from","../../modules/_core",function(e,t,r){e("../../modules/es6.string.iterator"),e("../../modules/es6.array.from"),r.exports=e("../../modules/_core").Array.from}]}},modules:{"es6.string.iterator.js":["./_string-at","./_iter-define",function(e){"use strict";var t=e("./_string-at")(!0);e("./_iter-define")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e=this._t,r=this._i,o;return r>=e.length?{value:void 0,done:!0}:(o=t(e,r),this._i+=o.length,{value:o,done:!1})})}],"_string-at.js":["./_to-integer","./_defined",function(e,t,r){var o=e("./_to-integer"),n=e("./_defined");r.exports=function(e){return function(t,r){var i=String(n(t)),s=o(r),c=i.length,a,u;return s<0||s>=c?e?"":void 0:(a=i.charCodeAt(s),a<55296||a>56319||s+1===c||(u=i.charCodeAt(s+1))<56320||u>57343?e?i.charAt(s):a:e?i.slice(s,s+2):(a-55296<<10)+(u-56320)+65536)}}}],"_to-integer.js":function(e,t,r){var o=Math.ceil,n=Math.floor;r.exports=function(e){return isNaN(e=+e)?0:(e>0?n:o)(e)}},"_defined.js":function(e,t,r){r.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},"_iter-define.js":["./_library","./_export","./_redefine","./_hide","./_has","./_iterators","./_iter-create","./_set-to-string-tag","./_object-gpo","./_wks",function(e,t,r){"use strict";var o=e("./_library"),n=e("./_export"),i=e("./_redefine"),s=e("./_hide"),c=e("./_has"),a=e("./_iterators"),u=e("./_iter-create"),f=e("./_set-to-string-tag"),l=e("./_object-gpo"),p=e("./_wks")("iterator"),d=!([].keys&&"next"in[].keys()),_="@@iterator",y="keys",b="values",j=function(){return this};r.exports=function(e,t,r,m,h,v,g){u(r,t,m);var x=function(e){if(!d&&e in S)return S[e];switch(e){case y:return function t(){return new r(this,e)};case b:return function t(){return new r(this,e)}}return function t(){return new r(this,e)}},w=t+" Iterator",k=h==b,O=!1,S=e.prototype,E=S[p]||S[_]||h&&S[h],P=E||x(h),M=h?k?x("entries"):P:void 0,L="Array"==t?S.entries||E:E,A,N,T;if(L&&(T=l(L.call(new e)),T!==Object.prototype&&(f(T,w,!0),o||c(T,p)||s(T,p,j))),k&&E&&E.name!==b&&(O=!0,P=function e(){return E.call(this)}),o&&!g||!d&&!O&&S[p]||s(S,p,P),a[t]=P,a[w]=j,h)if(A={values:k?P:x(b),keys:v?P:x(y),entries:M},g)for(N in A)N in S||i(S,N,A[N]);else n(n.P+n.F*(d||O),t,A);return A}}],"_library.js":function(e,t,r){r.exports=!0},"_export.js":["./_global","./_core","./_ctx","./_hide",function(e,t,r){var o=e("./_global"),n=e("./_core"),i=e("./_ctx"),s=e("./_hide"),c="prototype",a=function(e,t,r){var u=e&a.F,f=e&a.G,l=e&a.S,p=e&a.P,d=e&a.B,_=e&a.W,y=f?n:n[t]||(n[t]={}),b=y[c],j=f?o:l?o[t]:(o[t]||{})[c],m,h,v;f&&(r=t);for(m in r)h=!u&&j&&void 0!==j[m],h&&m in y||(v=h?j[m]:r[m],y[m]=f&&"function"!=typeof j[m]?r[m]:d&&h?i(v,o):_&&j[m]==v?function(e){var t=function(t,r,o){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r)}return new e(t,r,o)}return e.apply(this,arguments)};return t[c]=e[c],t}(v):p&&"function"==typeof v?i(Function.call,v):v,p&&((y.virtual||(y.virtual={}))[m]=v,e&a.R&&b&&!b[m]&&s(b,m,v)))};a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,a.U=64,a.R=128,r.exports=a}],"_global.js":function(e,t,r){var o=r.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=o)},"_core.js":function(e,t,r){var o=r.exports={version:"2.4.0"};"number"==typeof __e&&(__e=o)},"_ctx.js":["./_a-function",function(e,t,r){var o=e("./_a-function");r.exports=function(e,t,r){if(o(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,o){return e.call(t,r,o)};case 3:return function(r,o,n){return e.call(t,r,o,n)}}return function(){return e.apply(t,arguments)}}}],"_a-function.js":function(e,t,r){r.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},"_hide.js":["./_object-dp","./_property-desc","./_descriptors",function(e,t,r){var o=e("./_object-dp"),n=e("./_property-desc");r.exports=e("./_descriptors")?function(e,t,r){return o.f(e,t,n(1,r))}:function(e,t,r){return e[t]=r,e}}],"_object-dp.js":["./_an-object","./_ie8-dom-define","./_to-primitive","./_descriptors",function(e,t){var r=e("./_an-object"),o=e("./_ie8-dom-define"),n=e("./_to-primitive"),i=Object.defineProperty;t.f=e("./_descriptors")?Object.defineProperty:function e(t,s,c){if(r(t),s=n(s,!0),r(c),o)try{return i(t,s,c)}catch(e){}if("get"in c||"set"in c)throw TypeError("Accessors not supported!");return"value"in c&&(t[s]=c.value),t}}],"_an-object.js":["./_is-object",function(e,t,r){var o=e("./_is-object");r.exports=function(e){if(!o(e))throw TypeError(e+" is not an object!");return e}}],"_is-object.js":function(e,t,r){r.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},"_ie8-dom-define.js":["./_descriptors","./_fails","./_dom-create",function(e,t,r){r.exports=!e("./_descriptors")&&!e("./_fails")(function(){return 7!=Object.defineProperty(e("./_dom-create")("div"),"a",{get:function(){return 7}}).a})}],"_descriptors.js":["./_fails",function(e,t,r){r.exports=!e("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})}],"_fails.js":function(e,t,r){r.exports=function(e){try{return!!e()}catch(e){return!0}}},"_dom-create.js":["./_is-object","./_global",function(e,t,r){var o=e("./_is-object"),n=e("./_global").document,i=o(n)&&o(n.createElement);r.exports=function(e){return i?n.createElement(e):{}}}],"_to-primitive.js":["./_is-object",function(e,t,r){var o=e("./_is-object");r.exports=function(e,t){if(!o(e))return e;var r,n;if(t&&"function"==typeof(r=e.toString)&&!o(n=r.call(e)))return n;if("function"==typeof(r=e.valueOf)&&!o(n=r.call(e)))return n;if(!t&&"function"==typeof(r=e.toString)&&!o(n=r.call(e)))return n;throw TypeError("Can't convert object to primitive value")}}],"_property-desc.js":function(e,t,r){r.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"_redefine.js":["./_hide",function(e,t,r){r.exports=e("./_hide")}],"_has.js":function(e,t,r){var o={}.hasOwnProperty;r.exports=function(e,t){return o.call(e,t)}},"_iterators.js":function(e,t,r){r.exports={}},"_iter-create.js":["./_object-create","./_property-desc","./_set-to-string-tag","./_hide","./_wks",function(e,t,r){"use strict";var o=e("./_object-create"),n=e("./_property-desc"),i=e("./_set-to-string-tag"),s={};e("./_hide")(s,e("./_wks")("iterator"),function(){return this}),r.exports=function(e,t,r){e.prototype=o(s,{next:n(1,r)}),i(e,t+" Iterator")}}],"_object-create.js":["./_an-object","./_object-dps","./_enum-bug-keys","./_shared-key","./_dom-create","./_html",function(e,t,r){var o=e("./_an-object"),n=e("./_object-dps"),i=e("./_enum-bug-keys"),s=e("./_shared-key")("IE_PROTO"),c=function(){},a="prototype",u=function(){var t=e("./_dom-create")("iframe"),r=i.length,o="<",n=">",s;for(t.style.display="none",e("./_html").appendChild(t),t.src="javascript:",s=t.contentWindow.document,s.open(),s.write(o+"script"+n+"document.F=Object"+o+"/script"+n),s.close(),u=s.F;r--;)delete u[a][i[r]];return u()};r.exports=Object.create||function e(t,r){var i;return null!==t?(c[a]=o(t),i=new c,c[a]=null,i[s]=t):i=u(),void 0===r?i:n(i,r)}}],"_object-dps.js":["./_object-dp","./_an-object","./_object-keys","./_descriptors",function(e,t,r){var o=e("./_object-dp"),n=e("./_an-object"),i=e("./_object-keys");r.exports=e("./_descriptors")?Object.defineProperties:function e(t,r){n(t);for(var s=i(r),c=s.length,a=0,u;c>a;)o.f(t,u=s[a++],r[u]);return t}}],"_object-keys.js":["./_object-keys-internal","./_enum-bug-keys",function(e,t,r){var o=e("./_object-keys-internal"),n=e("./_enum-bug-keys");r.exports=Object.keys||function e(t){return o(t,n)}}],"_object-keys-internal.js":["./_has","./_to-iobject","./_array-includes","./_shared-key",function(e,t,r){var o=e("./_has"),n=e("./_to-iobject"),i=e("./_array-includes")(!1),s=e("./_shared-key")("IE_PROTO");r.exports=function(e,t){var r=n(e),c=0,a=[],u;for(u in r)u!=s&&o(r,u)&&a.push(u);for(;t.length>c;)o(r,u=t[c++])&&(~i(a,u)||a.push(u));return a}}],"_to-iobject.js":["./_iobject","./_defined",function(e,t,r){var o=e("./_iobject"),n=e("./_defined");r.exports=function(e){return o(n(e))}}],"_iobject.js":["./_cof",function(e,t,r){var o=e("./_cof");r.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==o(e)?e.split(""):Object(e)}}],"_cof.js":function(e,t,r){var o={}.toString;r.exports=function(e){return o.call(e).slice(8,-1)}},"_array-includes.js":["./_to-iobject","./_to-length","./_to-index",function(e,t,r){var o=e("./_to-iobject"),n=e("./_to-length"),i=e("./_to-index");r.exports=function(e){return function(t,r,s){var c=o(t),a=n(c.length),u=i(s,a),f;if(e&&r!=r){for(;a>u;)if(f=c[u++],f!=f)return!0}else for(;a>u;u++)if((e||u in c)&&c[u]===r)return e||u||0;return!e&&-1}}}],"_to-length.js":["./_to-integer",function(e,t,r){var o=e("./_to-integer"),n=Math.min;r.exports=function(e){return e>0?n(o(e),9007199254740991):0}}],"_to-index.js":["./_to-integer",function(e,t,r){var o=e("./_to-integer"),n=Math.max,i=Math.min;r.exports=function(e,t){return e=o(e),e<0?n(e+t,0):i(e,t)}}],"_shared-key.js":["./_shared","./_uid",function(e,t,r){var o=e("./_shared")("keys"),n=e("./_uid");r.exports=function(e){return o[e]||(o[e]=n(e))}}],"_shared.js":["./_global",function(e,t,r){var o=e("./_global"),n="__core-js_shared__",i=o[n]||(o[n]={});r.exports=function(e){return i[e]||(i[e]={})}}],"_uid.js":function(e,t,r){var o=0,n=Math.random();r.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++o+n).toString(36))}},"_enum-bug-keys.js":function(e,t,r){r.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},"_html.js":["./_global",function(e,t,r){r.exports=e("./_global").document&&document.documentElement}],"_set-to-string-tag.js":["./_object-dp","./_has","./_wks",function(e,t,r){var o=e("./_object-dp").f,n=e("./_has"),i=e("./_wks")("toStringTag");r.exports=function(e,t,r){e&&!n(e=r?e:e.prototype,i)&&o(e,i,{configurable:!0,value:t})}}],"_wks.js":["./_shared","./_uid","./_global",function(e,t,r){var o=e("./_shared")("wks"),n=e("./_uid"),i=e("./_global").Symbol,s="function"==typeof i,c=r.exports=function(e){return o[e]||(o[e]=s&&i[e]||(s?i:n)("Symbol."+e))};c.store=o}],"_object-gpo.js":["./_has","./_to-object","./_shared-key",function(e,t,r){var o=e("./_has"),n=e("./_to-object"),i=e("./_shared-key")("IE_PROTO"),s=Object.prototype;r.exports=Object.getPrototypeOf||function(e){return e=n(e),o(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}}],"_to-object.js":["./_defined",function(e,t,r){var o=e("./_defined");r.exports=function(e){return Object(o(e))}}],"web.dom.iterable.js":["./es6.array.iterator","./_global","./_hide","./_iterators","./_wks",function(e){e("./es6.array.iterator");for(var t=e("./_global"),r=e("./_hide"),o=e("./_iterators"),n=e("./_wks")("toStringTag"),i=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],s=0;s<5;s++){var c=i[s],a=t[c],u=a&&a.prototype;u&&!u[n]&&r(u,n,c),o[c]=o.Array}}],"es6.array.iterator.js":["./_add-to-unscopables","./_iter-step","./_iterators","./_to-iobject","./_iter-define",function(e,t,r){"use strict";var o=e("./_add-to-unscopables"),n=e("./_iter-step"),i=e("./_iterators"),s=e("./_to-iobject");r.exports=e("./_iter-define")(Array,"Array",function(e,t){this._t=s(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,n(1)):"keys"==t?n(0,r):"values"==t?n(0,e[r]):n(0,[r,e[r]]);
},"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")}],"_add-to-unscopables.js":function(e,t,r){r.exports=function(){}},"_iter-step.js":function(e,t,r){r.exports=function(e,t){return{value:t,done:!!e}}},"_wks-ext.js":["./_wks",function(e,t){t.f=e("./_wks")}],"es6.symbol.js":["./_global","./_has","./_descriptors","./_export","./_redefine","./_meta","./_fails","./_shared","./_set-to-string-tag","./_uid","./_wks","./_wks-ext","./_wks-define","./_keyof","./_enum-keys","./_is-array","./_an-object","./_to-iobject","./_to-primitive","./_property-desc","./_object-create","./_object-gopn-ext","./_object-gopd","./_object-dp","./_object-keys","./_object-gopn","./_object-pie","./_object-gops","./_library","./_hide",function(e){"use strict";var t=e("./_global"),r=e("./_has"),o=e("./_descriptors"),n=e("./_export"),i=e("./_redefine"),s=e("./_meta").KEY,c=e("./_fails"),a=e("./_shared"),u=e("./_set-to-string-tag"),f=e("./_uid"),l=e("./_wks"),p=e("./_wks-ext"),d=e("./_wks-define"),_=e("./_keyof"),y=e("./_enum-keys"),b=e("./_is-array"),j=e("./_an-object"),m=e("./_to-iobject"),h=e("./_to-primitive"),v=e("./_property-desc"),g=e("./_object-create"),x=e("./_object-gopn-ext"),w=e("./_object-gopd"),k=e("./_object-dp"),O=e("./_object-keys"),S=w.f,E=k.f,P=x.f,M=t.Symbol,L=t.JSON,A=L&&L.stringify,N="prototype",T=l("_hidden"),C=l("toPrimitive"),F={}.propertyIsEnumerable,G=a("symbol-registry"),R=a("symbols"),I=a("op-symbols"),q=Object[N],z="function"==typeof M,B=t.QObject,W=!B||!B[N]||!B[N].findChild,D=o&&c(function(){return 7!=g(E({},"a",{get:function(){return E(this,"a",{value:7}).a}})).a})?function(e,t,r){var o=S(q,t);o&&delete q[t],E(e,t,r),o&&e!==q&&E(q,t,o)}:E,J=function(e){var t=R[e]=g(M[N]);return t._k=e,t},Y=z&&"symbol"==typeof M.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof M},K=function e(t,o,n){return t===q&&K(I,o,n),j(t),o=h(o,!0),j(n),r(R,o)?(n.enumerable?(r(t,T)&&t[T][o]&&(t[T][o]=!1),n=g(n,{enumerable:v(0,!1)})):(r(t,T)||E(t,T,v(1,{})),t[T][o]=!0),D(t,o,n)):E(t,o,n)},U=function e(t,r){j(t);for(var o=y(r=m(r)),n=0,i=o.length,s;i>n;)K(t,s=o[n++],r[s]);return t},Q=function e(t,r){return void 0===r?g(t):U(g(t),r)},H=function e(t){var o=F.call(this,t=h(t,!0));return!(this===q&&r(R,t)&&!r(I,t))&&(!(o||!r(this,t)||!r(R,t)||r(this,T)&&this[T][t])||o)},V=function e(t,o){if(t=m(t),o=h(o,!0),t!==q||!r(R,o)||r(I,o)){var n=S(t,o);return!n||!r(R,o)||r(t,T)&&t[T][o]||(n.enumerable=!0),n}},X=function e(t){for(var o=P(m(t)),n=[],i=0,c;o.length>i;)r(R,c=o[i++])||c==T||c==s||n.push(c);return n},Z=function e(t){for(var o=t===q,n=P(o?I:m(t)),i=[],s=0,c;n.length>s;)!r(R,c=n[s++])||o&&!r(q,c)||i.push(R[c]);return i};z||(M=function e(){if(this instanceof M)throw TypeError("Symbol is not a constructor!");var t=f(arguments.length>0?arguments[0]:void 0),n=function(e){this===q&&n.call(I,e),r(this,T)&&r(this[T],t)&&(this[T][t]=!1),D(this,t,v(1,e))};return o&&W&&D(q,t,{configurable:!0,set:n}),J(t)},i(M[N],"toString",function e(){return this._k}),w.f=V,k.f=K,e("./_object-gopn").f=x.f=X,e("./_object-pie").f=H,e("./_object-gops").f=Z,o&&!e("./_library")&&i(q,"propertyIsEnumerable",H,!0),p.f=function(e){return J(l(e))}),n(n.G+n.W+n.F*!z,{Symbol:M});for(var $="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;$.length>ee;)l($[ee++]);for(var $=O(l.store),ee=0;$.length>ee;)d($[ee++]);n(n.S+n.F*!z,"Symbol",{for:function(e){return r(G,e+="")?G[e]:G[e]=M(e)},keyFor:function e(t){if(Y(t))return _(G,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){W=!0},useSimple:function(){W=!1}}),n(n.S+n.F*!z,"Object",{create:Q,defineProperty:K,defineProperties:U,getOwnPropertyDescriptor:V,getOwnPropertyNames:X,getOwnPropertySymbols:Z}),L&&n(n.S+n.F*(!z||c(function(){var e=M();return"[null]"!=A([e])||"{}"!=A({a:e})||"{}"!=A(Object(e))})),"JSON",{stringify:function e(t){if(void 0!==t&&!Y(t)){for(var r=[t],o=1,n,i;arguments.length>o;)r.push(arguments[o++]);return n=r[1],"function"==typeof n&&(i=n),!i&&b(n)||(n=function(e,t){if(i&&(t=i.call(this,e,t)),!Y(t))return t}),r[1]=n,A.apply(L,r)}}}),M[N][C]||e("./_hide")(M[N],C,M[N].valueOf),u(M,"Symbol"),u(Math,"Math",!0),u(t.JSON,"JSON",!0)}],"_meta.js":["./_uid","./_is-object","./_has","./_object-dp","./_fails",function(e,t,r){var o=e("./_uid")("meta"),n=e("./_is-object"),i=e("./_has"),s=e("./_object-dp").f,c=0,a=Object.isExtensible||function(){return!0},u=!e("./_fails")(function(){return a(Object.preventExtensions({}))}),f=function(e){s(e,o,{value:{i:"O"+ ++c,w:{}}})},l=function(e,t){if(!n(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,o)){if(!a(e))return"F";if(!t)return"E";f(e)}return e[o].i},p=function(e,t){if(!i(e,o)){if(!a(e))return!0;if(!t)return!1;f(e)}return e[o].w},d=function(e){return u&&_.NEED&&a(e)&&!i(e,o)&&f(e),e},_=r.exports={KEY:o,NEED:!1,fastKey:l,getWeak:p,onFreeze:d}}],"_wks-define.js":["./_global","./_core","./_library","./_wks-ext","./_object-dp",function(e,t,r){var o=e("./_global"),n=e("./_core"),i=e("./_library"),s=e("./_wks-ext"),c=e("./_object-dp").f;r.exports=function(e){var t=n.Symbol||(n.Symbol=i?{}:o.Symbol||{});"_"==e.charAt(0)||e in t||c(t,e,{value:s.f(e)})}}],"_keyof.js":["./_object-keys","./_to-iobject",function(e,t,r){var o=e("./_object-keys"),n=e("./_to-iobject");r.exports=function(e,t){for(var r=n(e),i=o(r),s=i.length,c=0,a;s>c;)if(r[a=i[c++]]===t)return a}}],"_enum-keys.js":["./_object-keys","./_object-gops","./_object-pie",function(e,t,r){var o=e("./_object-keys"),n=e("./_object-gops"),i=e("./_object-pie");r.exports=function(e){var t=o(e),r=n.f;if(r)for(var s=r(e),c=i.f,a=0,u;s.length>a;)c.call(e,u=s[a++])&&t.push(u);return t}}],"_object-gops.js":function(e,t){t.f=Object.getOwnPropertySymbols},"_object-pie.js":function(e,t){t.f={}.propertyIsEnumerable},"_is-array.js":["./_cof",function(e,t,r){var o=e("./_cof");r.exports=Array.isArray||function e(t){return"Array"==o(t)}}],"_object-gopn-ext.js":["./_to-iobject","./_object-gopn",function(e,t,r){var o=e("./_to-iobject"),n=e("./_object-gopn").f,i={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],c=function(e){try{return n(e)}catch(e){return s.slice()}};r.exports.f=function e(t){return s&&"[object Window]"==i.call(t)?c(t):n(o(t))}}],"_object-gopn.js":["./_object-keys-internal","./_enum-bug-keys",function(e,t){var r=e("./_object-keys-internal"),o=e("./_enum-bug-keys").concat("length","prototype");t.f=Object.getOwnPropertyNames||function e(t){return r(t,o)}}],"_object-gopd.js":["./_object-pie","./_property-desc","./_to-iobject","./_to-primitive","./_has","./_ie8-dom-define","./_descriptors",function(e,t){var r=e("./_object-pie"),o=e("./_property-desc"),n=e("./_to-iobject"),i=e("./_to-primitive"),s=e("./_has"),c=e("./_ie8-dom-define"),a=Object.getOwnPropertyDescriptor;t.f=e("./_descriptors")?a:function e(t,u){if(t=n(t),u=i(u,!0),c)try{return a(t,u)}catch(e){}if(s(t,u))return o(!r.f.call(t,u),t[u])}}],"es6.object.to-string.js":function(){},"es7.symbol.async-iterator.js":["./_wks-define",function(e){e("./_wks-define")("asyncIterator")}],"es7.symbol.observable.js":["./_wks-define",function(e){e("./_wks-define")("observable")}],"es6.object.set-prototype-of.js":["./_export","./_set-proto",function(e){var t=e("./_export");t(t.S,"Object",{setPrototypeOf:e("./_set-proto").set})}],"_set-proto.js":["./_is-object","./_an-object","./_ctx","./_object-gopd",function(e,t,r){var o=e("./_is-object"),n=e("./_an-object"),i=function(e,t){if(n(e),!o(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};r.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,r,o){try{o=e("./_ctx")(Function.call,e("./_object-gopd").f(Object.prototype,"__proto__").set,2),o(t,[]),r=!(t instanceof Array)}catch(e){r=!0}return function e(t,n){return i(t,n),r?t.__proto__=n:o(t,n),t}}({},!1):void 0),check:i}}],"es6.object.create.js":["./_export","./_object-create",function(e){var t=e("./_export");t(t.S,"Object",{create:e("./_object-create")})}],"es6.object.define-property.js":["./_export","./_descriptors","./_object-dp",function(e){var t=e("./_export");t(t.S+t.F*!e("./_descriptors"),"Object",{defineProperty:e("./_object-dp").f})}],"es6.array.from.js":["./_ctx","./_export","./_to-object","./_iter-call","./_is-array-iter","./_to-length","./_create-property","./core.get-iterator-method","./_iter-detect",function(e){"use strict";var t=e("./_ctx"),r=e("./_export"),o=e("./_to-object"),n=e("./_iter-call"),i=e("./_is-array-iter"),s=e("./_to-length"),c=e("./_create-property"),a=e("./core.get-iterator-method");r(r.S+r.F*!e("./_iter-detect")(function(e){Array.from(e)}),"Array",{from:function e(r){var u=o(r),f="function"==typeof this?this:Array,l=arguments.length,p=l>1?arguments[1]:void 0,d=void 0!==p,_=0,y=a(u),b,j,m,h;if(d&&(p=t(p,l>2?arguments[2]:void 0,2)),void 0==y||f==Array&&i(y))for(b=s(u.length),j=new f(b);b>_;_++)c(j,_,d?p(u[_],_):u[_]);else for(h=y.call(u),j=new f;!(m=h.next()).done;_++)c(j,_,d?n(h,p,[m.value,_],!0):m.value);return j.length=_,j}})}],"_iter-call.js":["./_an-object",function(e,t,r){var o=e("./_an-object");r.exports=function(e,t,r,n){try{return n?t(o(r)[0],r[1]):t(r)}catch(t){var i=e.return;throw void 0!==i&&o(i.call(e)),t}}}],"_is-array-iter.js":["./_iterators","./_wks",function(e,t,r){var o=e("./_iterators"),n=e("./_wks")("iterator"),i=Array.prototype;r.exports=function(e){return void 0!==e&&(o.Array===e||i[n]===e)}}],"_create-property.js":["./_object-dp","./_property-desc",function(e,t,r){"use strict";var o=e("./_object-dp"),n=e("./_property-desc");r.exports=function(e,t,r){t in e?o.f(e,t,n(0,r)):e[t]=r}}],"core.get-iterator-method.js":["./_classof","./_wks","./_iterators","./_core",function(e,t,r){var o=e("./_classof"),n=e("./_wks")("iterator"),i=e("./_iterators");r.exports=e("./_core").getIteratorMethod=function(e){if(void 0!=e)return e[n]||e["@@iterator"]||i[o(e)]}}],"_classof.js":["./_cof","./_wks",function(e,t,r){var o=e("./_cof"),n=e("./_wks")("toStringTag"),i="Arguments"==o(function(){return arguments}()),s=function(e,t){try{return e[t]}catch(e){}};r.exports=function(e){var t,r,c;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=s(t=Object(e),n))?r:i?o(t):"Object"==(c=o(t))&&"function"==typeof t.callee?"Arguments":c}}],"_iter-detect.js":["./_wks",function(e,t,r){var o=e("./_wks")("iterator"),n=!1;try{var i=[7][o]();i.return=function(){n=!0},Array.from(i,function(){throw 2})}catch(e){}r.exports=function(e,t){if(!t&&!n)return!1;var r=!1;try{var i=[7],s=i[o]();s.next=function(){return{done:r=!0}},i[o]=function(){return s},e(i)}catch(e){}return r}}]}}}}},{extensions:[".js",".json"]}),a=c("./node_modules/meteor/modules/client.js");"undefined"==typeof Package&&(Package={}),function(e,t){for(var r in t)r in e||(e[r]=t[r])}(Package.modules=a,{meteorInstall:n,Buffer:i,process:s})}();

!function(){var t=Package.meteor.Meteor,e=Package.meteor.global,r=Package.meteor.meteorEnv,n=Package.modules.meteorInstall,o=Package.modules.Buffer,i=Package.modules.process,a,c,u,f,s=n({node_modules:{meteor:{"es5-shim":{"client.js":["./import_globals.js","es5-shim/es5-shim.js","es5-shim/es5-sham.js","./console.js","./export_globals.js",function(t){t("./import_globals.js"),t("es5-shim/es5-shim.js"),t("es5-shim/es5-sham.js"),t("./console.js"),t("./export_globals.js")}],"console.js":function(){function t(t){var e=console[t];e&&"object"==typeof e&&(console[t]=function(){return Function.prototype.apply.call(e,console,arguments)})}var e=Object.prototype.hasOwnProperty;if("object"==typeof console&&"object"==typeof console.log)for(var r in console)e.call(console,r)&&t(r)},"export_globals.js":function(){e.Date!==a&&(e.Date=a),e.parseInt!==c&&(e.parseInt=c),e.parseFloat!==u&&(e.parseFloat=u);var t=String.prototype;t.replace!==f&&(t.replace=f)},"import_globals.js":function(){a=e.Date,c=e.parseInt,u=e.parseFloat,f=String.prototype.replace},node_modules:{"es5-shim":{"es5-shim.js":function(t,e,r){!function(t,n){"use strict";"function"==typeof define&&define.amd?define(n):"object"==typeof e?r.exports=n():t.returnExports=n()}(this,function(){var t=Array,e=t.prototype,r=Object,n=r.prototype,o=Function,i=o.prototype,f=String,s=f.prototype,l=Number,p=l.prototype,h=e.slice,y=e.splice,d=e.push,b=e.unshift,g=e.concat,v=e.join,w=i.call,j=i.apply,O=Math.max,m=Math.min,T=n.toString,E="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,x,S=Function.prototype.toString,_=/^\s*class /,P=function t(e){try{var r=S.call(e),n=r.replace(/\/\/.*\n/g,""),o=n.replace(/\/\*[.\s\S]*\*\//g,""),i=o.replace(/\n/gm," ").replace(/ {2}/g," ");return _.test(i)}catch(t){return!1}},M=function t(e){try{return!P(e)&&(S.call(e),!0)}catch(t){return!1}},I="[object Function]",D="[object GeneratorFunction]",x=function t(e){if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if(E)return M(e);if(P(e))return!1;var r=T.call(e);return r===I||r===D},k,F=RegExp.prototype.exec,U=function t(e){try{return F.call(e),!0}catch(t){return!1}},N="[object RegExp]";k=function t(e){return"object"==typeof e&&(E?U(e):T.call(e)===N)};var C,A=String.prototype.valueOf,R=function t(e){try{return A.call(e),!0}catch(t){return!1}},$="[object String]";C=function t(e){return"string"==typeof e||"object"==typeof e&&(E?R(e):T.call(e)===$)};var z=r.defineProperty&&function(){try{var t={};r.defineProperty(t,"x",{enumerable:!1,value:t});for(var e in t)return!1;return t.x===t}catch(t){return!1}}(),J=function(t){var e;return e=z?function(t,e,n,o){!o&&e in t||r.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:!0,value:n})}:function(t,e,r,n){!n&&e in t||(t[e]=r)},function r(n,o,i){for(var a in o)t.call(o,a)&&e(n,a,o[a],i)}}(n.hasOwnProperty),G=function t(e){var r=typeof e;return null===e||"object"!==r&&"function"!==r},Z=l.isNaN||function t(e){return e!==e},Y={ToInteger:function t(e){var r=+e;return Z(r)?r=0:0!==r&&r!==1/0&&r!==-(1/0)&&(r=(r>0||-1)*Math.floor(Math.abs(r))),r},ToPrimitive:function t(e){var r,n,o;if(G(e))return e;if(n=e.valueOf,x(n)&&(r=n.call(e),G(r)))return r;if(o=e.toString,x(o)&&(r=o.call(e),G(r)))return r;throw new TypeError},ToObject:function(t){if(null==t)throw new TypeError("can't convert "+t+" to object");return r(t)},ToUint32:function t(e){return e>>>0}},W=function t(){};J(i,{bind:function t(e){var n=this;if(!x(n))throw new TypeError("Function.prototype.bind called on incompatible "+n);for(var i=h.call(arguments,1),a,c=function(){if(this instanceof a){var t=j.call(n,this,g.call(i,h.call(arguments)));return r(t)===t?t:this}return j.call(n,e,g.call(i,h.call(arguments)))},u=O(0,n.length-i.length),f=[],s=0;s<u;s++)d.call(f,"$"+s);return a=o("binder","return function ("+v.call(f,",")+"){ return binder.apply(this, arguments); }")(c),n.prototype&&(W.prototype=n.prototype,a.prototype=new W,W.prototype=null),a}});var B=w.bind(n.hasOwnProperty),X=w.bind(n.toString),H=w.bind(h),L=j.bind(h),q=w.bind(s.slice),K=w.bind(s.split),Q=w.bind(s.indexOf),V=w.bind(d),tt=w.bind(n.propertyIsEnumerable),et=w.bind(e.sort),rt=t.isArray||function t(e){return"[object Array]"===X(e)},nt=1!==[].unshift(0);J(e,{unshift:function(){return b.apply(this,arguments),this.length}},nt),J(t,{isArray:rt});var ot=r("a"),it="a"!==ot[0]||!(0 in ot),at=function t(e){var r=!0,n=!0,o=!1;if(e)try{e.call("foo",function(t,e,n){"object"!=typeof n&&(r=!1)}),e.call([1],function(){"use strict";n="string"==typeof this},"x")}catch(t){o=!0}return!!e&&!o&&r&&n};J(e,{forEach:function t(e){var r=Y.ToObject(this),n=it&&C(this)?K(this,""):r,o=-1,i=Y.ToUint32(n.length),a;if(arguments.length>1&&(a=arguments[1]),!x(e))throw new TypeError("Array.prototype.forEach callback must be a function");for(;++o<i;)o in n&&("undefined"==typeof a?e(n[o],o,r):e.call(a,n[o],o,r))}},!at(e.forEach)),J(e,{map:function e(r){var n=Y.ToObject(this),o=it&&C(this)?K(this,""):n,i=Y.ToUint32(o.length),a=t(i),c;if(arguments.length>1&&(c=arguments[1]),!x(r))throw new TypeError("Array.prototype.map callback must be a function");for(var u=0;u<i;u++)u in o&&("undefined"==typeof c?a[u]=r(o[u],u,n):a[u]=r.call(c,o[u],u,n));return a}},!at(e.map)),J(e,{filter:function t(e){var r=Y.ToObject(this),n=it&&C(this)?K(this,""):r,o=Y.ToUint32(n.length),i=[],a,c;if(arguments.length>1&&(c=arguments[1]),!x(e))throw new TypeError("Array.prototype.filter callback must be a function");for(var u=0;u<o;u++)u in n&&(a=n[u],("undefined"==typeof c?e(a,u,r):e.call(c,a,u,r))&&V(i,a));return i}},!at(e.filter)),J(e,{every:function t(e){var r=Y.ToObject(this),n=it&&C(this)?K(this,""):r,o=Y.ToUint32(n.length),i;if(arguments.length>1&&(i=arguments[1]),!x(e))throw new TypeError("Array.prototype.every callback must be a function");for(var a=0;a<o;a++)if(a in n&&!("undefined"==typeof i?e(n[a],a,r):e.call(i,n[a],a,r)))return!1;return!0}},!at(e.every)),J(e,{some:function t(e){var r=Y.ToObject(this),n=it&&C(this)?K(this,""):r,o=Y.ToUint32(n.length),i;if(arguments.length>1&&(i=arguments[1]),!x(e))throw new TypeError("Array.prototype.some callback must be a function");for(var a=0;a<o;a++)if(a in n&&("undefined"==typeof i?e(n[a],a,r):e.call(i,n[a],a,r)))return!0;return!1}},!at(e.some));var ct=!1;e.reduce&&(ct="object"==typeof e.reduce.call("es5",function(t,e,r,n){return n})),J(e,{reduce:function t(e){var r=Y.ToObject(this),n=it&&C(this)?K(this,""):r,o=Y.ToUint32(n.length);if(!x(e))throw new TypeError("Array.prototype.reduce callback must be a function");if(0===o&&1===arguments.length)throw new TypeError("reduce of empty array with no initial value");var i=0,a;if(arguments.length>=2)a=arguments[1];else for(;;){if(i in n){a=n[i++];break}if(++i>=o)throw new TypeError("reduce of empty array with no initial value")}for(;i<o;i++)i in n&&(a=e(a,n[i],i,r));return a}},!ct);var ut=!1;e.reduceRight&&(ut="object"==typeof e.reduceRight.call("es5",function(t,e,r,n){return n})),J(e,{reduceRight:function t(e){var r=Y.ToObject(this),n=it&&C(this)?K(this,""):r,o=Y.ToUint32(n.length);if(!x(e))throw new TypeError("Array.prototype.reduceRight callback must be a function");if(0===o&&1===arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var i,a=o-1;if(arguments.length>=2)i=arguments[1];else for(;;){if(a in n){i=n[a--];break}if(--a<0)throw new TypeError("reduceRight of empty array with no initial value")}if(a<0)return i;do a in n&&(i=e(i,n[a],a,r));while(a--);return i}},!ut);var ft=e.indexOf&&[0,1].indexOf(1,2)!==-1;J(e,{indexOf:function t(e){var r=it&&C(this)?K(this,""):Y.ToObject(this),n=Y.ToUint32(r.length);if(0===n)return-1;var o=0;for(arguments.length>1&&(o=Y.ToInteger(arguments[1])),o=o>=0?o:O(0,n+o);o<n;o++)if(o in r&&r[o]===e)return o;return-1}},ft);var st=e.lastIndexOf&&[0,1].lastIndexOf(0,-3)!==-1;J(e,{lastIndexOf:function t(e){var r=it&&C(this)?K(this,""):Y.ToObject(this),n=Y.ToUint32(r.length);if(0===n)return-1;var o=n-1;for(arguments.length>1&&(o=m(o,Y.ToInteger(arguments[1]))),o=o>=0?o:n-Math.abs(o);o>=0;o--)if(o in r&&e===r[o])return o;return-1}},st);var lt=function(){var t=[1,2],e=t.splice();return 2===t.length&&rt(e)&&0===e.length}();J(e,{splice:function t(e,r){return 0===arguments.length?[]:y.apply(this,arguments)}},!lt);var pt=function(){var t={};return e.splice.call(t,0,0,1),1===t.length}();J(e,{splice:function t(e,r){if(0===arguments.length)return[];var n=arguments;return this.length=O(Y.ToInteger(this.length),0),arguments.length>0&&"number"!=typeof r&&(n=H(arguments),n.length<2?V(n,this.length-e):n[1]=Y.ToInteger(r)),y.apply(this,n)}},!pt);var ht=function(){var e=new t(1e5);return e[8]="x",e.splice(1,1),7===e.indexOf("x")}(),yt=function(){var t=256,e=[];return e[t]="a",e.splice(t+1,0,"b"),"a"===e[t]}();J(e,{splice:function t(e,r){for(var n=Y.ToObject(this),o=[],i=Y.ToUint32(n.length),a=Y.ToInteger(e),c=a<0?O(i+a,0):m(a,i),u=m(O(Y.ToInteger(r),0),i-c),s=0,l;s<u;)l=f(c+s),B(n,l)&&(o[s]=n[l]),s+=1;var p=H(arguments,2),h=p.length,y;if(h<u){s=c;for(var d=i-u;s<d;)l=f(s+u),y=f(s+h),B(n,l)?n[y]=n[l]:delete n[y],s+=1;s=i;for(var b=i-u+h;s>b;)delete n[s-1],s-=1}else if(h>u)for(s=i-u;s>c;)l=f(s+u-1),y=f(s+h-1),B(n,l)?n[y]=n[l]:delete n[y],s-=1;s=c;for(var g=0;g<p.length;++g)n[s]=p[g],s+=1;return n.length=i-u+h,o}},!ht||!yt);var dt=e.join,bt;try{bt="1,2,3"!==Array.prototype.join.call("123",",")}catch(t){bt=!0}bt&&J(e,{join:function t(e){var r="undefined"==typeof e?",":e;return dt.call(C(this)?K(this,""):this,r)}},bt);var gt="1,2"!==[1,2].join(void 0);gt&&J(e,{join:function t(e){var r="undefined"==typeof e?",":e;return dt.call(this,r)}},gt);var vt=function t(e){for(var r=Y.ToObject(this),n=Y.ToUint32(r.length),o=0;o<arguments.length;)r[n+o]=arguments[o],o+=1;return r.length=n+o,n+o},wt=function(){var t={},e=Array.prototype.push.call(t,void 0);return 1!==e||1!==t.length||"undefined"!=typeof t[0]||!B(t,0)}();J(e,{push:function t(e){return rt(this)?d.apply(this,arguments):vt.apply(this,arguments)}},wt);var jt=function(){var t=[],e=t.push(void 0);return 1!==e||1!==t.length||"undefined"!=typeof t[0]||!B(t,0)}();J(e,{push:vt},jt),J(e,{slice:function(t,e){var r=C(this)?K(this,""):this;return L(r,arguments)}},it);var Ot=function(){try{return[1,2].sort(null),[1,2].sort({}),!0}catch(t){}return!1}(),mt=function(){try{return[1,2].sort(/a/),!1}catch(t){}return!0}(),Tt=function(){try{return[1,2].sort(void 0),!0}catch(t){}return!1}();J(e,{sort:function t(e){if("undefined"==typeof e)return et(this);if(!x(e))throw new TypeError("Array.prototype.sort callback must be a function");return et(this,e)}},Ot||!Tt||!mt);var Et=!tt({toString:null},"toString"),xt=tt(function(){},"prototype"),St=!B("x","0"),_t=function(t){var e=t.constructor;return e&&e.prototype===t},Pt={$window:!0,$console:!0,$parent:!0,$self:!0,$frame:!0,$frames:!0,$frameElement:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$external:!0},Mt=function(){if("undefined"==typeof window)return!1;for(var t in window)try{!Pt["$"+t]&&B(window,t)&&null!==window[t]&&"object"==typeof window[t]&&_t(window[t])}catch(t){return!0}return!1}(),It=function(t){if("undefined"==typeof window||!Mt)return _t(t);try{return _t(t)}catch(t){return!1}},Dt=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],kt=Dt.length,Ft=function t(e){return"[object Arguments]"===X(e)},Ut=function t(e){return null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&!rt(e)&&x(e.callee)},Nt=Ft(arguments)?Ft:Ut;J(r,{keys:function t(e){var r=x(e),n=Nt(e),o=null!==e&&"object"==typeof e,i=o&&C(e);if(!o&&!r&&!n)throw new TypeError("Object.keys called on a non-object");var a=[],c=xt&&r;if(i&&St||n)for(var u=0;u<e.length;++u)V(a,f(u));if(!n)for(var s in e)c&&"prototype"===s||!B(e,s)||V(a,f(s));if(Et)for(var l=It(e),p=0;p<kt;p++){var h=Dt[p];l&&"constructor"===h||!B(e,h)||V(a,h)}return a}});var Ct=r.keys&&function(){return 2===r.keys(arguments).length}(1,2),At=r.keys&&function(){var t=r.keys(arguments);return 1!==arguments.length||1!==t.length||1!==t[0]}(1),Rt=r.keys;J(r,{keys:function t(e){return Rt(Nt(e)?H(e):e)}},!Ct||At);var $t=0!==new a((-0xc782b5b342b24)).getUTCMonth(),zt=new a((-0x55d318d56a724)),Jt=new a(14496624e5),Gt="Mon, 01 Jan -45875 11:59:59 GMT"!==zt.toUTCString(),Zt,Yt,Wt=zt.getTimezoneOffset();Wt<-720?(Zt="Tue Jan 02 -45875"!==zt.toDateString(),Yt=!/^Thu Dec 10 2015 \d\d:\d\d:\d\d GMT[-\+]\d\d\d\d(?: |$)/.test(Jt.toString())):(Zt="Mon Jan 01 -45875"!==zt.toDateString(),Yt=!/^Wed Dec 09 2015 \d\d:\d\d:\d\d GMT[-\+]\d\d\d\d(?: |$)/.test(Jt.toString()));var Bt=w.bind(a.prototype.getFullYear),Xt=w.bind(a.prototype.getMonth),Ht=w.bind(a.prototype.getDate),Lt=w.bind(a.prototype.getUTCFullYear),qt=w.bind(a.prototype.getUTCMonth),Kt=w.bind(a.prototype.getUTCDate),Qt=w.bind(a.prototype.getUTCDay),Vt=w.bind(a.prototype.getUTCHours),te=w.bind(a.prototype.getUTCMinutes),ee=w.bind(a.prototype.getUTCSeconds),re=w.bind(a.prototype.getUTCMilliseconds),ne=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],oe=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ie=function t(e,r){return Ht(new a(r,e,0))};J(a.prototype,{getFullYear:function t(){if(!(this&&this instanceof a))throw new TypeError("this is not a Date object.");var e=Bt(this);return e<0&&Xt(this)>11?e+1:e},getMonth:function t(){if(!(this&&this instanceof a))throw new TypeError("this is not a Date object.");var e=Bt(this),r=Xt(this);return e<0&&r>11?0:r},getDate:function t(){if(!(this&&this instanceof a))throw new TypeError("this is not a Date object.");var e=Bt(this),r=Xt(this),n=Ht(this);if(e<0&&r>11){if(12===r)return n;var o=ie(0,e+1);return o-n+1}return n},getUTCFullYear:function t(){if(!(this&&this instanceof a))throw new TypeError("this is not a Date object.");var e=Lt(this);return e<0&&qt(this)>11?e+1:e},getUTCMonth:function t(){if(!(this&&this instanceof a))throw new TypeError("this is not a Date object.");var e=Lt(this),r=qt(this);return e<0&&r>11?0:r},getUTCDate:function t(){if(!(this&&this instanceof a))throw new TypeError("this is not a Date object.");var e=Lt(this),r=qt(this),n=Kt(this);if(e<0&&r>11){if(12===r)return n;var o=ie(0,e+1);return o-n+1}return n}},$t),J(a.prototype,{toUTCString:function t(){if(!(this&&this instanceof a))throw new TypeError("this is not a Date object.");var e=Qt(this),r=Kt(this),n=qt(this),o=Lt(this),i=Vt(this),c=te(this),u=ee(this);return ne[e]+", "+(r<10?"0"+r:r)+" "+oe[n]+" "+o+" "+(i<10?"0"+i:i)+":"+(c<10?"0"+c:c)+":"+(u<10?"0"+u:u)+" GMT"}},$t||Gt),J(a.prototype,{toDateString:function t(){if(!(this&&this instanceof a))throw new TypeError("this is not a Date object.");var e=this.getDay(),r=this.getDate(),n=this.getMonth(),o=this.getFullYear();return ne[e]+" "+oe[n]+" "+(r<10?"0"+r:r)+" "+o}},$t||Zt),($t||Yt)&&(a.prototype.toString=function t(){if(!(this&&this instanceof a))throw new TypeError("this is not a Date object.");var e=this.getDay(),r=this.getDate(),n=this.getMonth(),o=this.getFullYear(),i=this.getHours(),c=this.getMinutes(),u=this.getSeconds(),f=this.getTimezoneOffset(),s=Math.floor(Math.abs(f)/60),l=Math.floor(Math.abs(f)%60);return ne[e]+" "+oe[n]+" "+(r<10?"0"+r:r)+" "+o+" "+(i<10?"0"+i:i)+":"+(c<10?"0"+c:c)+":"+(u<10?"0"+u:u)+" GMT"+(f>0?"-":"+")+(s<10?"0"+s:s)+(l<10?"0"+l:l)},z&&r.defineProperty(a.prototype,"toString",{configurable:!0,enumerable:!1,writable:!0}));var ae=-621987552e5,ce="-000001",ue=a.prototype.toISOString&&new a(ae).toISOString().indexOf(ce)===-1,fe=a.prototype.toISOString&&"1969-12-31T23:59:59.999Z"!==new a((-1)).toISOString(),se=w.bind(a.prototype.getTime);J(a.prototype,{toISOString:function t(){if(!isFinite(this)||!isFinite(se(this)))throw new RangeError("Date.prototype.toISOString called on non-finite value.");var e=Lt(this),r=qt(this);e+=Math.floor(r/12),r=(r%12+12)%12;var n=[r+1,Kt(this),Vt(this),te(this),ee(this)];e=(e<0?"-":e>9999?"+":"")+q("00000"+Math.abs(e),0<=e&&e<=9999?-4:-6);for(var o=0;o<n.length;++o)n[o]=q("00"+n[o],-2);return e+"-"+H(n,0,2).join("-")+"T"+H(n,2).join(":")+"."+q("000"+re(this),-3)+"Z"}},ue||fe);var le=function(){try{return a.prototype.toJSON&&null===new a(NaN).toJSON()&&new a(ae).toJSON().indexOf(ce)!==-1&&a.prototype.toJSON.call({toISOString:function(){return!0}})}catch(t){return!1}}();le||(a.prototype.toJSON=function t(e){var n=r(this),o=Y.ToPrimitive(n);if("number"==typeof o&&!isFinite(o))return null;var i=n.toISOString;if(!x(i))throw new TypeError("toISOString property is not callable");return i.call(n)});var pe=1e15===a.parse("+033658-09-27T01:46:40.000Z"),he=!isNaN(a.parse("2012-04-04T24:00:00.500Z"))||!isNaN(a.parse("2012-11-31T23:59:59.000Z"))||!isNaN(a.parse("2012-12-31T23:59:60.000Z")),ye=isNaN(a.parse("2000-01-01T00:00:00.000Z"));if(ye||he||!pe){var de=Math.pow(2,31)-1,be=Z(new a(1970,0,1,0,0,0,de+1).getTime());a=function(t){var e=function r(n,o,i,a,c,u,s){var l=arguments.length,p;if(this instanceof t){var h=u,y=s;if(be&&l>=7&&s>de){var d=Math.floor(s/de)*de,b=Math.floor(d/1e3);h+=b,y-=1e3*b}p=1===l&&f(n)===n?new t(e.parse(n)):l>=7?new t(n,o,i,a,c,h,y):l>=6?new t(n,o,i,a,c,h):l>=5?new t(n,o,i,a,c):l>=4?new t(n,o,i,a):l>=3?new t(n,o,i):l>=2?new t(n,o):l>=1?new t(n instanceof t?+n:n):new t}else p=t.apply(this,arguments);return G(p)||J(p,{constructor:e},!0),p},r=new RegExp("^(\\d{4}|[+-]\\d{6})(?:-(\\d{2})(?:-(\\d{2})(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:(\\.\\d{1,}))?)?(Z|(?:([-+])(\\d{2}):(\\d{2})))?)?)?)?$"),n=[0,31,59,90,120,151,181,212,243,273,304,334,365],o=function t(e,r){var o=r>1?1:0;return n[r]+Math.floor((e-1969+o)/4)-Math.floor((e-1901+o)/100)+Math.floor((e-1601+o)/400)+365*(e-1970)},i=function e(r){var n=0,o=r;if(be&&o>de){var i=Math.floor(o/de)*de,a=Math.floor(i/1e3);n+=a,o-=1e3*a}return l(new t(1970,0,1,0,0,n,o))};for(var a in t)B(t,a)&&(e[a]=t[a]);J(e,{now:t.now,UTC:t.UTC},!0),e.prototype=t.prototype,J(e.prototype,{constructor:e},!0);var c=function e(n){var a=r.exec(n);if(a){var c=l(a[1]),u=l(a[2]||1)-1,f=l(a[3]||1)-1,s=l(a[4]||0),p=l(a[5]||0),h=l(a[6]||0),y=Math.floor(1e3*l(a[7]||0)),d=Boolean(a[4]&&!a[8]),b="-"===a[9]?1:-1,g=l(a[10]||0),v=l(a[11]||0),w,j=p>0||h>0||y>0;return s<(j?24:25)&&p<60&&h<60&&y<1e3&&u>-1&&u<12&&g<24&&v<60&&f>-1&&f<o(c,u+1)-o(c,u)&&(w=60*(24*(o(c,u)+f)+s+g*b),w=1e3*(60*(w+p+v*b)+h)+y,d&&(w=i(w)),-864e13<=w&&w<=864e13)?w:NaN}return t.parse.apply(this,arguments)};return J(e,{parse:c}),e}(a)}a.now||(a.now=function t(){return(new a).getTime()});var ge=p.toFixed&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0)),ve={base:1e7,size:6,data:[0,0,0,0,0,0],multiply:function t(e,r){for(var n=-1,o=r;++n<ve.size;)o+=e*ve.data[n],ve.data[n]=o%ve.base,o=Math.floor(o/ve.base)},divide:function t(e){for(var r=ve.size,n=0;--r>=0;)n+=ve.data[r],ve.data[r]=Math.floor(n/e),n=n%e*ve.base},numToString:function t(){for(var e=ve.size,r="";--e>=0;)if(""!==r||0===e||0!==ve.data[e]){var n=f(ve.data[e]);""===r?r=n:r+=q("0000000",0,7-n.length)+n}return r},pow:function t(e,r,n){return 0===r?n:r%2===1?t(e,r-1,n*e):t(e*e,r/2,n)},log:function t(e){for(var r=0,n=e;n>=4096;)r+=12,n/=4096;for(;n>=2;)r+=1,n/=2;return r}},we=function t(e){var r,n,o,i,a,c,u,s;if(r=l(e),r=Z(r)?0:Math.floor(r),r<0||r>20)throw new RangeError("Number.toFixed called with invalid number of decimals");if(n=l(this),Z(n))return"NaN";if(n<=-1e21||n>=1e21)return f(n);if(o="",n<0&&(o="-",n=-n),i="0",n>1e-21)if(a=ve.log(n*ve.pow(2,69,1))-69,c=a<0?n*ve.pow(2,-a,1):n/ve.pow(2,a,1),c*=4503599627370496,a=52-a,a>0){for(ve.multiply(0,c),u=r;u>=7;)ve.multiply(1e7,0),u-=7;for(ve.multiply(ve.pow(10,u,1),0),u=a-1;u>=23;)ve.divide(1<<23),u-=23;ve.divide(1<<u),ve.multiply(1,1),ve.divide(2),i=ve.numToString()}else ve.multiply(0,c),ve.multiply(1<<-a,0),i=ve.numToString()+q("0.00000000000000000000",2,2+r);return r>0?(s=i.length,i=s<=r?o+q("0.0000000000000000000",0,r-s+2)+i:o+q(i,0,s-r)+"."+q(i,s-r)):i=o+i,i};J(p,{toFixed:we},ge);var je=function(){try{return"1"===1..toPrecision(void 0)}catch(t){return!0}}(),Oe=p.toPrecision;J(p,{toPrecision:function t(e){return"undefined"==typeof e?Oe.call(this):Oe.call(this,e)}},je),2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||".".split(/()()/).length>1?!function(){var t="undefined"==typeof/()??/.exec("")[1],e=Math.pow(2,32)-1;s.split=function(r,n){var o=String(this);if("undefined"==typeof r&&0===n)return[];if(!k(r))return K(this,r,n);var i=[],a=(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.unicode?"u":"")+(r.sticky?"y":""),c=0,u,f,s,l,p=new RegExp(r.source,a+"g");t||(u=new RegExp("^"+p.source+"$(?!\\s)",a));var h="undefined"==typeof n?e:Y.ToUint32(n);for(f=p.exec(o);f&&(s=f.index+f[0].length,!(s>c&&(V(i,q(o,c,f.index)),!t&&f.length>1&&f[0].replace(u,function(){for(var t=1;t<arguments.length-2;t++)"undefined"==typeof arguments[t]&&(f[t]=void 0)}),f.length>1&&f.index<o.length&&d.apply(i,H(f,1)),l=f[0].length,c=s,i.length>=h)));)p.lastIndex===f.index&&p.lastIndex++,f=p.exec(o);return c===o.length?!l&&p.test("")||V(i,""):V(i,q(o,c)),i.length>h?H(i,0,h):i}}():"0".split(void 0,0).length&&(s.split=function t(e,r){return"undefined"==typeof e&&0===r?[]:K(this,e,r)});var me=s.replace,Te=function(){var t=[];return"x".replace(/x(.)?/g,function(e,r){V(t,r)}),1===t.length&&"undefined"==typeof t[0]}();Te||(s.replace=function t(e,r){var n=x(r),o=k(e)&&/\)[*?]/.test(e.source);if(n&&o){var i=function(t){var n=arguments.length,o=e.lastIndex;e.lastIndex=0;var i=e.exec(t)||[];return e.lastIndex=o,V(i,arguments[n-2],arguments[n-1]),r.apply(this,i)};return me.call(this,e,i)}return me.call(this,e,r)});var Ee=s.substr,xe="".substr&&"b"!=="0b".substr(-1);J(s,{substr:function t(e,r){var n=e;return e<0&&(n=O(this.length+e,0)),Ee.call(this,n,r)}},xe);var Se="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff",_e="​",Pe="["+Se+"]",Me=new RegExp("^"+Pe+Pe+"*"),Ie=new RegExp(Pe+Pe+"*$"),De=s.trim&&(Se.trim()||!_e.trim());J(s,{trim:function t(){if("undefined"==typeof this||null===this)throw new TypeError("can't convert "+this+" to object");return f(this).replace(Me,"").replace(Ie,"")}},De);var ke=w.bind(String.prototype.trim),Fe=s.lastIndexOf&&"abcあい".lastIndexOf("あい",2)!==-1;J(s,{lastIndexOf:function t(e){if("undefined"==typeof this||null===this)throw new TypeError("can't convert "+this+" to object");for(var r=f(this),n=f(e),o=arguments.length>1?l(arguments[1]):NaN,i=Z(o)?1/0:Y.ToInteger(o),a=m(O(i,0),r.length),c=n.length,u=a+c;u>0;){u=O(0,u-c);var s=Q(q(r,u,a+c),n);if(s!==-1)return u+s}return-1}},Fe);var Ue=s.lastIndexOf;if(J(s,{lastIndexOf:function t(e){return Ue.apply(this,arguments)}},1!==s.lastIndexOf.length),8===c(Se+"08")&&22===c(Se+"0x16")||(c=function(t){var e=/^[\-+]?0[xX]/;return function r(n,o){var i=ke(String(n)),a=l(o)||(e.test(i)?16:10);return t(i,a)}}(c)),1/u("-0")!==-(1/0)&&(u=function(t){return function e(r){var n=ke(String(r)),o=t(n);return 0===o&&"-"===q(n,0,1)?-0:o}}(u)),"RangeError: test"!==String(new RangeError("test"))){var Ne=function t(){if("undefined"==typeof this||null===this)throw new TypeError("can't convert "+this+" to object");var e=this.name;"undefined"==typeof e?e="Error":"string"!=typeof e&&(e=f(e));var r=this.message;return"undefined"==typeof r?r="":"string"!=typeof r&&(r=f(r)),e?r?e+": "+r:e:r};Error.prototype.toString=Ne}if(z){var Ce=function(t,e){if(tt(t,e)){var r=Object.getOwnPropertyDescriptor(t,e);r.configurable&&(r.enumerable=!1,Object.defineProperty(t,e,r))}};Ce(Error.prototype,"message"),""!==Error.prototype.message&&(Error.prototype.message=""),Ce(Error.prototype,"name")}if("/a/gim"!==String(/a/gim)){var Ae=function t(){var e="/"+this.source+"/";return this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),e};RegExp.prototype.toString=Ae}})},"es5-sham.js":function(t,e,r){!function(t,n){"use strict";"function"==typeof define&&define.amd?define(n):"object"==typeof e?r.exports=n():t.returnExports=n()}(this,function(){var t=Function.call,e=Object.prototype,r=t.bind(e.hasOwnProperty),n=t.bind(e.propertyIsEnumerable),o=t.bind(e.toString),i,a,c,u,f=r(e,"__defineGetter__");f&&(i=t.bind(e.__defineGetter__),a=t.bind(e.__defineSetter__),c=t.bind(e.__lookupGetter__),u=t.bind(e.__lookupSetter__));var s=function t(e){return null==e||"object"!=typeof e&&"function"!=typeof e};Object.getPrototypeOf||(Object.getPrototypeOf=function t(r){var n=r.__proto__;return n||null===n?n:"[object Function]"===o(r.constructor)?r.constructor.prototype:r instanceof Object?e:null});var l=function t(e){try{return e.sentinel=0,0===Object.getOwnPropertyDescriptor(e,"sentinel").value}catch(t){return!1}};if(Object.defineProperty){var p=l({}),h="undefined"==typeof document||l(document.createElement("div"));if(!h||!p)var y=Object.getOwnPropertyDescriptor}if(!Object.getOwnPropertyDescriptor||y){var d="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function t(o,i){if(s(o))throw new TypeError(d+o);if(y)try{return y.call(Object,o,i)}catch(t){}var a;if(!r(o,i))return a;if(a={enumerable:n(o,i),configurable:!0},f){var l=o.__proto__,p=o!==e;p&&(o.__proto__=e);var h=c(o,i),b=u(o,i);if(p&&(o.__proto__=l),h||b)return h&&(a.get=h),b&&(a.set=b),a}return a.value=o[i],a.writable=!0,a}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function t(e){return Object.keys(e)}),!Object.create){var b,g=!({__proto__:null}instanceof Object),v=function t(){if(!document.domain)return!1;try{return!!new ActiveXObject("htmlfile")}catch(t){return!1}},w=function t(){var e,r;r=new ActiveXObject("htmlfile");var n="script";return r.write("<"+n+"></"+n+">"),r.close(),e=r.parentWindow.Object.prototype,r=null,e},j=function t(){var e=document.createElement("iframe"),r=document.body||document.documentElement,n;return e.style.display="none",r.appendChild(e),e.src="javascript:",n=e.contentWindow.Object.prototype,r.removeChild(e),e=null,n};b=g||"undefined"==typeof document?function(){return{__proto__:null}}:function(){var t=v()?w():j();delete t.constructor,delete t.hasOwnProperty,delete t.propertyIsEnumerable,delete t.isPrototypeOf,delete t.toLocaleString,delete t.toString,delete t.valueOf;var e=function t(){};return e.prototype=t,b=function(){return new e},new e},Object.create=function t(e,r){var n,o=function t(){};if(null===e)n=b();else{if(null!==e&&s(e))throw new TypeError("Object prototype may only be an Object or null");o.prototype=e,n=new o,n.__proto__=e}return void 0!==r&&Object.defineProperties(n,r),n}}var O=function t(e){try{return Object.defineProperty(e,"sentinel",{}),"sentinel"in e}catch(t){return!1}};if(Object.defineProperty){var m=O({}),T="undefined"==typeof document||O(document.createElement("div"));if(!m||!T)var E=Object.defineProperty,x=Object.defineProperties}if(!Object.defineProperty||E){var S="Property description must be an object: ",_="Object.defineProperty called on non-object: ",P="getters & setters can not be defined on this javascript engine";Object.defineProperty=function t(r,n,o){if(s(r))throw new TypeError(_+r);if(s(o))throw new TypeError(S+o);if(E)try{return E.call(Object,r,n,o)}catch(t){}if("value"in o)if(f&&(c(r,n)||u(r,n))){var l=r.__proto__;r.__proto__=e,delete r[n],r[n]=o.value,r.__proto__=l}else r[n]=o.value;else{var p="get"in o,h="set"in o;if(!f&&(p||h))throw new TypeError(P);p&&i(r,n,o.get),h&&a(r,n,o.set)}return r}}Object.defineProperties&&!x||(Object.defineProperties=function t(e,r){if(x)try{return x.call(Object,e,r)}catch(t){}return Object.keys(r).forEach(function(t){"__proto__"!==t&&Object.defineProperty(e,t,r[t])}),e}),Object.seal||(Object.seal=function t(e){if(Object(e)!==e)throw new TypeError("Object.seal can only be called on Objects.");return e}),Object.freeze||(Object.freeze=function t(e){if(Object(e)!==e)throw new TypeError("Object.freeze can only be called on Objects.");return e});try{Object.freeze(function(){})}catch(t){Object.freeze=function(t){return function e(r){return"function"==typeof r?r:t(r)}}(Object.freeze)}Object.preventExtensions||(Object.preventExtensions=function t(e){if(Object(e)!==e)throw new TypeError("Object.preventExtensions can only be called on Objects.");return e}),Object.isSealed||(Object.isSealed=function t(e){if(Object(e)!==e)throw new TypeError("Object.isSealed can only be called on Objects.");return!1}),Object.isFrozen||(Object.isFrozen=function t(e){if(Object(e)!==e)throw new TypeError("Object.isFrozen can only be called on Objects.");return!1}),Object.isExtensible||(Object.isExtensible=function t(e){if(Object(e)!==e)throw new TypeError("Object.isExtensible can only be called on Objects.");for(var n="";r(e,n);)n+="?";e[n]=!0;var o=r(e,n);return delete e[n],o})})}}}}}}},{extensions:[".js",".json"]}),l=s("./node_modules/meteor/es5-shim/client.js");"undefined"==typeof Package&&(Package={}),Package["es5-shim"]=l}();

!function(){var n=Package.meteor.Meteor,e=Package.meteor.global,t=Package.meteor.meteorEnv,o=Package.modules.meteorInstall,i=Package.modules.Buffer,r=Package.modules.process,u,c=o({node_modules:{meteor:{promise:{"client.js":["meteor-promise","./common.js",function(n,e){n("meteor-promise").makeCompatible(e.Promise=n("./common.js").Promise)}],"common.js":["promise/lib/es6-extensions",function(e,t){var o=this;"function"==typeof o.Promise?t.Promise=o.Promise:t.Promise=e("promise/lib/es6-extensions"),t.Promise.prototype.done=function(e,t){var o=this;arguments.length>0&&(o=this.then.apply(this,arguments)),o.then(null,function(e){n._setImmediate(function(){throw e})})}}],node_modules:{"meteor-promise":{"package.json":function(n,e){e.name="meteor-promise",e.version="0.8.0",e.main="promise_client.js"},"promise_client.js":function(e,t){function o(n){throw n}t.makeCompatible=function(e){var t=e.prototype.then;e.prototype.then=function(e,i){return"object"==typeof n&&"function"==typeof n.bindEnvironment?t.call(this,e&&n.bindEnvironment(e,o),i&&n.bindEnvironment(i,o)):t.call(this,e,i)}}}},promise:{lib:{"es6-extensions.js":["./core.js",function(n,e,t){"use strict";function o(n){var e=new i(i._61);return e._81=1,e._65=n,e}var i=n("./core.js");t.exports=i;var r=o(!0),u=o(!1),c=o(null),f=o(void 0),s=o(0),a=o("");i.resolve=function(n){if(n instanceof i)return n;if(null===n)return c;if(void 0===n)return f;if(n===!0)return r;if(n===!1)return u;if(0===n)return s;if(""===n)return a;if("object"==typeof n||"function"==typeof n)try{var e=n.then;if("function"==typeof e)return new i(e.bind(n))}catch(n){return new i(function(e,t){t(n)})}return o(n)},i.all=function(n){var e=Array.prototype.slice.call(n);return new i(function(n,t){function o(u,c){if(c&&("object"==typeof c||"function"==typeof c)){if(c instanceof i&&c.then===i.prototype.then){for(;3===c._81;)c=c._65;return 1===c._81?o(u,c._65):(2===c._81&&t(c._65),void c.then(function(n){o(u,n)},t))}var f=c.then;if("function"==typeof f){var s=new i(f.bind(c));return void s.then(function(n){o(u,n)},t)}}e[u]=c,0===--r&&n(e)}if(0===e.length)return n([]);for(var r=e.length,u=0;u<e.length;u++)o(u,e[u])})},i.reject=function(n){return new i(function(e,t){t(n)})},i.race=function(n){return new i(function(e,t){n.forEach(function(n){i.resolve(n).then(e,t)})})},i.prototype.catch=function(n){return this.then(null,n)}}],"core.js":["asap/raw",function(n,e,t){"use strict";function o(){}function i(n){try{return n.then}catch(n){return d=n,y}}function r(n,e){try{return n(e)}catch(n){return d=n,y}}function u(n,e,t){try{n(e,t)}catch(n){return d=n,y}}function c(n){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof n)throw new TypeError("not a function");this._45=0,this._81=0,this._65=null,this._54=null,n!==o&&_(n,this)}function f(n,e,t){return new n.constructor(function(i,r){var u=new c(o);u.then(i,r),s(n,new h(e,t,u))})}function s(n,e){for(;3===n._81;)n=n._65;return c._10&&c._10(n),0===n._81?0===n._45?(n._45=1,void(n._54=e)):1===n._45?(n._45=2,void(n._54=[n._54,e])):void n._54.push(e):void a(n,e)}function a(n,e){v(function(){var t=1===n._81?e.onFulfilled:e.onRejected;if(null===t)return void(1===n._81?l(e.promise,n._65):m(e.promise,n._65));var o=r(t,n._65);o===y?m(e.promise,d):l(e.promise,o)})}function l(n,e){if(e===n)return m(n,new TypeError("A promise cannot be resolved with itself."));if(e&&("object"==typeof e||"function"==typeof e)){var t=i(e);if(t===y)return m(n,d);if(t===n.then&&e instanceof c)return n._81=3,n._65=e,void p(n);if("function"==typeof t)return void _(t.bind(e),n)}n._81=1,n._65=e,p(n)}function m(n,e){n._81=2,n._65=e,c._97&&c._97(n,e),p(n)}function p(n){if(1===n._45&&(s(n,n._54),n._54=null),2===n._45){for(var e=0;e<n._54.length;e++)s(n,n._54[e]);n._54=null}}function h(n,e,t){this.onFulfilled="function"==typeof n?n:null,this.onRejected="function"==typeof e?e:null,this.promise=t}function _(n,e){var t=!1,o=u(n,function(n){t||(t=!0,l(e,n))},function(n){t||(t=!0,m(e,n))});t||o!==y||(t=!0,m(e,d))}var v=n("asap/raw"),d=null,y={};t.exports=c,c._10=null,c._97=null,c._61=o,c.prototype.then=function(n,e){if(this.constructor!==c)return f(this,n,e);var t=new c(o);return s(this,new h(n,e,t)),t}}]}},asap:{"raw.js":["domain",function(n,e,t){"use strict";function o(n){s.length||(u(),a=!0),s[s.length]=n}function i(){for(;l<s.length;){var n=l;if(l+=1,s[n].call(),l>m){for(var e=0,t=s.length-l;e<t;e++)s[e]=s[e+l];s.length-=l,l=0}}s.length=0,l=0,a=!1}function u(){var e=r.domain;e&&(c||(c=n("domain")),c.active=r.domain=null),a&&f?setImmediate(i):r.nextTick(i),e&&(c.active=r.domain=e)}var c,f="function"==typeof setImmediate;t.exports=o;var s=[],a=!1,l=0,m=1024;o.requestFlush=u}]}}}}}},{extensions:[".js",".json"]}),f=c("./node_modules/meteor/promise/client.js");"undefined"==typeof Package&&(Package={}),function(n,e){for(var t in e)t in n||(n[t]=e[t])}(Package.promise=f,{Promise:u})}();

!function(){var t=Package.meteor.Meteor,e=Package.meteor.global,r=Package.meteor.meteorEnv,o=Package.modules.meteorInstall,n=Package.modules.Buffer,s=Package.modules.process,i=Package.promise.Promise,c,u,a,_,f,l=o({node_modules:{meteor:{"ecmascript-runtime":{"runtime.js":["meteor-ecmascript-runtime",function(t,e,r){r.exports=t("meteor-ecmascript-runtime")}],node_modules:{"meteor-ecmascript-runtime":{"package.json":function(t,e){e.name="meteor-ecmascript-runtime",e.version="0.2.9",e.main="index.js"},"index.js":["core-js/es6/object","core-js/es6/array","core-js/es6/string","core-js/es6/function","core-js/fn/array/includes","core-js/fn/object/values","core-js/fn/object/entries","core-js/fn/object/get-own-property-descriptors","core-js/fn/string/pad-start","core-js/fn/string/pad-end","core-js/fn/string/trim-start","core-js/fn/string/trim-end","core-js/es6/symbol","core-js/es6/map","core-js/es6/set",function(t,r){t("core-js/es6/object"),t("core-js/es6/array"),t("core-js/es6/string"),t("core-js/es6/function"),t("core-js/fn/array/includes"),t("core-js/fn/object/values"),t("core-js/fn/object/entries"),t("core-js/fn/object/get-own-property-descriptors"),t("core-js/fn/string/pad-start"),t("core-js/fn/string/pad-end"),t("core-js/fn/string/trim-start"),t("core-js/fn/string/trim-end"),c=r.Symbol=e.Symbol||t("core-js/es6/symbol"),u=r.Map=t("core-js/es6/map"),a=r.Set=t("core-js/es6/set")}]},"core-js":{es6:{"object.js":["../modules/es6.symbol","../modules/es6.object.create","../modules/es6.object.define-property","../modules/es6.object.define-properties","../modules/es6.object.get-own-property-descriptor","../modules/es6.object.get-prototype-of","../modules/es6.object.keys","../modules/es6.object.get-own-property-names","../modules/es6.object.freeze","../modules/es6.object.seal","../modules/es6.object.prevent-extensions","../modules/es6.object.is-frozen","../modules/es6.object.is-sealed","../modules/es6.object.is-extensible","../modules/es6.object.assign","../modules/es6.object.is","../modules/es6.object.set-prototype-of","../modules/es6.object.to-string","../modules/_core",function(t,e,r){t("../modules/es6.symbol"),t("../modules/es6.object.create"),t("../modules/es6.object.define-property"),t("../modules/es6.object.define-properties"),t("../modules/es6.object.get-own-property-descriptor"),t("../modules/es6.object.get-prototype-of"),t("../modules/es6.object.keys"),t("../modules/es6.object.get-own-property-names"),t("../modules/es6.object.freeze"),t("../modules/es6.object.seal"),t("../modules/es6.object.prevent-extensions"),t("../modules/es6.object.is-frozen"),t("../modules/es6.object.is-sealed"),t("../modules/es6.object.is-extensible"),t("../modules/es6.object.assign"),t("../modules/es6.object.is"),t("../modules/es6.object.set-prototype-of"),t("../modules/es6.object.to-string"),r.exports=t("../modules/_core").Object}],"array.js":["../modules/es6.string.iterator","../modules/es6.array.is-array","../modules/es6.array.from","../modules/es6.array.of","../modules/es6.array.join","../modules/es6.array.slice","../modules/es6.array.sort","../modules/es6.array.for-each","../modules/es6.array.map","../modules/es6.array.filter","../modules/es6.array.some","../modules/es6.array.every","../modules/es6.array.reduce","../modules/es6.array.reduce-right","../modules/es6.array.index-of","../modules/es6.array.last-index-of","../modules/es6.array.copy-within","../modules/es6.array.fill","../modules/es6.array.find","../modules/es6.array.find-index","../modules/es6.array.species","../modules/es6.array.iterator","../modules/_core",function(t,e,r){t("../modules/es6.string.iterator"),t("../modules/es6.array.is-array"),t("../modules/es6.array.from"),t("../modules/es6.array.of"),t("../modules/es6.array.join"),t("../modules/es6.array.slice"),t("../modules/es6.array.sort"),t("../modules/es6.array.for-each"),t("../modules/es6.array.map"),t("../modules/es6.array.filter"),t("../modules/es6.array.some"),t("../modules/es6.array.every"),t("../modules/es6.array.reduce"),t("../modules/es6.array.reduce-right"),t("../modules/es6.array.index-of"),t("../modules/es6.array.last-index-of"),t("../modules/es6.array.copy-within"),t("../modules/es6.array.fill"),t("../modules/es6.array.find"),t("../modules/es6.array.find-index"),t("../modules/es6.array.species"),t("../modules/es6.array.iterator"),r.exports=t("../modules/_core").Array}],"string.js":["../modules/es6.string.from-code-point","../modules/es6.string.raw","../modules/es6.string.trim","../modules/es6.string.iterator","../modules/es6.string.code-point-at","../modules/es6.string.ends-with","../modules/es6.string.includes","../modules/es6.string.repeat","../modules/es6.string.starts-with","../modules/es6.string.anchor","../modules/es6.string.big","../modules/es6.string.blink","../modules/es6.string.bold","../modules/es6.string.fixed","../modules/es6.string.fontcolor","../modules/es6.string.fontsize","../modules/es6.string.italics","../modules/es6.string.link","../modules/es6.string.small","../modules/es6.string.strike","../modules/es6.string.sub","../modules/es6.string.sup","../modules/es6.regexp.match","../modules/es6.regexp.replace","../modules/es6.regexp.search","../modules/es6.regexp.split","../modules/_core",function(t,e,r){t("../modules/es6.string.from-code-point"),t("../modules/es6.string.raw"),t("../modules/es6.string.trim"),t("../modules/es6.string.iterator"),t("../modules/es6.string.code-point-at"),t("../modules/es6.string.ends-with"),t("../modules/es6.string.includes"),t("../modules/es6.string.repeat"),t("../modules/es6.string.starts-with"),t("../modules/es6.string.anchor"),t("../modules/es6.string.big"),t("../modules/es6.string.blink"),t("../modules/es6.string.bold"),t("../modules/es6.string.fixed"),t("../modules/es6.string.fontcolor"),t("../modules/es6.string.fontsize"),t("../modules/es6.string.italics"),t("../modules/es6.string.link"),t("../modules/es6.string.small"),t("../modules/es6.string.strike"),t("../modules/es6.string.sub"),t("../modules/es6.string.sup"),t("../modules/es6.regexp.match"),t("../modules/es6.regexp.replace"),t("../modules/es6.regexp.search"),t("../modules/es6.regexp.split"),r.exports=t("../modules/_core").String}],"function.js":["../modules/es6.function.bind","../modules/es6.function.name","../modules/es6.function.has-instance","../modules/_core",function(t,e,r){t("../modules/es6.function.bind"),t("../modules/es6.function.name"),t("../modules/es6.function.has-instance"),r.exports=t("../modules/_core").Function}],"symbol.js":["../modules/es6.symbol","../modules/es6.object.to-string","../modules/_core",function(t,e,r){t("../modules/es6.symbol"),t("../modules/es6.object.to-string"),r.exports=t("../modules/_core").Symbol}],"map.js":["../modules/es6.object.to-string","../modules/es6.string.iterator","../modules/web.dom.iterable","../modules/es6.map","../modules/_core",function(t,e,r){t("../modules/es6.object.to-string"),t("../modules/es6.string.iterator"),t("../modules/web.dom.iterable"),t("../modules/es6.map"),r.exports=t("../modules/_core").Map}],"set.js":["../modules/es6.object.to-string","../modules/es6.string.iterator","../modules/web.dom.iterable","../modules/es6.set","../modules/_core",function(t,e,r){t("../modules/es6.object.to-string"),t("../modules/es6.string.iterator"),t("../modules/web.dom.iterable"),t("../modules/es6.set"),r.exports=t("../modules/_core").Set}]},modules:{"es6.symbol.js":["./_global","./_has","./_descriptors","./_export","./_redefine","./_meta","./_fails","./_shared","./_set-to-string-tag","./_uid","./_wks","./_wks-ext","./_wks-define","./_keyof","./_enum-keys","./_is-array","./_an-object","./_to-iobject","./_to-primitive","./_property-desc","./_object-create","./_object-gopn-ext","./_object-gopd","./_object-dp","./_object-keys","./_object-gopn","./_object-pie","./_object-gops","./_library","./_hide",function(t){"use strict";var e=t("./_global"),r=t("./_has"),o=t("./_descriptors"),n=t("./_export"),s=t("./_redefine"),i=t("./_meta").KEY,c=t("./_fails"),u=t("./_shared"),a=t("./_set-to-string-tag"),_=t("./_uid"),f=t("./_wks"),l=t("./_wks-ext"),d=t("./_wks-define"),p=t("./_keyof"),j=t("./_enum-keys"),g=t("./_is-array"),b=t("./_an-object"),m=t("./_to-iobject"),h=t("./_to-primitive"),y=t("./_property-desc"),v=t("./_object-create"),x=t("./_object-gopn-ext"),w=t("./_object-gopd"),k=t("./_object-dp"),S=t("./_object-keys"),O=w.f,P=k.f,E=x.f,A=e.Symbol,F=e.JSON,M=F&&F.stringify,R="prototype",z=f("_hidden"),T=f("toPrimitive"),I={}.propertyIsEnumerable,C=u("symbol-registry"),N=u("symbols"),W=u("op-symbols"),D=Object[R],L="function"==typeof A,K=e.QObject,q=!K||!K[R]||!K[R].findChild,B=o&&c(function(){return 7!=v(P({},"a",{get:function(){return P(this,"a",{value:7}).a}})).a})?function(t,e,r){var o=O(D,e);o&&delete D[e],P(t,e,r),o&&t!==D&&P(D,e,o)}:P,G=function(t){var e=N[t]=v(A[R]);return e._k=t,e},J=L&&"symbol"==typeof A.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof A},U=function t(e,o,n){return e===D&&U(W,o,n),b(e),o=h(o,!0),b(n),r(N,o)?(n.enumerable?(r(e,z)&&e[z][o]&&(e[z][o]=!1),n=v(n,{enumerable:y(0,!1)})):(r(e,z)||P(e,z,y(1,{})),e[z][o]=!0),B(e,o,n)):P(e,o,n)},Y=function t(e,r){b(e);for(var o=j(r=m(r)),n=0,s=o.length,i;s>n;)U(e,i=o[n++],r[i]);return e},$=function t(e,r){return void 0===r?v(e):Y(v(e),r)},Q=function t(e){var o=I.call(this,e=h(e,!0));return!(this===D&&r(N,e)&&!r(W,e))&&(!(o||!r(this,e)||!r(N,e)||r(this,z)&&this[z][e])||o)},H=function t(e,o){if(e=m(e),o=h(o,!0),e!==D||!r(N,o)||r(W,o)){var n=O(e,o);return!n||!r(N,o)||r(e,z)&&e[z][o]||(n.enumerable=!0),n}},V=function t(e){for(var o=E(m(e)),n=[],s=0,c;o.length>s;)r(N,c=o[s++])||c==z||c==i||n.push(c);return n},X=function t(e){for(var o=e===D,n=E(o?W:m(e)),s=[],i=0,c;n.length>i;)!r(N,c=n[i++])||o&&!r(D,c)||s.push(N[c]);return s};L||(A=function t(){if(this instanceof A)throw TypeError("Symbol is not a constructor!");var e=_(arguments.length>0?arguments[0]:void 0),n=function(t){this===D&&n.call(W,t),r(this,z)&&r(this[z],e)&&(this[z][e]=!1),B(this,e,y(1,t))};return o&&q&&B(D,e,{configurable:!0,set:n}),G(e)},s(A[R],"toString",function t(){return this._k}),w.f=H,k.f=U,t("./_object-gopn").f=x.f=V,t("./_object-pie").f=Q,t("./_object-gops").f=X,o&&!t("./_library")&&s(D,"propertyIsEnumerable",Q,!0),l.f=function(t){return G(f(t))}),n(n.G+n.W+n.F*!L,{Symbol:A});for(var Z="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;Z.length>tt;)f(Z[tt++]);for(var Z=S(f.store),tt=0;Z.length>tt;)d(Z[tt++]);n(n.S+n.F*!L,"Symbol",{for:function(t){return r(C,t+="")?C[t]:C[t]=A(t)},keyFor:function t(e){if(J(e))return p(C,e);throw TypeError(e+" is not a symbol!")},useSetter:function(){q=!0},useSimple:function(){q=!1}}),n(n.S+n.F*!L,"Object",{create:$,defineProperty:U,defineProperties:Y,getOwnPropertyDescriptor:H,getOwnPropertyNames:V,getOwnPropertySymbols:X}),F&&n(n.S+n.F*(!L||c(function(){var t=A();return"[null]"!=M([t])||"{}"!=M({a:t})||"{}"!=M(Object(t))})),"JSON",{stringify:function t(e){if(void 0!==e&&!J(e)){for(var r=[e],o=1,n,s;arguments.length>o;)r.push(arguments[o++]);return n=r[1],"function"==typeof n&&(s=n),!s&&g(n)||(n=function(t,e){if(s&&(e=s.call(this,t,e)),!J(e))return e}),r[1]=n,M.apply(F,r)}}}),A[R][T]||t("./_hide")(A[R],T,A[R].valueOf),a(A,"Symbol"),a(Math,"Math",!0),a(e.JSON,"JSON",!0)}],"_global.js":function(t,e,r){var o=r.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof _&&(_=o)},"_has.js":function(t,e,r){var o={}.hasOwnProperty;r.exports=function(t,e){return o.call(t,e)}},"_descriptors.js":["./_fails",function(t,e,r){r.exports=!t("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})}],"_fails.js":function(t,e,r){r.exports=function(t){try{return!!t()}catch(t){return!0}}},"_export.js":["./_global","./_core","./_hide","./_redefine","./_ctx",function(t,e,r){var o=t("./_global"),n=t("./_core"),s=t("./_hide"),i=t("./_redefine"),c=t("./_ctx"),u="prototype",a=function(t,e,r){var _=t&a.F,f=t&a.G,l=t&a.S,d=t&a.P,p=t&a.B,j=f?o:l?o[e]||(o[e]={}):(o[e]||{})[u],g=f?n:n[e]||(n[e]={}),b=g[u]||(g[u]={}),m,h,y,v;f&&(r=e);for(m in r)h=!_&&j&&void 0!==j[m],y=(h?j:r)[m],v=p&&h?c(y,o):d&&"function"==typeof y?c(Function.call,y):y,j&&i(j,m,y,t&a.U),g[m]!=y&&s(g,m,v),d&&b[m]!=y&&(b[m]=y)};o.core=n,a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,a.U=64,a.R=128,r.exports=a}],"_core.js":function(t,e,r){var o=r.exports={version:"2.4.0"};"number"==typeof f&&(f=o)},"_hide.js":["./_object-dp","./_property-desc","./_descriptors",function(t,e,r){var o=t("./_object-dp"),n=t("./_property-desc");r.exports=t("./_descriptors")?function(t,e,r){return o.f(t,e,n(1,r))}:function(t,e,r){return t[e]=r,t}}],"_object-dp.js":["./_an-object","./_ie8-dom-define","./_to-primitive","./_descriptors",function(t,e){var r=t("./_an-object"),o=t("./_ie8-dom-define"),n=t("./_to-primitive"),s=Object.defineProperty;e.f=t("./_descriptors")?Object.defineProperty:function t(e,i,c){if(r(e),i=n(i,!0),r(c),o)try{return s(e,i,c)}catch(t){}if("get"in c||"set"in c)throw TypeError("Accessors not supported!");return"value"in c&&(e[i]=c.value),e}}],"_an-object.js":["./_is-object",function(t,e,r){var o=t("./_is-object");r.exports=function(t){if(!o(t))throw TypeError(t+" is not an object!");return t}}],"_is-object.js":function(t,e,r){r.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},"_ie8-dom-define.js":["./_descriptors","./_fails","./_dom-create",function(t,e,r){r.exports=!t("./_descriptors")&&!t("./_fails")(function(){return 7!=Object.defineProperty(t("./_dom-create")("div"),"a",{get:function(){return 7}}).a})}],"_dom-create.js":["./_is-object","./_global",function(t,e,r){var o=t("./_is-object"),n=t("./_global").document,s=o(n)&&o(n.createElement);r.exports=function(t){return s?n.createElement(t):{}}}],"_to-primitive.js":["./_is-object",function(t,e,r){var o=t("./_is-object");r.exports=function(t,e){if(!o(t))return t;var r,n;if(e&&"function"==typeof(r=t.toString)&&!o(n=r.call(t)))return n;if("function"==typeof(r=t.valueOf)&&!o(n=r.call(t)))return n;if(!e&&"function"==typeof(r=t.toString)&&!o(n=r.call(t)))return n;throw TypeError("Can't convert object to primitive value")}}],"_property-desc.js":function(t,e,r){r.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},"_redefine.js":["./_global","./_hide","./_has","./_uid","./_core",function(t,e,r){var o=t("./_global"),n=t("./_hide"),s=t("./_has"),i=t("./_uid")("src"),c="toString",u=Function[c],a=(""+u).split(c);t("./_core").inspectSource=function(t){return u.call(t)},(r.exports=function(t,e,r,c){var u="function"==typeof r;u&&(s(r,"name")||n(r,"name",e)),t[e]!==r&&(u&&(s(r,i)||n(r,i,t[e]?""+t[e]:a.join(String(e)))),t===o?t[e]=r:c?t[e]?t[e]=r:n(t,e,r):(delete t[e],n(t,e,r)))})(Function.prototype,c,function t(){return"function"==typeof this&&this[i]||u.call(this)})}],"_uid.js":function(t,e,r){var o=0,n=Math.random();r.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++o+n).toString(36))}},"_ctx.js":["./_a-function",function(t,e,r){var o=t("./_a-function");r.exports=function(t,e,r){if(o(t),void 0===e)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,o){return t.call(e,r,o)};case 3:return function(r,o,n){return t.call(e,r,o,n)}}return function(){return t.apply(e,arguments)}}}],"_a-function.js":function(t,e,r){r.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},"_meta.js":["./_uid","./_is-object","./_has","./_object-dp","./_fails",function(t,e,r){var o=t("./_uid")("meta"),n=t("./_is-object"),s=t("./_has"),i=t("./_object-dp").f,c=0,u=Object.isExtensible||function(){return!0},a=!t("./_fails")(function(){return u(Object.preventExtensions({}))}),_=function(t){i(t,o,{value:{i:"O"+ ++c,w:{}}})},f=function(t,e){if(!n(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!s(t,o)){if(!u(t))return"F";if(!e)return"E";_(t)}return t[o].i},l=function(t,e){if(!s(t,o)){if(!u(t))return!0;if(!e)return!1;_(t)}return t[o].w},d=function(t){return a&&p.NEED&&u(t)&&!s(t,o)&&_(t),t},p=r.exports={KEY:o,NEED:!1,fastKey:f,getWeak:l,onFreeze:d}}],"_shared.js":["./_global",function(t,e,r){var o=t("./_global"),n="__core-js_shared__",s=o[n]||(o[n]={});r.exports=function(t){return s[t]||(s[t]={})}}],"_set-to-string-tag.js":["./_object-dp","./_has","./_wks",function(t,e,r){var o=t("./_object-dp").f,n=t("./_has"),s=t("./_wks")("toStringTag");r.exports=function(t,e,r){t&&!n(t=r?t:t.prototype,s)&&o(t,s,{configurable:!0,value:e})}}],"_wks.js":["./_shared","./_uid","./_global",function(t,e,r){var o=t("./_shared")("wks"),n=t("./_uid"),s=t("./_global").Symbol,i="function"==typeof s,c=r.exports=function(t){return o[t]||(o[t]=i&&s[t]||(i?s:n)("Symbol."+t))};c.store=o}],"_wks-ext.js":["./_wks",function(t,e){e.f=t("./_wks")}],"_wks-define.js":["./_global","./_core","./_library","./_wks-ext","./_object-dp",function(t,e,r){var o=t("./_global"),n=t("./_core"),s=t("./_library"),i=t("./_wks-ext"),c=t("./_object-dp").f;r.exports=function(t){var e=n.Symbol||(n.Symbol=s?{}:o.Symbol||{});"_"==t.charAt(0)||t in e||c(e,t,{value:i.f(t)})}}],"_library.js":function(t,e,r){r.exports=!1},"_keyof.js":["./_object-keys","./_to-iobject",function(t,e,r){var o=t("./_object-keys"),n=t("./_to-iobject");r.exports=function(t,e){for(var r=n(t),s=o(r),i=s.length,c=0,u;i>c;)if(r[u=s[c++]]===e)return u}}],"_object-keys.js":["./_object-keys-internal","./_enum-bug-keys",function(t,e,r){var o=t("./_object-keys-internal"),n=t("./_enum-bug-keys");r.exports=Object.keys||function t(e){return o(e,n)}}],"_object-keys-internal.js":["./_has","./_to-iobject","./_array-includes","./_shared-key",function(t,e,r){var o=t("./_has"),n=t("./_to-iobject"),s=t("./_array-includes")(!1),i=t("./_shared-key")("IE_PROTO");r.exports=function(t,e){var r=n(t),c=0,u=[],a;for(a in r)a!=i&&o(r,a)&&u.push(a);for(;e.length>c;)o(r,a=e[c++])&&(~s(u,a)||u.push(a));return u}}],"_to-iobject.js":["./_iobject","./_defined",function(t,e,r){var o=t("./_iobject"),n=t("./_defined");r.exports=function(t){return o(n(t))}}],"_iobject.js":["./_cof",function(t,e,r){var o=t("./_cof");r.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==o(t)?t.split(""):Object(t)}}],"_cof.js":function(t,e,r){var o={}.toString;r.exports=function(t){return o.call(t).slice(8,-1)}},"_defined.js":function(t,e,r){r.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},"_array-includes.js":["./_to-iobject","./_to-length","./_to-index",function(t,e,r){var o=t("./_to-iobject"),n=t("./_to-length"),s=t("./_to-index");r.exports=function(t){return function(e,r,i){var c=o(e),u=n(c.length),a=s(i,u),_;if(t&&r!=r){for(;u>a;)if(_=c[a++],_!=_)return!0}else for(;u>a;a++)if((t||a in c)&&c[a]===r)return t||a||0;return!t&&-1}}}],"_to-length.js":["./_to-integer",function(t,e,r){var o=t("./_to-integer"),n=Math.min;r.exports=function(t){return t>0?n(o(t),9007199254740991):0}}],"_to-integer.js":function(t,e,r){var o=Math.ceil,n=Math.floor;r.exports=function(t){return isNaN(t=+t)?0:(t>0?n:o)(t)}},"_to-index.js":["./_to-integer",function(t,e,r){var o=t("./_to-integer"),n=Math.max,s=Math.min;r.exports=function(t,e){return t=o(t),t<0?n(t+e,0):s(t,e)}}],"_shared-key.js":["./_shared","./_uid",function(t,e,r){var o=t("./_shared")("keys"),n=t("./_uid");r.exports=function(t){return o[t]||(o[t]=n(t))}}],"_enum-bug-keys.js":function(t,e,r){r.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},"_enum-keys.js":["./_object-keys","./_object-gops","./_object-pie",function(t,e,r){var o=t("./_object-keys"),n=t("./_object-gops"),s=t("./_object-pie");r.exports=function(t){var e=o(t),r=n.f;if(r)for(var i=r(t),c=s.f,u=0,a;i.length>u;)c.call(t,a=i[u++])&&e.push(a);return e}}],"_object-gops.js":function(t,e){e.f=Object.getOwnPropertySymbols},"_object-pie.js":function(t,e){e.f={}.propertyIsEnumerable},"_is-array.js":["./_cof",function(t,e,r){var o=t("./_cof");r.exports=Array.isArray||function t(e){return"Array"==o(e)}}],"_object-create.js":["./_an-object","./_object-dps","./_enum-bug-keys","./_shared-key","./_dom-create","./_html",function(t,e,r){var o=t("./_an-object"),n=t("./_object-dps"),s=t("./_enum-bug-keys"),i=t("./_shared-key")("IE_PROTO"),c=function(){},u="prototype",a=function(){var e=t("./_dom-create")("iframe"),r=s.length,o="<",n=">",i;for(e.style.display="none",t("./_html").appendChild(e),e.src="javascript:",i=e.contentWindow.document,i.open(),i.write(o+"script"+n+"document.F=Object"+o+"/script"+n),i.close(),a=i.F;r--;)delete a[u][s[r]];return a()};r.exports=Object.create||function t(e,r){var s;return null!==e?(c[u]=o(e),s=new c,c[u]=null,s[i]=e):s=a(),void 0===r?s:n(s,r)}}],"_object-dps.js":["./_object-dp","./_an-object","./_object-keys","./_descriptors",function(t,e,r){var o=t("./_object-dp"),n=t("./_an-object"),s=t("./_object-keys");r.exports=t("./_descriptors")?Object.defineProperties:function t(e,r){n(e);for(var i=s(r),c=i.length,u=0,a;c>u;)o.f(e,a=i[u++],r[a]);return e}}],"_html.js":["./_global",function(t,e,r){r.exports=t("./_global").document&&document.documentElement}],"_object-gopn-ext.js":["./_to-iobject","./_object-gopn",function(t,e,r){var o=t("./_to-iobject"),n=t("./_object-gopn").f,s={}.toString,i="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],c=function(t){try{return n(t)}catch(t){return i.slice()}};r.exports.f=function t(e){return i&&"[object Window]"==s.call(e)?c(e):n(o(e))}}],"_object-gopn.js":["./_object-keys-internal","./_enum-bug-keys",function(t,e){var r=t("./_object-keys-internal"),o=t("./_enum-bug-keys").concat("length","prototype");e.f=Object.getOwnPropertyNames||function t(e){return r(e,o)}}],"_object-gopd.js":["./_object-pie","./_property-desc","./_to-iobject","./_to-primitive","./_has","./_ie8-dom-define","./_descriptors",function(t,e){var r=t("./_object-pie"),o=t("./_property-desc"),n=t("./_to-iobject"),s=t("./_to-primitive"),i=t("./_has"),c=t("./_ie8-dom-define"),u=Object.getOwnPropertyDescriptor;e.f=t("./_descriptors")?u:function t(e,a){if(e=n(e),a=s(a,!0),c)try{return u(e,a)}catch(t){}if(i(e,a))return o(!r.f.call(e,a),e[a])}}],"es6.object.create.js":["./_export","./_object-create",function(t){var e=t("./_export");e(e.S,"Object",{create:t("./_object-create")})}],"es6.object.define-property.js":["./_export","./_descriptors","./_object-dp",function(t){var e=t("./_export");e(e.S+e.F*!t("./_descriptors"),"Object",{defineProperty:t("./_object-dp").f})}],"es6.object.define-properties.js":["./_export","./_descriptors","./_object-dps",function(t){var e=t("./_export");e(e.S+e.F*!t("./_descriptors"),"Object",{defineProperties:t("./_object-dps")})}],"es6.object.get-own-property-descriptor.js":["./_to-iobject","./_object-gopd","./_object-sap",function(t){var e=t("./_to-iobject"),r=t("./_object-gopd").f;t("./_object-sap")("getOwnPropertyDescriptor",function(){return function t(o,n){return r(e(o),n)}})}],"_object-sap.js":["./_export","./_core","./_fails",function(t,e,r){var o=t("./_export"),n=t("./_core"),s=t("./_fails");r.exports=function(t,e){var r=(n.Object||{})[t]||Object[t],i={};i[t]=e(r),o(o.S+o.F*s(function(){r(1)}),"Object",i)}}],"es6.object.get-prototype-of.js":["./_to-object","./_object-gpo","./_object-sap",function(t){var e=t("./_to-object"),r=t("./_object-gpo");t("./_object-sap")("getPrototypeOf",function(){return function t(o){return r(e(o))}})}],"_to-object.js":["./_defined",function(t,e,r){var o=t("./_defined");r.exports=function(t){return Object(o(t))}}],"_object-gpo.js":["./_has","./_to-object","./_shared-key",function(t,e,r){var o=t("./_has"),n=t("./_to-object"),s=t("./_shared-key")("IE_PROTO"),i=Object.prototype;r.exports=Object.getPrototypeOf||function(t){return t=n(t),o(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?i:null}}],"es6.object.keys.js":["./_to-object","./_object-keys","./_object-sap",function(t){var e=t("./_to-object"),r=t("./_object-keys");t("./_object-sap")("keys",function(){return function t(o){return r(e(o))}})}],"es6.object.get-own-property-names.js":["./_object-sap","./_object-gopn-ext",function(t){t("./_object-sap")("getOwnPropertyNames",function(){return t("./_object-gopn-ext").f})}],"es6.object.freeze.js":["./_is-object","./_meta","./_object-sap",function(t){var e=t("./_is-object"),r=t("./_meta").onFreeze;t("./_object-sap")("freeze",function(t){return function o(n){return t&&e(n)?t(r(n)):n}})}],"es6.object.seal.js":["./_is-object","./_meta","./_object-sap",function(t){var e=t("./_is-object"),r=t("./_meta").onFreeze;t("./_object-sap")("seal",function(t){return function o(n){return t&&e(n)?t(r(n)):n}})}],"es6.object.prevent-extensions.js":["./_is-object","./_meta","./_object-sap",function(t){var e=t("./_is-object"),r=t("./_meta").onFreeze;t("./_object-sap")("preventExtensions",function(t){return function o(n){return t&&e(n)?t(r(n)):n}})}],"es6.object.is-frozen.js":["./_is-object","./_object-sap",function(t){var e=t("./_is-object");t("./_object-sap")("isFrozen",function(t){return function r(o){return!e(o)||!!t&&t(o)}})}],"es6.object.is-sealed.js":["./_is-object","./_object-sap",function(t){var e=t("./_is-object");t("./_object-sap")("isSealed",function(t){return function r(o){return!e(o)||!!t&&t(o)}})}],"es6.object.is-extensible.js":["./_is-object","./_object-sap",function(t){var e=t("./_is-object");t("./_object-sap")("isExtensible",function(t){return function r(o){return!!e(o)&&(!t||t(o))}})}],"es6.object.assign.js":["./_export","./_object-assign",function(t){var e=t("./_export");e(e.S+e.F,"Object",{assign:t("./_object-assign")})}],"_object-assign.js":["./_object-keys","./_object-gops","./_object-pie","./_to-object","./_iobject","./_fails",function(t,e,r){"use strict";var o=t("./_object-keys"),n=t("./_object-gops"),s=t("./_object-pie"),i=t("./_to-object"),u=t("./_iobject"),a=Object.assign;r.exports=!a||t("./_fails")(function(){var t={},e={},r=c(),o="abcdefghijklmnopqrst";return t[r]=7,o.split("").forEach(function(t){e[t]=t}),7!=a({},t)[r]||Object.keys(a({},e)).join("")!=o})?function t(e,r){for(var c=i(e),a=arguments.length,_=1,f=n.f,l=s.f;a>_;)for(var d=u(arguments[_++]),p=f?o(d).concat(f(d)):o(d),j=p.length,g=0,b;j>g;)l.call(d,b=p[g++])&&(c[b]=d[b]);return c}:a}],"es6.object.is.js":["./_export","./_same-value",function(t){var e=t("./_export");e(e.S,"Object",{is:t("./_same-value")})}],"_same-value.js":function(t,e,r){r.exports=Object.is||function t(e,r){return e===r?0!==e||1/e===1/r:e!=e&&r!=r}},"es6.object.set-prototype-of.js":["./_export","./_set-proto",function(t){var e=t("./_export");e(e.S,"Object",{setPrototypeOf:t("./_set-proto").set})}],"_set-proto.js":["./_is-object","./_an-object","./_ctx","./_object-gopd",function(t,e,r){var o=t("./_is-object"),n=t("./_an-object"),s=function(t,e){if(n(t),!o(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};r.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,r,o){try{o=t("./_ctx")(Function.call,t("./_object-gopd").f(Object.prototype,"__proto__").set,2),o(e,[]),r=!(e instanceof Array)}catch(t){r=!0}return function t(e,n){return s(e,n),r?e.__proto__=n:o(e,n),e}}({},!1):void 0),check:s}}],"es6.object.to-string.js":["./_classof","./_wks","./_redefine",function(t){"use strict";var e=t("./_classof"),r={};r[t("./_wks")("toStringTag")]="z",r+""!="[object z]"&&t("./_redefine")(Object.prototype,"toString",function t(){return"[object "+e(this)+"]"},!0)}],"_classof.js":["./_cof","./_wks",function(t,e,r){var o=t("./_cof"),n=t("./_wks")("toStringTag"),s="Arguments"==o(function(){return arguments}()),i=function(t,e){try{return t[e]}catch(t){}};r.exports=function(t){var e,r,c;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=i(e=Object(t),n))?r:s?o(e):"Object"==(c=o(e))&&"function"==typeof e.callee?"Arguments":c}}],"es6.string.iterator.js":["./_string-at","./_iter-define",function(t){"use strict";var e=t("./_string-at")(!0);t("./_iter-define")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t=this._t,r=this._i,o;return r>=t.length?{value:void 0,done:!0}:(o=e(t,r),this._i+=o.length,{value:o,done:!1})})}],"_string-at.js":["./_to-integer","./_defined",function(t,e,r){var o=t("./_to-integer"),n=t("./_defined");r.exports=function(t){return function(e,r){var s=String(n(e)),i=o(r),c=s.length,u,a;return i<0||i>=c?t?"":void 0:(u=s.charCodeAt(i),u<55296||u>56319||i+1===c||(a=s.charCodeAt(i+1))<56320||a>57343?t?s.charAt(i):u:t?s.slice(i,i+2):(u-55296<<10)+(a-56320)+65536)}}}],"_iter-define.js":["./_library","./_export","./_redefine","./_hide","./_has","./_iterators","./_iter-create","./_set-to-string-tag","./_object-gpo","./_wks",function(t,e,r){"use strict";var o=t("./_library"),n=t("./_export"),s=t("./_redefine"),i=t("./_hide"),c=t("./_has"),u=t("./_iterators"),a=t("./_iter-create"),_=t("./_set-to-string-tag"),f=t("./_object-gpo"),l=t("./_wks")("iterator"),d=!([].keys&&"next"in[].keys()),p="@@iterator",j="keys",g="values",b=function(){return this};r.exports=function(t,e,r,m,h,y,v){a(r,e,m);var x=function(t){if(!d&&t in O)return O[t];switch(t){case j:return function e(){return new r(this,t)};case g:return function e(){return new r(this,t)}}return function e(){return new r(this,t)}},w=e+" Iterator",k=h==g,S=!1,O=t.prototype,P=O[l]||O[p]||h&&O[h],E=P||x(h),A=h?k?x("entries"):E:void 0,F="Array"==e?O.entries||P:P,M,R,z;if(F&&(z=f(F.call(new t)),z!==Object.prototype&&(_(z,w,!0),o||c(z,l)||i(z,l,b))),k&&P&&P.name!==g&&(S=!0,E=function t(){return P.call(this)}),o&&!v||!d&&!S&&O[l]||i(O,l,E),u[e]=E,u[w]=b,h)if(M={values:k?E:x(g),keys:y?E:x(j),entries:A},v)for(R in M)R in O||s(O,R,M[R]);else n(n.P+n.F*(d||S),e,M);return M}}],"_iterators.js":function(t,e,r){r.exports={}},"_iter-create.js":["./_object-create","./_property-desc","./_set-to-string-tag","./_hide","./_wks",function(t,e,r){"use strict";var o=t("./_object-create"),n=t("./_property-desc"),s=t("./_set-to-string-tag"),i={};t("./_hide")(i,t("./_wks")("iterator"),function(){return this}),r.exports=function(t,e,r){t.prototype=o(i,{next:n(1,r)}),s(t,e+" Iterator")}}],"es6.array.is-array.js":["./_export","./_is-array",function(t){var e=t("./_export");e(e.S,"Array",{isArray:t("./_is-array")})}],"es6.array.from.js":["./_ctx","./_export","./_to-object","./_iter-call","./_is-array-iter","./_to-length","./_create-property","./core.get-iterator-method","./_iter-detect",function(t){"use strict";var e=t("./_ctx"),r=t("./_export"),o=t("./_to-object"),n=t("./_iter-call"),s=t("./_is-array-iter"),i=t("./_to-length"),c=t("./_create-property"),u=t("./core.get-iterator-method");r(r.S+r.F*!t("./_iter-detect")(function(t){Array.from(t)}),"Array",{from:function t(r){var a=o(r),_="function"==typeof this?this:Array,f=arguments.length,l=f>1?arguments[1]:void 0,d=void 0!==l,p=0,j=u(a),g,b,m,h;if(d&&(l=e(l,f>2?arguments[2]:void 0,2)),void 0==j||_==Array&&s(j))for(g=i(a.length),b=new _(g);g>p;p++)c(b,p,d?l(a[p],p):a[p]);else for(h=j.call(a),b=new _;!(m=h.next()).done;p++)c(b,p,d?n(h,l,[m.value,p],!0):m.value);return b.length=p,b}})}],"_iter-call.js":["./_an-object",function(t,e,r){var o=t("./_an-object");r.exports=function(t,e,r,n){try{return n?e(o(r)[0],r[1]):e(r)}catch(e){var s=t.return;throw void 0!==s&&o(s.call(t)),e}}}],"_is-array-iter.js":["./_iterators","./_wks",function(t,e,r){var o=t("./_iterators"),n=t("./_wks")("iterator"),s=Array.prototype;r.exports=function(t){return void 0!==t&&(o.Array===t||s[n]===t)}}],"_create-property.js":["./_object-dp","./_property-desc",function(t,e,r){"use strict";var o=t("./_object-dp"),n=t("./_property-desc");r.exports=function(t,e,r){e in t?o.f(t,e,n(0,r)):t[e]=r}}],"core.get-iterator-method.js":["./_classof","./_wks","./_iterators","./_core",function(t,e,r){var o=t("./_classof"),n=t("./_wks")("iterator"),s=t("./_iterators");r.exports=t("./_core").getIteratorMethod=function(t){if(void 0!=t)return t[n]||t["@@iterator"]||s[o(t)]}}],"_iter-detect.js":["./_wks",function(t,e,r){
var o=t("./_wks")("iterator"),n=!1;try{var s=[7][o]();s.return=function(){n=!0},Array.from(s,function(){throw 2})}catch(t){}r.exports=function(t,e){if(!e&&!n)return!1;var r=!1;try{var s=[7],i=s[o]();i.next=function(){return{done:r=!0}},s[o]=function(){return i},t(s)}catch(t){}return r}}],"es6.array.of.js":["./_export","./_create-property","./_fails",function(t){"use strict";var e=t("./_export"),r=t("./_create-property");e(e.S+e.F*t("./_fails")(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function t(){for(var e=0,o=arguments.length,n=new("function"==typeof this?this:Array)(o);o>e;)r(n,e,arguments[e++]);return n.length=o,n}})}],"es6.array.join.js":["./_export","./_to-iobject","./_iobject","./_strict-method",function(t){"use strict";var e=t("./_export"),r=t("./_to-iobject"),o=[].join;e(e.P+e.F*(t("./_iobject")!=Object||!t("./_strict-method")(o)),"Array",{join:function t(e){return o.call(r(this),void 0===e?",":e)}})}],"_strict-method.js":["./_fails",function(t,e,r){var o=t("./_fails");r.exports=function(t,e){return!!t&&o(function(){e?t.call(null,function(){},1):t.call(null)})}}],"es6.array.slice.js":["./_export","./_html","./_cof","./_to-index","./_to-length","./_fails",function(t){"use strict";var e=t("./_export"),r=t("./_html"),o=t("./_cof"),n=t("./_to-index"),s=t("./_to-length"),i=[].slice;e(e.P+e.F*t("./_fails")(function(){r&&i.call(r)}),"Array",{slice:function t(e,r){var c=s(this.length),u=o(this);if(r=void 0===r?c:r,"Array"==u)return i.call(this,e,r);for(var a=n(e,c),_=n(r,c),f=s(_-a),l=Array(f),d=0;d<f;d++)l[d]="String"==u?this.charAt(a+d):this[a+d];return l}})}],"es6.array.sort.js":["./_export","./_a-function","./_to-object","./_fails","./_strict-method",function(t){"use strict";var e=t("./_export"),r=t("./_a-function"),o=t("./_to-object"),n=t("./_fails"),s=[].sort,i=[1,2,3];e(e.P+e.F*(n(function(){i.sort(void 0)})||!n(function(){i.sort(null)})||!t("./_strict-method")(s)),"Array",{sort:function t(e){return void 0===e?s.call(o(this)):s.call(o(this),r(e))}})}],"es6.array.for-each.js":["./_export","./_array-methods","./_strict-method",function(t){"use strict";var e=t("./_export"),r=t("./_array-methods")(0),o=t("./_strict-method")([].forEach,!0);e(e.P+e.F*!o,"Array",{forEach:function t(e){return r(this,e,arguments[1])}})}],"_array-methods.js":["./_ctx","./_iobject","./_to-object","./_to-length","./_array-species-create",function(t,e,r){var o=t("./_ctx"),n=t("./_iobject"),s=t("./_to-object"),i=t("./_to-length"),c=t("./_array-species-create");r.exports=function(t,e){var r=1==t,u=2==t,a=3==t,_=4==t,f=6==t,l=5==t||f,d=e||c;return function(e,c,p){for(var j=s(e),g=n(j),b=o(c,p,3),m=i(g.length),h=0,y=r?d(e,m):u?d(e,0):void 0,v,x;m>h;h++)if((l||h in g)&&(v=g[h],x=b(v,h,j),t))if(r)y[h]=x;else if(x)switch(t){case 3:return!0;case 5:return v;case 6:return h;case 2:y.push(v)}else if(_)return!1;return f?-1:a||_?_:y}}}],"_array-species-create.js":["./_array-species-constructor",function(t,e,r){var o=t("./_array-species-constructor");r.exports=function(t,e){return new(o(t))(e)}}],"_array-species-constructor.js":["./_is-object","./_is-array","./_wks",function(t,e,r){var o=t("./_is-object"),n=t("./_is-array"),s=t("./_wks")("species");r.exports=function(t){var e;return n(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!n(e.prototype)||(e=void 0),o(e)&&(e=e[s],null===e&&(e=void 0))),void 0===e?Array:e}}],"es6.array.map.js":["./_export","./_array-methods","./_strict-method",function(t){"use strict";var e=t("./_export"),r=t("./_array-methods")(1);e(e.P+e.F*!t("./_strict-method")([].map,!0),"Array",{map:function t(e){return r(this,e,arguments[1])}})}],"es6.array.filter.js":["./_export","./_array-methods","./_strict-method",function(t){"use strict";var e=t("./_export"),r=t("./_array-methods")(2);e(e.P+e.F*!t("./_strict-method")([].filter,!0),"Array",{filter:function t(e){return r(this,e,arguments[1])}})}],"es6.array.some.js":["./_export","./_array-methods","./_strict-method",function(t){"use strict";var e=t("./_export"),r=t("./_array-methods")(3);e(e.P+e.F*!t("./_strict-method")([].some,!0),"Array",{some:function t(e){return r(this,e,arguments[1])}})}],"es6.array.every.js":["./_export","./_array-methods","./_strict-method",function(t){"use strict";var e=t("./_export"),r=t("./_array-methods")(4);e(e.P+e.F*!t("./_strict-method")([].every,!0),"Array",{every:function t(e){return r(this,e,arguments[1])}})}],"es6.array.reduce.js":["./_export","./_array-reduce","./_strict-method",function(t){"use strict";var e=t("./_export"),r=t("./_array-reduce");e(e.P+e.F*!t("./_strict-method")([].reduce,!0),"Array",{reduce:function t(e){return r(this,e,arguments.length,arguments[1],!1)}})}],"_array-reduce.js":["./_a-function","./_to-object","./_iobject","./_to-length",function(t,e,r){var o=t("./_a-function"),n=t("./_to-object"),s=t("./_iobject"),i=t("./_to-length");r.exports=function(t,e,r,c,u){o(e);var a=n(t),_=s(a),f=i(a.length),l=u?f-1:0,d=u?-1:1;if(r<2)for(;;){if(l in _){c=_[l],l+=d;break}if(l+=d,u?l<0:f<=l)throw TypeError("Reduce of empty array with no initial value")}for(;u?l>=0:f>l;l+=d)l in _&&(c=e(c,_[l],l,a));return c}}],"es6.array.reduce-right.js":["./_export","./_array-reduce","./_strict-method",function(t){"use strict";var e=t("./_export"),r=t("./_array-reduce");e(e.P+e.F*!t("./_strict-method")([].reduceRight,!0),"Array",{reduceRight:function t(e){return r(this,e,arguments.length,arguments[1],!0)}})}],"es6.array.index-of.js":["./_export","./_array-includes","./_strict-method",function(t){"use strict";var e=t("./_export"),r=t("./_array-includes")(!1),o=[].indexOf,n=!!o&&1/[1].indexOf(1,-0)<0;e(e.P+e.F*(n||!t("./_strict-method")(o)),"Array",{indexOf:function t(e){return n?o.apply(this,arguments)||0:r(this,e,arguments[1])}})}],"es6.array.last-index-of.js":["./_export","./_to-iobject","./_to-integer","./_to-length","./_strict-method",function(t){"use strict";var e=t("./_export"),r=t("./_to-iobject"),o=t("./_to-integer"),n=t("./_to-length"),s=[].lastIndexOf,i=!!s&&1/[1].lastIndexOf(1,-0)<0;e(e.P+e.F*(i||!t("./_strict-method")(s)),"Array",{lastIndexOf:function t(e){if(i)return s.apply(this,arguments)||0;var c=r(this),u=n(c.length),a=u-1;for(arguments.length>1&&(a=Math.min(a,o(arguments[1]))),a<0&&(a=u+a);a>=0;a--)if(a in c&&c[a]===e)return a||0;return-1}})}],"es6.array.copy-within.js":["./_export","./_array-copy-within","./_add-to-unscopables",function(t){var e=t("./_export");e(e.P,"Array",{copyWithin:t("./_array-copy-within")}),t("./_add-to-unscopables")("copyWithin")}],"_array-copy-within.js":["./_to-object","./_to-index","./_to-length",function(t,e,r){"use strict";var o=t("./_to-object"),n=t("./_to-index"),s=t("./_to-length");r.exports=[].copyWithin||function t(e,r){var i=o(this),c=s(i.length),u=n(e,c),a=n(r,c),_=arguments.length>2?arguments[2]:void 0,f=Math.min((void 0===_?c:n(_,c))-a,c-u),l=1;for(a<u&&u<a+f&&(l=-1,a+=f-1,u+=f-1);f-- >0;)a in i?i[u]=i[a]:delete i[u],u+=l,a+=l;return i}}],"_add-to-unscopables.js":["./_wks","./_hide",function(t,e,r){var o=t("./_wks")("unscopables"),n=Array.prototype;void 0==n[o]&&t("./_hide")(n,o,{}),r.exports=function(t){n[o][t]=!0}}],"es6.array.fill.js":["./_export","./_array-fill","./_add-to-unscopables",function(t){var e=t("./_export");e(e.P,"Array",{fill:t("./_array-fill")}),t("./_add-to-unscopables")("fill")}],"_array-fill.js":["./_to-object","./_to-index","./_to-length",function(t,e,r){"use strict";var o=t("./_to-object"),n=t("./_to-index"),s=t("./_to-length");r.exports=function t(e){for(var r=o(this),i=s(r.length),c=arguments.length,u=n(c>1?arguments[1]:void 0,i),a=c>2?arguments[2]:void 0,_=void 0===a?i:n(a,i);_>u;)r[u++]=e;return r}}],"es6.array.find.js":["./_export","./_array-methods","./_add-to-unscopables",function(t){"use strict";var e=t("./_export"),r=t("./_array-methods")(5),o="find",n=!0;o in[]&&Array(1)[o](function(){n=!1}),e(e.P+e.F*n,"Array",{find:function t(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),t("./_add-to-unscopables")(o)}],"es6.array.find-index.js":["./_export","./_array-methods","./_add-to-unscopables",function(t){"use strict";var e=t("./_export"),r=t("./_array-methods")(6),o="findIndex",n=!0;o in[]&&Array(1)[o](function(){n=!1}),e(e.P+e.F*n,"Array",{findIndex:function t(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),t("./_add-to-unscopables")(o)}],"es6.array.species.js":["./_set-species",function(t){t("./_set-species")("Array")}],"_set-species.js":["./_global","./_object-dp","./_descriptors","./_wks",function(t,e,r){"use strict";var o=t("./_global"),n=t("./_object-dp"),s=t("./_descriptors"),i=t("./_wks")("species");r.exports=function(t){var e=o[t];s&&e&&!e[i]&&n.f(e,i,{configurable:!0,get:function(){return this}})}}],"es6.array.iterator.js":["./_add-to-unscopables","./_iter-step","./_iterators","./_to-iobject","./_iter-define",function(t,e,r){"use strict";var o=t("./_add-to-unscopables"),n=t("./_iter-step"),s=t("./_iterators"),i=t("./_to-iobject");r.exports=t("./_iter-define")(Array,"Array",function(t,e){this._t=i(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,n(1)):"keys"==e?n(0,r):"values"==e?n(0,t[r]):n(0,[r,t[r]])},"values"),s.Arguments=s.Array,o("keys"),o("values"),o("entries")}],"_iter-step.js":function(t,e,r){r.exports=function(t,e){return{value:e,done:!!t}}},"es6.string.from-code-point.js":["./_export","./_to-index",function(t){var e=t("./_export"),r=t("./_to-index"),o=String.fromCharCode,n=String.fromCodePoint;e(e.S+e.F*(!!n&&1!=n.length),"String",{fromCodePoint:function t(e){for(var n=[],s=arguments.length,i=0,c;s>i;){if(c=+arguments[i++],r(c,1114111)!==c)throw RangeError(c+" is not a valid code point");n.push(c<65536?o(c):o(((c-=65536)>>10)+55296,c%1024+56320))}return n.join("")}})}],"es6.string.raw.js":["./_export","./_to-iobject","./_to-length",function(t){var e=t("./_export"),r=t("./_to-iobject"),o=t("./_to-length");e(e.S,"String",{raw:function t(e){for(var n=r(e.raw),s=o(n.length),i=arguments.length,c=[],u=0;s>u;)c.push(String(n[u++])),u<i&&c.push(String(arguments[u]));return c.join("")}})}],"es6.string.trim.js":["./_string-trim",function(t){"use strict";t("./_string-trim")("trim",function(t){return function e(){return t(this,3)}})}],"_string-trim.js":["./_export","./_defined","./_fails","./_string-ws",function(t,e,r){var o=t("./_export"),n=t("./_defined"),s=t("./_fails"),i=t("./_string-ws"),c="["+i+"]",u="​",a=RegExp("^"+c+c+"*"),_=RegExp(c+c+"*$"),f=function(t,e,r){var n={},c=s(function(){return!!i[t]()||u[t]()!=u}),a=n[t]=c?e(l):i[t];r&&(n[r]=a),o(o.P+o.F*c,"String",n)},l=f.trim=function(t,e){return t=String(n(t)),1&e&&(t=t.replace(a,"")),2&e&&(t=t.replace(_,"")),t};r.exports=f}],"_string-ws.js":function(t,e,r){r.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},"es6.string.code-point-at.js":["./_export","./_string-at",function(t){"use strict";var e=t("./_export"),r=t("./_string-at")(!1);e(e.P,"String",{codePointAt:function t(e){return r(this,e)}})}],"es6.string.ends-with.js":["./_export","./_to-length","./_string-context","./_fails-is-regexp",function(t){"use strict";var e=t("./_export"),r=t("./_to-length"),o=t("./_string-context"),n="endsWith",s=""[n];e(e.P+e.F*t("./_fails-is-regexp")(n),"String",{endsWith:function t(e){var i=o(this,e,n),c=arguments.length>1?arguments[1]:void 0,u=r(i.length),a=void 0===c?u:Math.min(r(c),u),_=String(e);return s?s.call(i,_,a):i.slice(a-_.length,a)===_}})}],"_string-context.js":["./_is-regexp","./_defined",function(t,e,r){var o=t("./_is-regexp"),n=t("./_defined");r.exports=function(t,e,r){if(o(e))throw TypeError("String#"+r+" doesn't accept regex!");return String(n(t))}}],"_is-regexp.js":["./_is-object","./_cof","./_wks",function(t,e,r){var o=t("./_is-object"),n=t("./_cof"),s=t("./_wks")("match");r.exports=function(t){var e;return o(t)&&(void 0!==(e=t[s])?!!e:"RegExp"==n(t))}}],"_fails-is-regexp.js":["./_wks",function(t,e,r){var o=t("./_wks")("match");r.exports=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[o]=!1,!"/./"[t](e)}catch(t){}}return!0}}],"es6.string.includes.js":["./_export","./_string-context","./_fails-is-regexp",function(t){"use strict";var e=t("./_export"),r=t("./_string-context"),o="includes";e(e.P+e.F*t("./_fails-is-regexp")(o),"String",{includes:function t(e){return!!~r(this,e,o).indexOf(e,arguments.length>1?arguments[1]:void 0)}})}],"es6.string.repeat.js":["./_export","./_string-repeat",function(t){var e=t("./_export");e(e.P,"String",{repeat:t("./_string-repeat")})}],"_string-repeat.js":["./_to-integer","./_defined",function(t,e,r){"use strict";var o=t("./_to-integer"),n=t("./_defined");r.exports=function t(e){var r=String(n(this)),s="",i=o(e);if(i<0||i==1/0)throw RangeError("Count can't be negative");for(;i>0;(i>>>=1)&&(r+=r))1&i&&(s+=r);return s}}],"es6.string.starts-with.js":["./_export","./_to-length","./_string-context","./_fails-is-regexp",function(t){"use strict";var e=t("./_export"),r=t("./_to-length"),o=t("./_string-context"),n="startsWith",s=""[n];e(e.P+e.F*t("./_fails-is-regexp")(n),"String",{startsWith:function t(e){var i=o(this,e,n),c=r(Math.min(arguments.length>1?arguments[1]:void 0,i.length)),u=String(e);return s?s.call(i,u,c):i.slice(c,c+u.length)===u}})}],"es6.string.anchor.js":["./_string-html",function(t){"use strict";t("./_string-html")("anchor",function(t){return function e(r){return t(this,"a","name",r)}})}],"_string-html.js":["./_export","./_fails","./_defined",function(t,e,r){var o=t("./_export"),n=t("./_fails"),s=t("./_defined"),i=/"/g,c=function(t,e,r,o){var n=String(s(t)),c="<"+e;return""!==r&&(c+=" "+r+'="'+String(o).replace(i,"&quot;")+'"'),c+">"+n+"</"+e+">"};r.exports=function(t,e){var r={};r[t]=e(c),o(o.P+o.F*n(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}),"String",r)}}],"es6.string.big.js":["./_string-html",function(t){"use strict";t("./_string-html")("big",function(t){return function e(){return t(this,"big","","")}})}],"es6.string.blink.js":["./_string-html",function(t){"use strict";t("./_string-html")("blink",function(t){return function e(){return t(this,"blink","","")}})}],"es6.string.bold.js":["./_string-html",function(t){"use strict";t("./_string-html")("bold",function(t){return function e(){return t(this,"b","","")}})}],"es6.string.fixed.js":["./_string-html",function(t){"use strict";t("./_string-html")("fixed",function(t){return function e(){return t(this,"tt","","")}})}],"es6.string.fontcolor.js":["./_string-html",function(t){"use strict";t("./_string-html")("fontcolor",function(t){return function e(r){return t(this,"font","color",r)}})}],"es6.string.fontsize.js":["./_string-html",function(t){"use strict";t("./_string-html")("fontsize",function(t){return function e(r){return t(this,"font","size",r)}})}],"es6.string.italics.js":["./_string-html",function(t){"use strict";t("./_string-html")("italics",function(t){return function e(){return t(this,"i","","")}})}],"es6.string.link.js":["./_string-html",function(t){"use strict";t("./_string-html")("link",function(t){return function e(r){return t(this,"a","href",r)}})}],"es6.string.small.js":["./_string-html",function(t){"use strict";t("./_string-html")("small",function(t){return function e(){return t(this,"small","","")}})}],"es6.string.strike.js":["./_string-html",function(t){"use strict";t("./_string-html")("strike",function(t){return function e(){return t(this,"strike","","")}})}],"es6.string.sub.js":["./_string-html",function(t){"use strict";t("./_string-html")("sub",function(t){return function e(){return t(this,"sub","","")}})}],"es6.string.sup.js":["./_string-html",function(t){"use strict";t("./_string-html")("sup",function(t){return function e(){return t(this,"sup","","")}})}],"es6.regexp.match.js":["./_fix-re-wks",function(t){t("./_fix-re-wks")("match",1,function(t,e,r){return[function r(o){"use strict";var n=t(this),s=void 0==o?void 0:o[e];return void 0!==s?s.call(o,n):new RegExp(o)[e](String(n))},r]})}],"_fix-re-wks.js":["./_hide","./_redefine","./_fails","./_defined","./_wks",function(t,e,r){"use strict";var o=t("./_hide"),n=t("./_redefine"),s=t("./_fails"),i=t("./_defined"),c=t("./_wks");r.exports=function(t,e,r){var u=c(t),a=r(i,u,""[t]),_=a[0],f=a[1];s(function(){var e={};return e[u]=function(){return 7},7!=""[t](e)})&&(n(String.prototype,t,_),o(RegExp.prototype,u,2==e?function(t,e){return f.call(t,this,e)}:function(t){return f.call(t,this)}))}}],"es6.regexp.replace.js":["./_fix-re-wks",function(t){t("./_fix-re-wks")("replace",2,function(t,e,r){return[function o(n,s){"use strict";var i=t(this),c=void 0==n?void 0:n[e];return void 0!==c?c.call(n,i,s):r.call(String(i),n,s)},r]})}],"es6.regexp.search.js":["./_fix-re-wks",function(t){t("./_fix-re-wks")("search",1,function(t,e,r){return[function r(o){"use strict";var n=t(this),s=void 0==o?void 0:o[e];return void 0!==s?s.call(o,n):new RegExp(o)[e](String(n))},r]})}],"es6.regexp.split.js":["./_fix-re-wks","./_is-regexp",function(t){t("./_fix-re-wks")("split",2,function(e,r,o){"use strict";var n=t("./_is-regexp"),s=o,i=[].push,c="split",u="length",a="lastIndex";if("c"=="abbc"[c](/(b)*/)[1]||4!="test"[c](/(?:)/,-1)[u]||2!="ab"[c](/(?:ab)*/)[u]||4!="."[c](/(.?)(.?)/)[u]||"."[c](/()()/)[u]>1||""[c](/.?/)[u]){var _=void 0===/()??/.exec("")[1];o=function(t,e){var r=String(this);if(void 0===t&&0===e)return[];if(!n(t))return s.call(r,t,e);var o=[],c=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),f=0,l=void 0===e?4294967295:e>>>0,d=new RegExp(t.source,c+"g"),p,j,g,b,m;for(_||(p=new RegExp("^"+d.source+"$(?!\\s)",c));(j=d.exec(r))&&(g=j.index+j[0][u],!(g>f&&(o.push(r.slice(f,j.index)),!_&&j[u]>1&&j[0].replace(p,function(){for(m=1;m<arguments[u]-2;m++)void 0===arguments[m]&&(j[m]=void 0)}),j[u]>1&&j.index<r[u]&&i.apply(o,j.slice(1)),b=j[0][u],f=g,o[u]>=l)));)d[a]===j.index&&d[a]++;return f===r[u]?!b&&d.test("")||o.push(""):o.push(r.slice(f)),o[u]>l?o.slice(0,l):o}}else"0"[c](void 0,0)[u]&&(o=function(t,e){return void 0===t&&0===e?[]:s.call(this,t,e)});return[function t(n,s){var i=e(this),c=void 0==n?void 0:n[r];return void 0!==c?c.call(n,i,s):o.call(String(i),n,s)},o]})}],"es6.function.bind.js":["./_export","./_bind",function(t){var e=t("./_export");e(e.P,"Function",{bind:t("./_bind")})}],"_bind.js":["./_a-function","./_is-object","./_invoke",function(t,e,r){"use strict";var o=t("./_a-function"),n=t("./_is-object"),s=t("./_invoke"),i=[].slice,c={},u=function(t,e,r){if(!(e in c)){for(var o=[],n=0;n<e;n++)o[n]="a["+n+"]";c[e]=Function("F,a","return new F("+o.join(",")+")")}return c[e](t,r)};r.exports=Function.bind||function t(e){var r=o(this),c=i.call(arguments,1),a=function(){var t=c.concat(i.call(arguments));return this instanceof a?u(r,t.length,t):s(r,t,e)};return n(r.prototype)&&(a.prototype=r.prototype),a}}],"_invoke.js":function(t,e,r){r.exports=function(t,e,r){var o=void 0===r;switch(e.length){case 0:return o?t():t.call(r);case 1:return o?t(e[0]):t.call(r,e[0]);case 2:return o?t(e[0],e[1]):t.call(r,e[0],e[1]);case 3:return o?t(e[0],e[1],e[2]):t.call(r,e[0],e[1],e[2]);case 4:return o?t(e[0],e[1],e[2],e[3]):t.call(r,e[0],e[1],e[2],e[3])}return t.apply(r,e)}},"es6.function.name.js":["./_object-dp","./_property-desc","./_has","./_descriptors",function(t){var e=t("./_object-dp").f,r=t("./_property-desc"),o=t("./_has"),n=Function.prototype,s=/^\s*function ([^ (]*)/,i="name",c=Object.isExtensible||function(){return!0};i in n||t("./_descriptors")&&e(n,i,{configurable:!0,get:function(){try{var t=this,n=(""+t).match(s)[1];return o(t,i)||!c(t)||e(t,i,r(5,n)),n}catch(t){return""}}})}],"es6.function.has-instance.js":["./_is-object","./_object-gpo","./_wks","./_object-dp",function(t){"use strict";var e=t("./_is-object"),r=t("./_object-gpo"),o=t("./_wks")("hasInstance"),n=Function.prototype;o in n||t("./_object-dp").f(n,o,{value:function(t){if("function"!=typeof this||!e(t))return!1;if(!e(this.prototype))return t instanceof this;for(;t=r(t);)if(this.prototype===t)return!0;return!1}})}],"es7.array.includes.js":["./_export","./_array-includes","./_add-to-unscopables",function(t){"use strict";var e=t("./_export"),r=t("./_array-includes")(!0);e(e.P,"Array",{includes:function t(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),t("./_add-to-unscopables")("includes")}],"es7.object.values.js":["./_export","./_object-to-array",function(t){var e=t("./_export"),r=t("./_object-to-array")(!1);e(e.S,"Object",{values:function t(e){return r(e)}})}],"_object-to-array.js":["./_object-keys","./_to-iobject","./_object-pie",function(t,e,r){var o=t("./_object-keys"),n=t("./_to-iobject"),s=t("./_object-pie").f;r.exports=function(t){return function(e){for(var r=n(e),i=o(r),c=i.length,u=0,a=[],_;c>u;)s.call(r,_=i[u++])&&a.push(t?[_,r[_]]:r[_]);return a}}}],"es7.object.entries.js":["./_export","./_object-to-array",function(t){var e=t("./_export"),r=t("./_object-to-array")(!0);e(e.S,"Object",{entries:function t(e){return r(e)}})}],"es7.object.get-own-property-descriptors.js":["./_export","./_own-keys","./_to-iobject","./_object-gopd","./_create-property",function(t){var e=t("./_export"),r=t("./_own-keys"),o=t("./_to-iobject"),n=t("./_object-gopd"),s=t("./_create-property");e(e.S,"Object",{getOwnPropertyDescriptors:function t(e){for(var i=o(e),c=n.f,u=r(i),a={},_=0,f;u.length>_;)s(a,f=u[_++],c(i,f));return a}})}],"_own-keys.js":["./_object-gopn","./_object-gops","./_an-object","./_global",function(t,e,r){var o=t("./_object-gopn"),n=t("./_object-gops"),s=t("./_an-object"),i=t("./_global").Reflect;r.exports=i&&i.ownKeys||function t(e){var r=o.f(s(e)),i=n.f;return i?r.concat(i(e)):r}}],"es7.string.pad-start.js":["./_export","./_string-pad",function(t){"use strict";var e=t("./_export"),r=t("./_string-pad");e(e.P,"String",{padStart:function t(e){return r(this,e,arguments.length>1?arguments[1]:void 0,!0)}})}],"_string-pad.js":["./_to-length","./_string-repeat","./_defined",function(t,e,r){var o=t("./_to-length"),n=t("./_string-repeat"),s=t("./_defined");r.exports=function(t,e,r,i){var c=String(s(t)),u=c.length,a=void 0===r?" ":String(r),_=o(e);if(_<=u||""==a)return c;var f=_-u,l=n.call(a,Math.ceil(f/a.length));return l.length>f&&(l=l.slice(0,f)),i?l+c:c+l}}],"es7.string.pad-end.js":["./_export","./_string-pad",function(t){"use strict";var e=t("./_export"),r=t("./_string-pad");e(e.P,"String",{padEnd:function t(e){return r(this,e,arguments.length>1?arguments[1]:void 0,!1)}})}],"es7.string.trim-left.js":["./_string-trim",function(t){"use strict";t("./_string-trim")("trimLeft",function(t){return function e(){return t(this,1)}},"trimStart")}],"es7.string.trim-right.js":["./_string-trim",function(t){"use strict";t("./_string-trim")("trimRight",function(t){return function e(){return t(this,2)}},"trimEnd")}],"web.dom.iterable.js":["./es6.array.iterator","./_redefine","./_global","./_hide","./_iterators","./_wks",function(t){for(var e=t("./es6.array.iterator"),r=t("./_redefine"),o=t("./_global"),n=t("./_hide"),s=t("./_iterators"),i=t("./_wks"),c=i("iterator"),u=i("toStringTag"),a=s.Array,_=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],f=0;f<5;f++){var l=_[f],d=o[l],p=d&&d.prototype,j;if(p){p[c]||n(p,c,a),p[u]||n(p,u,l),s[l]=a;for(j in e)p[j]||r(p,j,e[j],!0)}}}],"es6.map.js":["./_collection-strong","./_collection",function(t,e,r){"use strict";var o=t("./_collection-strong");r.exports=t("./_collection")("Map",function(t){return function e(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function t(e){var r=o.getEntry(this,e);return r&&r.v},set:function t(e,r){return o.def(this,0===e?0:e,r)}},o,!0)}],"_collection-strong.js":["./_object-dp","./_object-create","./_redefine-all","./_ctx","./_an-instance","./_defined","./_for-of","./_iter-define","./_iter-step","./_set-species","./_descriptors","./_meta",function(t,e,r){"use strict";var o=t("./_object-dp").f,n=t("./_object-create"),s=t("./_redefine-all"),i=t("./_ctx"),c=t("./_an-instance"),u=t("./_defined"),a=t("./_for-of"),_=t("./_iter-define"),f=t("./_iter-step"),l=t("./_set-species"),d=t("./_descriptors"),p=t("./_meta").fastKey,j=d?"_s":"size",g=function(t,e){var r=p(e),o;if("F"!==r)return t._i[r];for(o=t._f;o;o=o.n)if(o.k==e)return o};r.exports={getConstructor:function(t,e,r,_){var f=t(function(t,o){c(t,f,e,"_i"),t._i=n(null),t._f=void 0,t._l=void 0,t[j]=0,void 0!=o&&a(o,r,t[_],t)});return s(f.prototype,{clear:function t(){for(var e=this,r=e._i,o=e._f;o;o=o.n)o.r=!0,o.p&&(o.p=o.p.n=void 0),delete r[o.i];e._f=e._l=void 0,e[j]=0},delete:function(t){var e=this,r=g(e,t);if(r){var o=r.n,n=r.p;delete e._i[r.i],r.r=!0,n&&(n.n=o),o&&(o.p=n),e._f==r&&(e._f=o),e._l==r&&(e._l=n),e[j]--}return!!r},forEach:function t(e){c(this,f,"forEach");for(var r=i(e,arguments.length>1?arguments[1]:void 0,3),o;o=o?o.n:this._f;)for(r(o.v,o.k,this);o&&o.r;)o=o.p},has:function t(e){return!!g(this,e)}}),d&&o(f.prototype,"size",{get:function(){return u(this[j])}}),f},def:function(t,e,r){var o=g(t,e),n,s;return o?o.v=r:(t._l=o={i:s=p(e,!0),k:e,v:r,p:n=t._l,n:void 0,r:!1},t._f||(t._f=o),n&&(n.n=o),t[j]++,"F"!==s&&(t._i[s]=o)),t},getEntry:g,setStrong:function(t,e,r){_(t,e,function(t,e){this._t=t,this._k=e,this._l=void 0},function(){for(var t=this,e=t._k,r=t._l;r&&r.r;)r=r.p;return t._t&&(t._l=r=r?r.n:t._t._f)?"keys"==e?f(0,r.k):"values"==e?f(0,r.v):f(0,[r.k,r.v]):(t._t=void 0,f(1))},r?"entries":"values",!r,!0),l(e)}}}],"_redefine-all.js":["./_redefine",function(t,e,r){var o=t("./_redefine");r.exports=function(t,e,r){for(var n in e)o(t,n,e[n],r);return t}}],"_an-instance.js":function(t,e,r){r.exports=function(t,e,r,o){if(!(t instanceof e)||void 0!==o&&o in t)throw TypeError(r+": incorrect invocation!");return t}},"_for-of.js":["./_ctx","./_iter-call","./_is-array-iter","./_an-object","./_to-length","./core.get-iterator-method",function(t,e,r){var o=t("./_ctx"),n=t("./_iter-call"),s=t("./_is-array-iter"),i=t("./_an-object"),c=t("./_to-length"),u=t("./core.get-iterator-method"),a={},_={},e=r.exports=function(t,e,r,f,l){var d=l?function(){return t}:u(t),p=o(r,f,e?2:1),j=0,g,b,m,h;if("function"!=typeof d)throw TypeError(t+" is not iterable!");if(s(d)){for(g=c(t.length);g>j;j++)if(h=e?p(i(b=t[j])[0],b[1]):p(t[j]),h===a||h===_)return h}else for(m=d.call(t);!(b=m.next()).done;)if(h=n(m,p,b.value,e),h===a||h===_)return h};e.BREAK=a,e.RETURN=_}],"_collection.js":["./_global","./_export","./_redefine","./_redefine-all","./_meta","./_for-of","./_an-instance","./_is-object","./_fails","./_iter-detect","./_set-to-string-tag","./_inherit-if-required",function(t,e,r){"use strict";var o=t("./_global"),n=t("./_export"),s=t("./_redefine"),i=t("./_redefine-all"),c=t("./_meta"),u=t("./_for-of"),a=t("./_an-instance"),_=t("./_is-object"),f=t("./_fails"),l=t("./_iter-detect"),d=t("./_set-to-string-tag"),p=t("./_inherit-if-required");r.exports=function(t,e,r,j,g,b){var m=o[t],h=m,y=g?"set":"add",v=h&&h.prototype,x={},w=function(t){var e=v[t];s(v,t,"delete"==t?function(t){return!(b&&!_(t))&&e.call(this,0===t?0:t)}:"has"==t?function t(r){return!(b&&!_(r))&&e.call(this,0===r?0:r)}:"get"==t?function t(r){return b&&!_(r)?void 0:e.call(this,0===r?0:r)}:"add"==t?function t(r){return e.call(this,0===r?0:r),this}:function t(r,o){return e.call(this,0===r?0:r,o),this})};if("function"==typeof h&&(b||v.forEach&&!f(function(){(new h).entries().next()}))){var k=new h,S=k[y](b?{}:-0,1)!=k,O=f(function(){k.has(1)}),P=l(function(t){new h(t)}),E=!b&&f(function(){for(var t=new h,e=5;e--;)t[y](e,e);return!t.has(-0)});P||(h=e(function(e,r){a(e,h,t);var o=p(new m,e,h);return void 0!=r&&u(r,g,o[y],o),o}),h.prototype=v,v.constructor=h),(O||E)&&(w("delete"),w("has"),g&&w("get")),(E||S)&&w(y),b&&v.clear&&delete v.clear}else h=j.getConstructor(e,t,g,y),i(h.prototype,r),c.NEED=!0;return d(h,t),x[t]=h,n(n.G+n.W+n.F*(h!=m),x),b||j.setStrong(h,t,g),h}}],"_inherit-if-required.js":["./_is-object","./_set-proto",function(t,e,r){var o=t("./_is-object"),n=t("./_set-proto").set;r.exports=function(t,e,r){var s,i=e.constructor;return i!==r&&"function"==typeof i&&(s=i.prototype)!==r.prototype&&o(s)&&n&&n(t,s),t}}],"es6.set.js":["./_collection-strong","./_collection",function(t,e,r){"use strict";var o=t("./_collection-strong");r.exports=t("./_collection")("Set",function(t){return function e(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function t(e){return o.def(this,e=0===e?0:e,e)}},o)}]},fn:{array:{"includes.js":["../../modules/es7.array.includes","../../modules/_core",function(t,e,r){t("../../modules/es7.array.includes"),r.exports=t("../../modules/_core").Array.includes}]},object:{"values.js":["../../modules/es7.object.values","../../modules/_core",function(t,e,r){t("../../modules/es7.object.values"),r.exports=t("../../modules/_core").Object.values}],"entries.js":["../../modules/es7.object.entries","../../modules/_core",function(t,e,r){t("../../modules/es7.object.entries"),r.exports=t("../../modules/_core").Object.entries}],"get-own-property-descriptors.js":["../../modules/es7.object.get-own-property-descriptors","../../modules/_core",function(t,e,r){t("../../modules/es7.object.get-own-property-descriptors"),r.exports=t("../../modules/_core").Object.getOwnPropertyDescriptors}]},string:{"pad-start.js":["../../modules/es7.string.pad-start","../../modules/_core",function(t,e,r){t("../../modules/es7.string.pad-start"),r.exports=t("../../modules/_core").String.padStart}],"pad-end.js":["../../modules/es7.string.pad-end","../../modules/_core",function(t,e,r){t("../../modules/es7.string.pad-end"),r.exports=t("../../modules/_core").String.padEnd}],"trim-start.js":["../../modules/es7.string.trim-left","../../modules/_core",function(t,e,r){t("../../modules/es7.string.trim-left"),r.exports=t("../../modules/_core").String.trimLeft}],"trim-end.js":["../../modules/es7.string.trim-right","../../modules/_core",function(t,e,r){t("../../modules/es7.string.trim-right"),r.exports=t("../../modules/_core").String.trimRight}]}}}}}}}},{extensions:[".js",".json"]}),d=l("./node_modules/meteor/ecmascript-runtime/runtime.js");"undefined"==typeof Package&&(Package={}),function(t,e){for(var r in e)r in t||(t[r]=e[r])}(Package["ecmascript-runtime"]=d,{Symbol:c,Map:u,Set:a})}();

!function(){"undefined"==typeof Package&&(Package={}),Package["babel-compiler"]={}}();

!function(){"undefined"==typeof Package&&(Package={}),Package.ecmascript={}}();

!function(){var n=Package.meteor.Meteor,r=Package.meteor.global,e=Package.meteor.meteorEnv,a;(function(){for(var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={},e=0;e<n.length;e++)r[n.charAt(e)]=e;a={},a.encode=function(n){if("string"==typeof n){var r=n;n=a.newBinary(r.length);for(var e=0;e<r.length;e++){var l=r.charCodeAt(e);if(l>255)throw new Error("Not ascii. Base64.encode can only take ascii strings.");n[e]=l}}for(var u=[],i=null,o=null,c=null,f=null,e=0;e<n.length;e++)switch(e%3){case 0:i=n[e]>>2&63,o=(3&n[e])<<4;break;case 1:o|=n[e]>>4&15,c=(15&n[e])<<2;break;case 2:c|=n[e]>>6&3,f=63&n[e],u.push(t(i)),u.push(t(o)),u.push(t(c)),u.push(t(f)),i=null,o=null,c=null,f=null}return null!=i&&(u.push(t(i)),u.push(t(o)),null==c?u.push("="):u.push(t(c)),null==f&&u.push("=")),u.join("")};var t=function(r){return n.charAt(r)},l=function(n){return"="===n?-1:r[n]};a.newBinary=function(n){if("undefined"==typeof Uint8Array||"undefined"==typeof ArrayBuffer){for(var r=[],e=0;e<n;e++)r.push(0);return r.$Uint8ArrayPolyfill=!0,r}return new Uint8Array(new ArrayBuffer(n))},a.decode=function(n){var r=Math.floor(3*n.length/4);"="==n.charAt(n.length-1)&&(r--,"="==n.charAt(n.length-2)&&r--);for(var e=a.newBinary(r),t=null,u=null,i=null,o=0,c=0;c<n.length;c++){var f=n.charAt(c),s=l(f);switch(c%4){case 0:if(s<0)throw new Error("invalid base64 string");t=s<<2;break;case 1:if(s<0)throw new Error("invalid base64 string");t|=s>>4,e[o++]=t,u=(15&s)<<4;break;case 2:s>=0&&(u|=s>>2,e[o++]=u,i=(3&s)<<6);break;case 3:s>=0&&(e[o++]=i|s)}}return e}}).call(this),"undefined"==typeof Package&&(Package={}),function(n,r){for(var e in r)e in n||(n[e]=r[e])}(Package.base64={},{Base64:a})}();

!function(){var n=Package.meteor.Meteor,e=Package.meteor.global,t=Package.meteor.meteorEnv,r=Package.underscore._,u=Package.base64.Base64,a,i;(function(){a={},i={};var e={};a.addType=function(n,t){if(r.has(e,n))throw new Error("Type "+n+" already present");e[n]=t};var t=function(n){return r.isNaN(n)||n===1/0||n===-(1/0)},o=[{matchJSONValue:function(n){return r.has(n,"$date")&&1===r.size(n)},matchObject:function(n){return n instanceof Date},toJSONValue:function(n){return{$date:n.getTime()}},fromJSONValue:function(n){return new Date(n.$date)}},{matchJSONValue:function(n){return r.has(n,"$InfNaN")&&1===r.size(n)},matchObject:t,toJSONValue:function(n){var e;return e=r.isNaN(n)?0:n===1/0?1:-1,{$InfNaN:e}},fromJSONValue:function(n){return n.$InfNaN/0}},{matchJSONValue:function(n){return r.has(n,"$binary")&&1===r.size(n)},matchObject:function(n){return"undefined"!=typeof Uint8Array&&n instanceof Uint8Array||n&&r.has(n,"$Uint8ArrayPolyfill")},toJSONValue:function(n){return{$binary:u.encode(n)}},fromJSONValue:function(n){return u.decode(n.$binary)}},{matchJSONValue:function(n){return r.has(n,"$escape")&&1===r.size(n)},matchObject:function(n){return!(r.isEmpty(n)||r.size(n)>2)&&r.any(o,function(e){return e.matchJSONValue(n)})},toJSONValue:function(n){var e={};return r.each(n,function(n,t){e[t]=a.toJSONValue(n)}),{$escape:e}},fromJSONValue:function(n){var e={};return r.each(n.$escape,function(n,t){e[t]=a.fromJSONValue(n)}),e}},{matchJSONValue:function(n){return r.has(n,"$type")&&r.has(n,"$value")&&2===r.size(n)},matchObject:function(n){return a._isCustomType(n)},toJSONValue:function(e){var t=n._noYieldsAllowed(function(){return e.toJSONValue()});return{$type:e.typeName(),$value:t}},fromJSONValue:function(t){var u=t.$type;if(!r.has(e,u))throw new Error("Custom EJSON type "+u+" is not defined");var a=e[u];return n._noYieldsAllowed(function(){return a(t.$value)})}}];a._isCustomType=function(n){return n&&"function"==typeof n.toJSONValue&&"function"==typeof n.typeName&&r.has(e,n.typeName())},a._getTypes=function(){return e},a._getConverters=function(){return o};var f=a._adjustTypesToJSONValue=function(n){if(null===n)return null;var e=c(n);return void 0!==e?e:"object"!=typeof n?n:(r.each(n,function(e,r){if("object"==typeof e||void 0===e||t(e)){var u=c(e);return u?void(n[r]=u):void f(e)}}),n)},c=function(n){for(var e=0;e<o.length;e++){var t=o[e];if(t.matchObject(n))return t.toJSONValue(n)}};a.toJSONValue=function(n){var e=c(n);return void 0!==e?e:("object"==typeof n&&(n=a.clone(n),f(n)),n)};var l=a._adjustTypesFromJSONValue=function(n){if(null===n)return null;var e=s(n);return e!==n?e:"object"!=typeof n?n:(r.each(n,function(e,t){if("object"==typeof e){var r=s(e);if(e!==r)return void(n[t]=r);l(e)}}),n)},s=function(n){if("object"==typeof n&&null!==n&&r.size(n)<=2&&r.all(n,function(n,e){return"string"==typeof e&&"$"===e.substr(0,1)}))for(var e=0;e<o.length;e++){var t=o[e];if(t.matchJSONValue(n))return t.fromJSONValue(n)}return n};a.fromJSONValue=function(n){var e=s(n);return e===n&&"object"==typeof n?(n=a.clone(n),l(n),n):e},a.stringify=function(n,e){var t=a.toJSONValue(n);return e&&(e.canonical||e.indent)?a._canonicalStringify(t,e):JSON.stringify(t)},a.parse=function(n){if("string"!=typeof n)throw new Error("EJSON.parse argument should be a string");return a.fromJSONValue(JSON.parse(n))},a.isBinary=function(n){return!!("undefined"!=typeof Uint8Array&&n instanceof Uint8Array||n&&n.$Uint8ArrayPolyfill)},a.equals=function(n,e,t){var u,i=!(!t||!t.keyOrderSensitive);if(n===e)return!0;if(r.isNaN(n)&&r.isNaN(e))return!0;if(!n||!e)return!1;if("object"!=typeof n||"object"!=typeof e)return!1;if(n instanceof Date&&e instanceof Date)return n.valueOf()===e.valueOf();if(a.isBinary(n)&&a.isBinary(e)){if(n.length!==e.length)return!1;for(u=0;u<n.length;u++)if(n[u]!==e[u])return!1;return!0}if("function"==typeof n.equals)return n.equals(e,t);if("function"==typeof e.equals)return e.equals(n,t);if(n instanceof Array){if(!(e instanceof Array))return!1;if(n.length!==e.length)return!1;for(u=0;u<n.length;u++)if(!a.equals(n[u],e[u],t))return!1;return!0}switch(a._isCustomType(n)+a._isCustomType(e)){case 1:return!1;case 2:return a.equals(a.toJSONValue(n),a.toJSONValue(e))}var o;if(i){var f=[];return r.each(e,function(n,e){f.push(e)}),u=0,o=r.all(n,function(n,r){return!(u>=f.length)&&(r===f[u]&&(!!a.equals(n,e[f[u]],t)&&(u++,!0)))}),o&&u===f.length}return u=0,o=r.all(n,function(n,i){return!!r.has(e,i)&&(!!a.equals(n,e[i],t)&&(u++,!0))}),o&&r.size(e)===u},a.clone=function(n){var e;if("object"!=typeof n)return n;if(null===n)return null;if(n instanceof Date)return new Date(n.getTime());if(n instanceof RegExp)return n;if(a.isBinary(n)){e=a.newBinary(n.length);for(var t=0;t<n.length;t++)e[t]=n[t];return e}if(r.isArray(n)||r.isArguments(n)){for(e=[],t=0;t<n.length;t++)e[t]=a.clone(n[t]);return e}return"function"==typeof n.clone?n.clone():a._isCustomType(n)?a.fromJSONValue(a.clone(a.toJSONValue(n)),!0):(e={},r.each(n,function(n,t){e[t]=a.clone(n)}),e)},a.newBinary=u.newBinary}).call(this),function(){function n(n){return JSON.stringify(n)}var e=function(t,u,a,i,o){var f,c,l,s,y=i,h,N=u[t];switch(typeof N){case"string":return n(N);case"number":return isFinite(N)?String(N):"null";case"boolean":return String(N);case"object":if(!N)return"null";if(y=i+a,h=[],r.isArray(N)||r.isArguments(N)){for(s=N.length,f=0;f<s;f+=1)h[f]=e(f,N,a,y,o)||"null";return l=0===h.length?"[]":y?"[\n"+y+h.join(",\n"+y)+"\n"+i+"]":"["+h.join(",")+"]"}var p=r.keys(N);return o&&(p=p.sort()),r.each(p,function(t){l=e(t,N,a,y,o),l&&h.push(n(t)+(y?": ":":")+l)}),l=0===h.length?"{}":y?"{\n"+y+h.join(",\n"+y)+"\n"+i+"}":"{"+h.join(",")+"}"}};a._canonicalStringify=function(n,t){if(t=r.extend({indent:"",canonical:!1},t),t.indent===!0)t.indent="  ";else if("number"==typeof t.indent){for(var u="",a=0;a<t.indent;a++)u+=" ";t.indent=u}return e("",{"":n},t.indent,"",t.canonical)}}.call(this),"undefined"==typeof Package&&(Package={}),function(n,e){for(var t in e)t in n||(n[t]=e[t])}(Package.ejson={},{EJSON:a,EJSONTest:i})}();

!function(){var i=Package.meteor.Meteor,t=Package.meteor.global,a=Package.meteor.meteorEnv,n=Package.underscore._,e=Package.ejson.EJSON,r;(function(){r=function(i,t){var a=this;a._map={},a._idStringify=i||JSON.stringify,a._idParse=t||JSON.parse},n.extend(r.prototype,{get:function(i){var t=this,a=t._idStringify(i);return t._map[a]},set:function(i,t){var a=this,n=a._idStringify(i);a._map[n]=t},remove:function(i){var t=this,a=t._idStringify(i);delete t._map[a]},has:function(i){var t=this,a=t._idStringify(i);return n.has(t._map,a)},empty:function(){var i=this;return n.isEmpty(i._map)},clear:function(){var i=this;i._map={}},forEach:function(i){for(var t=this,a=n.keys(t._map),e=0;e<a.length;e++){var r=i.call(null,t._map[a[e]],t._idParse(a[e]));if(r===!1)return}},size:function(){var i=this;return n.size(i._map)},setDefault:function(i,t){var a=this,e=a._idStringify(i);return n.has(a._map,e)?a._map[e]:(a._map[e]=t,t)},clone:function(){var i=this,t=new r(i._idStringify,i._idParse);return i.forEach(function(i,a){t.set(a,e.clone(i))}),t}})}).call(this),"undefined"==typeof Package&&(Package={}),function(i,t){for(var a in t)a in i||(i[a]=t[a])}(Package["id-map"]={},{IdMap:r})}();

!function(){var t=Package.meteor.Meteor,e=Package.meteor.global,r=Package.meteor.meteorEnv,n=Package.underscore._,i;(function(){var t=function(t,e,r,n){return{key:t,value:e,next:r,prev:n}};i=function(){var t=this;t._dict={},t._first=null,t._last=null,t._size=0;var e=n.toArray(arguments);t._stringify=function(t){return t},"function"==typeof e[0]&&(t._stringify=e.shift()),n.each(e,function(e){t.putBefore(e[0],e[1],null)})},n.extend(i.prototype,{_k:function(t){return" "+this._stringify(t)},empty:function(){var t=this;return!t._first},size:function(){var t=this;return t._size},_linkEltIn:function(t){var e=this;t.next?(t.prev=t.next.prev,t.next.prev=t,t.prev&&(t.prev.next=t)):(t.prev=e._last,e._last&&(e._last.next=t),e._last=t),null!==e._first&&e._first!==t.next||(e._first=t)},_linkEltOut:function(t){var e=this;t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next),t===e._last&&(e._last=t.prev),t===e._first&&(e._first=t.next)},putBefore:function(e,r,n){var i=this;if(i._dict[i._k(e)])throw new Error("Item "+e+" already present in OrderedDict");var o=n?t(e,r,i._dict[i._k(n)]):t(e,r,null);if(void 0===o.next)throw new Error("could not find item to put this one before");i._linkEltIn(o),i._dict[i._k(e)]=o,i._size++},append:function(t,e){var r=this;r.putBefore(t,e,null)},remove:function(t){var e=this,r=e._dict[e._k(t)];if(void 0===r)throw new Error("Item "+t+" not present in OrderedDict");return e._linkEltOut(r),e._size--,delete e._dict[e._k(t)],r.value},get:function(t){var e=this;if(e.has(t))return e._dict[e._k(t)].value},has:function(t){var e=this;return n.has(e._dict,e._k(t))},forEach:function(t){for(var e=this,r=0,n=e._first;null!==n;){var o=t(n.value,n.key,r);if(o===i.BREAK)return;n=n.next,r++}},first:function(){var t=this;if(!t.empty())return t._first.key},firstValue:function(){var t=this;if(!t.empty())return t._first.value},last:function(){var t=this;if(!t.empty())return t._last.key},lastValue:function(){var t=this;if(!t.empty())return t._last.value},prev:function(t){var e=this;if(e.has(t)){var r=e._dict[e._k(t)];if(r.prev)return r.prev.key}return null},next:function(t){var e=this;if(e.has(t)){var r=e._dict[e._k(t)];if(r.next)return r.next.key}return null},moveBefore:function(t,e){var r=this,n=r._dict[r._k(t)],i=e?r._dict[r._k(e)]:null;if(void 0===n)throw new Error("Item to move is not present");if(void 0===i)throw new Error("Could not find element to move this one before");i!==n.next&&(r._linkEltOut(n),n.next=i,r._linkEltIn(n))},indexOf:function(t){var e=this,r=null;return e.forEach(function(n,o,f){if(e._k(o)===e._k(t))return r=f,i.BREAK}),r},_checkRep:function(){var t=this;n.each(t._dict,function(t,e){if(e.next===e)throw new Error("Next is a loop");if(e.prev===e)throw new Error("Prev is a loop")})}}),i.BREAK={break:!0}}).call(this),"undefined"==typeof Package&&(Package={}),function(t,e){for(var r in e)r in t||(t[r]=e[r])}(Package["ordered-dict"]={},{OrderedDict:i})}();

!function(){var n=Package.meteor.Meteor,t=Package.meteor.global,e=Package.meteor.meteorEnv,o,r;(function(){o={},o.active=!1,o.currentComputation=null;var t=function(n){o.currentComputation=n,o.active=!!n},e=function(){return"undefined"!=typeof n?n._debug:"undefined"!=typeof console&&console.error?function(){console.error.apply(console,arguments)}:function(){}},r=function(t){"undefined"!=typeof n&&n._suppressed_log_expected()&&n._suppress_log(t-1)},i=function(n,t){if(l)throw t;var o=["Exception from Tracker "+n+" function:"];if(t.stack&&t.message&&t.name){var i=t.stack.indexOf(t.message);if(i<0||i>t.name.length+2){var a=t.name+": "+t.message;o.push(a)}}o.push(t.stack),r(o.length);for(var u=0;u<o.length;u++)e()(o[u])},a=function(t){return"undefined"==typeof n||n.isClient?t:function(){var e=arguments;n._noYieldsAllowed(function(){t.apply(null,e)})}},u=1,c=[],p=!1,s=!1,f=!1,l=!1,d=[],h=function(){p||("undefined"!=typeof n?n._setImmediate(o._runFlush):setTimeout(o._runFlush,0),p=!0)},v=!1;o.Computation=function(n,t,e){if(!v)throw new Error("Tracker.Computation constructor is private; use Tracker.autorun");v=!1;var o=this;o.stopped=!1,o.invalidated=!1,o.firstRun=!0,o._id=u++,o._onInvalidateCallbacks=[],o._onStopCallbacks=[],o._parent=t,o._func=n,o._onError=e,o._recomputing=!1;var r=!0;try{o._compute(),r=!1}finally{o.firstRun=!1,r&&o.stop()}},o.Computation.prototype.onInvalidate=function(n){var t=this;if("function"!=typeof n)throw new Error("onInvalidate requires a function");t.invalidated?o.nonreactive(function(){a(n)(t)}):t._onInvalidateCallbacks.push(n)},o.Computation.prototype.onStop=function(n){var t=this;if("function"!=typeof n)throw new Error("onStop requires a function");t.stopped?o.nonreactive(function(){a(n)(t)}):t._onStopCallbacks.push(n)},o.Computation.prototype.invalidate=function(){var n=this;if(!n.invalidated){n._recomputing||n.stopped||(h(),c.push(this)),n.invalidated=!0;for(var t=0,e;e=n._onInvalidateCallbacks[t];t++)o.nonreactive(function(){a(e)(n)});n._onInvalidateCallbacks=[]}},o.Computation.prototype.stop=function(){var n=this;if(!n.stopped){n.stopped=!0,n.invalidate();for(var t=0,e;e=n._onStopCallbacks[t];t++)o.nonreactive(function(){a(e)(n)});n._onStopCallbacks=[]}},o.Computation.prototype._compute=function(){var n=this;n.invalidated=!1;var e=o.currentComputation;t(n);var r=f;f=!0;try{a(n._func)(n)}finally{t(e),f=r}},o.Computation.prototype._needsRecompute=function(){var n=this;return n.invalidated&&!n.stopped},o.Computation.prototype._recompute=function(){var n=this;n._recomputing=!0;try{if(n._needsRecompute())try{n._compute()}catch(t){n._onError?n._onError(t):i("recompute",t)}}finally{n._recomputing=!1}},o.Computation.prototype.flush=function(){var n=this;n._recomputing||n._recompute()},o.Computation.prototype.run=function(){var n=this;n.invalidate(),n.flush()},o.Dependency=function(){this._dependentsById={}},o.Dependency.prototype.depend=function(n){if(!n){if(!o.active)return!1;n=o.currentComputation}var t=this,e=n._id;return!(e in t._dependentsById)&&(t._dependentsById[e]=n,n.onInvalidate(function(){delete t._dependentsById[e]}),!0)},o.Dependency.prototype.changed=function(){var n=this;for(var t in n._dependentsById)n._dependentsById[t].invalidate()},o.Dependency.prototype.hasDependents=function(){var n=this;for(var t in n._dependentsById)return!0;return!1},o.flush=function(n){o._runFlush({finishSynchronously:!0,throwFirstError:n&&n._throwFirstError})},o._runFlush=function(n){if(s)throw new Error("Can't call Tracker.flush while flushing");if(f)throw new Error("Can't flush inside Tracker.autorun");n=n||{},s=!0,p=!0,l=!!n.throwFirstError;var t=0,e=!1;try{for(;c.length||d.length;){for(;c.length;){var r=c.shift();if(r._recompute(),r._needsRecompute()&&c.unshift(r),!n.finishSynchronously&&++t>1e3)return void(e=!0)}if(d.length){var a=d.shift();try{a()}catch(n){i("afterFlush",n)}}}e=!0}finally{if(e||(s=!1,o._runFlush({finishSynchronously:n.finishSynchronously,throwFirstError:!1})),p=!1,s=!1,c.length||d.length){if(n.finishSynchronously)throw new Error("still have more to do?");setTimeout(h,10)}}},o.autorun=function(n,t){if("function"!=typeof n)throw new Error("Tracker.autorun requires a function argument");t=t||{},v=!0;var e=new o.Computation(n,o.currentComputation,t.onError);return o.active&&o.onInvalidate(function(){e.stop()}),e},o.nonreactive=function(n){var e=o.currentComputation;t(null);try{return n()}finally{t(e)}},o.onInvalidate=function(n){if(!o.active)throw new Error("Tracker.onInvalidate requires a currentComputation");o.currentComputation.onInvalidate(n)},o.afterFlush=function(n){d.push(n),h()}}).call(this),function(){n.flush=o.flush,n.autorun=o.autorun,n.autosubscribe=o.autorun,o.depend=function(n){return n.depend()},r=o}.call(this),"undefined"==typeof Package&&(Package={}),function(n,t){for(var e in t)e in n||(n[e]=t[e])}(Package.tracker={},{Tracker:o,Deps:r})}();

!function(){var e=Package.meteor.Meteor,r=Package.meteor.global,n=Package.meteor.meteorEnv,t=Package.modules.meteorInstall,a=Package.modules.Buffer,o=Package.modules.process,i=Package.promise.Promise,l,u=t({node_modules:{meteor:{"babel-runtime":{"babel-runtime.js":["meteor-babel-helpers","babel-runtime/regenerator",function(e,r){r.meteorBabelHelpers=e("meteor-babel-helpers"),r.checkHelper=function e(r){return!1};try{var n=e("babel-runtime/regenerator")}catch(e){throw new Error(["The babel-runtime npm package could not be found in your node_modules ","directory. Please run the following command to install it:","","  meteor npm install --save babel-runtime",""].join("\n"))}if(n&&"function"==typeof i&&"function"==typeof i.asyncApply){var t=n.async;n.async=function(){return i.asyncApply(t,n,arguments)}}}],node_modules:{"meteor-babel-helpers":{"package.json":function(e,r){r.name="meteor-babel-helpers",r.version="0.0.3",r.main="index.js"},"index.js":function(e,r,n){function t(){var e={},r="t";try{Object.defineProperty(e,r,{enumerable:!1,value:e});for(var n in e)if(n===r)return!1}catch(e){return!1}return e[r]===e}function a(e){return e}function o(e){if(Array.isArray(e)){for(var r={},n=Object.keys(e),t=n.length,a=0;a<t;++a){var o=n[a];r[o]=e[o]}return r}return e}l=n.exports={sanitizeForInObject:t()?a:o,_sanitizeForInObjectHard:o}}}}}}}},{extensions:[".js",".json"]}),c=u("./node_modules/meteor/babel-runtime/babel-runtime.js");"undefined"==typeof Package&&(Package={}),function(e,r){for(var n in r)n in e||(e[n]=r[n])}(Package["babel-runtime"]=c,{meteorBabelHelpers:l})}();

!function(){var e=Package.meteor.Meteor,n=Package.meteor.global,r=Package.meteor.meteorEnv,t=Package.underscore._,o=Package.modules.meteorInstall,a=Package.modules.Buffer,i=Package.modules.process,d=Package["ecmascript-runtime"].Symbol,u=Package["ecmascript-runtime"].Map,c=Package["ecmascript-runtime"].Set,s=Package["babel-runtime"].meteorBabelHelpers,f=Package.promise.Promise,m,p=o({node_modules:{meteor:{random:{"random.js":function(n){function r(){return new d(d.Type.ALEA,{seeds:[new Date,u,c,s,Math.random()]})}if(e.isServer)var t=Npm.require("crypto");var o=function e(){function n(){var e=4022871197,n=function n(r){r=r.toString();for(var t=0;t<r.length;t++){e+=r.charCodeAt(t);var o=.02519603282416938*e;e=o>>>0,o-=e,o*=e,e=o>>>0,o-=e,e+=4294967296*o}return 2.3283064365386963e-10*(e>>>0)};return n.version="Mash 0.9",n}return function(e){var r=0,t=0,o=0,a=1;0==e.length&&(e=[+new Date]);var i=n();r=i(" "),t=i(" "),o=i(" ");for(var d=0;d<e.length;d++)r-=i(e[d]),r<0&&(r+=1),t-=i(e[d]),t<0&&(t+=1),o-=i(e[d]),o<0&&(o+=1);i=null;var u=function e(){var n=2091639*r+2.3283064365386963e-10*a;return r=t,t=o,o=n-(a=0|n)};return u.uint32=function(){return 4294967296*u()},u.fract53=function(){return u()+1.1102230246251565e-16*(2097152*u()|0)},u.version="Alea 0.9",u.args=e,u}(Array.prototype.slice.call(arguments))},a="23456789ABCDEFGHJKLMNPQRSTWXYZabcdefghijkmnopqrstuvwxyz",i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-_",d=function e(n,r){var t=this;if(t.type=n,!e.Type[n])throw new Error("Unknown random generator type: "+n);if(n===e.Type.ALEA){if(!r.seeds)throw new Error("No seeds were provided for Alea PRNG");t.alea=o.apply(null,r.seeds)}};d.Type={NODE_CRYPTO:"NODE_CRYPTO",BROWSER_CRYPTO:"BROWSER_CRYPTO",ALEA:"ALEA"},d.prototype.fraction=function(){var e=this;if(e.type===d.Type.ALEA)return e.alea();if(e.type===d.Type.NODE_CRYPTO){var n=parseInt(e.hexString(8),16);return 2.3283064365386963e-10*n}if(e.type===d.Type.BROWSER_CRYPTO){var r=new Uint32Array(1);return window.crypto.getRandomValues(r),2.3283064365386963e-10*r[0]}throw new Error("Unknown random generator type: "+e.type)},d.prototype.hexString=function(e){var n=this;if(n.type===d.Type.NODE_CRYPTO){var r=Math.ceil(e/2),o;try{o=t.randomBytes(r)}catch(e){o=t.pseudoRandomBytes(r)}var a=o.toString("hex");return a.substring(0,e)}return this._randomString(e,"0123456789abcdef")},d.prototype._randomString=function(e,n){for(var r=this,t=[],o=0;o<e;o++)t[o]=r.choice(n);return t.join("")},d.prototype.id=function(e){var n=this;return void 0===e&&(e=17),n._randomString(e,a)},d.prototype.secret=function(e){var n=this;return void 0===e&&(e=43),n._randomString(e,i)},d.prototype.choice=function(e){var n=Math.floor(this.fraction()*e.length);return"string"==typeof e?e.substr(n,1):e[n]};var u="undefined"!=typeof window&&window.innerHeight||"undefined"!=typeof document&&document.documentElement&&document.documentElement.clientHeight||"undefined"!=typeof document&&document.body&&document.body.clientHeight||1,c="undefined"!=typeof window&&window.innerWidth||"undefined"!=typeof document&&document.documentElement&&document.documentElement.clientWidth||"undefined"!=typeof document&&document.body&&document.body.clientWidth||1,s="undefined"!=typeof navigator&&navigator.userAgent||"";m=e.isServer?new d(d.Type.NODE_CRYPTO):"undefined"!=typeof window&&window.crypto&&window.crypto.getRandomValues?new d(d.Type.BROWSER_CRYPTO):r(),m.createWithSeeds=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];if(0===n.length)throw new Error("No seeds were provided");return new d(d.Type.ALEA,{seeds:n})},m.insecure=r()},"deprecated.js":function(){e.uuid=function(){for(var e="0123456789abcdef",n=[],r=0;r<36;r++)n[r]=m.choice(e);n[14]="4",n[19]=e.substr(3&parseInt(n[19],16)|8,1),n[8]=n[13]=n[18]=n[23]="-";var t=n.join("");return t}}}}}},{extensions:[".js",".json"]});p("./node_modules/meteor/random/random.js"),p("./node_modules/meteor/random/deprecated.js"),"undefined"==typeof Package&&(Package={}),function(e,n){for(var r in n)r in e||(e[r]=n[r])}(Package.random={},{Random:m})}();

!function(){var t=Package.meteor.Meteor,e=Package.meteor.global,r=Package.meteor.meteorEnv,o=Package.ejson.EJSON,n=Package["id-map"].IdMap,i=Package.random.Random,a;(function(){a={},a._looksLikeObjectID=function(t){return 24===t.length&&t.match(/^[0-9a-f]*$/)},a.ObjectID=function(t){var e=this;if(t){if(t=t.toLowerCase(),!a._looksLikeObjectID(t))throw new Error("Invalid hexadecimal string for creating an ObjectID");e._str=t}else e._str=i.hexString(24)},a.ObjectID.prototype.toString=function(){var t=this;return'ObjectID("'+t._str+'")'},a.ObjectID.prototype.equals=function(t){var e=this;return t instanceof a.ObjectID&&e.valueOf()===t.valueOf()},a.ObjectID.prototype.clone=function(){var t=this;return new a.ObjectID(t._str)},a.ObjectID.prototype.typeName=function(){return"oid"},a.ObjectID.prototype.getTimestamp=function(){var t=this;return parseInt(t._str.substr(0,8),16)},a.ObjectID.prototype.valueOf=a.ObjectID.prototype.toJSONValue=a.ObjectID.prototype.toHexString=function(){return this._str},o.addType("oid",function(t){return new a.ObjectID(t)}),a.idStringify=function(t){if(t instanceof a.ObjectID)return t.valueOf();if("string"==typeof t)return""===t?t:"-"===t.substr(0,1)||"~"===t.substr(0,1)||a._looksLikeObjectID(t)||"{"===t.substr(0,1)?"-"+t:t;if(void 0===t)return"-";if("object"==typeof t&&null!==t)throw new Error("Meteor does not currently support objects other than ObjectID as ids");return"~"+JSON.stringify(t)},a.idParse=function(t){return""===t?t:"-"===t?void 0:"-"===t.substr(0,1)?t.substr(1):"~"===t.substr(0,1)?JSON.parse(t.substr(1)):a._looksLikeObjectID(t)?new a.ObjectID(t):t}}).call(this),"undefined"==typeof Package&&(Package={}),function(t,e){for(var r in e)r in t||(t[r]=e[r])}(Package["mongo-id"]={},{MongoID:a})}();

!function(){var e=Package.meteor.Meteor,n=Package.meteor.global,d=Package.meteor.meteorEnv,i=Package.underscore._,a=Package.ejson.EJSON,r;(function(){r={},r.diffQueryChanges=function(e,n,d,i,a){e?r.diffQueryOrderedChanges(n,d,i,a):r.diffQueryUnorderedChanges(n,d,i,a)},r.diffQueryUnorderedChanges=function(e,n,d,o){o=o||{};var f=o.projectionFn||a.clone;if(d.movedBefore)throw new Error("_diffQueryUnordered called with a movedBefore observer!");n.forEach(function(n,o){var t=e.get(o);if(t){if(d.changed&&!a.equals(t,n)){var c=f(n),u=f(t),h=r.makeChangedFields(c,u);i.isEmpty(h)||d.changed(o,h)}}else if(d.added){var l=f(n);delete l._id,d.added(n._id,l)}}),d.removed&&e.forEach(function(e,i){n.has(i)||d.removed(i)})},r.diffQueryOrderedChanges=function(n,d,o,f){f=f||{};var t=f.projectionFn||a.clone,c={};i.each(d,function(n){c[n._id]&&e._debug("Duplicate _id in new_results"),c[n._id]=!0});var u={};i.each(n,function(n,d){n._id in u&&e._debug("Duplicate _id in old_results"),u[n._id]=d});for(var h=[],l=0,s=d.length,g=new Array(s),v=new Array(s),_=function(e){return u[d[e]._id]},m=0;m<s;m++)if(void 0!==u[d[m]._id]){for(var y=l;y>0&&!(_(g[y-1])<_(m));)y--;v[m]=0===y?-1:g[y-1],g[y]=m,y+1>l&&(l=y+1)}for(var k=0===l?-1:g[l-1];k>=0;)h.push(k),k=v[k];h.reverse(),h.push(d.length),i.each(n,function(e){c[e._id]||o.removed&&o.removed(e._id)});var p=0;i.each(h,function(e){for(var a=d[e]?d[e]._id:null,f,c,h,l,s,g=p;g<e;g++)c=d[g],i.has(u,c._id)?(f=n[u[c._id]],l=t(c),s=t(f),h=r.makeChangedFields(l,s),i.isEmpty(h)||o.changed&&o.changed(c._id,h),o.movedBefore&&o.movedBefore(c._id,a)):(h=t(c),delete h._id,o.addedBefore&&o.addedBefore(c._id,h,a),o.added&&o.added(c._id,h));a&&(c=d[e],f=n[u[c._id]],l=t(c),s=t(f),h=r.makeChangedFields(l,s),i.isEmpty(h)||o.changed&&o.changed(c._id,h)),p=e+1})},r.diffObjects=function(e,n,d){i.each(e,function(e,a){i.has(n,a)?d.both&&d.both(a,e,n[a]):d.leftOnly&&d.leftOnly(a,e)}),d.rightOnly&&i.each(n,function(n,a){i.has(e,a)||d.rightOnly(a,n)})},r.makeChangedFields=function(e,n){var d={};return r.diffObjects(n,e,{leftOnly:function(e,n){d[e]=void 0},rightOnly:function(e,n){d[e]=n},both:function(e,n,i){a.equals(n,i)||(d[e]=i)}}),d},r.applyChanges=function(e,n){i.each(n,function(n,d){void 0===n?delete e[d]:e[d]=n})}}).call(this),"undefined"==typeof Package&&(Package={}),function(e,n){for(var d in n)d in e||(e[d]=n[d])}(Package["diff-sequence"]={},{DiffSequence:r})}();

!function(){var n=Package.meteor.Meteor,t=Package.meteor.global,o=Package.meteor.meteorEnv,e=Package.modules.meteorInstall,a=Package.modules.Buffer,r=Package.modules.process,i,s=e({node_modules:{meteor:{"geojson-utils":{"main.js":["./geojson-utils.js",function(n,t){t.GeoJSON=n("./geojson-utils.js")}],"geojson-utils.js":function(n,t,o){!function(){function n(n){for(var t=[],o=[],e=0;e<n[0].length;e++)t.push(n[0][e][1]),o.push(n[0][e][0]);return t=t.sort(function(n,t){return n-t}),o=o.sort(function(n,t){return n-t}),[[t[0],o[0]],[t[t.length-1],o[o.length-1]]]}function t(n,t,o){for(var e=[[0,0]],a=0;a<o.length;a++){for(var r=0;r<o[a].length;r++)e.push(o[a][r]);e.push([0,0])}for(var i=!1,a=0,r=e.length-1;a<e.length;r=a++)e[a][0]>t!=e[r][0]>t&&n<(e[r][1]-e[a][1])*(t-e[a][0])/(e[r][0]-e[a][0])+e[a][1]&&(i=!i);return i}var e={};"undefined"!=typeof o&&o.exports&&(o.exports=e),e.lineStringsIntersect=function(n,t){for(var o=[],e=0;e<=n.coordinates.length-2;++e)for(var a=0;a<=t.coordinates.length-2;++a){var r={x:n.coordinates[e][1],y:n.coordinates[e][0]},i={x:n.coordinates[e+1][1],y:n.coordinates[e+1][0]},s={x:t.coordinates[a][1],y:t.coordinates[a][0]},c={x:t.coordinates[a+1][1],y:t.coordinates[a+1][0]},u=(c.x-s.x)*(r.y-s.y)-(c.y-s.y)*(r.x-s.x),h=(i.x-r.x)*(r.y-s.y)-(i.y-r.y)*(r.x-s.x),d=(c.y-s.y)*(i.x-r.x)-(c.x-s.x)*(i.y-r.y);if(0!=d){var l=u/d,g=h/d;0<=l&&l<=1&&0<=g&&g<=1&&o.push({type:"Point",coordinates:[r.x+l*(i.x-r.x),r.y+l*(i.y-r.y)]})}}return 0==o.length&&(o=!1),o},e.pointInBoundingBox=function(n,t){return!(n.coordinates[1]<t[0][0]||n.coordinates[1]>t[1][0]||n.coordinates[0]<t[0][1]||n.coordinates[0]>t[1][1])},e.pointInPolygon=function(o,a){for(var r="Polygon"==a.type?[a.coordinates]:a.coordinates,i=!1,s=0;s<r.length;s++)e.pointInBoundingBox(o,n(r[s]))&&(i=!0);if(!i)return!1;for(var c=!1,s=0;s<r.length;s++)t(o.coordinates[1],o.coordinates[0],r[s])&&(c=!0);return c},e.numberToRadius=function(n){return n*Math.PI/180},e.numberToDegree=function(n){return 180*n/Math.PI},e.drawCircle=function(n,t,o){for(var a=[t.coordinates[1],t.coordinates[0]],r=n/1e3/6371,i=[e.numberToRadius(a[0]),e.numberToRadius(a[1])],o=o||15,s=[[a[0],a[1]]],c=0;c<o;c++){var u=2*Math.PI*c/o,h=Math.asin(Math.sin(i[0])*Math.cos(r)+Math.cos(i[0])*Math.sin(r)*Math.cos(u)),d=i[1]+Math.atan2(Math.sin(u)*Math.sin(r)*Math.cos(i[0]),Math.cos(r)-Math.sin(i[0])*Math.sin(h));s[c]=[],s[c][1]=e.numberToDegree(h),s[c][0]=e.numberToDegree(d)}return{type:"Polygon",coordinates:[s]}},e.rectangleCentroid=function(n){var t=n.coordinates[0],o=t[0][0],e=t[0][1],a=t[2][0],r=t[2][1],i=a-o,s=r-e;return{type:"Point",coordinates:[o+i/2,e+s/2]}},e.pointDistance=function(n,t){var o=n.coordinates[0],a=n.coordinates[1],r=t.coordinates[0],i=t.coordinates[1],s=e.numberToRadius(i-a),c=e.numberToRadius(r-o),u=Math.pow(Math.sin(s/2),2)+Math.cos(e.numberToRadius(a))*Math.cos(e.numberToRadius(i))*Math.pow(Math.sin(c/2),2),h=2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u));return 6371*h*1e3},e.geometryWithinRadius=function(n,t,o){if("Point"==n.type)return e.pointDistance(n,t)<=o;if("LineString"==n.type||"Polygon"==n.type){var a={},r;r="Polygon"==n.type?n.coordinates[0]:n.coordinates;for(var i in r)if(a.coordinates=r[i],e.pointDistance(a,t)>o)return!1}return!0},e.area=function(n){for(var t=0,o=n.coordinates[0],e=o.length-1,a,r,i=0;i<o.length;e=i++){var a={x:o[i][1],y:o[i][0]},r={x:o[e][1],y:o[e][0]};t+=a.x*r.y,t-=a.y*r.x}return t/=2},e.centroid=function(n){for(var t,o=0,a=0,r=n.coordinates[0],i=r.length-1,s,c,u=0;u<r.length;i=u++){var s={x:r[u][1],y:r[u][0]},c={x:r[i][1],y:r[i][0]};t=s.x*c.y-c.x*s.y,o+=(s.x+c.x)*t,a+=(s.y+c.y)*t}return t=6*e.area(n),{type:"Point",coordinates:[a/t,o/t]}},e.simplify=function(n,t){t=t||20,n=n.map(function(n){return{lng:n.coordinates[0],lat:n.coordinates[1]}});var o,e,a,r,i,s,c,u,h,d,l,g,f,y,M,x,m,p,P,v=Math.PI/180*.5,b=new Array,T=new Array,j=new Array;if(n.length<3)return n;for(o=n.length,d=360*t/(2*Math.PI*6378137),d*=d,a=0,T[0]=0,j[0]=o-1,e=1;e>0;)if(r=T[e-1],i=j[e-1],e--,i-r>1){for(l=n[i].lng()-n[r].lng(),g=n[i].lat()-n[r].lat(),Math.abs(l)>180&&(l=360-Math.abs(l)),l*=Math.cos(v*(n[i].lat()+n[r].lat())),f=l*l+g*g,s=r+1,c=r,h=-1;s<i;s++)y=n[s].lng()-n[r].lng(),M=n[s].lat()-n[r].lat(),Math.abs(y)>180&&(y=360-Math.abs(y)),y*=Math.cos(v*(n[s].lat()+n[r].lat())),x=y*y+M*M,m=n[s].lng()-n[i].lng(),p=n[s].lat()-n[i].lat(),Math.abs(m)>180&&(m=360-Math.abs(m)),m*=Math.cos(v*(n[s].lat()+n[i].lat())),P=m*m+p*p,u=x>=f+P?P:P>=f+x?x:(y*g-M*l)*(y*g-M*l)/f,u>h&&(c=s,h=u);h<d?(b[a]=r,a++):(e++,T[e-1]=c,j[e-1]=i,e++,T[e-1]=r,j[e-1]=c)}else b[a]=r,a++;b[a]=o-1,a++;for(var I=new Array,s=0;s<a;s++)I.push(n[b[s]]);return I.map(function(n){return{type:"Point",coordinates:[n.lng,n.lat]}})},e.destinationPoint=function(n,t,o){o/=6371,t=e.numberToRadius(t);var a=e.numberToRadius(n.coordinates[0]),r=e.numberToRadius(n.coordinates[1]),i=Math.asin(Math.sin(a)*Math.cos(o)+Math.cos(a)*Math.sin(o)*Math.cos(t)),s=r+Math.atan2(Math.sin(t)*Math.sin(o)*Math.cos(a),Math.cos(o)-Math.sin(a)*Math.sin(i));return s=(s+3*Math.PI)%(2*Math.PI)-Math.PI,{type:"Point",coordinates:[e.numberToDegree(i),e.numberToDegree(s)]}}}()}}}}},{extensions:[".js",".json"]}),c=s("./node_modules/meteor/geojson-utils/main.js");"undefined"==typeof Package&&(Package={}),function(n,t){for(var o in t)o in n||(n[o]=t[o])}(Package["geojson-utils"]=c,{GeoJSON:i})}();

!function(){var e=Package.meteor.Meteor,r=Package.meteor.global,t=Package.meteor.meteorEnv,n=Package.underscore._,o=Package.ejson.EJSON,i=Package["id-map"].IdMap,a=Package["ordered-dict"].OrderedDict,s=Package.tracker.Tracker,c=Package.tracker.Deps,u=Package["mongo-id"].MongoID,d=Package.random.Random,f=Package["diff-sequence"].DiffSequence,l=Package["geojson-utils"].GeoJSON,h,p,v,_,m,y,g,w,$,b,E,I,C,O,k,S;(function(){h=function(r){var t=this;t.name=r,t._docs=new h._IdMap,t._observeQueue=new e._SynchronousQueue,t.next_qid=1,t.queries={},t._savedOriginals=null,t.paused=!1},p={},v={},_=function(e){var r=new Error(e);return r.name="MinimongoError",r},h.prototype.find=function(e,r){return 0===arguments.length&&(e={}),new h.Cursor(this,e,r)},h.Cursor=function(e,r,t){var n=this;t||(t={}),n.collection=e,n.sorter=null,n.matcher=new p.Matcher(r),h._selectorIsId(r)?n._selectorId=r:h._selectorIsIdPerhapsAsObject(r)?n._selectorId=r._id:(n._selectorId=void 0,(n.matcher.hasGeoQuery()||t.sort)&&(n.sorter=new p.Sorter(t.sort||[],{matcher:n.matcher}))),n.skip=t.skip,n.limit=t.limit,n.fields=t.fields,n._projectionFn=h._compileProjection(n.fields||{}),n._transform=h.wrapTransform(t.transform),"undefined"!=typeof s&&(n.reactive=void 0===t.reactive||t.reactive)},h.Cursor.prototype.rewind=function(){},h.prototype.findOne=function(e,r){return 0===arguments.length&&(e={}),r=r||{},r.limit=1,this.find(e,r).fetch()[0]},h.Cursor.prototype.forEach=function(e,r){var t=this,o=t._getRawObjects({ordered:!0});t.reactive&&t._depend({addedBefore:!0,removed:!0,changed:!0,movedBefore:!0}),n.each(o,function(n,o){n=t._projectionFn(n),t._transform&&(n=t._transform(n)),e.call(r,n,o,t)})},h.Cursor.prototype.getTransform=function(){return this._transform},h.Cursor.prototype.map=function(e,r){var t=this,n=[];return t.forEach(function(o,i){n.push(e.call(r,o,i,t))}),n},h.Cursor.prototype.fetch=function(){var e=this,r=[];return e.forEach(function(e){r.push(e)}),r},h.Cursor.prototype.count=function(){var e=this;return e.reactive&&e._depend({added:!0,removed:!0},!0),e._getRawObjects({ordered:!0}).length},h.Cursor.prototype._publishCursor=function(e){var r=this;if(!r.collection.name)throw new Error("Can't publish a cursor from a collection without a name.");var t=r.collection.name;if(!Package.mongo)throw new Error("Can't publish from Minimongo without the `mongo` package.");return Package.mongo.Mongo.Collection._publishCursor(r,e,t)},h.Cursor.prototype._getCollectionName=function(){var e=this;return e.collection.name},h._observeChangesCallbacksAreOrdered=function(e){if(e.added&&e.addedBefore)throw new Error("Please specify only one of added() and addedBefore()");return!(!e.addedBefore&&!e.movedBefore)},h._observeCallbacksAreOrdered=function(e){if(e.addedAt&&e.added)throw new Error("Please specify only one of added() and addedAt()");if(e.changedAt&&e.changed)throw new Error("Please specify only one of changed() and changedAt()");if(e.removed&&e.removedAt)throw new Error("Please specify only one of removed() and removedAt()");return!!(e.addedAt||e.movedTo||e.changedAt||e.removedAt)},h.ObserveHandle=function(){},n.extend(h.Cursor.prototype,{observe:function(e){var r=this;return h._observeFromObserveChanges(r,e)},observeChanges:function(e){var r=this,t=h._observeChangesCallbacksAreOrdered(e);if(!e._allow_unordered&&!t&&(r.skip||r.limit))throw new Error("must use ordered observe (ie, 'addedBefore' instead of 'added') with skip or limit");if(r.fields&&(0===r.fields._id||r.fields._id===!1))throw Error("You may not observe a cursor with {fields: {_id: 0}}");var i={dirty:!1,matcher:r.matcher,sorter:t&&r.sorter,distances:r.matcher.hasGeoQuery()&&t&&new h._IdMap,resultsSnapshot:null,ordered:t,cursor:r,projectionFn:r._projectionFn},a;r.reactive&&(a=r.collection.next_qid++,r.collection.queries[a]=i),i.results=r._getRawObjects({ordered:t,distances:i.distances}),r.collection.paused&&(i.resultsSnapshot=t?[]:new h._IdMap);var c=function(e){return e?function(){var t=this,n=arguments;r.collection.paused||r.collection._observeQueue.queueTask(function(){e.apply(t,n)})}:function(){}};if(i.added=c(e.added),i.changed=c(e.changed),i.removed=c(e.removed),t&&(i.addedBefore=c(e.addedBefore),i.movedBefore=c(e.movedBefore)),!e._suppress_initial&&!r.collection.paused){var u=t?n.bind(n.each,null,i.results):n.bind(i.results.forEach,i.results);u(function(e){var n=o.clone(e);delete n._id,t&&i.addedBefore(e._id,r._projectionFn(n),null),i.added(e._id,r._projectionFn(n))})}var d=new h.ObserveHandle;return n.extend(d,{collection:r.collection,stop:function(){r.reactive&&delete r.collection.queries[a]}}),r.reactive&&s.active&&s.onInvalidate(function(){d.stop()}),r.collection._observeQueue.drain(),d}}),h.Cursor.prototype._getRawObjects=function(e){var r=this;e=e||{};var t=e.ordered?[]:new h._IdMap;if(void 0!==r._selectorId){if(r.skip)return t;var n=r.collection._docs.get(r._selectorId);return n&&(e.ordered?t.push(n):t.set(r._selectorId,n)),t}var o;if(r.matcher.hasGeoQuery()&&e.ordered&&(e.distances?(o=e.distances,o.clear()):o=new h._IdMap),r.collection._docs.forEach(function(n,i){var a=r.matcher.documentMatches(n);return a.result&&(e.ordered?(t.push(n),o&&void 0!==a.distance&&o.set(i,a.distance)):t.set(i,n)),!(r.limit&&!r.skip&&!r.sorter&&t.length===r.limit)}),!e.ordered)return t;if(r.sorter){var i=r.sorter.getComparator({distances:o});t.sort(i)}var a=r.skip||0,s=r.limit?r.limit+a:t.length;return t.slice(a,s)},h.Cursor.prototype._depend=function(e,r){var t=this;if(s.active){var o=new s.Dependency;o.depend();var i=n.bind(o.changed,o),a={_suppress_initial:!0,_allow_unordered:r};n.each(["added","changed","removed","addedBefore","movedBefore"],function(r){e[r]&&(a[r]=i)}),t.observeChanges(a)}},h.prototype.insert=function(r,t){var i=this;r=o.clone(r),n.has(r,"_id")||(r._id=h._useOID?new u.ObjectID:d.id());var a=r._id;if(i._docs.has(a))throw _("Duplicate _id '"+a+"'");i._saveOriginal(a,void 0),i._docs.set(a,r);var s=[];for(var c in i.queries){var f=i.queries[c];if(!f.dirty){var l=f.matcher.documentMatches(r);l.result&&(f.distances&&void 0!==l.distance&&f.distances.set(a,l.distance),f.cursor.skip||f.cursor.limit?s.push(c):h._insertInResults(f,r))}}return n.each(s,function(e){i.queries[e]&&i._recomputeResults(i.queries[e])}),i._observeQueue.drain(),t&&e.defer(function(){t(null,a)}),a},h.prototype._eachPossiblyMatchingDoc=function(e,r){var t=this,n=h._idsMatchedBySelector(e);if(n)for(var o=0;o<n.length;++o){var i=n[o],a=t._docs.get(i);if(a){var s=r(a,i);if(s===!1)break}}else t._docs.forEach(r)},h.prototype.remove=function(r,t){var i=this;if(i.paused&&!i._savedOriginals&&o.equals(r,{})){var a=i._docs.size();return i._docs.clear(),n.each(i.queries,function(e){e.ordered?e.results=[]:e.results.clear()}),t&&e.defer(function(){t(null,a)}),a}var s=new p.Matcher(r),c=[];i._eachPossiblyMatchingDoc(r,function(e,r){s.documentMatches(e).result&&c.push(r)});for(var u=[],d=[],f=0;f<c.length;f++){var l=c[f],v=i._docs.get(l);n.each(i.queries,function(e,r){e.dirty||e.matcher.documentMatches(v).result&&(e.cursor.skip||e.cursor.limit?u.push(r):d.push({qid:r,doc:v}))}),i._saveOriginal(l,v),i._docs.remove(l)}return n.each(d,function(e){var r=i.queries[e.qid];r&&(r.distances&&r.distances.remove(e.doc._id),h._removeFromResults(r,e.doc))}),n.each(u,function(e){var r=i.queries[e];r&&i._recomputeResults(r)}),i._observeQueue.drain(),a=c.length,t&&e.defer(function(){t(null,a)}),a},h.prototype.update=function(r,t,i,a){var s=this;!a&&i instanceof Function&&(a=i,i=null),i||(i={});var c=new p.Matcher(r),u={},d=new h._IdMap,f=h._idsMatchedBySelector(r);n.each(s.queries,function(e,r){if((e.cursor.skip||e.cursor.limit)&&!s.paused){if(e.results instanceof h._IdMap)return void(u[r]=e.results.clone());if(!(e.results instanceof Array))throw new Error("Assertion failed: query.results not an array");var t=function(e){if(d.has(e._id))return d.get(e._id);var r;return r=f&&!n.any(f,function(r){return o.equals(r,e._id)})?e:o.clone(e),d.set(e._id,r),r};u[r]=e.results.map(t)}});var l={},v=0;s._eachPossiblyMatchingDoc(r,function(e,r){var n=c.documentMatches(e);return!(n.result&&(s._saveOriginal(r,e),s._modifyAndNotify(e,t,l,n.arrayIndices),++v,!i.multi))}),n.each(l,function(e,r){var t=s.queries[r];t&&s._recomputeResults(t,u[r])}),s._observeQueue.drain();var _;if(0===v&&i.upsert){var m=h._removeDollarOperators(r);h._modify(m,t,{isInsert:!0}),!m._id&&i.insertedId&&(m._id=i.insertedId),_=s.insert(m),v=1}var y;return i._returnObject?(y={numberAffected:v},void 0!==_&&(y.insertedId=_)):y=v,a&&e.defer(function(){a(null,y)}),y},h.prototype.upsert=function(e,r,t,o){var i=this;return o||"function"!=typeof t||(o=t,t={}),i.update(e,r,n.extend({},t,{upsert:!0,_returnObject:!0}),o)},h.prototype._modifyAndNotify=function(e,r,t,n){var i=this,a={};for(var s in i.queries){var c=i.queries[s];c.dirty||(c.ordered?a[s]=c.matcher.documentMatches(e).result:a[s]=c.results.has(e._id))}var u=o.clone(e);h._modify(e,r,{arrayIndices:n});for(s in i.queries)if(c=i.queries[s],!c.dirty){var d=a[s],f=c.matcher.documentMatches(e),l=f.result;l&&c.distances&&void 0!==f.distance&&c.distances.set(e._id,f.distance),c.cursor.skip||c.cursor.limit?(d||l)&&(t[s]=!0):d&&!l?h._removeFromResults(c,e):!d&&l?h._insertInResults(c,e):d&&l&&h._updateInResults(c,e,u)}},h._insertInResults=function(e,r){var t=o.clone(r);if(delete t._id,e.ordered){if(e.sorter){var n=h._insertInSortedList(e.sorter.getComparator({distances:e.distances}),e.results,r),i=e.results[n+1];i=i?i._id:null,e.addedBefore(r._id,e.projectionFn(t),i)}else e.addedBefore(r._id,e.projectionFn(t),null),e.results.push(r);e.added(r._id,e.projectionFn(t))}else e.added(r._id,e.projectionFn(t)),e.results.set(r._id,r)},h._removeFromResults=function(e,r){if(e.ordered){var t=h._findInOrderedResults(e,r);e.removed(r._id),e.results.splice(t,1)}else{var n=r._id;e.removed(r._id),e.results.remove(n)}},h._updateInResults=function(e,r,t){if(!o.equals(r._id,t._id))throw new Error("Can't change a doc's _id while updating");var i=e.projectionFn,a=f.makeChangedFields(i(r),i(t));if(!e.ordered)return void(n.isEmpty(a)||(e.changed(r._id,a),e.results.set(r._id,r)));var s=h._findInOrderedResults(e,r);if(n.isEmpty(a)||e.changed(r._id,a),e.sorter){e.results.splice(s,1);var c=h._insertInSortedList(e.sorter.getComparator({distances:e.distances}),e.results,r);if(s!==c){var u=e.results[c+1];u=u?u._id:null,e.movedBefore&&e.movedBefore(r._id,u)}}},h.prototype._recomputeResults=function(e,r){var t=this;return t.paused?void(e.dirty=!0):(t.paused||r||(r=e.results),e.distances&&e.distances.clear(),e.results=e.cursor._getRawObjects({ordered:e.ordered,distances:e.distances}),void(t.paused||h._diffQueryChanges(e.ordered,r,e.results,e,{projectionFn:e.projectionFn})))},h._findInOrderedResults=function(e,r){if(!e.ordered)throw new Error("Can't call _findInOrderedResults on unordered query");for(var t=0;t<e.results.length;t++)if(e.results[t]===r)return t;throw Error("object missing from query")},h._binarySearch=function(e,r,t){for(var n=0,o=r.length;o>0;){var i=Math.floor(o/2);e(t,r[n+i])>=0?(n+=i+1,o-=i+1):o=i}return n},h._insertInSortedList=function(e,r,t){if(0===r.length)return r.push(t),0;var n=h._binarySearch(e,r,t);return r.splice(n,0,t),n},h.prototype.saveOriginals=function(){var e=this;if(e._savedOriginals)throw new Error("Called saveOriginals twice without retrieveOriginals");e._savedOriginals=new h._IdMap},h.prototype.retrieveOriginals=function(){var e=this;if(!e._savedOriginals)throw new Error("Called retrieveOriginals without saveOriginals");var r=e._savedOriginals;return e._savedOriginals=null,r},h.prototype._saveOriginal=function(e,r){var t=this;t._savedOriginals&&(t._savedOriginals.has(e)||t._savedOriginals.set(e,o.clone(r)))},h.prototype.pauseObservers=function(){if(!this.paused){this.paused=!0;for(var e in this.queries){var r=this.queries[e];r.resultsSnapshot=o.clone(r.results)}}},h.prototype.resumeObservers=function(){var e=this;if(this.paused){this.paused=!1;for(var r in this.queries){var t=e.queries[r];t.dirty?(t.dirty=!1,e._recomputeResults(t,t.resultsSnapshot)):h._diffQueryChanges(t.ordered,t.resultsSnapshot,t.results,t,{projectionFn:t.projectionFn}),t.resultsSnapshot=null}e._observeQueue.drain()}}}).call(this),function(){h.wrapTransform=function(e){if(!e)return null;if(e.__wrappedTransform__)return e;var r=function(r){if(!n.has(r,"_id"))throw new Error("can only transform documents with _id");var t=r._id,i=s.nonreactive(function(){return e(r)});if(!y(i))throw new Error("transform must return object");if(n.has(i,"_id")){if(!o.equals(i._id,t))throw new Error("transformed document can't have different _id")}else i._id=t;return i};return r.__wrappedTransform__=!0,r}}.call(this),function(){m=function(e){return n.isArray(e)&&!o.isBinary(e)},y=h._isPlainObject=function(e){return e&&3===h._f._type(e)},g=function(e){return m(e)||y(e)},w=function(e,r){if(!y(e))return!1;var t=void 0;return n.each(e,function(n,o){var i="$"===o.substr(0,1);if(void 0===t)t=i;else if(t!==i){if(!r)throw new Error("Inconsistent operator: "+JSON.stringify(e));t=!1}}),!!t},$=function(e){return/^[0-9]+$/.test(e)}}.call(this),function(){p.Matcher=function(e){var r=this;r._paths={},r._hasGeoQuery=!1,r._hasWhere=!1,r._isSimple=!0,r._matchingDocument=void 0,r._selector=null,r._docMatcher=r._compileSelector(e)},n.extend(p.Matcher.prototype,{documentMatches:function(e){if(!e||"object"!=typeof e)throw Error("documentMatches needs a document");return this._docMatcher(e)},hasGeoQuery:function(){return this._hasGeoQuery},hasWhere:function(){return this._hasWhere},isSimple:function(){return this._isSimple},_compileSelector:function(r){var t=this;if(r instanceof Function)return t._isSimple=!1,t._selector=r,t._recordPathUsed(""),function(e){return{result:!!r.call(e)}};if(h._selectorIsId(r))return t._selector={_id:r},t._recordPathUsed("_id"),function(e){return{result:o.equals(e._id,r)}};if(!r||"_id"in r&&!r._id)return t._isSimple=!1,S;if("boolean"==typeof r||m(r)||o.isBinary(r))throw new Error("Invalid selector: "+r);return t._selector=o.clone(r),e(r,t,{isRoot:!0})},_recordPathUsed:function(e){this._paths[e]=!0},_getPaths:function(){return n.keys(this._paths)}});var e=function(e,t,o){o=o||{};var i=[];return n.each(e,function(e,a){if("$"===a.substr(0,1)){if(!n.has(s,a))throw new Error("Unrecognized logical operator: "+a);t._isSimple=!1,i.push(s[a](e,t,o.inElemMatch))}else{o.inElemMatch||t._recordPathUsed(a);var c=C(a),u=r(e,t,o.isRoot);i.push(function(e){var r=c(e);return u(r)})}}),j(i)},r=function(e,r,n){return e instanceof RegExp?(r._isSimple=!1,t(b(e))):w(e)?i(e,r,n):t(E(e))},t=function(e,r){return r=r||{},function(t){var o=t;r.dontExpandLeafArrays||(o=O(t,r.dontIncludeLeafArrays));var i={};return i.result=n.any(o,function(r){var t=e(r.value);return"number"==typeof t&&(r.arrayIndices||(r.arrayIndices=[t]),t=!0),t&&r.arrayIndices&&(i.arrayIndices=r.arrayIndices),t}),i}};b=function(e){return function(r){return r instanceof RegExp?n.isEqual(r,e):"string"==typeof r&&(e.lastIndex=0,e.test(r))}},E=function(e){if(w(e))throw Error("Can't create equalityValueSelector for operator object");return null==e?function(e){return null==e}:function(r){return h._f._equal(e,r)}};var i=function(e,r,o){var i=[];return n.each(e,function(a,s){var c=n.contains(["$lt","$lte","$gt","$gte"],s)&&n.isNumber(a),u=n.contains(["$ne","$eq"],s)&&!n.isObject(a),f=n.contains(["$in","$nin"],s)&&n.isArray(a)&&!n.any(a,n.isObject);if(c||f||u||(r._isSimple=!1),n.has(d,s))i.push(d[s](a,e,r,o));else{if(!n.has(I,s))throw new Error("Unrecognized operator: "+s);var l=I[s];i.push(t(l.compileElementSelector(a,e,r),l))}}),P(i)},a=function(r,t,o){if(!m(r)||n.isEmpty(r))throw Error("$and/$or/$nor must be nonempty array");return n.map(r,function(r){if(!y(r))throw Error("$or/$and/$nor entries need to be full objects");return e(r,t,{inElemMatch:o})})},s={$and:function(e,r,t){var n=a(e,r,t);return j(n)},$or:function(e,r,t){var o=a(e,r,t);return 1===o.length?o[0]:function(e){var r=n.any(o,function(r){return r(e).result});return{result:r}}},$nor:function(e,r,t){var o=a(e,r,t);return function(e){var r=n.all(o,function(r){return!r(e).result});return{result:r}}},$where:function(e,r){return r._recordPathUsed(""),r._hasWhere=!0,e instanceof Function||(e=Function("obj","return "+e)),function(r){return{result:e.call(r,r)}}},$comment:function(){return function(){return{result:!0}}}},c=function(e){return function(r){var t=e(r);return{result:!t.result}}},d={$eq:function(e){return t(E(e))},$not:function(e,t,n){return c(r(e,n))},$ne:function(e){return c(t(E(e)))},$nin:function(e){return c(t(I.$in.compileElementSelector(e)))},$exists:function(e){var r=t(function(e){return void 0!==e});return e?r:c(r)},$options:function(e,r){if(!n.has(r,"$regex"))throw Error("$options needs a $regex");return M},$maxDistance:function(e,r){if(!r.$near)throw Error("$maxDistance needs a $near");return M},$all:function(e,t,o){if(!m(e))throw Error("$all requires array");if(n.isEmpty(e))return S;var i=[];return n.each(e,function(e){if(w(e))throw Error("no $ expressions in $all");i.push(r(e,o))}),P(i)},$near:function(e,r,t,o){if(!o)throw Error("$near can't be inside another $ operator");t._hasGeoQuery=!0;var i,a,s;if(y(e)&&n.has(e,"$geometry"))i=e.$maxDistance,a=e.$geometry,s=function(e){return e&&e.type?"Point"===e.type?l.pointDistance(a,e):l.geometryWithinRadius(e,a,i)?0:i+1:null};else{if(i=r.$maxDistance,!m(e)&&!y(e))throw Error("$near argument must be coordinate pair or GeoJSON");a=_(e),s=function(e){return m(e)||y(e)?f(a,e):null}}return function(e){e=O(e);var r={result:!1};return n.each(e,function(e){var t=s(e.value);null===t||t>i||void 0!==r.distance&&r.distance<=t||(r.result=!0,r.distance=t,e.arrayIndices?r.arrayIndices=e.arrayIndices:delete r.arrayIndices)}),r}}},f=function(e,r){e=_(e),r=_(r);var t=e[0]-r[0],o=e[1]-r[1];return n.isNaN(t)||n.isNaN(o)?null:Math.sqrt(t*t+o*o)},_=function(e){return n.map(e,n.identity)},k=function(e){return{compileElementSelector:function(r){if(m(r))return function(){return!1};void 0===r&&(r=null);var t=h._f._type(r);return function(n){return void 0===n&&(n=null),h._f._type(n)===t&&e(h._f._cmp(n,r))}}}};I={$lt:k(function(e){return e<0}),$gt:k(function(e){return e>0}),$lte:k(function(e){return e<=0}),$gte:k(function(e){return e>=0}),$mod:{compileElementSelector:function(e){if(!m(e)||2!==e.length||"number"!=typeof e[0]||"number"!=typeof e[1])throw Error("argument to $mod must be an array of two numbers");var r=e[0],t=e[1];return function(e){return"number"==typeof e&&e%r===t}}},$in:{compileElementSelector:function(e){if(!m(e))throw Error("$in needs an array");var r=[];return n.each(e,function(e){if(e instanceof RegExp)r.push(b(e));else{if(w(e))throw Error("cannot nest $ under $in");r.push(E(e))}}),function(e){return void 0===e&&(e=null),n.any(r,function(r){return r(e)})}}},$size:{dontExpandLeafArrays:!0,compileElementSelector:function(e){if("string"==typeof e)e=0;else if("number"!=typeof e)throw Error("$size needs a number");return function(r){return m(r)&&r.length===e}}},$type:{dontIncludeLeafArrays:!0,compileElementSelector:function(e){if("number"!=typeof e)throw Error("$type needs a number");return function(r){return void 0!==r&&h._f._type(r)===e}}},$regex:{compileElementSelector:function(e,r){if(!("string"==typeof e||e instanceof RegExp))throw Error("$regex has to be a string or RegExp");var t;if(void 0!==r.$options){if(/[^gim]/.test(r.$options))throw new Error("Only the i, m, and g regexp options are supported");var n=e instanceof RegExp?e.source:e;t=new RegExp(n,r.$options)}else t=e instanceof RegExp?e:new RegExp(e);return b(t)}},$elemMatch:{dontExpandLeafArrays:!0,compileElementSelector:function(t,o,i){if(!y(t))throw Error("$elemMatch need an object");var a,c;return w(n.omit(t,n.keys(s)),!0)?(a=r(t,i),c=!1):(a=e(t,i,{inElemMatch:!0}),c=!0),function(e){if(!m(e))return!1;for(var r=0;r<e.length;++r){var t=e[r],n;if(c){if(!y(t)&&!m(t))return!1;n=t}else n=[{value:t,dontIterate:!0}];if(a(n).result)return r}return!1}}}},C=function(e,r){r=r||{};var t=e.split("."),o=t.length?t[0]:"",i=$(o),a=t.length>=2&&$(t[1]),s;t.length>1&&(s=C(t.slice(1).join(".")));var c=function(e){return e.dontIterate||delete e.dontIterate,e.arrayIndices&&!e.arrayIndices.length&&delete e.arrayIndices,e};return function(e,t){if(t||(t=[]),m(e)){if(!(i&&o<e.length))return[];t=t.concat(+o,"x")}var u=e[o];if(!s)return[c({value:u,dontIterate:m(e)&&m(u),arrayIndices:t})];if(!g(u))return m(e)?[]:[c({value:void 0,arrayIndices:t})];var d=[],f=function(e){Array.prototype.push.apply(d,e)};return f(s(u,t)),!m(u)||a&&r.forSort||n.each(u,function(e,r){y(e)&&f(s(e,t.concat(r)))}),d}},v.makeLookupFunction=C,O=function(e,r){var t=[];return n.each(e,function(e){var o=m(e.value);r&&o&&!e.dontIterate||t.push({value:e.value,arrayIndices:e.arrayIndices}),o&&!e.dontIterate&&n.each(e.value,function(r,n){t.push({value:r,arrayIndices:(e.arrayIndices||[]).concat(n)})})}),t};var S=function(e){return{result:!1}},M=function(e){return{result:!0}},A=function(e){return 0===e.length?M:1===e.length?e[0]:function(r){var t={};return t.result=n.all(e,function(e){var n=e(r);return n.result&&void 0!==n.distance&&void 0===t.distance&&(t.distance=n.distance),n.result&&n.arrayIndices&&(t.arrayIndices=n.arrayIndices),n.result}),t.result||(delete t.distance,delete t.arrayIndices),t}},j=A,P=A;h._f={_type:function(e){return"number"==typeof e?1:"string"==typeof e?2:"boolean"==typeof e?8:m(e)?4:null===e?10:e instanceof RegExp?11:"function"==typeof e?13:e instanceof Date?9:o.isBinary(e)?5:e instanceof u.ObjectID?7:3},_equal:function(e,r){return o.equals(e,r,{keyOrderSensitive:!0})},_typeorder:function(e){return[-1,1,2,3,4,5,-1,6,7,8,0,9,-1,100,2,100,1,8,1][e]},_cmp:function(e,r){if(void 0===e)return void 0===r?0:-1;if(void 0===r)return 1;var t=h._f._type(e),n=h._f._type(r),o=h._f._typeorder(t),i=h._f._typeorder(n);if(o!==i)return o<i?-1:1;if(t!==n)throw Error("Missing type coercion logic in _cmp");if(7===t&&(t=n=2,e=e.toHexString(),r=r.toHexString()),9===t&&(t=n=1,e=e.getTime(),r=r.getTime()),1===t)return e-r;if(2===n)return e<r?-1:e===r?0:1;if(3===t){var a=function(e){var r=[];for(var t in e)r.push(t),r.push(e[t]);return r};return h._f._cmp(a(e),a(r))}if(4===t)for(var s=0;;s++){if(s===e.length)return s===r.length?0:-1;if(s===r.length)return 1;var c=h._f._cmp(e[s],r[s]);if(0!==c)return c}if(5===t){if(e.length!==r.length)return e.length-r.length;for(s=0;s<e.length;s++){if(e[s]<r[s])return-1;if(e[s]>r[s])return 1}return 0}if(8===t)return e?r?0:1:r?-1:0;if(10===t)return 0;if(11===t)throw Error("Sorting not supported on regular expression");if(13===t)throw Error("Sorting not supported on Javascript code");throw Error("Unknown type to sort")}},h._removeDollarOperators=function(e){var r={};for(var t in e)"$"!==t.substr(0,1)&&(r[t]=e[t]);return r}}.call(this),function(){p.Sorter=function(r,t){var o=this;t=t||{},o._sortSpecParts=[],o._sortFunction=null;var i=function(e,r){if(!e)throw Error("sort keys must be non-empty");if("$"===e.charAt(0))throw Error("unsupported sort key: "+e);o._sortSpecParts.push({path:e,lookup:C(e,{forSort:!0}),ascending:r})};if(r instanceof Array)for(var a=0;a<r.length;a++)"string"==typeof r[a]?i(r[a],!0):i(r[a][0],"desc"!==r[a][1]);else if("object"==typeof r)n.each(r,function(e,r){i(r,e>=0)});else{if("function"!=typeof r)throw Error("Bad sort specification: "+JSON.stringify(r));o._sortFunction=r}if(!o._sortFunction){if(o.affectedByModifier){var s={};n.each(o._sortSpecParts,function(e){s[e.path]=1}),o._selectorForAffectedByModifier=new p.Matcher(s)}o._keyComparator=e(n.map(o._sortSpecParts,function(e,r){return o._keyFieldComparator(r)})),o._keyFilter=null,t.matcher&&o._useWithMatcher(t.matcher)}},n.extend(p.Sorter.prototype,{getComparator:function(r){var t=this;if(!r||!r.distances)return t._getBaseComparator();var n=r.distances;return e([t._getBaseComparator(),function(e,r){if(!n.has(e._id))throw Error("Missing distance for "+e._id);if(!n.has(r._id))throw Error("Missing distance for "+r._id);return n.get(e._id)-n.get(r._id)}])},_getPaths:function(){var e=this;return n.pluck(e._sortSpecParts,"path")},_getMinKeyFromDoc:function(e){var r=this,t=null;if(r._generateKeysFromDoc(e,function(e){if(r._keyCompatibleWithSelector(e))return null===t?void(t=e):void(r._compareKeys(e,t)<0&&(t=e))}),null===t)throw Error("sort selector found no keys in doc?");return t},_keyCompatibleWithSelector:function(e){var r=this;return!r._keyFilter||r._keyFilter(e)},_generateKeysFromDoc:function(e,r){var t=this;if(0===t._sortSpecParts.length)throw new Error("can't generate keys without a spec");var o=[],i=function(e){return e.join(",")+","},a=null;if(n.each(t._sortSpecParts,function(r,t){var s=O(r.lookup(e),!0);s.length||(s=[{value:null}]);var c=!1;if(o[t]={},n.each(s,function(e){if(!e.arrayIndices){if(s.length>1)throw Error("multiple branches but no array used?");return void(o[t][""]=e.value)}c=!0;var r=i(e.arrayIndices);if(n.has(o[t],r))throw Error("duplicate path: "+r);if(o[t][r]=e.value,a&&!n.has(a,r))throw Error("cannot index parallel arrays")}),a){if(!n.has(o[t],"")&&n.size(a)!==n.size(o[t]))throw Error("cannot index parallel arrays!")}else c&&(a={},n.each(o[t],function(e,r){a[r]=!0}))}),!a){var s=n.map(o,function(e){if(!n.has(e,""))throw Error("no value in sole key case?");return e[""]});return void r(s)}n.each(a,function(e,t){var i=n.map(o,function(e){if(n.has(e,""))return e[""];if(!n.has(e,t))throw Error("missing path?");return e[t]});r(i)})},_compareKeys:function(e,r){var t=this;if(e.length!==t._sortSpecParts.length||r.length!==t._sortSpecParts.length)throw Error("Key has wrong length");return t._keyComparator(e,r)},_keyFieldComparator:function(e){var r=this,t=!r._sortSpecParts[e].ascending;return function(r,n){var o=h._f._cmp(r[e],n[e]);return t&&(o=-o),o}},_getBaseComparator:function(){var e=this;return e._sortFunction?e._sortFunction:e._sortSpecParts.length?function(r,t){var n=e._getMinKeyFromDoc(r),o=e._getMinKeyFromDoc(t);return e._compareKeys(n,o)}:function(e,r){return 0}},_useWithMatcher:function(e){var r=this;if(r._keyFilter)throw Error("called _useWithMatcher twice?");if(!n.isEmpty(r._sortSpecParts)){var t=e._selector;if(!(t instanceof Function)){var o={};n.each(r._sortSpecParts,function(e,r){o[e.path]=[]}),n.each(t,function(e,r){var t=o[r];if(t){if(e instanceof RegExp){if(e.ignoreCase||e.multiline)return;return void t.push(b(e))}return w(e)?void n.each(e,function(r,o){n.contains(["$lt","$lte","$gt","$gte"],o)&&t.push(I[o].compileElementSelector(r)),"$regex"!==o||e.$options||t.push(I.$regex.compileElementSelector(r,e))}):void t.push(E(e))}}),n.isEmpty(o[r._sortSpecParts[0].path])||(r._keyFilter=function(e){return n.all(r._sortSpecParts,function(r,t){return n.all(o[r.path],function(r){return r(e[t])})})})}}}});var e=function(e){return function(r,t){for(var n=0;n<e.length;++n){var o=e[n](r,t);if(0!==o)return o}return 0}}}.call(this),function(){h._compileProjection=function(e){h._checkSupportedProjection(e);var r=!!n.isUndefined(e._id)||e._id,t=k(e),i=function(e,r){if(n.isArray(e))return n.map(e,function(e){return i(e,r)});var a=t.including?{}:o.clone(e);return n.each(r,function(r,s){n.has(e,s)&&(n.isObject(r)?n.isObject(e[s])&&(a[s]=i(e[s],r)):t.including?a[s]=o.clone(e[s]):delete a[s])}),a};return function(e){var o=i(e,t.tree);return r&&n.has(e,"_id")&&(o._id=e._id),!r&&n.has(o,"_id")&&delete o._id,o}},k=function(e){var r=n.keys(e).sort();!(r.length>0)||1===r.length&&"_id"===r[0]||n.contains(r,"_id")&&e._id||(r=n.reject(r,function(e){return"_id"===e}));var t=null;n.each(r,function(r){var n=!!e[r];if(null===t&&(t=n),t!==n)throw _("You cannot currently mix including and excluding fields.")});var o=S(r,function(e){return t},function(e,r,t){var n=t,o=r;throw _("both "+n+" and "+o+" found in fields option, using both of them may trigger unexpected behavior. Did you mean to use only one of them?")});return{tree:o,including:t}},S=function(e,r,t,o){return o=o||{},n.each(e,function(e){var i=o,a=e.split("."),s=n.all(a.slice(0,-1),function(r,o){if(n.has(i,r)){if(!n.isObject(i[r])&&(i[r]=t(i[r],a.slice(0,o+1).join("."),e),!n.isObject(i[r])))return!1}else i[r]={};return i=i[r],!0});if(s){var c=n.last(a);n.has(i,c)?i[c]=t(i[c],e,e):i[c]=r(e)}}),o},h._checkSupportedProjection=function(e){if(!n.isObject(e)||n.isArray(e))throw _("fields option must be an object");n.each(e,function(e,r){if(n.contains(r.split("."),"$"))throw _("Minimongo doesn't support $ operator in projections yet.");if("object"==typeof e&&n.intersection(["$elemMatch","$meta","$slice"],n.keys(e)).length>0)throw _("Minimongo doesn't support operators in projections yet.");if(n.indexOf([1,0,!0,!1],e)===-1)throw _("Projection values should be one of 1, 0, true, or false")})}}.call(this),function(){h._modify=function(i,a,s){if(s=s||{},!y(a))throw _("Modifier must be an object");a=o.clone(a);var c=w(a),u;if(c)u=o.clone(i),n.each(a,function(o,i){var a=t[i];if(s.isInsert&&"$setOnInsert"===i&&(a=t.$set),!a)throw _("Invalid modifier specified "+i);n.each(o,function(t,o){if(""===o)throw _("An empty update path is not valid.");if("_id"===o&&"$setOnInsert"!==i)throw _("Mod on _id not allowed");var c=o.split(".");if(!n.all(c,n.identity))throw _("The update path '"+o+"' contains an empty field name, which is not allowed.");var d=n.has(r,i),f="$rename"===i,l=e(u,c,{noCreate:r[i],forbidArray:"$rename"===i,arrayIndices:s.arrayIndices}),h=c.pop();a(l,h,t,o,u)})});else{if(a._id&&!o.equals(i._id,a._id))throw _("Cannot change the _id of a document");for(var d in a)if(/\./.test(d))throw _("When replacing document, field name may not contain '.'");u=a}n.each(n.keys(i),function(e){"_id"!==e&&delete i[e]}),n.each(u,function(e,r){i[r]=e})};var e=function(e,r,t){t=t||{};for(var n=!1,o=0;o<r.length;o++){var i=o===r.length-1,a=r[o],s=g(e);if(!s){if(t.noCreate)return;var c=_("cannot use the part '"+a+"' to traverse "+e);throw c.setPropertyError=!0,c}if(e instanceof Array){if(t.forbidArray)return null;if("$"===a){if(n)throw _("Too many positional (i.e. '$') elements");if(!t.arrayIndices||!t.arrayIndices.length)throw _("The positional operator did not find the match needed from the query");a=t.arrayIndices[0],n=!0}else{if(!$(a)){if(t.noCreate)return;throw _("can't append to array using string field name ["+a+"]")}a=parseInt(a)}if(i&&(r[o]=a),t.noCreate&&a>=e.length)return;for(;e.length<a;)e.push(null);if(!i)if(e.length===a)e.push({});else if("object"!=typeof e[a])throw _("can't modify field '"+r[o+1]+"' of list value "+JSON.stringify(e[a]))}else{if(a.length&&"$"===a.substr(0,1))throw _("can't set field named "+a);if(!(a in e)){if(t.noCreate)return;i||(e[a]={})}}if(i)return e;e=e[a]}},r={$unset:!0,$pop:!0,$rename:!0,$pull:!0,$pullAll:!0},t={$currentDate:function(e,r,t){if("object"==typeof t&&t.hasOwnProperty("$type")){if("date"!==t.$type)throw _("Minimongo does currently only support the date type in $currentDate modifiers")}else if(t!==!0)throw _("Invalid $currentDate modifier");e[r]=new Date},$min:function(e,r,t){if("number"!=typeof t)throw _("Modifier $min allowed for numbers only");if(r in e){if("number"!=typeof e[r])throw _("Cannot apply $min modifier to non-number");e[r]>t&&(e[r]=t)}else e[r]=t},$max:function(e,r,t){if("number"!=typeof t)throw _("Modifier $max allowed for numbers only");if(r in e){if("number"!=typeof e[r])throw _("Cannot apply $max modifier to non-number");e[r]<t&&(e[r]=t)}else e[r]=t},$inc:function(e,r,t){if("number"!=typeof t)throw _("Modifier $inc allowed for numbers only");if(r in e){if("number"!=typeof e[r])throw _("Cannot apply $inc modifier to non-number");e[r]+=t}else e[r]=t},$set:function(e,r,t){if(!n.isObject(e)){var o=_("Cannot set property on non-object field");throw o.setPropertyError=!0,o}if(null===e){var o=_("Cannot set property on null");throw o.setPropertyError=!0,o}e[r]=t},$setOnInsert:function(e,r,t){},$unset:function(e,r,t){void 0!==e&&(e instanceof Array?r in e&&(e[r]=null):delete e[r])},$push:function(e,r,t){if(void 0===e[r]&&(e[r]=[]),!(e[r]instanceof Array))throw _("Cannot apply $push modifier to non-array");if(!t||!t.$each)return void e[r].push(t);var n=t.$each;
if(!(n instanceof Array))throw _("$each must be an array");var o=void 0;if("$position"in t){if("number"!=typeof t.$position)throw _("$position must be a numeric value");if(t.$position<0)throw _("$position in $push must be zero or positive");o=t.$position}var i=void 0;if("$slice"in t){if("number"!=typeof t.$slice)throw _("$slice must be a numeric value");if(t.$slice>0)throw _("$slice in $push must be zero or negative");i=t.$slice}var a=void 0;if(t.$sort){if(void 0===i)throw _("$sort requires $slice to be present");a=new p.Sorter(t.$sort).getComparator();for(var s=0;s<n.length;s++)if(3!==h._f._type(n[s]))throw _("$push like modifiers using $sort require all elements to be objects")}if(void 0===o)for(var c=0;c<n.length;c++)e[r].push(n[c]);else{for(var u=[o,0],c=0;c<n.length;c++)u.push(n[c]);Array.prototype.splice.apply(e[r],u)}a&&e[r].sort(a),void 0!==i&&(0===i?e[r]=[]:e[r]=e[r].slice(i))},$pushAll:function(e,r,t){if(!("object"==typeof t&&t instanceof Array))throw _("Modifier $pushAll/pullAll allowed for arrays only");var n=e[r];if(void 0===n)e[r]=t;else{if(!(n instanceof Array))throw _("Cannot apply $pushAll modifier to non-array");for(var o=0;o<t.length;o++)n.push(t[o])}},$addToSet:function(e,r,t){var o=!1;if("object"==typeof t)for(var i in t){"$each"===i&&(o=!0);break}var a=o?t.$each:[t],s=e[r];if(void 0===s)e[r]=a;else{if(!(s instanceof Array))throw _("Cannot apply $addToSet modifier to non-array");n.each(a,function(e){for(var r=0;r<s.length;r++)if(h._f._equal(e,s[r]))return;s.push(e)})}},$pop:function(e,r,t){if(void 0!==e){var n=e[r];if(void 0!==n){if(!(n instanceof Array))throw _("Cannot apply $pop modifier to non-array");"number"==typeof t&&t<0?n.splice(0,1):n.pop()}}},$pull:function(e,r,t){if(void 0!==e){var n=e[r];if(void 0!==n){if(!(n instanceof Array))throw _("Cannot apply $pull/pullAll modifier to non-array");var o=[];if(null==t||"object"!=typeof t||t instanceof Array)for(var i=0;i<n.length;i++)h._f._equal(n[i],t)||o.push(n[i]);else for(var a=new p.Matcher(t),i=0;i<n.length;i++)a.documentMatches(n[i]).result||o.push(n[i]);e[r]=o}}},$pullAll:function(e,r,t){if(!("object"==typeof t&&t instanceof Array))throw _("Modifier $pushAll/pullAll allowed for arrays only");if(void 0!==e){var n=e[r];if(void 0!==n){if(!(n instanceof Array))throw _("Cannot apply $pull/pullAll modifier to non-array");for(var o=[],i=0;i<n.length;i++){for(var a=!1,s=0;s<t.length;s++)if(h._f._equal(n[i],t[s])){a=!0;break}a||o.push(n[i])}e[r]=o}}},$rename:function(r,t,n,o,i){if(o===n)throw _("$rename source must differ from target");if(null===r)throw _("$rename source field invalid");if("string"!=typeof n)throw _("$rename target must be a string");if(void 0!==r){var a=r[t];delete r[t];var s=n.split("."),c=e(i,s,{forbidArray:!0});if(null===c)throw _("$rename target field invalid");var u=s.pop();c[u]=a}},$bit:function(e,r,t){throw _("$bit is not supported")}}}.call(this),function(){h._diffQueryChanges=function(e,r,t,n,o){return f.diffQueryChanges(e,r,t,n,o)},h._diffQueryUnorderedChanges=function(e,r,t,n){return f.diffQueryUnorderedChanges(e,r,t,n)},h._diffQueryOrderedChanges=function(e,r,t,n){return f.diffQueryOrderedChanges(e,r,t,n)},h._diffObjects=function(e,r,t){return f.diffObjects(e,r,t)}}.call(this),function(){h._IdMap=function(){var e=this;i.call(e,u.idStringify,u.idParse)},e._inherits(h._IdMap,i)}.call(this),function(){h._CachingChangeObserver=function(e){var r=this;e=e||{};var t=e.callbacks&&h._observeChangesCallbacksAreOrdered(e.callbacks);if(n.has(e,"ordered")){if(r.ordered=e.ordered,e.callbacks&&e.ordered!==t)throw Error("ordered option doesn't match callbacks")}else{if(!e.callbacks)throw Error("must provide ordered or callbacks");r.ordered=t}var i=e.callbacks||{};r.ordered?(r.docs=new a(u.idStringify),r.applyChange={addedBefore:function(e,t,n){var a=o.clone(t);a._id=e,i.addedBefore&&i.addedBefore.call(r,e,t,n),i.added&&i.added.call(r,e,t),r.docs.putBefore(e,a,n||null)},movedBefore:function(e,t){var n=r.docs.get(e);i.movedBefore&&i.movedBefore.call(r,e,t),r.docs.moveBefore(e,t||null)}}):(r.docs=new h._IdMap,r.applyChange={added:function(e,t){var n=o.clone(t);i.added&&i.added.call(r,e,t),n._id=e,r.docs.set(e,n)}}),r.applyChange.changed=function(e,t){var n=r.docs.get(e);if(!n)throw new Error("Unknown id for changed: "+e);i.changed&&i.changed.call(r,e,o.clone(t)),f.applyChanges(n,t)},r.applyChange.removed=function(e){i.removed&&i.removed.call(r,e),r.docs.remove(e)}},h._observeFromObserveChanges=function(e,r){var t=e.getTransform()||function(e){return e},i=!!r._suppress_initial,a;if(h._observeCallbacksAreOrdered(r)){var s=!r._no_indices;a={addedBefore:function(e,o,a){var c=this;if(!i&&(r.addedAt||r.added)){var u=t(n.extend(o,{_id:e}));if(r.addedAt){var d=s?a?c.docs.indexOf(a):c.docs.size():-1;r.addedAt(u,d,a)}else r.added(u)}},changed:function(e,n){var i=this;if(r.changedAt||r.changed){var a=o.clone(i.docs.get(e));if(!a)throw new Error("Unknown id for changed: "+e);var c=t(o.clone(a));if(f.applyChanges(a,n),a=t(a),r.changedAt){var u=s?i.docs.indexOf(e):-1;r.changedAt(a,c,u)}else r.changed(a,c)}},movedBefore:function(e,n){var i=this;if(r.movedTo){var a=s?i.docs.indexOf(e):-1,c=s?n?i.docs.indexOf(n):i.docs.size():-1;c>a&&--c,r.movedTo(t(o.clone(i.docs.get(e))),a,c,n||null)}},removed:function(e){var n=this;if(r.removedAt||r.removed){var o=t(n.docs.get(e));if(r.removedAt){var i=s?n.docs.indexOf(e):-1;r.removedAt(o,i)}else r.removed(o)}}}}else a={added:function(e,o){if(!i&&r.added){var a=n.extend(o,{_id:e});r.added(t(a))}},changed:function(e,n){var i=this;if(r.changed){var a=i.docs.get(e),s=o.clone(a);f.applyChanges(s,n),r.changed(t(s),t(o.clone(a)))}},removed:function(e){var n=this;r.removed&&r.removed(t(n.docs.get(e)))}};var c=new h._CachingChangeObserver({callbacks:a}),u=e.observeChanges(c.applyChange);return i=!1,u}}.call(this),function(){h._selectorIsId=function(e){return"string"==typeof e||"number"==typeof e||e instanceof u.ObjectID},h._selectorIsIdPerhapsAsObject=function(e){return h._selectorIsId(e)||e&&"object"==typeof e&&e._id&&h._selectorIsId(e._id)&&1===n.size(e)},h._idsMatchedBySelector=function(e){if(h._selectorIsId(e))return[e];if(!e)return null;if(n.has(e,"_id"))return h._selectorIsId(e._id)?[e._id]:e._id&&e._id.$in&&n.isArray(e._id.$in)&&!n.isEmpty(e._id.$in)&&n.all(e._id.$in,h._selectorIsId)?e._id.$in:null;if(e.$and&&n.isArray(e.$and))for(var r=0;r<e.$and.length;++r){var t=h._idsMatchedBySelector(e.$and[r]);if(t)return t}return null}}.call(this),"undefined"==typeof Package&&(Package={}),function(e,r){for(var t in r)t in e||(e[t]=r[t])}(Package.minimongo={},{LocalCollection:h,Minimongo:p,MinimongoTest:v})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package.modules.meteorInstall,a=Package.modules.Buffer,i=Package.modules.process,o=Package.underscore._,c=Package.ejson.EJSON,s,u,f=r({node_modules:{meteor:{check:{"match.js":["./isPlainObject.js",function(t,n){var r=new e.EnvironmentVariable,a=t("./isPlainObject.js").isPlainObject,i=n.check=function(e,t){var n=r.getOrNullIfOutsideFiber();n&&n.checking(e);var a=y(e,t);if(a){var i=new s.Error(a.message);throw a.path&&(i.message+=" in field "+a.path,i.path=a.path),i}},s=n.Match={Optional:function(e){return new u(e)},Maybe:function(e){return new f(e)},OneOf:function(){return new l(o.toArray(arguments))},Any:["__any__"],Where:function(e){return new h(e)},ObjectIncluding:function(e){return new p(e)},ObjectWithValues:function(e){return new g(e)},Integer:["__integer__"],Error:e.makeErrorType("Match.Error",function(t){this.message="Match error: "+t,this.path="",this.sanitizedError=new e.Error(400,"Match failed")}),test:function(e,t){return!y(e,t)},_failIfArgumentsAreNotAllChecked:function(e,t,n,a){var i=new v(n,a),o=r.withValue(i,function(){return e.apply(t,n)});return i.throwUnlessAllArgumentsHaveBeenChecked(),o}},u=function(e){this.pattern=e},f=function(e){this.pattern=e},l=function(e){if(o.isEmpty(e))throw new Error("Must provide at least one choice to Match.OneOf");this.choices=e},h=function(e){this.condition=e},p=function(e){this.pattern=e},g=function(e){this.pattern=e},d=function(e,t){if(t=t||{},null===e)return"null";if(t.onlyShowType)return typeof e;if("object"!=typeof e)return c.stringify(e);try{JSON.stringify(e)}catch(t){if("TypeError"===t.name)return typeof e}return c.stringify(e)},m=[[String,"string"],[Number,"number"],[Boolean,"boolean"],[Function,"function"],[void 0,"undefined"]],y=function(e,t){if(t===s.Any)return!1;for(var n=0;n<m.length;++n)if(t===m[n][0])return typeof e!==m[n][1]&&{message:"Expected "+m[n][1]+", got "+d(e,{onlyShowType:!0}),path:""};if(null===t)return null!==e&&{message:"Expected null, got "+d(e),path:""};if("string"==typeof t||"number"==typeof t||"boolean"==typeof t)return e!==t&&{message:"Expected "+t+", got "+d(e),path:""};if(t===s.Integer)return("number"!=typeof e||(0|e)!==e)&&{message:"Expected Integer, got "+d(e),path:""};if(t===Object&&(t=s.ObjectIncluding({})),t instanceof Array){if(1!==t.length)return{message:"Bad pattern: arrays must have one type element"+d(t),path:""};if(!o.isArray(e)&&!o.isArguments(e))return{message:"Expected array, got "+d(e),path:""};for(var n=0,r=e.length;n<r;n++){var i=y(e[n],t[0]);if(i)return i.path=k(n,i.path),i}return!1}if(t instanceof h){var i;try{i=t.condition(e)}catch(e){if(!(e instanceof s.Error))throw e;return{message:e.message,path:e.path}}return!i&&{message:"Failed Match.Where validation",path:""}}if(t instanceof f?t=s.OneOf(void 0,null,t.pattern):t instanceof u&&(t=s.OneOf(void 0,t.pattern)),t instanceof l){for(var n=0;n<t.choices.length;++n){var i=y(e,t.choices[n]);if(!i)return!1}return{message:"Failed Match.OneOf, Match.Maybe or Match.Optional validation",path:""}}if(t instanceof Function)return!(e instanceof t)&&{message:"Expected "+(t.name||"particular constructor"),path:""};var c=!1,v;if(t instanceof p&&(c=!0,t=t.pattern),t instanceof g&&(c=!0,v=[t.pattern],t={}),"object"!=typeof t)return{message:"Bad pattern: unknown pattern type",path:""};if("object"!=typeof e)return{message:"Expected object, got "+typeof e,path:""};if(null===e)return{message:"Expected object, got null",path:""};if(!a(e))return{message:"Expected plain object",path:""};var b={},w={};o.each(t,function(e,t){e instanceof u||e instanceof f?w[t]=e.pattern:b[t]=e});for(var O=function(e){var t=[];if(o.isObject(e))for(var n in e)t.push(n);return t},j=O(e),n=0,r=j.length;n<r;n++){var E=j[n],P=e[E];if(o.has(b,E)){var i=y(P,b[E]);if(i)return i.path=k(E,i.path),i;delete b[E]}else if(o.has(w,E)){var i=y(P,w[E]);if(i)return i.path=k(E,i.path),i}else{if(!c)return{message:"Unknown key",path:E};if(v){var i=y(P,v[0]);if(i)return i.path=k(E,i.path),i}}}var j=o.keys(b);return j.length?{message:"Missing key '"+j[0]+"'",path:""}:void 0},v=function(e,t){var n=this;n.args=o.clone(e),n.args.reverse(),n.description=t};o.extend(v.prototype,{checking:function(e){var t=this;t._checkingOneValue(e)||(o.isArray(e)||o.isArguments(e))&&o.each(e,o.bind(t._checkingOneValue,t))},_checkingOneValue:function(e){for(var t=this,n=0;n<t.args.length;++n)if(e===t.args[n]||o.isNaN(e)&&o.isNaN(t.args[n]))return t.args.splice(n,1),!0;return!1},throwUnlessAllArgumentsHaveBeenChecked:function(){var e=this;if(!o.isEmpty(e.args))throw new Error("Did not check() all arguments during "+e.description)}});var b=["do","if","in","for","let","new","try","var","case","else","enum","eval","false","null","this","true","void","with","break","catch","class","const","super","throw","while","yield","delete","export","import","public","return","static","switch","typeof","default","extends","finally","package","private","continue","debugger","function","arguments","interface","protected","implements","instanceof"],k=function(e,t){return"number"==typeof e||e.match(/^[0-9]+$/)?e="["+e+"]":e.match(/^[a-z_$][0-9a-z_$]*$/i)&&!o.contains(b,e)||(e=JSON.stringify([e])),t&&"["!==t[0]?e+"."+t:e+t}}],"isPlainObject.js":function(e,t){function n(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?a[i.call(e)]||"object":typeof e}function r(e){return null!=e&&e==e.window}var a={},i=a.toString,c=a.hasOwnProperty,s={};o.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){a["[object "+e+"]"]=e.toLowerCase()}),t.isPlainObject=function(e){var t;if(!e||"object"!==n(e)||e.nodeType||r(e))return!1;try{if(e.constructor&&!c.call(e,"constructor")&&!c.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}if(s.ownLast)for(t in e)return c.call(e,t);for(t in e);return void 0===t||c.call(e,t)}}}}}},{extensions:[".js",".json"]}),l=f("./node_modules/meteor/check/match.js");"undefined"==typeof Package&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package.check=l,{check:s,Match:u})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,r=Package.meteor.meteorEnv,n=Package.underscore._,i=Package.random.Random,a;(function(){a=function(e){var t=this;n.extend(t,n.defaults(n.clone(e||{}),{baseTimeout:1e3,exponent:2.2,maxTimeout:3e5,minTimeout:10,minCount:2,fuzz:.5})),t.retryTimer=null},n.extend(a.prototype,{clear:function(){var e=this;e.retryTimer&&clearTimeout(e.retryTimer),e.retryTimer=null},_timeout:function(e){var t=this;if(e<t.minCount)return t.minTimeout;var r=Math.min(t.maxTimeout,t.baseTimeout*Math.pow(t.exponent,e));return r*=i.fraction()*t.fuzz+(1-t.fuzz/2)},retryLater:function(t,r){var n=this,i=n._timeout(t);return n.retryTimer&&clearTimeout(n.retryTimer),n.retryTimer=e.setTimeout(r,i),i}})}).call(this),"undefined"==typeof Package&&(Package={}),function(e,t){for(var r in t)r in e||(e[r]=t[r])}(Package.retry={},{Retry:a})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,a=Package.meteor.meteorEnv,n=Package.check.check,r=Package.check.Match,i=Package.random.Random,o=Package.ejson.EJSON,c=Package.underscore._,s=Package.tracker.Tracker,l=Package.tracker.Deps,u=Package.retry.Retry,d;(function(){d={}}).call(this),function(){d.Heartbeat=function(e){var t=this;t.heartbeatInterval=e.heartbeatInterval,t.heartbeatTimeout=e.heartbeatTimeout,t._sendPing=e.sendPing,t._onTimeout=e.onTimeout,t._seenPacket=!1,t._heartbeatIntervalHandle=null,t._heartbeatTimeoutHandle=null},c.extend(d.Heartbeat.prototype,{stop:function(){var e=this;e._clearHeartbeatIntervalTimer(),e._clearHeartbeatTimeoutTimer()},start:function(){var e=this;e.stop(),e._startHeartbeatIntervalTimer()},_startHeartbeatIntervalTimer:function(){var t=this;t._heartbeatIntervalHandle=e.setInterval(c.bind(t._heartbeatIntervalFired,t),t.heartbeatInterval)},_startHeartbeatTimeoutTimer:function(){var t=this;t._heartbeatTimeoutHandle=e.setTimeout(c.bind(t._heartbeatTimeoutFired,t),t.heartbeatTimeout)},_clearHeartbeatIntervalTimer:function(){var t=this;t._heartbeatIntervalHandle&&(e.clearInterval(t._heartbeatIntervalHandle),t._heartbeatIntervalHandle=null)},_clearHeartbeatTimeoutTimer:function(){var t=this;t._heartbeatTimeoutHandle&&(e.clearTimeout(t._heartbeatTimeoutHandle),t._heartbeatTimeoutHandle=null)},_heartbeatIntervalFired:function(){var e=this;e._seenPacket||e._heartbeatTimeoutHandle||(e._sendPing(),e._startHeartbeatTimeoutTimer()),e._seenPacket=!1},_heartbeatTimeoutFired:function(){var e=this;e._heartbeatTimeoutHandle=null,e._onTimeout()},messageReceived:function(){var e=this;e._seenPacket=!0,e._heartbeatTimeoutHandle&&e._clearHeartbeatTimeoutTimer()}})}.call(this),function(){d.SUPPORTED_DDP_VERSIONS=["1","pre2","pre1"],d.parseDDP=function(t){try{var a=JSON.parse(t)}catch(a){return e._debug("Discarding message with invalid JSON",t),null}return null===a||"object"!=typeof a?(e._debug("Discarding non-object DDP message",t),null):(c.has(a,"cleared")&&(c.has(a,"fields")||(a.fields={}),c.each(a.cleared,function(e){a.fields[e]=void 0}),delete a.cleared),c.each(["fields","params","result"],function(e){c.has(a,e)&&(a[e]=o._adjustTypesFromJSONValue(a[e]))}),a)},d.stringifyDDP=function(e){var t=o.clone(e);if(c.has(e,"fields")){var a=[];c.each(e.fields,function(e,n){void 0===e&&(a.push(n),delete t.fields[n])}),c.isEmpty(a)||(t.cleared=a),c.isEmpty(t.fields)&&delete t.fields}if(c.each(["fields","params","result"],function(e){c.has(t,e)&&(t[e]=o._adjustTypesToJSONValue(t[e]))}),e.id&&"string"!=typeof e.id)throw new Error("Message id is not a string");return JSON.stringify(t)}}.call(this),function(){d.MethodInvocation=function(e){var t=this;this.isSimulation=e.isSimulation,this._unblock=e.unblock||function(){},this._calledUnblock=!1,this.userId=e.userId,this._setUserId=e.setUserId||function(){},this.connection=e.connection,this.randomSeed=e.randomSeed,this.randomStream=null},c.extend(d.MethodInvocation.prototype,{unblock:function(){var e=this;e._calledUnblock=!0,e._unblock()},setUserId:function(e){var t=this;if(t._calledUnblock)throw new Error("Can't call setUserId in a method after calling unblock");t.userId=e,t._setUserId(e)}})}.call(this),function(){function e(){return i.hexString(20)}d.RandomStream=function(t){var a=this;this.seed=[].concat(t.seed||e()),this.sequences={}},d.RandomStream.get=function(e,t){if(t||(t="default"),!e)return i.insecure;var a=e.randomStream;return a||(e.randomStream=a=new d.RandomStream({seed:e.randomSeed})),a._sequence(t)},d.makeRpcSeed=function(e,t){var a=d.RandomStream.get(e,"/rpc/"+t);return a.hexString(20)},c.extend(d.RandomStream.prototype,{_sequence:function(e){var t=this,a=t.sequences[e]||null;if(null===a){for(var n=t.seed.concat(e),r=0;r<n.length;r++)c.isFunction(n[r])&&(n[r]=n[r]());t.sequences[e]=a=i.createWithSeeds.apply(null,n)}return a}})}.call(this),"undefined"==typeof Package&&(Package={}),function(e,t){for(var a in t)a in e||(e[a]=t[a])}(Package["ddp-common"]={},{DDPCommon:d})}();

!function(){var a=Package.meteor.Meteor,e=Package.meteor.global,t=Package.meteor.meteorEnv,o=Package.underscore._,n=Package["ecmascript-runtime"].Symbol,r=Package["ecmascript-runtime"].Map,i=Package["ecmascript-runtime"].Set,c;(function(){c={};var e="Meteor_Reload",t={},n,r=null;try{r=window.sessionStorage,r?(r.setItem("__dummy__","1"),r.removeItem("__dummy__")):r=null}catch(a){r=null}c._getData=function(){return r&&r.getItem(e)},r&&(n=c._getData(),r.removeItem(e)),n||(n="{}");var i={};try{i=JSON.parse(n),"object"!=typeof i&&(a._debug("Got bad data on reload. Ignoring."),i={})}catch(e){a._debug("Got invalid JSON on reload. Ignoring.")}i.reload&&"object"==typeof i.data&&(t=i.data);var l=[];c._onMigrate=function(a,e){e||(e=a,a=void 0),l.push({name:a,callback:e})},c._migrationData=function(a){return t[a]};var d=function(a,e){a=a||function(){},e=e||{};for(var t={},n=o.clone(l),r=!0;n.length;){var i=n.shift(),c=i.callback(a,e);c[0]||(r=!1),c.length>1&&i.name&&(t[i.name]=c[1])}return r||e.immediateMigration?t:null};c._migrate=function(t,o){var n=d(t,o);if(null===n)return!1;try{var i=JSON.stringify({data:n,reload:!0})}catch(e){throw a._debug("Couldn't serialize data for migration",n),e}if(r)try{r.setItem(e,i)}catch(e){a._debug("Couldn't save data for migration to sessionStorage",e)}else a._debug("Browser does not support sessionStorage. Not saving migration state.");return!0},c._withFreshProvidersForTest=function(a){var e=o.clone(l);l=[];try{a()}finally{l=e}};var g=!1;c._reload=function(a){if(a=a||{},!g){g=!0;var e=function(){o.defer(function(){c._migrate(e,a)&&(window.location.hash||window.location.href.endsWith("#")?window.location.reload():window.location.replace(window.location.href))})};e()}}}).call(this),function(){a._reload={onMigrate:c._onMigrate,migrationData:c._migrationData,reload:c._reload}}.call(this),"undefined"==typeof Package&&(Package={}),function(a,e){for(var t in e)t in a||(a[t]=e[t])}(Package.reload={},{Reload:c})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package.check.check,o=Package.check.Match,i=Package.random.Random,s=Package.ejson.EJSON,a=Package.underscore._,u=Package.tracker.Tracker,c=Package.tracker.Deps,d=Package.retry.Retry,l=Package["id-map"].IdMap,f=Package["ddp-common"].DDPCommon,_=Package["diff-sequence"].DiffSequence,p=Package["mongo-id"].MongoID,h,v,m,g,b,y,w;(function(){h={},v={}}).call(this),function(){m=function(){var e=this;l.call(e,p.idStringify,p.idParse)},e._inherits(m,l)}.call(this),function(){g=function(){var e=document,t=window,n={},r=function(){};r.prototype.addEventListener=function(e,t){this._listeners||(this._listeners={}),e in this._listeners||(this._listeners[e]=[]);var r=this._listeners[e];n.arrIndexOf(r,t)===-1&&r.push(t)},r.prototype.removeEventListener=function(e,t){if(this._listeners&&e in this._listeners){var r=this._listeners[e],o=n.arrIndexOf(r,t);return o!==-1?void(r.length>1?this._listeners[e]=r.slice(0,o).concat(r.slice(o+1)):delete this._listeners[e]):void 0}},r.prototype.dispatchEvent=function(e){var t=e.type,n=Array.prototype.slice.call(arguments,0);if(this["on"+t]&&this["on"+t].apply(this,n),this._listeners&&t in this._listeners)for(var r=0;r<this._listeners[t].length;r++)this._listeners[t][r].apply(this,n)};var o=function(e,t){if(this.type=e,"undefined"!=typeof t)for(var n in t)t.hasOwnProperty(n)&&(this[n]=t[n])};o.prototype.toString=function(){var e=[];for(var t in this)if(this.hasOwnProperty(t)){var n=this[t];"function"==typeof n&&(n="[function]"),e.push(t+"="+n)}return"SimpleEvent("+e.join(", ")+")"};var i=function(e){var t=this;t._events=e||[],t._listeners={}};i.prototype.emit=function(e){var t=this;if(t._verifyType(e),!t._nuked){var n=Array.prototype.slice.call(arguments,1);if(t["on"+e]&&t["on"+e].apply(t,n),e in t._listeners)for(var r=0;r<t._listeners[e].length;r++)t._listeners[e][r].apply(t,n)}},i.prototype.on=function(e,t){var n=this;n._verifyType(e),n._nuked||(e in n._listeners||(n._listeners[e]=[]),n._listeners[e].push(t))},i.prototype._verifyType=function(e){var t=this;n.arrIndexOf(t._events,e)===-1&&n.log("Event "+JSON.stringify(e)+" not listed "+JSON.stringify(t._events)+" in "+t)},i.prototype.nuke=function(){var e=this;e._nuked=!0;for(var t=0;t<e._events.length;t++)delete e[e._events[t]];e._listeners={}};var s="abcdefghijklmnopqrstuvwxyz0123456789_";n.random_string=function(e,t){t=t||s.length;var n,r=[];for(n=0;n<e;n++)r.push(s.substr(Math.floor(Math.random()*t),1));return r.join("")},n.random_number=function(e){return Math.floor(Math.random()*e)},n.random_number_string=function(e){var t=(""+(e-1)).length,r=Array(t+1).join("0");return(r+n.random_number(e)).slice(-t)},n.getOrigin=function(e){e+="/";var t=e.split("/").slice(0,3);return t.join("/")},n.isSameOriginUrl=function(e,n){return n||(n=t.location.href),e.split("/").slice(0,3).join("/")===n.split("/").slice(0,3).join("/")},n.isSameOriginScheme=function(e,n){return n||(n=t.location.href),e.split(":")[0]===n.split(":")[0]},n.getParentDomain=function(e){if(/^[0-9.]*$/.test(e))return e;if(/^\[/.test(e))return e;if(!/[.]/.test(e))return e;var t=e.split(".").slice(1);return t.join(".")},n.objectExtend=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e};var a="_jp";n.polluteGlobalNamespace=function(){a in t||(t[a]={})},n.closeFrame=function(e,t){return"c"+JSON.stringify([e,t])},n.userSetCode=function(e){return 1e3===e||e>=3e3&&e<=4999},n.countRTO=function(e){var t;return t=e>100?3*e:e+200},n.log=function(){t.console&&console.log&&console.log.apply&&console.log.apply(console,arguments)},n.bind=function(e,t){return e.bind?e.bind(t):function(){return e.apply(t,arguments)}},n.flatUrl=function(e){return e.indexOf("?")===-1&&e.indexOf("#")===-1},n.amendUrl=function(t,r){var o;if(void 0===r)o=e.location;else{var i=/^([a-z0-9.+-]+:)/i.exec(r);if(i){var s=i[0].toLowerCase(),a=r.substring(s.length),u=/[a-z0-9\.-]+(:[0-9]+)?/.exec(a);if(u)var c=u[0]}if(!s||!c)throw new Error("relativeTo must be an absolute url");o={protocol:s,host:c}}if(!t)throw new Error("Wrong url for SockJS");if(!n.flatUrl(t))throw new Error("Only basic urls are supported in SockJS");0===t.indexOf("//")&&(t=o.protocol+t),0===t.indexOf("/")&&(t=o.protocol+"//"+o.host+t),t=t.replace(/[\/]+$/,"");var d=t.split("/");return("http:"===d[0]&&/:80$/.test(d[2])||"https:"===d[0]&&/:443$/.test(d[2]))&&(d[2]=d[2].replace(/:(80|443)$/,"")),t=d.join("/")},n.arrIndexOf=function(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},n.arrSkip=function(e,t){var r=n.arrIndexOf(e,t);if(r===-1)return e.slice();var o=e.slice(0,r);return o.concat(e.slice(r+1))},n.isArray=Array.isArray||function(e){return{}.toString.call(e).indexOf("Array")>=0},n.delay=function(e,t){return"function"==typeof e&&(t=e,e=0),setTimeout(t,e)};var u=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,c={"\0":"\\u0000","":"\\u0001","":"\\u0002","":"\\u0003","":"\\u0004","":"\\u0005","":"\\u0006","":"\\u0007","\b":"\\b","\t":"\\t","\n":"\\n","\v":"\\u000b","\f":"\\f","\r":"\\r","":"\\u000e","":"\\u000f","":"\\u0010","":"\\u0011","":"\\u0012","":"\\u0013","":"\\u0014","":"\\u0015","":"\\u0016","":"\\u0017","":"\\u0018","":"\\u0019","":"\\u001a","":"\\u001b","":"\\u001c","":"\\u001d","":"\\u001e","":"\\u001f",'"':'\\"',"\\":"\\\\","":"\\u007f","":"\\u0080","":"\\u0081","":"\\u0082","":"\\u0083","":"\\u0084","":"\\u0085","":"\\u0086","":"\\u0087","":"\\u0088","":"\\u0089","":"\\u008a","":"\\u008b","":"\\u008c","":"\\u008d","":"\\u008e","":"\\u008f","":"\\u0090","":"\\u0091","":"\\u0092","":"\\u0093","":"\\u0094","":"\\u0095","":"\\u0096","":"\\u0097","":"\\u0098","":"\\u0099","":"\\u009a","":"\\u009b","":"\\u009c","":"\\u009d","":"\\u009e","":"\\u009f","­":"\\u00ad","؀":"\\u0600","؁":"\\u0601","؂":"\\u0602","؃":"\\u0603","؄":"\\u0604","܏":"\\u070f","឴":"\\u17b4","឵":"\\u17b5","‌":"\\u200c","‍":"\\u200d","‎":"\\u200e","‏":"\\u200f","\u2028":"\\u2028","\u2029":"\\u2029","‪":"\\u202a","‫":"\\u202b","‬":"\\u202c","‭":"\\u202d","‮":"\\u202e"," ":"\\u202f","⁠":"\\u2060","⁡":"\\u2061","⁢":"\\u2062","⁣":"\\u2063","⁤":"\\u2064","⁥":"\\u2065","⁦":"\\u2066","⁧":"\\u2067","⁨":"\\u2068","⁩":"\\u2069","⁪":"\\u206a","⁫":"\\u206b","⁬":"\\u206c","⁭":"\\u206d","⁮":"\\u206e","⁯":"\\u206f","\ufeff":"\\ufeff","￰":"\\ufff0","￱":"\\ufff1","￲":"\\ufff2","￳":"\\ufff3","￴":"\\ufff4","￵":"\\ufff5","￶":"\\ufff6","￷":"\\ufff7","￸":"\\ufff8","￹":"\\ufff9","￺":"\\ufffa","￻":"\\ufffb","￼":"\\ufffc","�":"\\ufffd","￾":"\\ufffe","￿":"\\uffff"},d=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,l,f=JSON&&JSON.stringify||function(e){return u.lastIndex=0,u.test(e)&&(e=e.replace(u,function(e){return c[e]})),'"'+e+'"'},_=function(e){var t,n={},r=[];for(t=0;t<65536;t++)r.push(String.fromCharCode(t));return e.lastIndex=0,r.join("").replace(e,function(e){return n[e]="\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4),""}),e.lastIndex=0,n};n.quote=function(e){var t=f(e);return d.lastIndex=0,d.test(t)?(l||(l=_(d)),t.replace(d,function(e){return l[e]})):t};var p=["websocket","xdr-streaming","xhr-streaming","iframe-eventsource","iframe-htmlfile","xdr-polling","xhr-polling","iframe-xhr-polling","jsonp-polling"];n.probeProtocols=function(){for(var e={},t=0;t<p.length;t++){var n=p[t];e[n]=C[n]&&C[n].enabled()}return e},n.detectProtocols=function(e,t,n){var r={},o=[];t||(t=p);for(var i=0;i<t.length;i++){var s=t[i];r[s]=e[s]}var a=function(e){var t=e.shift();r[t]?o.push(t):e.length>0&&a(e)};return n.websocket!==!1&&a(["websocket"]),r["xhr-streaming"]&&!n.null_origin?o.push("xhr-streaming"):!r["xdr-streaming"]||n.cookie_needed||n.null_origin?a(["iframe-eventsource","iframe-htmlfile"]):o.push("xdr-streaming"),r["xhr-polling"]&&!n.null_origin?o.push("xhr-polling"):!r["xdr-polling"]||n.cookie_needed||n.null_origin?a(["iframe-xhr-polling","jsonp-polling"]):o.push("xdr-polling"),o};var h="_sockjs_global";n.createHook=function(){var e="a"+n.random_string(8);if(!(h in t)){var r={};t[h]=function(e){return e in r||(r[e]={id:e,del:function(){delete r[e]}}),r[e]}}return t[h](e)},n.attachMessage=function(e){n.attachEvent("message",e)},n.attachEvent=function(n,r){"undefined"!=typeof t.addEventListener?t.addEventListener(n,r,!1):(e.attachEvent("on"+n,r),t.attachEvent("on"+n,r))},n.detachMessage=function(e){n.detachEvent("message",e)},n.detachEvent=function(n,r){"undefined"!=typeof t.addEventListener?t.removeEventListener(n,r,!1):(e.detachEvent("on"+n,r),t.detachEvent("on"+n,r))};var v={},m=!1,g=function(){for(var e in v)v[e](),delete v[e]},b=function(){m||(m=!0,g())};n.attachEvent("unload",b),n.unload_add=function(e){var t=n.random_string(8);return v[t]=e,m&&n.delay(g),t},n.unload_del=function(e){e in v&&delete v[e]},n.createIframe=function(t,r){var o=e.createElement("iframe"),i,s,a=function(){clearTimeout(i);try{o.onload=null}catch(e){}o.onerror=null},u=function(){o&&(a(),setTimeout(function(){o&&o.parentNode.removeChild(o),o=null},0),n.unload_del(s))},c=function(e){o&&(u(),r(e))},d=function(e,t){try{o&&o.contentWindow&&o.contentWindow.postMessage(e,t)}catch(e){}};return o.src=t,o.style.display="none",o.style.position="absolute",o.onerror=function(){c("onerror")},o.onload=function(){clearTimeout(i),i=setTimeout(function(){c("onload timeout")},2e3)},e.body.appendChild(o),i=setTimeout(function(){c("timeout")},15e3),s=n.unload_add(u),{post:d,cleanup:u,loaded:a}},n.createHtmlfile=function(e,r){var o=new ActiveXObject("htmlfile"),i,s,u,c=function(){clearTimeout(i)},d=function(){o&&(c(),n.unload_del(s),u.parentNode.removeChild(u),u=o=null,CollectGarbage())},l=function(e){o&&(d(),r(e))},f=function(e,t){try{u&&u.contentWindow&&u.contentWindow.postMessage(e,t)}catch(e){}};o.open(),o.write('<html><script>document.domain="'+document.domain+'";</script></html>'),o.close(),o.parentWindow[a]=t[a];var _=o.createElement("div");return o.body.appendChild(_),u=o.createElement("iframe"),_.appendChild(u),u.src=e,i=setTimeout(function(){l("timeout")},15e3),s=n.unload_add(d),{post:f,cleanup:d,loaded:c}};var y=function(){};y.prototype=new i(["chunk","finish"]),y.prototype._start=function(e,r,o,i){var s=this;try{s.xhr=new XMLHttpRequest}catch(e){}if(!s.xhr)try{s.xhr=new t.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}(t.ActiveXObject||t.XDomainRequest)&&(r+=(r.indexOf("?")===-1?"?":"&")+"t="+ +new Date),s.unload_ref=n.unload_add(function(){s._cleanup(!0)});try{s.xhr.open(e,r,!0)}catch(e){return s.emit("finish",0,""),void s._cleanup()}if(i&&i.no_credentials||(s.xhr.withCredentials="true"),i&&i.headers)for(var a in i.headers)s.xhr.setRequestHeader(a,i.headers[a]);s.xhr.onreadystatechange=function(){if(s.xhr){var e=s.xhr;switch(e.readyState){case 3:try{var t=e.status,n=e.responseText}catch(e){}1223===t&&(t=204),n&&n.length>0&&s.emit("chunk",t,n);break;case 4:var t=e.status;1223===t&&(t=204),s.emit("finish",t,e.responseText),s._cleanup(!1)}}},s.xhr.send(o)},y.prototype._cleanup=function(e){var t=this;if(t.xhr){if(n.unload_del(t.unload_ref),t.xhr.onreadystatechange=function(){},e)try{t.xhr.abort()}catch(e){}t.unload_ref=t.xhr=null}},y.prototype.close=function(){var e=this;e.nuke(),e._cleanup(!0)};var w=n.XHRCorsObject=function(){var e=this,t=arguments;n.delay(function(){e._start.apply(e,t)})};w.prototype=new y;var S=n.XHRLocalObject=function(e,t,r){var o=this;n.delay(function(){o._start(e,t,r,{no_credentials:!0})})};S.prototype=new y;var k=n.XDRObject=function(e,t,r){var o=this;n.delay(function(){o._start(e,t,r)})};k.prototype=new i(["chunk","finish"]),k.prototype._start=function(e,t,r){var o=this,i=new XDomainRequest;t+=(t.indexOf("?")===-1?"?":"&")+"t="+ +new Date;var s=i.ontimeout=i.onerror=function(){o.emit("finish",0,""),o._cleanup(!1)};i.onprogress=function(){o.emit("chunk",200,i.responseText)},i.onload=function(){o.emit("finish",200,i.responseText),o._cleanup(!1)},o.xdr=i,o.unload_ref=n.unload_add(function(){o._cleanup(!0)});try{o.xdr.open(e,t),o.xdr.send(r)}catch(e){s()}},k.prototype._cleanup=function(e){var t=this;if(t.xdr){if(n.unload_del(t.unload_ref),t.xdr.ontimeout=t.xdr.onerror=t.xdr.onprogress=t.xdr.onload=null,e)try{t.xdr.abort()}catch(e){}t.unload_ref=t.xdr=null}},k.prototype.close=function(){var e=this;e.nuke(),e._cleanup(!0)},n.isXHRCorsCapable=function(){return t.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest?1:t.XDomainRequest&&e.domain?2:B.enabled()?3:4};var C=function(e,t,r){if(!(this instanceof C))return new C(e,t,r);var o=this,i;o._options={devel:!1,debug:!1,protocols_whitelist:[],info:void 0,rtt:void 0},r&&n.objectExtend(o._options,r),o._base_url=n.amendUrl(e),o._server=o._options.server||n.random_number_string(1e3),o._options.protocols_whitelist&&o._options.protocols_whitelist.length?i=o._options.protocols_whitelist:(i="string"==typeof t&&t.length>0?[t]:n.isArray(t)?t:null,i&&o._debug('Deprecated API: Use "protocols_whitelist" option instead of supplying protocol list as a second parameter to SockJS constructor.')),o._protocols=[],o.protocol=null,o.readyState=C.CONNECTING,o._ir=J(o._base_url),o._ir.onfinish=function(e,t){o._ir=null,e?(o._options.info&&(e=n.objectExtend(e,o._options.info)),o._options.rtt&&(t=o._options.rtt),o._applyInfo(e,t,i),o._didClose()):o._didClose(1002,"Can't connect to server",!0)}};C.prototype=new r,C.version="0.3.4",C.CONNECTING=0,C.OPEN=1,C.CLOSING=2,C.CLOSED=3,C.prototype._debug=function(){this._options.debug&&n.log.apply(n,arguments)},C.prototype._dispatchOpen=function(){var e=this;e.readyState===C.CONNECTING?(e._transport_tref&&(clearTimeout(e._transport_tref),e._transport_tref=null),e.readyState=C.OPEN,e.dispatchEvent(new o("open"))):e._didClose(1006,"Server lost session")},C.prototype._dispatchMessage=function(e){var t=this;t.readyState===C.OPEN&&t.dispatchEvent(new o("message",{data:e}))},C.prototype._dispatchHeartbeat=function(e){var t=this;t.readyState===C.OPEN&&t.dispatchEvent(new o("heartbeat",{}))},C.prototype._didClose=function(e,t,r){var i=this;if(i.readyState!==C.CONNECTING&&i.readyState!==C.OPEN&&i.readyState!==C.CLOSING)throw new Error("INVALID_STATE_ERR");i._ir&&(i._ir.nuke(),i._ir=null),i._transport&&(i._transport.doCleanup(),i._transport=null);var s=new o("close",{code:e,reason:t,wasClean:n.userSetCode(e)});if(!n.userSetCode(e)&&i.readyState===C.CONNECTING&&!r){if(i._try_next_protocol(s))return;s=new o("close",{code:2e3,reason:"All transports failed",wasClean:!1,last_event:s})}i.readyState=C.CLOSED,n.delay(function(){i.dispatchEvent(s)})},C.prototype._didMessage=function(e){var t=this,n=e.slice(0,1);switch(n){case"o":t._dispatchOpen();break;case"a":for(var r=JSON.parse(e.slice(1)||"[]"),o=0;o<r.length;o++)t._dispatchMessage(r[o]);break;case"m":var r=JSON.parse(e.slice(1)||"null");t._dispatchMessage(r);break;case"c":var r=JSON.parse(e.slice(1)||"[]");t._didClose(r[0],r[1]);break;case"h":t._dispatchHeartbeat()}},C.prototype._try_next_protocol=function(t){var r=this;for(r.protocol&&(r._debug("Closed transport:",r.protocol,""+t),r.protocol=null),r._transport_tref&&(clearTimeout(r._transport_tref),r._transport_tref=null);;){var o=r.protocol=r._protocols.shift();if(!o)return!1;if(C[o]&&C[o].need_body===!0&&(!e.body||"undefined"!=typeof e.readyState&&"complete"!==e.readyState))return r._protocols.unshift(o),r.protocol="waiting-for-load",n.attachEvent("load",function(){r._try_next_protocol()}),!0;if(C[o]&&C[o].enabled(r._options)){var i=C[o].roundTrips||1,s=(r._options.rto||0)*i||5e3;r._transport_tref=n.delay(s,function(){r.readyState===C.CONNECTING&&r._didClose(2007,"Transport timeouted")});var a=n.random_string(8),u=r._base_url+"/"+r._server+"/"+a;return r._debug("Opening transport:",o," url:"+u," RTO:"+r._options.rto),r._transport=new C[o](r,u,r._base_url),!0}r._debug("Skipping transport:",o)}},C.prototype.close=function(e,t){var r=this;if(e&&!n.userSetCode(e))throw new Error("INVALID_ACCESS_ERR");return(r.readyState===C.CONNECTING||r.readyState===C.OPEN)&&(r.readyState=C.CLOSING,r._didClose(e||1e3,t||"Normal closure"),!0)},C.prototype.send=function(e){var t=this;if(t.readyState===C.CONNECTING)throw new Error("INVALID_STATE_ERR");return t.readyState===C.OPEN&&t._transport.doSend(n.quote(""+e)),!0},C.prototype._applyInfo=function(t,r,o){var i=this;i._options.info=t,i._options.rtt=r,i._options.rto=n.countRTO(r),i._options.info.null_origin=!e.domain,t.base_url&&(i._base_url=n.amendUrl(t.base_url,i._base_url));var s=n.probeProtocols();i._protocols=n.detectProtocols(s,o,t),n.isSameOriginScheme(i._base_url)||2!==n.isXHRCorsCapable()||(i._protocols=["jsonp-polling"])};var E=C.websocket=function(e,r){var o=this,i=r+"/websocket";i="https"===i.slice(0,5)?"wss"+i.slice(5):"ws"+i.slice(4),o.ri=e,o.url=i;var s=t.WebSocket||t.MozWebSocket;o.ws=new s(o.url),o.ws.onmessage=function(e){o.ri._didMessage(e.data)},o.unload_ref=n.unload_add(function(){o.ws.close()}),o.ws.onclose=function(){o.ri._didMessage(n.closeFrame(1006,"WebSocket connection broken"))}};E.prototype.doSend=function(e){this.ws.send("["+e+"]")},E.prototype.doCleanup=function(){var e=this,t=e.ws;t&&(t.onmessage=t.onclose=null,t.close(),n.unload_del(e.unload_ref),e.unload_ref=e.ri=e.ws=null)},E.enabled=function(){return!(!t.WebSocket&&!t.MozWebSocket)},E.roundTrips=2;var O=function(){};O.prototype.send_constructor=function(e){var t=this;t.send_buffer=[],t.sender=e},O.prototype.doSend=function(e){var t=this;t.send_buffer.push(e),t.send_stop||t.send_schedule()},O.prototype.send_schedule_wait=function(){var e=this,t;e.send_stop=function(){e.send_stop=null,clearTimeout(t)},t=n.delay(25,function(){e.send_stop=null,e.send_schedule()})},O.prototype.send_schedule=function(){var e=this;if(e.send_buffer.length>0){var t="["+e.send_buffer.join(",")+"]";e.send_stop=e.sender(e.trans_url,t,function(t,n){e.send_stop=null,t===!1?e.ri._didClose(1006,"Sending error "+n):e.send_schedule_wait()}),e.send_buffer=[]}},O.prototype.send_destructor=function(){var e=this;e._send_stop&&e._send_stop(),e._send_stop=null};var T=function(t,r,o){var i=this;if(!("_send_form"in i)){var s=i._send_form=e.createElement("form"),a=i._send_area=e.createElement("textarea");a.name="d",s.style.display="none",s.style.position="absolute",s.method="POST",s.enctype="application/x-www-form-urlencoded",s.acceptCharset="UTF-8",s.appendChild(a),e.body.appendChild(s)}var s=i._send_form,a=i._send_area,u="a"+n.random_string(8);s.target=u,s.action=t+"/jsonp_send?i="+u;var c;try{c=e.createElement('<iframe name="'+u+'">')}catch(t){c=e.createElement("iframe"),c.name=u}c.id=u,s.appendChild(c),c.style.display="none";try{a.value=r}catch(e){n.log("Your browser is seriously broken. Go home! "+e.message)}s.submit();var d=function(e){c.onerror&&(c.onreadystatechange=c.onerror=c.onload=null,n.delay(500,function(){c.parentNode.removeChild(c),c=null}),a.value="",o(!0))};return c.onerror=c.onload=d,c.onreadystatechange=function(e){"complete"==c.readyState&&d()},d},D=function(e){return function(t,n,r){var o=new e("POST",t+"/xhr_send",n);return o.onfinish=function(e,t){r(200===e||204===e,"http status "+e)},function(e){r(!1,e)}}},M=function(t,r){var o,i=e.createElement("script"),s,a=function(e){s&&(s.parentNode.removeChild(s),s=null),i&&(clearTimeout(o),i.parentNode.removeChild(i),i.onreadystatechange=i.onerror=i.onload=i.onclick=null,i=null,r(e),r=null)},u=!1,c=null;if(i.id="a"+n.random_string(8),i.src=t,i.type="text/javascript",i.charset="UTF-8",i.onerror=function(e){c||(c=setTimeout(function(){u||a(n.closeFrame(1006,"JSONP script loaded abnormally (onerror)"))},1e3))},i.onload=function(e){a(n.closeFrame(1006,"JSONP script loaded abnormally (onload)"))},i.onreadystatechange=function(e){if(/loaded|closed/.test(i.readyState)){if(i&&i.htmlFor&&i.onclick){u=!0;try{i.onclick()}catch(e){}}i&&a(n.closeFrame(1006,"JSONP script loaded abnormally (onreadystatechange)"))}},"undefined"==typeof i.async&&e.attachEvent)if(/opera/i.test(navigator.userAgent))s=e.createElement("script"),s.text="try{var a = document.getElementById('"+i.id+"'); if(a)a.onerror();}catch(x){};",i.async=s.async=!1;else{try{i.htmlFor=i.id,i.event="onclick"}catch(e){}i.async=!0}"undefined"!=typeof i.async&&(i.async=!0),o=setTimeout(function(){a(n.closeFrame(1006,"JSONP script loaded abnormally (timeout)"))},35e3);var d=e.getElementsByTagName("head")[0];return d.insertBefore(i,d.firstChild),s&&d.insertBefore(s,d.firstChild),a},x=C["jsonp-polling"]=function(e,t){n.polluteGlobalNamespace();var r=this;r.ri=e,r.trans_url=t,r.send_constructor(T),r._schedule_recv()};x.prototype=new O,x.prototype._schedule_recv=function(){var e=this,t=function(t){e._recv_stop=null,t&&(e._is_closing||e.ri._didMessage(t)),e._is_closing||e._schedule_recv()};e._recv_stop=R(e.trans_url+"/jsonp",M,t)},x.enabled=function(){return!0},x.need_body=!0,x.prototype.doCleanup=function(){var e=this;e._is_closing=!0,e._recv_stop&&e._recv_stop(),e.ri=e._recv_stop=null,e.send_destructor()};var R=function(e,r,o){var i="a"+n.random_string(6),s=e+"?c="+escape(a+"."+i),u=0,c=function(e){switch(u){case 0:delete t[a][i],o(e);break;case 1:o(e),u=2;break;case 2:delete t[a][i]}},d=r(s,c);t[a][i]=d;var l=function(){t[a][i]&&(u=1,t[a][i](n.closeFrame(1e3,"JSONP user aborted read")))};return l},I=function(){};I.prototype=new O,I.prototype.run=function(e,t,n,r,o){var i=this;i.ri=e,i.trans_url=t,i.send_constructor(D(o)),i.poll=new K(e,r,t+n,o)},I.prototype.doCleanup=function(){var e=this;e.poll&&(e.poll.abort(),e.poll=null)};var P=C["xhr-streaming"]=function(e,t){this.run(e,t,"/xhr_streaming",re,n.XHRCorsObject)};P.prototype=new I,P.enabled=function(){return t.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest&&!/opera/i.test(navigator.userAgent)},P.roundTrips=2,P.need_body=!0;var N=C["xdr-streaming"]=function(e,t){this.run(e,t,"/xhr_streaming",re,n.XDRObject)};N.prototype=new I,N.enabled=function(){return!!t.XDomainRequest},N.roundTrips=2;var j=C["xhr-polling"]=function(e,t){this.run(e,t,"/xhr",re,n.XHRCorsObject)};j.prototype=new I,j.enabled=P.enabled,j.roundTrips=2;var A=C["xdr-polling"]=function(e,t){this.run(e,t,"/xhr",re,n.XDRObject)};A.prototype=new I,A.enabled=N.enabled,A.roundTrips=2;var B=function(){};B.prototype.i_constructor=function(e,t,r){var o=this;o.ri=e,o.origin=n.getOrigin(r),o.base_url=r,o.trans_url=t;var i=r+"/iframe.html";o.ri._options.devel&&(i+="?t="+ +new Date),o.window_id=n.random_string(8),i+="#"+o.window_id,o.iframeObj=n.createIframe(i,function(e){o.ri._didClose(1006,"Unable to load an iframe ("+e+")")}),o.onmessage_cb=n.bind(o.onmessage,o),n.attachMessage(o.onmessage_cb)},B.prototype.doCleanup=function(){var e=this;if(e.iframeObj){n.detachMessage(e.onmessage_cb);try{e.iframeObj.iframe.contentWindow&&e.postMessage("c")}catch(e){}e.iframeObj.cleanup(),e.iframeObj=null,e.onmessage_cb=e.iframeObj=null}},B.prototype.onmessage=function(e){var t=this;if(e.origin===t.origin){var n=e.data.slice(0,8),r=e.data.slice(8,9),o=e.data.slice(9);if(n===t.window_id)switch(r){case"s":t.iframeObj.loaded(),t.postMessage("s",JSON.stringify([C.version,t.protocol,t.trans_url,t.base_url]));break;case"t":t.ri._didMessage(o)}}},B.prototype.postMessage=function(e,t){var n=this;n.iframeObj.post(n.window_id+e+(t||""),n.origin)},B.prototype.doSend=function(e){this.postMessage("m",e)},B.enabled=function(){var e=navigator&&navigator.userAgent&&navigator.userAgent.indexOf("Konqueror")!==-1;return("function"==typeof t.postMessage||"object"==typeof t.postMessage)&&!e};var U,W=function(e,r){parent!==t?parent.postMessage(U+e+(r||""),"*"):n.log("Can't postMessage, no parent window.",e,r)},F=function(){};F.prototype._didClose=function(e,t){W("t",n.closeFrame(e,t))},F.prototype._didMessage=function(e){W("t",e)},F.prototype._doSend=function(e){this._transport.doSend(e)},F.prototype._doCleanup=function(){this._transport.doCleanup()},n.parent_origin=void 0,C.bootstrap_iframe=function(){var r;U=e.location.hash.slice(1);var o=function(e){if(e.source===parent&&("undefined"==typeof n.parent_origin&&(n.parent_origin=e.origin),e.origin===n.parent_origin)){var o=e.data.slice(0,8),i=e.data.slice(8,9),s=e.data.slice(9);if(o===U)switch(i){case"s":var a=JSON.parse(s),u=a[0],c=a[1],d=a[2],l=a[3];if(u!==C.version&&n.log('Incompatibile SockJS! Main site uses: "'+u+'", the iframe: "'+C.version+'".'),!n.flatUrl(d)||!n.flatUrl(l))return void n.log("Only basic urls are supported in SockJS");if(!n.isSameOriginUrl(d)||!n.isSameOriginUrl(l))return void n.log("Can't connect to different domain from within an iframe. ("+JSON.stringify([t.location.href,d,l])+")");r=new F,r._transport=new F[c](r,d,l);break;case"m":r._doSend(s);break;case"c":r&&r._doCleanup(),r=null}}};n.attachMessage(o),W("s")};var L=function(e,t){var r=this;n.delay(function(){r.doXhr(e,t)})};L.prototype=new i(["finish"]),L.prototype.doXhr=function(e,t){var r=this,o=(new Date).getTime(),i=new t("GET",e+"/info?cb="+n.random_string(10)),s=n.delay(8e3,function(){i.ontimeout()});i.onfinish=function(e,t){if(clearTimeout(s),s=null,200===e){var n=(new Date).getTime()-o,i=JSON.parse(t);"object"!=typeof i&&(i={}),r.emit("finish",i,n)}else r.emit("finish")},i.ontimeout=function(){i.close(),r.emit("finish")}};var H=function(t){var r=this,o=function(){var e=new B;e.protocol="w-iframe-info-receiver";var n=function(t){if("string"==typeof t&&"m"===t.substr(0,1)){var n=JSON.parse(t.substr(1)),o=n[0],i=n[1];r.emit("finish",o,i)}else r.emit("finish");e.doCleanup(),e=null},o={_options:{},_didClose:n,_didMessage:n};e.i_constructor(o,t,t)};e.body?o():n.attachEvent("load",o)};H.prototype=new i(["finish"]);var X=function(){var e=this;n.delay(function(){e.emit("finish",{},2e3)})};X.prototype=new i(["finish"]);var J=function(e){if(n.isSameOriginUrl(e))return new L(e,n.XHRLocalObject);switch(n.isXHRCorsCapable()){case 1:return new L(e,n.XHRLocalObject);case 2:return n.isSameOriginScheme(e)?new L(e,n.XDRObject):new X;case 3:return new H(e);default:return new X}},V=F["w-iframe-info-receiver"]=function(e,t,r){var o=new L(r,n.XHRLocalObject);o.onfinish=function(t,n){e._didMessage("m"+JSON.stringify([t,n])),e._didClose()}};V.prototype.doCleanup=function(){};var q=C["iframe-eventsource"]=function(){var e=this;e.protocol="w-iframe-eventsource",e.i_constructor.apply(e,arguments)};q.prototype=new B,q.enabled=function(){return"EventSource"in t&&B.enabled()},q.need_body=!0,q.roundTrips=3;var G=F["w-iframe-eventsource"]=function(e,t){this.run(e,t,"/eventsource",Z,n.XHRLocalObject)};G.prototype=new I;var Q=C["iframe-xhr-polling"]=function(){var e=this;e.protocol="w-iframe-xhr-polling",e.i_constructor.apply(e,arguments)};Q.prototype=new B,Q.enabled=function(){return t.XMLHttpRequest&&B.enabled()},Q.need_body=!0,Q.roundTrips=3;var z=F["w-iframe-xhr-polling"]=function(e,t){this.run(e,t,"/xhr",re,n.XHRLocalObject)};z.prototype=new I;var $=C["iframe-htmlfile"]=function(){var e=this;e.protocol="w-iframe-htmlfile",e.i_constructor.apply(e,arguments)};$.prototype=new B,$.enabled=function(){return B.enabled()},$.need_body=!0,$.roundTrips=3;var Y=F["w-iframe-htmlfile"]=function(e,t){this.run(e,t,"/htmlfile",ne,n.XHRLocalObject)};Y.prototype=new I;var K=function(e,t,n,r){var o=this;o.ri=e,o.Receiver=t,o.recv_url=n,o.AjaxObject=r,o._scheduleRecv()};K.prototype._scheduleRecv=function(){var e=this,t=e.poll=new e.Receiver(e.recv_url,e.AjaxObject),n=0;t.onmessage=function(t){n+=1,e.ri._didMessage(t.data)},t.onclose=function(n){e.poll=t=t.onmessage=t.onclose=null,e.poll_is_closing||("permanent"===n.reason?e.ri._didClose(1006,"Polling error ("+n.reason+")"):e._scheduleRecv())}},K.prototype.abort=function(){var e=this;e.poll_is_closing=!0,e.poll&&e.poll.abort()};var Z=function(e){var t=this,r=new EventSource(e);r.onmessage=function(e){t.dispatchEvent(new o("message",{data:unescape(e.data)}))},t.es_close=r.onerror=function(e,i){var s=i?"user":2!==r.readyState?"network":"permanent";t.es_close=r.onmessage=r.onerror=null,r.close(),r=null,n.delay(200,function(){t.dispatchEvent(new o("close",{reason:s}))})}};Z.prototype=new r,Z.prototype.abort=function(){var e=this;e.es_close&&e.es_close({},!0)};var ee,te=function(){if(void 0===ee)if("ActiveXObject"in t)try{ee=!!new ActiveXObject("htmlfile")}catch(e){}else ee=!1;return ee},ne=function(e){var r=this;n.polluteGlobalNamespace(),r.id="a"+n.random_string(6,26),e+=(e.indexOf("?")===-1?"?":"&")+"c="+escape(a+"."+r.id);var i=te()?n.createHtmlfile:n.createIframe,s;t[a][r.id]={start:function(){s.loaded()},message:function(e){r.dispatchEvent(new o("message",{data:e}))},stop:function(){r.iframe_close({},"network")}},r.iframe_close=function(e,n){s.cleanup(),r.iframe_close=s=null,delete t[a][r.id],r.dispatchEvent(new o("close",{reason:n}))},s=i(e,function(e){r.iframe_close({},"permanent")})};ne.prototype=new r,ne.prototype.abort=function(){var e=this;e.iframe_close&&e.iframe_close({},"user")};var re=function(e,t){var n=this,r=0;n.xo=new t("POST",e,null),n.xo.onchunk=function(e,t){if(200===e)for(;;){var i=t.slice(r),s=i.indexOf("\n");if(s===-1)break;r+=s+1;var a=i.slice(0,s);n.dispatchEvent(new o("message",{data:a}))}},n.xo.onfinish=function(e,t){n.xo.onchunk(e,t),n.xo=null;var r=200===e?"network":"permanent";n.dispatchEvent(new o("close",{reason:r}))}};return re.prototype=new r,re.prototype.abort=function(){var e=this;e.xo&&(e.xo.close(),e.dispatchEvent(new o("close",{reason:"user"})),e.xo=null)},C.getUtils=function(){return n},C.getIframeTransport=function(){return B},C}(),"_sockjs_onload"in window&&setTimeout(_sockjs_onload,1),"function"==typeof define&&define.amd&&define("sockjs",[],function(){return g})}.call(this),function(){v.ClientStream=function(e,t){var n=this;n.options=a.extend({retry:!0},t),n._initCommon(n.options),n.HEARTBEAT_TIMEOUT=1e5,n.rawUrl=e,n.socket=null,n.heartbeatTimer=null,"undefined"!=typeof window&&window.addEventListener&&window.addEventListener("online",a.bind(n._online,n),!1),n._launchConnection()},a.extend(v.ClientStream.prototype,{send:function(e){var t=this;t.currentStatus.connected&&t.socket.send(e)},_changeUrl:function(e){var t=this;t.rawUrl=e},_connected:function(){var e=this;e.connectionTimer&&(clearTimeout(e.connectionTimer),e.connectionTimer=null),e.currentStatus.connected||(e.currentStatus.status="connected",e.currentStatus.connected=!0,e.currentStatus.retryCount=0,e.statusChanged(),a.each(e.eventCallbacks.reset,function(e){e()}))},_cleanup:function(e){var t=this;t._clearConnectionAndHeartbeatTimers(),t.socket&&(t.socket.onmessage=t.socket.onclose=t.socket.onerror=t.socket.onheartbeat=function(){},t.socket.close(),t.socket=null),a.each(t.eventCallbacks.disconnect,function(t){t(e)})},_clearConnectionAndHeartbeatTimers:function(){var e=this;e.connectionTimer&&(clearTimeout(e.connectionTimer),e.connectionTimer=null),e.heartbeatTimer&&(clearTimeout(e.heartbeatTimer),e.heartbeatTimer=null)},_heartbeat_timeout:function(){var t=this;e._debug("Connection timeout. No sockjs heartbeat received."),t._lostConnection(new h.ConnectionError("Heartbeat timed out"))},_heartbeat_received:function(){var e=this;e._forcedToDisconnect||(e.heartbeatTimer&&clearTimeout(e.heartbeatTimer),e.heartbeatTimer=setTimeout(a.bind(e._heartbeat_timeout,e),e.HEARTBEAT_TIMEOUT));
},_sockjsProtocolsWhitelist:function(){var e=["xdr-polling","xhr-polling","iframe-xhr-polling","jsonp-polling"],t=navigator&&/iPhone|iPad|iPod/.test(navigator.userAgent)&&/OS 4_|OS 5_/.test(navigator.userAgent);return t||(e=["websocket"].concat(e)),e},_launchConnection:function(){var t=this;t._cleanup();var n=a.extend({protocols_whitelist:t._sockjsProtocolsWhitelist()},t.options._sockjsOptions);t.socket=new g(b(t.rawUrl),(void 0),n),t.socket.onopen=function(e){t._connected()},t.socket.onmessage=function(e){t._heartbeat_received(),t.currentStatus.connected&&a.each(t.eventCallbacks.message,function(t){t(e.data)})},t.socket.onclose=function(){t._lostConnection()},t.socket.onerror=function(){e._debug("stream error",a.toArray(arguments),(new Date).toDateString())},t.socket.onheartbeat=function(){t._heartbeat_received()},t.connectionTimer&&clearTimeout(t.connectionTimer),t.connectionTimer=setTimeout(function(){t._lostConnection(new h.ConnectionError("DDP connection timed out"))},t.CONNECT_TIMEOUT)}})}.call(this),function(){var t=function(e,t){return e.length>=t.length&&e.substring(0,t.length)===t},n=function(e,t){return e.length>=t.length&&e.substring(e.length-t.length)===t},r=function(r,o,s){o||(o="http");var a=r.match(/^ddp(i?)\+sockjs:\/\//),u=r.match(/^http(s?):\/\//),c;if(a){var d=r.substr(a[0].length);c="i"===a[1]?o:o+"s";var l=d.indexOf("/"),f=l===-1?d:d.substr(0,l),_=l===-1?"":d.substr(l);return f=f.replace(/\*/g,function(){return Math.floor(10*i.fraction())}),c+"://"+f+_}if(u){c=u[1]?o+"s":o;var p=r.substr(u[0].length);r=c+"://"+p}return r.indexOf("://")!==-1||t(r,"/")||(r=o+"://"+r),r=e._relativeToSiteRootUrl(r),n(r,"/")?r+s:r+"/"+s};b=function(e){return r(e,"http","sockjs")},y=function(e){var t=r(e,"ws","websocket");return t},v.toSockjsUrl=b,a.extend(v.ClientStream.prototype,{on:function(e,t){var n=this;if("message"!==e&&"reset"!==e&&"disconnect"!==e)throw new Error("unknown event type: "+e);n.eventCallbacks[e]||(n.eventCallbacks[e]=[]),n.eventCallbacks[e].push(t)},_initCommon:function(e){var t=this;e=e||{},t.CONNECT_TIMEOUT=e.connectTimeoutMs||1e4,t.eventCallbacks={},t._forcedToDisconnect=!1,t.currentStatus={status:"connecting",connected:!1,retryCount:0},t.statusListeners="undefined"!=typeof u&&new u.Dependency,t.statusChanged=function(){t.statusListeners&&t.statusListeners.changed()},t._retry=new d,t.connectionTimer=null},reconnect:function(e){var t=this;return e=e||{},e.url&&t._changeUrl(e.url),e._sockjsOptions&&(t.options._sockjsOptions=e._sockjsOptions),t.currentStatus.connected?void((e._force||e.url)&&t._lostConnection(new h.ForcedReconnectError)):("connecting"===t.currentStatus.status&&t._lostConnection(),t._retry.clear(),t.currentStatus.retryCount-=1,void t._retryNow())},disconnect:function(e){var t=this;e=e||{},t._forcedToDisconnect||(e._permanent&&(t._forcedToDisconnect=!0),t._cleanup(),t._retry.clear(),t.currentStatus={status:e._permanent?"failed":"offline",connected:!1,retryCount:0},e._permanent&&e._error&&(t.currentStatus.reason=e._error),t.statusChanged())},_lostConnection:function(e){var t=this;t._cleanup(e),t._retryLater(e)},_online:function(){"offline"!=this.currentStatus.status&&this.reconnect()},_retryLater:function(e){var t=this,n=0;t.options.retry||e&&"DDP.ForcedReconnectError"===e.errorType?(n=t._retry.retryLater(t.currentStatus.retryCount,a.bind(t._retryNow,t)),t.currentStatus.status="waiting",t.currentStatus.retryTime=(new Date).getTime()+n):(t.currentStatus.status="failed",delete t.currentStatus.retryTime),t.currentStatus.connected=!1,t.statusChanged()},_retryNow:function(){var e=this;e._forcedToDisconnect||(e.currentStatus.retryCount+=1,e.currentStatus.status="connecting",e.currentStatus.connected=!1,delete e.currentStatus.retryTime,e.statusChanged(),e._launchConnection())},status:function(){var e=this;return e.statusListeners&&e.statusListeners.depend(),e.currentStatus}}),h.ConnectionError=e.makeErrorType("DDP.ConnectionError",function(e){var t=this;t.message=e}),h.ForcedReconnectError=e.makeErrorType("DDP.ForcedReconnectError",function(){})}.call(this),function(){v.SUPPORTED_DDP_VERSIONS=f.SUPPORTED_DDP_VERSIONS,h._CurrentInvocation=new e.EnvironmentVariable}.call(this),function(){h.randomStream=function(e){var t=h._CurrentInvocation.get();return f.RandomStream.get(t,e)}}.call(this),function(){if(e.isServer)var t=Npm.require("path"),n=Npm.require("fibers"),r=Npm.require(t.join("fibers","future"));var o=function(t,n){var r=this;n=a.extend({onConnected:function(){},onDDPVersionNegotiationFailure:function(t){e._debug(t)},heartbeatInterval:17500,heartbeatTimeout:15e3,npmFayeOptions:{},reloadWithOutstanding:!1,supportedDDPVersions:f.SUPPORTED_DDP_VERSIONS,retry:!0,respondToPings:!0,bufferedWritesInterval:5,bufferedWritesMaxAge:500},n),r.onReconnect=null,"object"==typeof t?r._stream=t:r._stream=new v.ClientStream(t,{retry:n.retry,headers:n.headers,_sockjsOptions:n._sockjsOptions,_dontPrintErrors:n._dontPrintErrors,connectTimeoutMs:n.connectTimeoutMs,npmFayeOptions:n.npmFayeOptions}),r._lastSessionId=null,r._versionSuggestion=null,r._version=null,r._stores={},r._methodHandlers={},r._nextMethodId=1,r._supportedDDPVersions=n.supportedDDPVersions,r._heartbeatInterval=n.heartbeatInterval,r._heartbeatTimeout=n.heartbeatTimeout,r._methodInvokers={},r._outstandingMethodBlocks=[],r._documentsWrittenByStub={},r._serverDocuments={},r._afterUpdateCallbacks=[],r._messagesBufferedUntilQuiescence=[],r._methodsBlockingQuiescence={},r._subsBeingRevived={},r._resetStores=!1,r._updatesForUnknownStores={},r._retryMigrate=null,r.__flushBufferedWrites=e.bindEnvironment(r._flushBufferedWrites,"flushing DDP buffered writes",r),r._bufferedWrites={},r._bufferedWritesFlushAt=null,r._bufferedWritesFlushHandle=null,r._bufferedWritesInterval=n.bufferedWritesInterval,r._bufferedWritesMaxAge=n.bufferedWritesMaxAge,r._subscriptions={},r._userId=null,r._userIdDeps=new u.Dependency,e.isClient&&Package.reload&&!n.reloadWithOutstanding&&Package.reload.Reload._onMigrate(function(e){if(r._readyToMigrate())return[!0];if(r._retryMigrate)throw new Error("Two migrations in progress?");return r._retryMigrate=e,!1});var o=function(t){try{var o=f.parseDDP(t)}catch(t){return void e._debug("Exception while parsing DDP",t)}if(r._heartbeat&&r._heartbeat.messageReceived(),null===o||!o.msg)return void(o&&o.server_id||e._debug("discarding invalid livedata message",o));if("connected"===o.msg)r._version=r._versionSuggestion,r._livedata_connected(o),n.onConnected();else if("failed"===o.msg)if(a.contains(r._supportedDDPVersions,o.version))r._versionSuggestion=o.version,r._stream.reconnect({_force:!0});else{var i="DDP version negotiation failed; server requested version "+o.version;r._stream.disconnect({_permanent:!0,_error:i}),n.onDDPVersionNegotiationFailure(i)}else"ping"===o.msg&&n.respondToPings?r._send({msg:"pong",id:o.id}):"pong"===o.msg||(a.include(["added","changed","removed","ready","updated"],o.msg)?r._livedata_data(o):"nosub"===o.msg?r._livedata_nosub(o):"result"===o.msg?r._livedata_result(o):"error"===o.msg?r._livedata_error(o):e._debug("discarding unknown livedata message type",o))},i=function(){var t={msg:"connect"};r._lastSessionId&&(t.session=r._lastSessionId),t.version=r._versionSuggestion||r._supportedDDPVersions[0],r._versionSuggestion=t.version,t.support=r._supportedDDPVersions,r._send(t),r._outstandingMethodBlocks.length>0&&a.each(r._outstandingMethodBlocks[0].methods,function(t){if(t.sentMessage&&t.noRetry){for(var n=r._outstandingMethodBlocks[0].methods,o,i=0;i<n.length&&(o=n[i],o.methodId!==t.methodId);i++);n.splice(i,1),t.receiveResult(new e.Error("invocation-failed","Method invocation might have failed due to dropped connection. Failing because `noRetry` option was passed to Meteor.apply."))}}),!a.isEmpty(r._outstandingMethodBlocks)&&a.isEmpty(r._outstandingMethodBlocks[0].methods)&&r._outstandingMethodBlocks.shift(),a.each(r._methodInvokers,function(e){e.sentMessage=!1}),r.onReconnect?r._callOnReconnectAndSendAppropriateOutstandingMethods():r._sendOutstandingMethods(),a.each(r._subscriptions,function(e,t){r._send({msg:"sub",id:t,name:e.name,params:e.params})})},s=function(){r._heartbeat&&(r._heartbeat.stop(),r._heartbeat=null)};e.isServer?(r._stream.on("message",e.bindEnvironment(o,"handling DDP message")),r._stream.on("reset",e.bindEnvironment(i,"handling DDP reset")),r._stream.on("disconnect",e.bindEnvironment(s,"handling DDP disconnect"))):(r._stream.on("message",o),r._stream.on("reset",i),r._stream.on("disconnect",s))},c=function(e){var t=this;t.methodId=e.methodId,t.sentMessage=!1,t._callback=e.callback,t._connection=e.connection,t._message=e.message,t._onResultReceived=e.onResultReceived||function(){},t._wait=e.wait,t.noRetry=e.noRetry,t._methodResult=null,t._dataVisible=!1,t._connection._methodInvokers[t.methodId]=t};a.extend(c.prototype,{sendMessage:function(){var e=this;if(e.gotResult())throw new Error("sendingMethod is called on method with result");e._dataVisible=!1,e.sentMessage=!0,e._wait&&(e._connection._methodsBlockingQuiescence[e.methodId]=!0),e._connection._send(e._message)},_maybeInvokeCallback:function(){var e=this;e._methodResult&&e._dataVisible&&(e._callback(e._methodResult[0],e._methodResult[1]),delete e._connection._methodInvokers[e.methodId],e._connection._outstandingMethodFinished())},receiveResult:function(e,t){var n=this;if(n.gotResult())throw new Error("Methods should only receive results once");n._methodResult=[e,t],n._onResultReceived(e,t),n._maybeInvokeCallback()},dataVisible:function(){var e=this;e._dataVisible=!0,e._maybeInvokeCallback()},gotResult:function(){var e=this;return!!e._methodResult}}),a.extend(o.prototype,{registerStore:function(e,t){var n=this;if(e in n._stores)return!1;var r={};a.each(["update","beginUpdate","endUpdate","saveOriginals","retrieveOriginals","getDoc","_getCollection"],function(e){r[e]=function(){return t[e]?t[e].apply(t,arguments):void 0}}),n._stores[e]=r;var o=n._updatesForUnknownStores[e];return o&&(r.beginUpdate(o.length,!1),a.each(o,function(e){r.update(e)}),r.endUpdate(),delete n._updatesForUnknownStores[e]),!0},subscribe:function(e){var t=this,n=Array.prototype.slice.call(arguments,1),r={};if(n.length){var o=n[n.length-1];a.isFunction(o)?r.onReady=n.pop():o&&a.any([o.onReady,o.onError,o.onStop],a.isFunction)&&(r=n.pop())}var c=a.find(t._subscriptions,function(t){return t.inactive&&t.name===e&&s.equals(t.params,n)}),d;c?(d=c.id,c.inactive=!1,r.onReady&&(c.ready||(c.readyCallback=r.onReady)),r.onError&&(c.errorCallback=r.onError),r.onStop&&(c.stopCallback=r.onStop)):(d=i.id(),t._subscriptions[d]={id:d,name:e,params:s.clone(n),inactive:!1,ready:!1,readyDeps:new u.Dependency,readyCallback:r.onReady,errorCallback:r.onError,stopCallback:r.onStop,connection:t,remove:function(){delete this.connection._subscriptions[this.id],this.ready&&this.readyDeps.changed()},stop:function(){this.connection._send({msg:"unsub",id:d}),this.remove(),r.onStop&&r.onStop()}},t._send({msg:"sub",id:d,name:e,params:n}));var l={stop:function(){a.has(t._subscriptions,d)&&t._subscriptions[d].stop()},ready:function(){if(!a.has(t._subscriptions,d))return!1;var e=t._subscriptions[d];return e.readyDeps.depend(),e.ready},subscriptionId:d};return u.active&&u.onInvalidate(function(e){a.has(t._subscriptions,d)&&(t._subscriptions[d].inactive=!0),u.afterFlush(function(){a.has(t._subscriptions,d)&&t._subscriptions[d].inactive&&l.stop()})}),l},_subscribeAndWait:function(e,t,n){var o=this,i=new r,s=!1,a;return t=t||[],t.push({onReady:function(){s=!0,i.return()},onError:function(e){s?n&&n.onLateError&&n.onLateError(e):i.throw(e)}}),a=o.subscribe.apply(o,[e].concat(t)),i.wait(),a},methods:function(e){var t=this;a.each(e,function(e,n){if("function"!=typeof e)throw new Error("Method '"+n+"' must be a function");if(t._methodHandlers[n])throw new Error("A method named '"+n+"' is already defined");t._methodHandlers[n]=e})},call:function(e){var t=Array.prototype.slice.call(arguments,1);if(t.length&&"function"==typeof t[t.length-1])var n=t.pop();return this.apply(e,t,n)},apply:function(t,n,o,i){var u=this;i||"function"!=typeof o||(i=o,o={}),o=o||{},i&&(i=e.bindEnvironment(i,"delivering result of invoking '"+t+"'")),n=s.clone(n);var d=function(){var e;return function(){return void 0===e&&(e=""+u._nextMethodId++),e}}(),l=h._CurrentInvocation.get(),_=l&&l.isSimulation,p=null,v=function(){return null===p&&(p=f.makeRpcSeed(l,t)),p},m=u._methodHandlers[t];if(m){var g=function(e){u.setUserId(e)},b=new f.MethodInvocation({isSimulation:!0,userId:u.userId(),setUserId:g,randomSeed:function(){return v()}});_||u._saveOriginals();try{var y=h._CurrentInvocation.withValue(b,function(){return e.isServer?e._noYieldsAllowed(function(){return m.apply(b,s.clone(n))}):m.apply(b,s.clone(n))})}catch(e){var w=e}_||u._retrieveAndStoreOriginals(d())}if(_){if(i)return void i(w,y);if(w)throw w;return y}if(w){if(o.throwStubExceptions)throw w;w.expected||e._debug("Exception while simulating the effect of invoking '"+t+"'",w,w.stack)}if(!i)if(e.isClient)i=function(n){n&&e._debug("Error invoking Method '"+t+"':",n.message)};else{var S=new r;i=S.resolver()}var k={msg:"method",method:t,params:n,id:d()};null!==p&&(k.randomSeed=p);var C=new c({methodId:d(),callback:i,connection:u,onResultReceived:o.onResultReceived,wait:!!o.wait,message:k,noRetry:!!o.noRetry});return o.wait?u._outstandingMethodBlocks.push({wait:!0,methods:[C]}):((a.isEmpty(u._outstandingMethodBlocks)||a.last(u._outstandingMethodBlocks).wait)&&u._outstandingMethodBlocks.push({wait:!1,methods:[]}),a.last(u._outstandingMethodBlocks).methods.push(C)),1===u._outstandingMethodBlocks.length&&C.sendMessage(),S?S.wait():o.returnStubValue?y:void 0},_saveOriginals:function(){var e=this;a.each(e._stores,function(e){e.saveOriginals()})},_retrieveAndStoreOriginals:function(e){var t=this;if(t._documentsWrittenByStub[e])throw new Error("Duplicate methodId in _retrieveAndStoreOriginals");var n=[];a.each(t._stores,function(r,o){var i=r.retrieveOriginals();i&&i.forEach(function(r,i){n.push({collection:o,id:i}),a.has(t._serverDocuments,o)||(t._serverDocuments[o]=new m);var s=t._serverDocuments[o].setDefault(i,{});s.writtenByStubs?s.writtenByStubs[e]=!0:(s.document=r,s.flushCallbacks=[],s.writtenByStubs={},s.writtenByStubs[e]=!0)})}),a.isEmpty(n)||(t._documentsWrittenByStub[e]=n)},_unsubscribeAll:function(){var e=this;a.each(a.clone(e._subscriptions),function(t,n){"meteor_autoupdate_clientVersions"!==t.name&&e._subscriptions[n].stop()})},_send:function(e){var t=this;t._stream.send(f.stringifyDDP(e))},_lostConnection:function(e){var t=this;t._stream._lostConnection(e)},status:function(){var e=this;return e._stream.status.apply(e._stream,arguments)},reconnect:function(){var e=this;return e._stream.reconnect.apply(e._stream,arguments)},disconnect:function(){var e=this;return e._stream.disconnect.apply(e._stream,arguments)},close:function(){var e=this;return e._stream.disconnect({_permanent:!0})},userId:function(){var e=this;return e._userIdDeps&&e._userIdDeps.depend(),e._userId},setUserId:function(e){var t=this;t._userId!==e&&(t._userId=e,t._userIdDeps&&t._userIdDeps.changed())},_waitingForQuiescence:function(){var e=this;return!a.isEmpty(e._subsBeingRevived)||!a.isEmpty(e._methodsBlockingQuiescence)},_anyMethodsAreOutstanding:function(){var e=this;return a.any(a.pluck(e._methodInvokers,"sentMessage"))},_livedata_connected:function(e){var t=this;if("pre1"!==t._version&&0!==t._heartbeatInterval&&(t._heartbeat=new f.Heartbeat({heartbeatInterval:t._heartbeatInterval,heartbeatTimeout:t._heartbeatTimeout,onTimeout:function(){t._lostConnection(new h.ConnectionError("DDP heartbeat timed out"))},sendPing:function(){t._send({msg:"ping"})}}),t._heartbeat.start()),t._lastSessionId&&(t._resetStores=!0),"string"==typeof e.session){var n=t._lastSessionId===e.session;t._lastSessionId=e.session}n||(t._updatesForUnknownStores={},t._resetStores&&(t._documentsWrittenByStub={},t._serverDocuments={}),t._afterUpdateCallbacks=[],t._subsBeingRevived={},a.each(t._subscriptions,function(e,n){e.ready&&(t._subsBeingRevived[n]=!0)}),t._methodsBlockingQuiescence={},t._resetStores&&a.each(t._methodInvokers,function(e){e.gotResult()?t._afterUpdateCallbacks.push(a.bind(e.dataVisible,e)):e.sentMessage&&(t._methodsBlockingQuiescence[e.methodId]=!0)}),t._messagesBufferedUntilQuiescence=[],t._waitingForQuiescence()||(t._resetStores&&(a.each(t._stores,function(e){e.beginUpdate(0,!0),e.endUpdate()}),t._resetStores=!1),t._runAfterUpdateCallbacks()))},_processOneDataMessage:function(e,t){var n=this;n["_process_"+e.msg](e,t)},_livedata_data:function(e){var t=this;if(t._waitingForQuiescence()){if(t._messagesBufferedUntilQuiescence.push(e),"nosub"===e.msg&&delete t._subsBeingRevived[e.id],a.each(e.subs||[],function(e){delete t._subsBeingRevived[e]}),a.each(e.methods||[],function(e){delete t._methodsBlockingQuiescence[e]}),t._waitingForQuiescence())return;a.each(t._messagesBufferedUntilQuiescence,function(e){t._processOneDataMessage(e,t._bufferedWrites)}),t._messagesBufferedUntilQuiescence=[]}else t._processOneDataMessage(e,t._bufferedWrites);var n=a.include(["added","changed","removed"],e.msg);if(0===t._bufferedWritesInterval||!n)return void t._flushBufferedWrites();if(null===t._bufferedWritesFlushAt)t._bufferedWritesFlushAt=(new Date).valueOf()+t._bufferedWritesMaxAge;else if(t._bufferedWritesFlushAt<(new Date).valueOf())return void t._flushBufferedWrites();t._bufferedWritesFlushHandle&&clearTimeout(t._bufferedWritesFlushHandle),t._bufferedWritesFlushHandle=setTimeout(t.__flushBufferedWrites,t._bufferedWritesInterval)},_flushBufferedWrites:function(){var e=this;e._bufferedWritesFlushHandle&&(clearTimeout(e._bufferedWritesFlushHandle),e._bufferedWritesFlushHandle=null),e._bufferedWritesFlushAt=null;var t=e._bufferedWrites;e._bufferedWrites={},e._performWrites(t)},_performWrites:function(e){var t=this;!t._resetStores&&a.isEmpty(e)||(a.each(t._stores,function(n,r){n.beginUpdate(a.has(e,r)?e[r].length:0,t._resetStores)}),t._resetStores=!1,a.each(e,function(e,n){var r=t._stores[n];r?a.each(e,function(e){r.update(e)}):(a.has(t._updatesForUnknownStores,n)||(t._updatesForUnknownStores[n]=[]),Array.prototype.push.apply(t._updatesForUnknownStores[n],e))}),a.each(t._stores,function(e){e.endUpdate()})),t._runAfterUpdateCallbacks()},_runAfterUpdateCallbacks:function(){var e=this,t=e._afterUpdateCallbacks;e._afterUpdateCallbacks=[],a.each(t,function(e){e()})},_pushUpdate:function(e,t,n){var r=this;a.has(e,t)||(e[t]=[]),e[t].push(n)},_getServerDoc:function(e,t){var n=this;if(!a.has(n._serverDocuments,e))return null;var r=n._serverDocuments[e];return r.get(t)||null},_process_added:function(e,t){var n=this,r=p.idParse(e.id),o=n._getServerDoc(e.collection,r);if(o){var i=void 0!==o.document;if(o.document=e.fields||{},o.document._id=r,n._resetStores){var s=n._stores[e.collection].getDoc(e.id);void 0!==s&&(e.fields=s),n._pushUpdate(t,e.collection,e)}else if(i)throw new Error("Server sent add for existing id: "+e.id)}else n._pushUpdate(t,e.collection,e)},_process_changed:function(e,t){var n=this,r=n._getServerDoc(e.collection,p.idParse(e.id));if(r){if(void 0===r.document)throw new Error("Server sent changed for nonexisting id: "+e.id);_.applyChanges(r.document,e.fields)}else n._pushUpdate(t,e.collection,e)},_process_removed:function(e,t){var n=this,r=n._getServerDoc(e.collection,p.idParse(e.id));if(r){if(void 0===r.document)throw new Error("Server sent removed for nonexisting id:"+e.id);r.document=void 0}else n._pushUpdate(t,e.collection,{msg:"removed",collection:e.collection,id:e.id})},_process_updated:function(e,t){var n=this;a.each(e.methods,function(e){a.each(n._documentsWrittenByStub[e],function(r){var o=n._getServerDoc(r.collection,r.id);if(!o)throw new Error("Lost serverDoc for "+JSON.stringify(r));if(!o.writtenByStubs[e])throw new Error("Doc "+JSON.stringify(r)+" not written by  method "+e);delete o.writtenByStubs[e],a.isEmpty(o.writtenByStubs)&&(n._pushUpdate(t,r.collection,{msg:"replace",id:p.idStringify(r.id),replace:o.document}),a.each(o.flushCallbacks,function(e){e()}),n._serverDocuments[r.collection].remove(r.id))}),delete n._documentsWrittenByStub[e];var r=n._methodInvokers[e];if(!r)throw new Error("No callback invoker for method "+e);n._runWhenAllServerDocsAreFlushed(a.bind(r.dataVisible,r))})},_process_ready:function(e,t){var n=this;a.each(e.subs,function(e){n._runWhenAllServerDocsAreFlushed(function(){var t=n._subscriptions[e];t&&(t.ready||(t.ready=!0,t.readyCallback&&t.readyCallback(),t.readyDeps.changed()))})})},_runWhenAllServerDocsAreFlushed:function(e){var t=this,n=function(){t._afterUpdateCallbacks.push(e)},r=0,o=function(){--r,0===r&&n()};a.each(t._serverDocuments,function(e){e.forEach(function(e){var n=a.any(e.writtenByStubs,function(e,n){var r=t._methodInvokers[n];return r&&r.sentMessage});n&&(++r,e.flushCallbacks.push(o))})}),0===r&&n()},_livedata_nosub:function(t){var n=this;if(n._livedata_data(t),a.has(n._subscriptions,t.id)){var r=n._subscriptions[t.id].errorCallback,o=n._subscriptions[t.id].stopCallback;n._subscriptions[t.id].remove();var i=function(t){return t&&t.error&&new e.Error(t.error.error,t.error.reason,t.error.details)};r&&t.error&&r(i(t)),o&&o(i(t))}},_process_nosub:function(){},_livedata_result:function(t){var n=this;if(a.isEmpty(n._bufferedWrites)||n._flushBufferedWrites(),a.isEmpty(n._outstandingMethodBlocks))return void e._debug("Received method result but no methods outstanding");for(var r=n._outstandingMethodBlocks[0].methods,o,i=0;i<r.length&&(o=r[i],o.methodId!==t.id);i++);return o?(r.splice(i,1),void(a.has(t,"error")?o.receiveResult(new e.Error(t.error.error,t.error.reason,t.error.details)):o.receiveResult(void 0,t.result))):void e._debug("Can't match method response to original method call",t)},_outstandingMethodFinished:function(){var e=this;if(!e._anyMethodsAreOutstanding()){if(!a.isEmpty(e._outstandingMethodBlocks)){var t=e._outstandingMethodBlocks.shift();if(!a.isEmpty(t.methods))throw new Error("No methods outstanding but nonempty block: "+JSON.stringify(t));a.isEmpty(e._outstandingMethodBlocks)||e._sendOutstandingMethods()}e._maybeMigrate()}},_sendOutstandingMethods:function(){var e=this;a.isEmpty(e._outstandingMethodBlocks)||a.each(e._outstandingMethodBlocks[0].methods,function(e){e.sendMessage()})},_livedata_error:function(t){e._debug("Received error from server: ",t.reason),t.offendingMessage&&e._debug("For: ",t.offendingMessage)},_callOnReconnectAndSendAppropriateOutstandingMethods:function(){var e=this,t=e._outstandingMethodBlocks;if(e._outstandingMethodBlocks=[],e.onReconnect(),!a.isEmpty(t)){if(a.isEmpty(e._outstandingMethodBlocks))return e._outstandingMethodBlocks=t,void e._sendOutstandingMethods();a.last(e._outstandingMethodBlocks).wait||t[0].wait||(a.each(t[0].methods,function(t){a.last(e._outstandingMethodBlocks).methods.push(t),1===e._outstandingMethodBlocks.length&&t.sendMessage()}),t.shift()),a.each(t,function(t){e._outstandingMethodBlocks.push(t)})}},_readyToMigrate:function(){var e=this;return a.isEmpty(e._methodInvokers)},_maybeMigrate:function(){var e=this;e._retryMigrate&&e._readyToMigrate()&&(e._retryMigrate(),e._retryMigrate=null)}}),v.Connection=o,h.connect=function(e,t){var n=new o(e,t);return w.push(n),n},w=[],h._allSubscriptionsReady=function(){return a.all(w,function(e){return a.all(e._subscriptions,function(e){return e.ready})})}}.call(this),function(){if(e.refresh=function(e){},e.isClient){var t="/";"undefined"!=typeof __meteor_runtime_config__&&__meteor_runtime_config__.DDP_DEFAULT_CONNECTION_URL&&(t=__meteor_runtime_config__.DDP_DEFAULT_CONNECTION_URL);var n=new d,r=function(t){if(e._debug(t),Package.reload){var r=Package.reload.Reload._migrationData("livedata")||{},o=r.DDPVersionNegotiationFailures||0;++o,Package.reload.Reload._onMigrate("livedata",function(){return[!0,{DDPVersionNegotiationFailures:o}]}),n.retryLater(o,function(){Package.reload.Reload._reload()})}};e.connection=h.connect(t,{onDDPVersionNegotiationFailure:r}),a.each(["subscribe","methods","call","apply","status","reconnect","disconnect"],function(t){e[t]=a.bind(e.connection[t],e.connection)})}else e.connection=null;e.default_connection=e.connection,e.connect=h.connect}.call(this),"undefined"==typeof Package&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package["ddp-client"]={},{DDP:h,LivedataTest:v})}();

!function(){var a=Package["ddp-client"].DDP;"undefined"==typeof Package&&(Package={}),function(a,n){for(var e in n)e in a||(a[e]=n[e])}(Package.ddp={},{DDP:a})}();

!function(){"undefined"==typeof Package&&(Package={}),Package["ddp-server"]={}}();

!function(){var e=Package.meteor.Meteor,n=Package.meteor.global,r=Package.meteor.meteorEnv,t=Package.underscore._,o=Package.minimongo.LocalCollection,a=Package.minimongo.Minimongo,i=Package.check.check,c=Package.check.Match,l=Package.ejson.EJSON,s=Package["ddp-client"].DDP,d=Package.modules.meteorInstall,u=Package.modules.Buffer,f=Package.modules.process,h=Package["ecmascript-runtime"].Symbol,_=Package["ecmascript-runtime"].Map,m=Package["ecmascript-runtime"].Set,v=Package["babel-runtime"].meteorBabelHelpers,p=Package.promise.Promise,w,y=d({node_modules:{meteor:{"allow-deny":{"allow-deny.js":function(){function n(e,n){return e.transform?e.transform(n):n}function r(e,n,r){var t=n;return e.transform&&(t=l.clone(n),null!==r&&(t._id=r),t=e.transform(t)),t}function a(e,n,r){var a=["insert","update","remove","fetch","transform"];if(t.each(t.keys(r),function(e){if(!t.contains(a,e))throw new Error(n+": Invalid key: "+e)}),e._restricted=!0,t.each(["insert","update","remove"],function(t){if(r.hasOwnProperty(t)){if(!(r[t]instanceof Function))throw new Error(n+": Value for `"+t+"` must be a function");void 0===r.transform?r[t].transform=e._transform:r[t].transform=o.wrapTransform(r.transform),e._validators[t][n].push(r[t])}}),r.update||r.remove||r.fetch){if(r.fetch&&!(r.fetch instanceof Array))throw new Error(n+": Value for `fetch` must be an array");e._updateFetch(r.fetch)}}function d(n,r){if(!o._selectorIsIdPerhapsAsObject(n))throw new e.Error(403,"Not permitted. Untrusted code may only "+r+" documents by ID.")}function u(){var e=s._CurrentInvocation.get();return e&&e.isSimulation}w={CollectionPrototype:{}};var f=w.CollectionPrototype;f.allow=function(e){a(this,"allow",e)},f.deny=function(e){a(this,"deny",e)},f._defineMutationMethods=function(n){var r=this;n=n||{},r._restricted=!1,r._insecure=void 0,r._validators={insert:{allow:[],deny:[]},update:{allow:[],deny:[]},remove:{allow:[],deny:[]},upsert:{allow:[],deny:[]},fetch:[],fetchAllFields:!1},r._name&&(r._prefix="/"+r._name+"/",r._connection&&(r._connection===e.server||e.isClient)&&!function(){var o={};t.each(["insert","update","remove"],function(a){var l=r._prefix+a;if(n.useExisting){var s=e.isClient?"_methodHandlers":"method_handlers";if(r._connection[s]&&"function"==typeof r._connection[s][l])return}o[l]=function(){i(arguments,[c.Any]);var n=t.toArray(arguments);try{var o=null;if("insert"!==a||t.has(n[0],"_id")||(o=r._makeNewID()),this.isSimulation)return null!==o&&(n[0]._id=o),r._collection[a].apply(r._collection,n);if("insert"!==a&&d(n[0],a),r._restricted){if(0===r._validators[a].allow.length)throw new e.Error(403,"Access denied. No allow validators set on restricted collection for method '"+a+"'.");var l="_validated"+a.charAt(0).toUpperCase()+a.slice(1);return n.unshift(this.userId),"insert"===a&&n.push(o),r[l].apply(r,n)}if(r._isInsecure())return null!==o&&(n[0]._id=o),r._collection[a].apply(r._collection,n);throw new e.Error(403,"Access denied")}catch(n){throw"MongoError"===n.name||"MinimongoError"===n.name?new e.Error(409,n.toString()):n}}}),r._connection.methods(o)}())},f._updateFetch=function(e){var n=this;n._validators.fetchAllFields||(e?n._validators.fetch=t.union(n._validators.fetch,e):(n._validators.fetchAllFields=!0,n._validators.fetch=null))},f._isInsecure=function(){var e=this;return void 0===e._insecure?!!Package.insecure:e._insecure},f._validatedInsert=function(n,o,a){var i=this;if(t.any(i._validators.insert.deny,function(e){return e(n,r(e,o,a))}))throw new e.Error(403,"Access denied");if(t.all(i._validators.insert.allow,function(e){return!e(n,r(e,o,a))}))throw new e.Error(403,"Access denied");null!==a&&(o._id=a),i._collection.insert.call(i._collection,o)},f._validatedUpdate=function(r,a,c,l){var s=this;if(i(c,Object),l=t.clone(l)||{},!o._selectorIsIdPerhapsAsObject(a))throw new Error("validated update should be of a single ID");if(l.upsert)throw new e.Error(403,"Access denied. Upserts not allowed in a restricted collection.");var d="Access denied. In a restricted collection you can only update documents, not replace them. Use a Mongo update operator, such as '$set'.",u=[];if(t.isEmpty(c))throw new e.Error(403,d);t.each(c,function(n,r){if("$"!==r.charAt(0))throw new e.Error(403,d);if(!t.has(h,r))throw new e.Error(403,"Access denied. Operator "+r+" not allowed in a restricted collection.");t.each(t.keys(n),function(e){e.indexOf(".")!==-1&&(e=e.substring(0,e.indexOf("."))),t.contains(u,e)||u.push(e)})});var f={transform:null};s._validators.fetchAllFields||(f.fields={},t.each(s._validators.fetch,function(e){f.fields[e]=1}));var _=s._collection.findOne(a,f);if(!_)return 0;if(t.any(s._validators.update.deny,function(e){var t=n(e,_);return e(r,t,u,c)}))throw new e.Error(403,"Access denied");if(t.all(s._validators.update.allow,function(e){var t=n(e,_);return!e(r,t,u,c)}))throw new e.Error(403,"Access denied");return l._forbidReplace=!0,s._collection.update.call(s._collection,a,c,l)};var h={$inc:1,$set:1,$unset:1,$addToSet:1,$pop:1,$pullAll:1,$pull:1,$pushAll:1,$push:1,$bit:1};f._validatedRemove=function(r,o){var a=this,i={transform:null};a._validators.fetchAllFields||(i.fields={},t.each(a._validators.fetch,function(e){i.fields[e]=1}));var c=a._collection.findOne(o,i);if(!c)return 0;if(t.any(a._validators.remove.deny,function(e){return e(r,n(e,c))}))throw new e.Error(403,"Access denied");if(t.all(a._validators.remove.allow,function(e){return!e(r,n(e,c))}))throw new e.Error(403,"Access denied");return a._collection.remove.call(a._collection,o)},f._callMutatorMethod=function(){function n(n,r,t){!e.isClient||t||u()||(t=function(){function r(r){r&&e._debug(n+" failed: "+(r.reason||r.stack))}return r}());var o="update"===n||"remove"===n;o&&!u()&&d(r[0],n);var a=this._prefix+n;return this._connection.apply(a,r,{returnStubValue:!0},t)}return n}()}}}}},{extensions:[".js",".json"]});y("./node_modules/meteor/allow-deny/allow-deny.js"),"undefined"==typeof Package&&(Package={}),function(e,n){for(var r in n)r in e||(e[r]=n[r])}(Package["allow-deny"]={},{AllowDeny:w})}();

!function(){var e=Package.meteor.Meteor,n=Package.meteor.global,o=Package.meteor.meteorEnv,t=Package["allow-deny"].AllowDeny,r=Package.random.Random,i=Package.ejson.EJSON,c=Package.underscore._,l=Package.minimongo.LocalCollection,a=Package.minimongo.Minimongo,s=Package["ddp-client"].DDP,u=Package.tracker.Tracker,d=Package.tracker.Deps,f=Package["diff-sequence"].DiffSequence,_=Package["mongo-id"].MongoID,p=Package.check.check,m=Package.check.Match,g=Package.modules.meteorInstall,v=Package.modules.Buffer,h=Package.modules.process,w=Package["ecmascript-runtime"].Symbol,C=Package["ecmascript-runtime"].Map,y=Package["ecmascript-runtime"].Set,k=Package["babel-runtime"].meteorBabelHelpers,O=Package.promise.Promise,b,I,P=g({node_modules:{meteor:{mongo:{"local_collection_driver.js":function(){b=function e(){var n=this;n.noConnCollections={}};var e=function e(n,o){return n in o||(o[n]=new l(n)),o[n]};c.extend(b.prototype,{open:function(){function n(n,o){var t=this;return n?o?(o._mongo_livedata_collections||(o._mongo_livedata_collections={}),e(n,o._mongo_livedata_collections)):e(n,t.noConnCollections):new l}return n}()}),b=new b},"collection.js":function(n,o,i){function a(e){p(e,RegExp);var n={$regex:e.source},o="";return e.ignoreCase&&(o+="i"),e.multiline&&(o+="m"),o&&(n.$options=o),n}function u(e,n){if(e)return n=n||c.identity,function(o,t){e(o,!o&&n(t))}}function d(e){if(e.length&&(void 0===e[e.length-1]||e[e.length-1]instanceof Function))return e.pop()}I={},I.Collection=function(n,o){var t=this;if(!(t instanceof I.Collection))throw new Error('use "new" to construct a Mongo.Collection');if(n||null===n||(e._debug("Warning: creating anonymous collection. It will not be saved or synchronized over the network. (Pass null for the collection name to turn off this warning.)"),n=null),null!==n&&"string"!=typeof n)throw new Error("First argument to new Mongo.Collection must be a string or null");switch(o&&o.methods&&(o={connection:o}),o&&o.manager&&!o.connection&&(o.connection=o.manager),o=c.extend({connection:void 0,idGeneration:"STRING",transform:null,_driver:void 0,_preventAutopublish:!1},o),o.idGeneration){case"MONGO":t._makeNewID=function(){var e=n?s.randomStream("/collection/"+n):r.insecure;return new I.ObjectID(e.hexString(24))};break;case"STRING":default:t._makeNewID=function(){var e=n?s.randomStream("/collection/"+n):r.insecure;return e.id()}}if(t._transform=l.wrapTransform(o.transform),n&&null!==o.connection?o.connection?t._connection=o.connection:e.isClient?t._connection=e.connection:t._connection=e.server:t._connection=null,o._driver||(n&&t._connection===e.server&&"undefined"!=typeof MongoInternals&&MongoInternals.defaultRemoteCollectionDriver?o._driver=MongoInternals.defaultRemoteCollectionDriver():o._driver=b),t._collection=o._driver.open(n,t._connection),t._name=n,t._driver=o._driver,t._connection&&t._connection.registerStore){var i=t._connection.registerStore(n,{beginUpdate:function(){function e(e,n){(e>1||n)&&t._collection.pauseObservers(),n&&t._collection.remove({})}return e}(),update:function(){function e(e){var n=_.idParse(e.id),o=t._collection.findOne(n);if("replace"===e.msg){var r=e.replace;return void(r?o?t._collection.update(n,r):t._collection.insert(r):o&&t._collection.remove(n))}if("added"===e.msg){if(o)throw new Error("Expected not to find a document already present for an add");t._collection.insert(c.extend({_id:n},e.fields))}else if("removed"===e.msg){if(!o)throw new Error("Expected to find a document already present for removed");t._collection.remove(n)}else{if("changed"!==e.msg)throw new Error("I don't know how to deal with this message");if(!o)throw new Error("Expected to find a document to change");if(!c.isEmpty(e.fields)){var i={};c.each(e.fields,function(e,n){void 0===e?(i.$unset||(i.$unset={}),i.$unset[n]=1):(i.$set||(i.$set={}),i.$set[n]=e)}),t._collection.update(n,i)}}}return e}(),endUpdate:function(){function e(){t._collection.resumeObservers()}return e}(),saveOriginals:function(){function e(){t._collection.saveOriginals()}return e}(),retrieveOriginals:function(){function e(){return t._collection.retrieveOriginals()}return e}(),getDoc:function(){function e(e){return t.findOne(e)}return e}(),_getCollection:function(){function e(){return t}return e}()});if(!i){var a='There is already a collection named "'+n+'"';if(o._suppressSameNameError!==!0)throw new Error(a);console.warn?console.warn(a):console.log(a)}}if(o.defineMutationMethods!==!1)try{t._defineMutationMethods({useExisting:o._suppressSameNameError===!0})}catch(e){if(e.message==="A method named '/"+n+"/insert' is already defined")throw new Error('There is already a collection named "'+n+'"');throw e}Package.autopublish&&!o._preventAutopublish&&t._connection&&t._connection.publish&&t._connection.publish(null,function(){return t.find()},{is_auto:!0})},c.extend(I.Collection.prototype,{_getFindSelector:function(){function e(e){return 0==e.length?{}:e[0]}return e}(),_getFindOptions:function(){function e(e){var n=this;return e.length<2?{transform:n._transform}:(p(e[1],m.Optional(m.ObjectIncluding({fields:m.Optional(m.OneOf(Object,void 0)),sort:m.Optional(m.OneOf(Object,Array,Function,void 0)),limit:m.Optional(m.OneOf(Number,void 0)),skip:m.Optional(m.OneOf(Number,void 0))}))),c.extend({transform:n._transform},e[1]))}return e}(),find:function(){function e(){var e=this,n=c.toArray(arguments);return e._collection.find(e._getFindSelector(n),e._getFindOptions(n))}return e}(),findOne:function(){function e(){var e=this,n=c.toArray(arguments);return e._collection.findOne(e._getFindSelector(n),e._getFindOptions(n))}return e}()}),I.Collection._publishCursor=function(e,n,o){var t=e.observeChanges({added:function(){function e(e,t){n.added(o,e,t)}return e}(),changed:function(){function e(e,t){n.changed(o,e,t)}return e}(),removed:function(){function e(e){n.removed(o,e)}return e}()});return n.onStop(function(){t.stop()}),t},I.Collection._rewriteSelector=function(e){if(l._selectorIsId(e)&&(e={_id:e}),c.isArray(e))throw new Error("Mongo selector can't be an array.");if(!e||"_id"in e&&!e._id)return{_id:r.id()};var n={};return c.each(e,function(e,o){e instanceof RegExp?n[o]=a(e):e&&e.$regex instanceof RegExp?(n[o]=a(e.$regex),void 0!==e.$options&&(n[o].$options=e.$options)):c.contains(["$or","$and","$nor"],o)?n[o]=c.map(e,function(e){return I.Collection._rewriteSelector(e)}):n[o]=e}),n},I.Collection.prototype.insert=function(){function e(e,n){if(!e)throw new Error("insert requires an argument");if(e=c.extend({},e),"_id"in e){if(!e._id||!("string"==typeof e._id||e._id instanceof I.ObjectID))throw new Error("Meteor requires document _id fields to be non-empty strings or ObjectIDs")}else{var o=!0;if(this._isRemoteCollection()){var t=s._CurrentInvocation.get();t||(o=!1)}o&&(e._id=this._makeNewID())}var r=function(){function n(n){return e._id?e._id:(e._id=n,n)}return n}(),i=u(n,r);if(this._isRemoteCollection()){var l=this._callMutatorMethod("insert",[e],i);return r(l)}try{var a=this._collection.insert(e,i);return r(a)}catch(e){if(n)return n(e),null;throw e}}return e}(),I.Collection.prototype.update=function(){function e(e,n){for(var o=arguments.length,t=Array(o>2?o-2:0),r=2;r<o;r++)t[r-2]=arguments[r];var i=d(t);e=I.Collection._rewriteSelector(e);var l=c.clone(t[0])||{};if(l&&l.upsert)if(l.insertedId){if(!("string"==typeof l.insertedId||l.insertedId instanceof I.ObjectID))throw new Error("insertedId must be string or ObjectID")}else e._id||(l.insertedId=this._makeNewID());var a=u(i);if(this._isRemoteCollection()){var s=[e,n,l];return this._callMutatorMethod("update",s,a)}try{return this._collection.update(e,n,l,a)}catch(e){if(i)return i(e),null;throw e}}return e}(),I.Collection.prototype.remove=function(){function e(e,n){e=I.Collection._rewriteSelector(e);var o=u(n);if(this._isRemoteCollection())return this._callMutatorMethod("remove",[e],o);try{return this._collection.remove(e,o)}catch(e){if(n)return n(e),null;throw e}}return e}(),I.Collection.prototype._isRemoteCollection=function(){function n(){return this._connection&&this._connection!==e.server}return n}(),I.Collection.prototype.upsert=function(){function e(e,n,o,t){t||"function"!=typeof o||(t=o,o={});var r=c.extend({},o,{_returnObject:!0,upsert:!0});return this.update(e,n,r,t)}return e}(),I.Collection.prototype._ensureIndex=function(e,n){var o=this;if(!o._collection._ensureIndex)throw new Error("Can only call _ensureIndex on server collections");o._collection._ensureIndex(e,n)},I.Collection.prototype._dropIndex=function(e){var n=this;if(!n._collection._dropIndex)throw new Error("Can only call _dropIndex on server collections");n._collection._dropIndex(e)},I.Collection.prototype._dropCollection=function(){var e=this;if(!e._collection.dropCollection)throw new Error("Can only call _dropCollection on server collections");e._collection.dropCollection()},I.Collection.prototype._createCappedCollection=function(e,n){var o=this;if(!o._collection._createCappedCollection)throw new Error("Can only call _createCappedCollection on server collections");o._collection._createCappedCollection(e,n)},I.Collection.prototype.rawCollection=function(){var e=this;if(!e._collection.rawCollection)throw new Error("Can only call rawCollection on server collections");return e._collection.rawCollection()},I.Collection.prototype.rawDatabase=function(){var e=this;if(!e._driver.mongo||!e._driver.mongo.db)throw new Error("Can only call rawDatabase on server collections");return e._driver.mongo.db},I.ObjectID=_.ObjectID,I.Cursor=l.Cursor,I.Collection.Cursor=I.Cursor,I.Collection.ObjectID=I.ObjectID,e.Collection=I.Collection,c.extend(e.Collection.prototype,t.CollectionPrototype)}}}}},{extensions:[".js",".json"]});P("./node_modules/meteor/mongo/local_collection_driver.js"),P("./node_modules/meteor/mongo/collection.js"),"undefined"==typeof Package&&(Package={}),function(e,n){for(var o in n)o in e||(e[o]=n[o])}(Package.mongo={},{Mongo:I})}();

!function(){"undefined"==typeof Package&&(Package={}),Package["blaze-html-templates"]={}}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,a=Package.underscore._,i=Package.tracker.Tracker,r=Package.tracker.Deps,c=Package.ejson.EJSON,s=Package.modules.meteorInstall,o=Package.modules.Buffer,u=Package.modules.process,d=Package["ecmascript-runtime"].Symbol,f=Package["ecmascript-runtime"].Map,l=Package["ecmascript-runtime"].Set,k=Package["babel-runtime"].meteorBabelHelpers,p=Package.promise.Promise,y,g=s({node_modules:{meteor:{"reactive-dict":{"reactive-dict.js":["babel-runtime/helpers/typeof",function(e,t,n){var r;n.import("babel-runtime/helpers/typeof",{default:function(e){r=e}});var s=function e(t){return void 0===t?"undefined":c.stringify(t)},o=function e(t){if(void 0!==t&&"undefined"!==t)return c.parse(t)},u=function e(t){t&&t.changed()};y=function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){if(e)if("string"==typeof e)y._registerDictForMigrate(e,this),this.keys=y._loadMigratedDict(e)||{},this.name=e;else{if("object"!==("undefined"==typeof e?"undefined":r(e)))throw new Error("Invalid ReactiveDict argument: "+e);this.keys=e}else this.keys={};this.allDeps=new i.Dependency,this.keyDeps={},this.keyValueDeps={}}),a.extend(y.prototype,{set:function(){function e(e,t){var n=this;if("object"===("undefined"==typeof e?"undefined":r(e))&&void 0===t)return void n._setObject(e);var i=e;t=s(t);var c=a.has(n.keys,i),o=c?n.keys[i]:"undefined",d=t!==o;n.keys[i]=t,!d&&c||n.allDeps.changed(),d&&(u(n.keyDeps[i]),n.keyValueDeps[i]&&(u(n.keyValueDeps[i][o]),u(n.keyValueDeps[i][t])))}return e}(),setDefault:function(){function e(e,t){var n=this;if("object"===("undefined"==typeof e?"undefined":r(e))&&void 0===t)return void n._setDefaultObject(e);var i=e;a.has(n.keys,i)||n.set(i,t)}return e}(),get:function(){function e(e){var t=this;return t._ensureKey(e),t.keyDeps[e].depend(),o(t.keys[e])}return e}(),equals:function(){function e(e,t){var n=this,r=null;if(Package.mongo&&(r=Package.mongo.Mongo.ObjectID),!("string"==typeof t||"number"==typeof t||"boolean"==typeof t||"undefined"==typeof t||t instanceof Date||r&&t instanceof r||null===t))throw new Error("ReactiveDict.equals: value must be scalar");var u=s(t);if(i.active){n._ensureKey(e),a.has(n.keyValueDeps[e],u)||(n.keyValueDeps[e][u]=new i.Dependency);var d=n.keyValueDeps[e][u].depend();d&&i.onInvalidate(function(){n.keyValueDeps[e][u].hasDependents()||delete n.keyValueDeps[e][u]})}var f=void 0;return a.has(n.keys,e)&&(f=o(n.keys[e])),c.equals(f,t)}return e}(),all:function(){function e(){this.allDeps.depend();var e={};return a.each(this.keys,function(t,n){e[n]=o(t)}),e}return e}(),clear:function(){function e(){var e=this,t=e.keys;e.keys={},e.allDeps.changed(),a.each(t,function(t,n){u(e.keyDeps[n]),e.keyValueDeps[n]&&(u(e.keyValueDeps[n][t]),u(e.keyValueDeps[n].undefined))})}return e}(),delete:function(){function e(e){var t=this,n=!1;if(a.has(t.keys,e)){var i=t.keys[e];delete t.keys[e],u(t.keyDeps[e]),t.keyValueDeps[e]&&(u(t.keyValueDeps[e][i]),u(t.keyValueDeps[e].undefined)),t.allDeps.changed(),n=!0}return n}return e}(),_setObject:function(){function e(e){var t=this;a.each(e,function(e,n){t.set(n,e)})}return e}(),_setDefaultObject:function(){function e(e){var t=this;a.each(e,function(e,n){t.setDefault(n,e)})}return e}(),_ensureKey:function(){function e(e){var t=this;e in t.keyDeps||(t.keyDeps[e]=new i.Dependency,t.keyValueDeps[e]={})}return e}(),_getMigrationData:function(){function e(){return this.keys}return e}()})}],"migration.js":function(){if(y._migratedDictData={},y._dictsToMigrate={},y._loadMigratedDict=function(e){return a.has(y._migratedDictData,e)?y._migratedDictData[e]:null},y._registerDictForMigrate=function(e,t){if(a.has(y._dictsToMigrate,e))throw new Error("Duplicate ReactiveDict name: "+e);y._dictsToMigrate[e]=t},e.isClient&&Package.reload){var t=Package.reload.Reload._migrationData("reactive-dict");t&&t.dicts&&(y._migratedDictData=t.dicts),Package.reload.Reload._onMigrate("reactive-dict",function(){var e=y._dictsToMigrate,t={};for(var n in k.sanitizeForInObject(e))t[n]=e[n]._getMigrationData();return[!0,{dicts:t}]})}}}}}},{extensions:[".js",".json"]});g("./node_modules/meteor/reactive-dict/reactive-dict.js"),g("./node_modules/meteor/reactive-dict/migration.js"),"undefined"==typeof Package&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package["reactive-dict"]={},{ReactiveDict:y})}();

!function(){var e=Package.meteor.Meteor,a=Package.meteor.global,c=Package.meteor.meteorEnv,n=Package.underscore._,o=Package["reactive-dict"].ReactiveDict,i=Package.ejson.EJSON,t;(function(){t=new o("session")}).call(this),"undefined"==typeof Package&&(Package={}),function(e,a){for(var c in a)c in e||(e[c]=a[c])}(Package.session={},{Session:t})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package.modules.meteorInstall,i=Package.modules.Buffer,o=Package.modules.process,a,s,l=r({node_modules:{meteor:{jquery:{"main.js":["jquery","./jquery.js",function(e,t){var n=this;try{var r=e("jquery")}catch(t){r=e("./jquery.js")}t.$=t.jQuery=r,n.$=n.$||r,n.jQuery=n.jQuery||r}],"jquery.js":function(e,t,n){!function(e,t){"object"==typeof n&&"object"==typeof n.exports?n.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=e.length,n=ie.type(e);return"function"!==n&&!ie.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e))}function r(e,t,n){if(ie.isFunction(t))return ie.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return ie.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(de.test(t))return ie.filter(t,e,n);t=ie.filter(t,e)}return ie.grep(e,function(e){return ie.inArray(e,t)>=0!==n})}function i(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function o(e){var t=xe[e]={};return ie.each(e.match(be)||[],function(e,n){t[n]=!0}),t}function a(){he.addEventListener?(he.removeEventListener("DOMContentLoaded",s,!1),e.removeEventListener("load",s,!1)):(he.detachEvent("onreadystatechange",s),e.detachEvent("onload",s))}function s(){(he.addEventListener||"load"===event.type||"complete"===he.readyState)&&(a(),ie.ready())}function l(e,t,n){if(void 0===n&&1===e.nodeType){var r="data-"+t.replace(Ee,"-$1").toLowerCase();if(n=e.getAttribute(r),"string"==typeof n){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Ne.test(n)?ie.parseJSON(n):n)}catch(e){}ie.data(e,t,n)}else n=void 0}return n}function u(e){var t;for(t in e)if(("data"!==t||!ie.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function c(e,t,n,r){if(ie.acceptData(e)){var i,o,a=ie.expando,s=e.nodeType,l=s?ie.cache:e,u=s?e[a]:e[a]&&a;if(u&&l[u]&&(r||l[u].data)||void 0!==n||"string"!=typeof t)return u||(u=s?e[a]=Q.pop()||ie.guid++:a),l[u]||(l[u]=s?{}:{toJSON:ie.noop}),"object"!=typeof t&&"function"!=typeof t||(r?l[u]=ie.extend(l[u],t):l[u].data=ie.extend(l[u].data,t)),o=l[u],r||(o.data||(o.data={}),o=o.data),void 0!==n&&(o[ie.camelCase(t)]=n),"string"==typeof t?(i=o[t],null==i&&(i=o[ie.camelCase(t)])):i=o,i}}function f(e,t,n){if(ie.acceptData(e)){var r,i,o=e.nodeType,a=o?ie.cache:e,s=o?e[ie.expando]:ie.expando;if(a[s]){if(t&&(r=n?a[s]:a[s].data)){ie.isArray(t)?t=t.concat(ie.map(t,ie.camelCase)):t in r?t=[t]:(t=ie.camelCase(t),t=t in r?[t]:t.split(" ")),i=t.length;for(;i--;)delete r[t[i]];if(n?!u(r):!ie.isEmptyObject(r))return}(n||(delete a[s].data,u(a[s])))&&(o?ie.cleanData([e],!0):ne.deleteExpando||a!=a.window?delete a[s]:a[s]=null)}}}function d(){return!0}function p(){return!1}function h(){try{return he.activeElement}catch(e){}}function m(e){var t=Fe.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function g(e,t){var n,r,i=0,o=typeof e.getElementsByTagName!==Te?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==Te?e.querySelectorAll(t||"*"):void 0;if(!o)for(o=[],n=e.childNodes||e;null!=(r=n[i]);i++)!t||ie.nodeName(r,t)?o.push(r):ie.merge(o,g(r,t));return void 0===t||t&&ie.nodeName(e,t)?ie.merge([e],o):o}function y(e){De.test(e.type)&&(e.defaultChecked=e.checked)}function v(e,t){return ie.nodeName(e,"table")&&ie.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function b(e){return e.type=(null!==ie.find.attr(e,"type"))+"/"+e.type,e}function x(e){var t=Ve.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function w(e,t){for(var n,r=0;null!=(n=e[r]);r++)ie._data(n,"globalEval",!t||ie._data(t[r],"globalEval"))}function T(e,t){if(1===t.nodeType&&ie.hasData(e)){var n,r,i,o=ie._data(e),a=ie._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(r=0,i=s[n].length;r<i;r++)ie.event.add(t,n,s[n][r])}a.data&&(a.data=ie.extend({},a.data))}}function C(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!ne.noCloneEvent&&t[ie.expando]){i=ie._data(t);for(r in i.events)ie.removeEvent(t,r,i.handle);t.removeAttribute(ie.expando)}"script"===n&&t.text!==e.text?(b(t).text=e.text,x(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),ne.html5Clone&&e.innerHTML&&!ie.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&De.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}}function N(t,n){var r,i=ie(n.createElement(t)).appendTo(n.body),o=e.getDefaultComputedStyle&&(r=e.getDefaultComputedStyle(i[0]))?r.display:ie.css(i[0],"display");return i.detach(),o}function E(e){var t=he,n=Ze[e];return n||(n=N(e,t),"none"!==n&&n||(Ke=(Ke||ie("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(Ke[0].contentWindow||Ke[0].contentDocument).document,t.write(),t.close(),n=N(e,t),Ke.detach()),Ze[e]=n),n}function k(e,t){return{get:function(){var n=e();if(null!=n)return n?void delete this.get:(this.get=t).apply(this,arguments)}}}function S(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=dt.length;i--;)if(t=dt[i]+n,t in e)return t;return r}function j(e,t){for(var n,r,i,o=[],a=0,s=e.length;a<s;a++)r=e[a],r.style&&(o[a]=ie._data(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&je(r)&&(o[a]=ie._data(r,"olddisplay",E(r.nodeName)))):(i=je(r),(n&&"none"!==n||!i)&&ie._data(r,"olddisplay",i?n:ie.css(r,"display"))));for(a=0;a<s;a++)r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}function A(e,t,n){var r=lt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function D(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;o<4;o+=2)"margin"===n&&(a+=ie.css(e,n+Se[o],!0,i)),r?("content"===n&&(a-=ie.css(e,"padding"+Se[o],!0,i)),"margin"!==n&&(a-=ie.css(e,"border"+Se[o]+"Width",!0,i))):(a+=ie.css(e,"padding"+Se[o],!0,i),"padding"!==n&&(a+=ie.css(e,"border"+Se[o]+"Width",!0,i)));return a}function L(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=nt(e),a=ne.boxSizing&&"border-box"===ie.css(e,"boxSizing",!1,o);if(i<=0||null==i){if(i=rt(e,t,o),(i<0||null==i)&&(i=e.style[t]),tt.test(i))return i;r=a&&(ne.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+D(e,t,n||(a?"border":"content"),r,o)+"px"}function H(e,t,n,r,i){return new H.prototype.init(e,t,n,r,i)}function q(){return setTimeout(function(){pt=void 0}),pt=ie.now()}function _(e,t){var n,r={height:e},i=0;for(t=t?1:0;i<4;i+=2-t)n=Se[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function M(e,t,n){for(var r,i=(bt[t]||[]).concat(bt["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function F(e,t,n){var r,i,o,a,s,l,u,c,f=this,d={},p=e.style,h=e.nodeType&&je(e),m=ie._data(e,"fxshow");n.queue||(s=ie._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,f.always(function(){f.always(function(){s.unqueued--,ie.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],u=ie.css(e,"display"),c="none"===u?ie._data(e,"olddisplay")||E(e.nodeName):u,"inline"===c&&"none"===ie.css(e,"float")&&(ne.inlineBlockNeedsLayout&&"inline"!==E(e.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",ne.shrinkWrapBlocks()||f.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],mt.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(h?"hide":"show")){if("show"!==i||!m||void 0===m[r])continue;h=!0}d[r]=m&&m[r]||ie.style(e,r)}else u=void 0;if(ie.isEmptyObject(d))"inline"===("none"===u?E(e.nodeName):u)&&(p.display=u);else{m?"hidden"in m&&(h=m.hidden):m=ie._data(e,"fxshow",{}),o&&(m.hidden=!h),h?ie(e).show():f.done(function(){ie(e).hide()}),f.done(function(){var t;ie._removeData(e,"fxshow");for(t in d)ie.style(e,t,d[t])});for(r in d)a=M(h?m[r]:0,r,f),r in m||(m[r]=a.start,h&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}function O(e,t){var n,r,i,o,a;for(n in e)if(r=ie.camelCase(n),i=t[r],o=e[n],ie.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),a=ie.cssHooks[r],a&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function P(e,t,n){var r,i,o=0,a=vt.length,s=ie.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;for(var t=pt||q(),n=Math.max(0,u.startTime+u.duration-t),r=n/u.duration||0,o=1-r,a=0,l=u.tweens.length;a<l;a++)u.tweens[a].run(o);return s.notifyWith(e,[u,o,n]),o<1&&l?n:(s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:ie.extend({},t),opts:ie.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:pt||q(),duration:n.duration,tweens:[],createTween:function(t,n){var r=ie.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(r),r},stop:function(t){var n=0,r=t?u.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)u.tweens[n].run(1);return t?s.resolveWith(e,[u,t]):s.rejectWith(e,[u,t]),this}}),c=u.props;for(O(c,u.opts.specialEasing);o<a;o++)if(r=vt[o].call(u,e,c,u.opts))return r;return ie.map(c,M,u),ie.isFunction(u.opts.start)&&u.opts.start.call(e,u),ie.fx.timer(ie.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function B(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(be)||[];if(ie.isFunction(n))for(;r=o[i++];)"+"===r.charAt(0)?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function R(e,t,n,r){function i(s){var l;return o[s]=!0,ie.each(e[s]||[],function(e,s){var u=s(t,n,r);return"string"!=typeof u||a||o[u]?a?!(l=u):void 0:(t.dataTypes.unshift(u),i(u),!1)}),l}var o={},a=e===zt;return i(t.dataTypes[0])||!o["*"]&&i("*")}function W(e,t){var n,r,i=ie.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((i[r]?e:n||(n={}))[r]=t[r]);return n&&ie.extend(!0,e,n),e}function $(e,t,n){for(var r,i,o,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(a in s)if(s[a]&&s[a].test(i)){l.unshift(a);break}if(l[0]in n)o=l[0];else{for(a in n){if(!l[0]||e.converters[a+" "+l[0]]){o=a;break}r||(r=a)}o=o||r}if(o)return o!==l[0]&&l.unshift(o),n[o]}function z(e,t,n,r){var i,o,a,s,l,u={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(a=u[l+" "+o]||u["* "+o],!a)for(i in u)if(s=i.split(" "),s[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){a===!0?a=u[i]:u[i]!==!0&&(o=s[0],c.unshift(s[1]));break}if(a!==!0)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}function I(e,t,n,r){var i;if(ie.isArray(t))ie.each(t,function(t,i){n||Ut.test(e)?r(e,i):I(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==ie.type(t))r(e,t);else for(i in t)I(e+"["+i+"]",t[i],n,r)}function X(){try{return new e.XMLHttpRequest}catch(e){}}function U(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function V(e){return ie.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}var Q=[],J=Q.slice,Y=Q.concat,G=Q.push,K=Q.indexOf,Z={},ee=Z.toString,te=Z.hasOwnProperty,ne={},re="1.11.2",ie=function(e,t){return new ie.fn.init(e,t)},oe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ae=/^-ms-/,se=/-([\da-z])/gi,le=function(e,t){return t.toUpperCase()};ie.fn=ie.prototype={jquery:re,constructor:ie,selector:"",length:0,toArray:function(){return J.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:J.call(this)},pushStack:function(e){var t=ie.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return ie.each(this,e,t)},map:function(e){return this.pushStack(ie.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(J.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:G,sort:Q.sort,splice:Q.splice},ie.extend=ie.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||ie.isFunction(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(i=arguments[s]))for(r in i)e=a[r],n=i[r],a!==n&&(u&&n&&(ie.isPlainObject(n)||(t=ie.isArray(n)))?(t?(t=!1,o=e&&ie.isArray(e)?e:[]):o=e&&ie.isPlainObject(e)?e:{},a[r]=ie.extend(u,o,n)):void 0!==n&&(a[r]=n));return a},ie.extend({expando:"jQuery"+(re+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===ie.type(e)},isArray:Array.isArray||function(e){return"array"===ie.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!ie.isArray(e)&&e-parseFloat(e)+1>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==ie.type(e)||e.nodeType||ie.isWindow(e))return!1;try{if(e.constructor&&!te.call(e,"constructor")&&!te.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}if(ne.ownLast)for(t in e)return te.call(e,t);for(t in e);return void 0===t||te.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?Z[ee.call(e)]||"object":typeof e},globalEval:function(t){t&&ie.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(ae,"ms-").replace(se,le)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,r){var i,o=0,a=e.length,s=n(e);if(r){if(s)for(;o<a&&(i=t.apply(e[o],r),i!==!1);o++);else for(o in e)if(i=t.apply(e[o],r),i===!1)break}else if(s)for(;o<a&&(i=t.call(e[o],o,e[o]),i!==!1);o++);else for(o in e)if(i=t.call(e[o],o,e[o]),i===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(oe,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?ie.merge(r,"string"==typeof e?[e]:e):G.call(r,e)),r},inArray:function(e,t,n){var r;if(t){if(K)return K.call(t,e,n);for(r=t.length,n=n?n<0?Math.max(0,r+n):n:0;n<r;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;)e[i++]=t[r++];if(n!==n)for(;void 0!==t[r];)e[i++]=t[r++];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,a=e.length,s=!n;o<a;o++)r=!t(e[o],o),r!==s&&i.push(e[o]);return i},map:function(e,t,r){var i,o=0,a=e.length,s=n(e),l=[];if(s)for(;o<a;o++)i=t(e[o],o,r),null!=i&&l.push(i);else for(o in e)i=t(e[o],o,r),null!=i&&l.push(i);return Y.apply([],l)},guid:1,proxy:function(e,t){var n,r,i;if("string"==typeof t&&(i=e[t],t=e,e=i),ie.isFunction(e))return n=J.call(arguments,2),r=function(){return e.apply(t||this,n.concat(J.call(arguments)))},r.guid=e.guid=e.guid||ie.guid++,r},now:function(){return+new Date},support:ne}),ie.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Z["[object "+t+"]"]=t.toLowerCase()});var ue=function(e){function t(e,t,n,r){var i,o,a,s,l,u,f,p,h,m;if((t?t.ownerDocument||t:R)!==H&&L(t),t=t||H,n=n||[],s=t.nodeType,"string"!=typeof e||!e||1!==s&&9!==s&&11!==s)return n;if(!r&&_){if(11!==s&&(i=ve.exec(e)))if(a=i[1]){if(9===s){if(o=t.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&P(t,o)&&o.id===a)return n.push(o),n}else{if(i[2])return K.apply(n,t.getElementsByTagName(e)),n;if((a=i[3])&&w.getElementsByClassName)return K.apply(n,t.getElementsByClassName(a)),n}if(w.qsa&&(!M||!M.test(e))){if(p=f=B,h=t,m=1!==s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(u=E(e),(f=t.getAttribute("id"))?p=f.replace(xe,"\\$&"):t.setAttribute("id",p),p="[id='"+p+"'] ",l=u.length;l--;)u[l]=p+d(u[l]);h=be.test(e)&&c(t.parentNode)||t,m=u.join(",")}if(m)try{return K.apply(n,h.querySelectorAll(m)),n}catch(e){}finally{f||t.removeAttribute("id")}}}return S(e.replace(le,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>T.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[B]=!0,e}function i(e){var t=H.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=e.length;r--;)T.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||V)-(~e.sourceIndex||V);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function u(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function c(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function f(){}function d(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function p(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=$++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,a){var s,l,u=[W,o];if(a){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if(l=t[B]||(t[B]={}),(s=l[r])&&s[0]===W&&s[1]===o)return u[2]=s[2];if(l[r]=u,u[2]=e(t,n,a))return!0}}}function h(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function m(e,n,r){for(var i=0,o=n.length;i<o;i++)t(e,n[i],r);return r}function g(e,t,n,r,i){for(var o,a=[],s=0,l=e.length,u=null!=t;s<l;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),u&&t.push(s)));return a}function y(e,t,n,i,o,a){return i&&!i[B]&&(i=y(i)),o&&!o[B]&&(o=y(o,a)),r(function(r,a,s,l){var u,c,f,d=[],p=[],h=a.length,y=r||m(t||"*",s.nodeType?[s]:s,[]),v=!e||!r&&t?y:g(y,d,e,s,l),b=n?o||(r?e:h||i)?[]:a:v;if(n&&n(v,b,s,l),i)for(u=g(b,p),i(u,[],s,l),c=u.length;c--;)(f=u[c])&&(b[p[c]]=!(v[p[c]]=f));if(r){if(o||e){if(o){for(u=[],c=b.length;c--;)(f=b[c])&&u.push(v[c]=f);o(null,b=[],u,l)}for(c=b.length;c--;)(f=b[c])&&(u=o?ee(r,f):d[c])>-1&&(r[u]=!(a[u]=f))}}else b=g(b===a?b.splice(h,b.length):b),o?o(null,a,b,l):K.apply(a,b)})}function v(e){for(var t,n,r,i=e.length,o=T.relative[e[0].type],a=o||T.relative[" "],s=o?1:0,l=p(function(e){return e===t},a,!0),u=p(function(e){return ee(t,e)>-1},a,!0),c=[function(e,n,r){var i=!o&&(r||n!==j)||((t=n).nodeType?l(e,n,r):u(e,n,r));return t=null,i}];s<i;s++)if(n=T.relative[e[s].type])c=[p(h(c),n)];else{if(n=T.filter[e[s].type].apply(null,e[s].matches),n[B]){for(r=++s;r<i&&!T.relative[e[r].type];r++);return y(s>1&&h(c),s>1&&d(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(le,"$1"),n,s<r&&v(e.slice(s,r)),r<i&&v(e=e.slice(r)),r<i&&d(e))}c.push(n)}return h(c)}function b(e,n){var i=n.length>0,o=e.length>0,a=function(r,a,s,l,u){var c,f,d,p=0,h="0",m=r&&[],y=[],v=j,b=r||o&&T.find.TAG("*",u),x=W+=null==v?1:Math.random()||.1,w=b.length;for(u&&(j=a!==H&&a);h!==w&&null!=(c=b[h]);h++){if(o&&c){for(f=0;d=e[f++];)if(d(c,a,s)){l.push(c);break}u&&(W=x)}i&&((c=!d&&c)&&p--,r&&m.push(c))}if(p+=h,i&&h!==p){for(f=0;d=n[f++];)d(m,y,a,s);if(r){if(p>0)for(;h--;)m[h]||y[h]||(y[h]=Y.call(l));y=g(y)}K.apply(l,y),u&&!r&&y.length>0&&p+n.length>1&&t.uniqueSort(l)}return u&&(W=x,j=v),m};return i?r(a):a}var x,w,T,C,N,E,k,S,j,A,D,L,H,q,_,M,F,O,P,B="sizzle"+1*new Date,R=e.document,W=0,$=0,z=n(),I=n(),X=n(),U=function(e,t){return e===t&&(D=!0),0},V=1<<31,Q={}.hasOwnProperty,J=[],Y=J.pop,G=J.push,K=J.push,Z=J.slice,ee=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",re="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ie=re.replace("w","w#"),oe="\\["+ne+"*("+re+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ie+"))|)"+ne+"*\\]",ae=":("+re+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",se=new RegExp(ne+"+","g"),le=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),ue=new RegExp("^"+ne+"*,"+ne+"*"),ce=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),fe=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),de=new RegExp(ae),pe=new RegExp("^"+ie+"$"),he={ID:new RegExp("^#("+re+")"),CLASS:new RegExp("^\\.("+re+")"),TAG:new RegExp("^("+re.replace("w","w*")+")"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+ae),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},me=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,ye=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/[+~]/,xe=/'|\\/g,we=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),Te=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},Ce=function(){L()};try{K.apply(J=Z.call(R.childNodes),R.childNodes),J[R.childNodes.length].nodeType}catch(e){K={apply:J.length?function(e,t){G.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}w=t.support={},N=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},L=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:R;return r!==H&&9===r.nodeType&&r.documentElement?(H=r,q=r.documentElement,n=r.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",Ce,!1):n.attachEvent&&n.attachEvent("onunload",Ce)),_=!N(r),w.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=i(function(e){return e.appendChild(r.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=ye.test(r.getElementsByClassName),w.getById=i(function(e){return q.appendChild(e).id=B,!r.getElementsByName||!r.getElementsByName(B).length}),w.getById?(T.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&_){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},T.filter.ID=function(e){var t=e.replace(we,Te);return function(e){return e.getAttribute("id")===t}}):(delete T.find.ID,T.filter.ID=function(e){var t=e.replace(we,Te);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),T.find.TAG=w.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):w.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},T.find.CLASS=w.getElementsByClassName&&function(e,t){if(_)return t.getElementsByClassName(e)},F=[],M=[],(w.qsa=ye.test(r.querySelectorAll))&&(i(function(e){q.appendChild(e).innerHTML="<a id='"+B+"'></a><select id='"+B+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&M.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||M.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+B+"-]").length||M.push("~="),e.querySelectorAll(":checked").length||M.push(":checked"),e.querySelectorAll("a#"+B+"+*").length||M.push(".#.+[+~]")}),i(function(e){var t=r.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&M.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||M.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),M.push(",.*:")})),(w.matchesSelector=ye.test(O=q.matches||q.webkitMatchesSelector||q.mozMatchesSelector||q.oMatchesSelector||q.msMatchesSelector))&&i(function(e){w.disconnectedMatch=O.call(e,"div"),O.call(e,"[s!='']:x"),F.push("!=",ae)}),M=M.length&&new RegExp(M.join("|")),F=F.length&&new RegExp(F.join("|")),t=ye.test(q.compareDocumentPosition),P=t||ye.test(q.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},U=t?function(e,t){if(e===t)return D=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!w.sortDetached&&t.compareDocumentPosition(e)===n?e===r||e.ownerDocument===R&&P(R,e)?-1:t===r||t.ownerDocument===R&&P(R,t)?1:A?ee(A,e)-ee(A,t):0:4&n?-1:1)}:function(e,t){if(e===t)return D=!0,0;var n,i=0,o=e.parentNode,s=t.parentNode,l=[e],u=[t];if(!o||!s)return e===r?-1:t===r?1:o?-1:s?1:A?ee(A,e)-ee(A,t):0;if(o===s)return a(e,t);for(n=e;n=n.parentNode;)l.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;l[i]===u[i];)i++;return i?a(l[i],u[i]):l[i]===R?-1:u[i]===R?1:0},r):H},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==H&&L(e),n=n.replace(fe,"='$1']"),w.matchesSelector&&_&&(!F||!F.test(n))&&(!M||!M.test(n)))try{var r=O.call(e,n);if(r||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return t(n,H,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==H&&L(e),P(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==H&&L(e);var n=T.attrHandle[t.toLowerCase()],r=n&&Q.call(T.attrHandle,t.toLowerCase())?n(e,t,!_):void 0;return void 0!==r?r:w.attributes||!_?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(D=!w.detectDuplicates,A=!w.sortStable&&e.slice(0),e.sort(U),D){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return A=null,e},C=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=C(t);return n},T=t.selectors={cacheLength:50,createPseudo:r,match:he,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(we,Te),e[3]=(e[3]||e[4]||e[5]||"").replace(we,Te),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return he.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&de.test(n)&&(t=E(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(we,Te).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=z[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&z(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:!n||(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(se," ")+" ").indexOf(r)>-1:"|="===n&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var u,c,f,d,p,h,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,y=s&&t.nodeName.toLowerCase(),v=!l&&!s;if(g){if(o){for(;m;){for(f=t;f=f[m];)if(s?f.nodeName.toLowerCase()===y:1===f.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?g.firstChild:g.lastChild],a&&v){for(c=g[B]||(g[B]={}),u=c[e]||[],p=u[0]===W&&u[1],d=u[0]===W&&u[2],f=p&&g.childNodes[p];f=++p&&f&&f[m]||(d=p=0)||h.pop();)if(1===f.nodeType&&++d&&f===t){c[e]=[W,p,d];break}}else if(v&&(u=(t[B]||(t[B]={}))[e])&&u[0]===W)d=u[1];else for(;(f=++p&&f&&f[m]||(d=p=0)||h.pop())&&((s?f.nodeName.toLowerCase()!==y:1!==f.nodeType)||!++d||(v&&((f[B]||(f[B]={}))[e]=[W,d]),f!==t)););return d-=i,d===r||d%r===0&&d/r>=0}}},PSEUDO:function(e,n){var i,o=T.pseudos[e]||T.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[B]?o(n):o.length>1?(i=[e,e,"",n],T.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),a=i.length;a--;)r=ee(e,i[a]),e[r]=!(t[r]=i[a])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=k(e.replace(le,"$1"));return i[B]?r(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(we,Te),function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:r(function(e){return pe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(we,Te).toLowerCase(),function(t){var n;do if(n=_?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===q},focus:function(e){return e===H.activeElement&&(!H.hasFocus||H.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!T.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return me.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[n<0?n+t:n]}),even:u(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:u(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},T.pseudos.nth=T.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})T.pseudos[x]=s(x);for(x in{submit:!0,reset:!0})T.pseudos[x]=l(x);return f.prototype=T.filters=T.pseudos,
T.setFilters=new f,E=t.tokenize=function(e,n){var r,i,o,a,s,l,u,c=I[e+" "];if(c)return n?0:c.slice(0);for(s=e,l=[],u=T.preFilter;s;){r&&!(i=ue.exec(s))||(i&&(s=s.slice(i[0].length)||s),l.push(o=[])),r=!1,(i=ce.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(le," ")}),s=s.slice(r.length));for(a in T.filter)!(i=he[a].exec(s))||u[a]&&!(i=u[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):I(e,l).slice(0)},k=t.compile=function(e,t){var n,r=[],i=[],o=X[e+" "];if(!o){for(t||(t=E(e)),n=t.length;n--;)o=v(t[n]),o[B]?r.push(o):i.push(o);o=X(e,b(i,r)),o.selector=e}return o},S=t.select=function(e,t,n,r){var i,o,a,s,l,u="function"==typeof e&&e,f=!r&&E(e=u.selector||e);if(n=n||[],1===f.length){if(o=f[0]=f[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&w.getById&&9===t.nodeType&&_&&T.relative[o[1].type]){if(t=(T.find.ID(a.matches[0].replace(we,Te),t)||[])[0],!t)return n;u&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=he.needsContext.test(e)?0:o.length;i--&&(a=o[i],!T.relative[s=a.type]);)if((l=T.find[s])&&(r=l(a.matches[0].replace(we,Te),be.test(o[0].type)&&c(t.parentNode)||t))){if(o.splice(i,1),e=r.length&&d(o),!e)return K.apply(n,r),n;break}}return(u||k(e,f))(r,t,!_,n,be.test(e)&&c(t.parentNode)||t),n},w.sortStable=B.split("").sort(U).join("")===B,w.detectDuplicates=!!D,L(),w.sortDetached=i(function(e){return 1&e.compareDocumentPosition(H.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(te,function(e,t,n){var r;if(!n)return e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);ie.find=ue,ie.expr=ue.selectors,ie.expr[":"]=ie.expr.pseudos,ie.unique=ue.uniqueSort,ie.text=ue.getText,ie.isXMLDoc=ue.isXML,ie.contains=ue.contains;var ce=ie.expr.match.needsContext,fe=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,de=/^.[^:#\[\.,]*$/;ie.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?ie.find.matchesSelector(r,e)?[r]:[]:ie.find.matches(e,ie.grep(t,function(e){return 1===e.nodeType}))},ie.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if("string"!=typeof e)return this.pushStack(ie(e).filter(function(){for(t=0;t<i;t++)if(ie.contains(r[t],this))return!0}));for(t=0;t<i;t++)ie.find(e,r[t],n);return n=this.pushStack(i>1?ie.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&ce.test(e)?ie(e):e||[],!1).length}});var pe,he=e.document,me=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ge=ie.fn.init=function(e,t){var n,r;if(!e)return this;if("string"==typeof e){if(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:me.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||pe).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof ie?t[0]:t,ie.merge(this,ie.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:he,!0)),fe.test(n[1])&&ie.isPlainObject(t))for(n in t)ie.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}if(r=he.getElementById(n[2]),r&&r.parentNode){if(r.id!==n[2])return pe.find(e);this.length=1,this[0]=r}return this.context=he,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):ie.isFunction(e)?"undefined"!=typeof pe.ready?pe.ready(e):e(ie):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),ie.makeArray(e,this))};ge.prototype=ie.fn,pe=ie(he);var ye=/^(?:parents|prev(?:Until|All))/,ve={children:!0,contents:!0,next:!0,prev:!0};ie.extend({dir:function(e,t,n){for(var r=[],i=e[t];i&&9!==i.nodeType&&(void 0===n||1!==i.nodeType||!ie(i).is(n));)1===i.nodeType&&r.push(i),i=i[t];return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),ie.fn.extend({has:function(e){var t,n=ie(e,this),r=n.length;return this.filter(function(){for(t=0;t<r;t++)if(ie.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=ce.test(e)||"string"!=typeof e?ie(e,t||this.context):0;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&ie.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?ie.unique(o):o)},index:function(e){return e?"string"==typeof e?ie.inArray(this[0],ie(e)):ie.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ie.unique(ie.merge(this.get(),ie(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ie.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ie.dir(e,"parentNode")},parentsUntil:function(e,t,n){return ie.dir(e,"parentNode",n)},next:function(e){return i(e,"nextSibling")},prev:function(e){return i(e,"previousSibling")},nextAll:function(e){return ie.dir(e,"nextSibling")},prevAll:function(e){return ie.dir(e,"previousSibling")},nextUntil:function(e,t,n){return ie.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return ie.dir(e,"previousSibling",n)},siblings:function(e){return ie.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return ie.sibling(e.firstChild)},contents:function(e){return ie.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:ie.merge([],e.childNodes)}},function(e,t){ie.fn[e]=function(n,r){var i=ie.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=ie.filter(r,i)),this.length>1&&(ve[e]||(i=ie.unique(i)),ye.test(e)&&(i=i.reverse())),this.pushStack(i)}});var be=/\S+/g,xe={};ie.Callbacks=function(e){e="string"==typeof e?xe[e]||o(e):ie.extend({},e);var t,n,r,i,a,s,l=[],u=!e.once&&[],c=function(o){for(n=e.memory&&o,r=!0,a=s||0,s=0,i=l.length,t=!0;l&&a<i;a++)if(l[a].apply(o[0],o[1])===!1&&e.stopOnFalse){n=!1;break}t=!1,l&&(u?u.length&&c(u.shift()):n?l=[]:f.disable())},f={add:function(){if(l){var r=l.length;!function t(n){ie.each(n,function(n,r){var i=ie.type(r);"function"===i?e.unique&&f.has(r)||l.push(r):r&&r.length&&"string"!==i&&t(r)})}(arguments),t?i=l.length:n&&(s=r,c(n))}return this},remove:function(){return l&&ie.each(arguments,function(e,n){for(var r;(r=ie.inArray(n,l,r))>-1;)l.splice(r,1),t&&(r<=i&&i--,r<=a&&a--)}),this},has:function(e){return e?ie.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],i=0,this},disable:function(){return l=u=n=void 0,this},disabled:function(){return!l},lock:function(){return u=void 0,n||f.disable(),this},locked:function(){return!u},fireWith:function(e,n){return!l||r&&!u||(n=n||[],n=[e,n.slice?n.slice():n],t?u.push(n):c(n)),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!r}};return f},ie.extend({Deferred:function(e){var t=[["resolve","done",ie.Callbacks("once memory"),"resolved"],["reject","fail",ie.Callbacks("once memory"),"rejected"],["notify","progress",ie.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return ie.Deferred(function(n){ie.each(t,function(t,o){var a=ie.isFunction(e[t])&&e[t];i[o[1]](function(){var e=a&&a.apply(this,arguments);e&&ie.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===r?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?ie.extend(e,r):r}},i={};return r.pipe=r.then,ie.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=J.call(arguments),r=n.length,i=1!==r||e&&ie.isFunction(e.promise)?r:0,o=1===i?e:ie.Deferred(),a=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?J.call(arguments):r,n===s?o.notifyWith(t,n):--i||o.resolveWith(t,n)}},s,l,u;if(r>1)for(s=new Array(r),l=new Array(r),u=new Array(r);t<r;t++)n[t]&&ie.isFunction(n[t].promise)?n[t].promise().done(a(t,u,n)).fail(o.reject).progress(a(t,l,s)):--i;return i||o.resolveWith(u,n),o.promise()}});var we;ie.fn.ready=function(e){return ie.ready.promise().done(e),this},ie.extend({isReady:!1,readyWait:1,holdReady:function(e){e?ie.readyWait++:ie.ready(!0)},ready:function(e){if(e===!0?!--ie.readyWait:!ie.isReady){if(!he.body)return setTimeout(ie.ready);ie.isReady=!0,e!==!0&&--ie.readyWait>0||(we.resolveWith(he,[ie]),ie.fn.triggerHandler&&(ie(he).triggerHandler("ready"),ie(he).off("ready")))}}}),ie.ready.promise=function(t){if(!we)if(we=ie.Deferred(),"complete"===he.readyState)setTimeout(ie.ready);else if(he.addEventListener)he.addEventListener("DOMContentLoaded",s,!1),e.addEventListener("load",s,!1);else{he.attachEvent("onreadystatechange",s),e.attachEvent("onload",s);var n=!1;try{n=null==e.frameElement&&he.documentElement}catch(e){}n&&n.doScroll&&!function e(){if(!ie.isReady){try{n.doScroll("left")}catch(t){return setTimeout(e,50)}a(),ie.ready()}}()}return we.promise(t)};var Te="undefined",Ce;for(Ce in ie(ne))break;ne.ownLast="0"!==Ce,ne.inlineBlockNeedsLayout=!1,ie(function(){var e,t,n,r;n=he.getElementsByTagName("body")[0],n&&n.style&&(t=he.createElement("div"),r=he.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),typeof t.style.zoom!==Te&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ne.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(r))}),function(){var e=he.createElement("div");if(null==ne.deleteExpando){ne.deleteExpando=!0;try{delete e.test}catch(e){ne.deleteExpando=!1}}e=null}(),ie.acceptData=function(e){var t=ie.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return(1===n||9===n)&&(!t||t!==!0&&e.getAttribute("classid")===t)};var Ne=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ee=/([A-Z])/g;ie.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?ie.cache[e[ie.expando]]:e[ie.expando],!!e&&!u(e)},data:function(e,t,n){return c(e,t,n)},removeData:function(e,t){return f(e,t)},_data:function(e,t,n){return c(e,t,n,!0)},_removeData:function(e,t){return f(e,t,!0)}}),ie.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=ie.data(o),1===o.nodeType&&!ie._data(o,"parsedAttrs"))){for(n=a.length;n--;)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=ie.camelCase(r.slice(5)),l(o,r,i[r])));ie._data(o,"parsedAttrs",!0)}return i}return"object"==typeof e?this.each(function(){ie.data(this,e)}):arguments.length>1?this.each(function(){ie.data(this,e,t)}):o?l(o,e,ie.data(o,e)):void 0},removeData:function(e){return this.each(function(){ie.removeData(this,e)})}}),ie.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=ie._data(e,t),n&&(!r||ie.isArray(n)?r=ie._data(e,t,ie.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=ie.queue(e,t),r=n.length,i=n.shift(),o=ie._queueHooks(e,t),a=function(){ie.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ie._data(e,n)||ie._data(e,n,{empty:ie.Callbacks("once memory").add(function(){ie._removeData(e,t+"queue"),ie._removeData(e,n)})})}}),ie.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?ie.queue(this[0],e):void 0===t?this:this.each(function(){var n=ie.queue(this,e,t);ie._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&ie.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ie.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=ie.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)n=ie._data(o[a],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var ke=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Se=["Top","Right","Bottom","Left"],je=function(e,t){return e=t||e,"none"===ie.css(e,"display")||!ie.contains(e.ownerDocument,e)},Ae=ie.access=function(e,t,n,r,i,o,a){var s=0,l=e.length,u=null==n;if("object"===ie.type(n)){i=!0;for(s in n)ie.access(e,t,s,n[s],!0,o,a)}else if(void 0!==r&&(i=!0,ie.isFunction(r)||(a=!0),u&&(a?(t.call(e,r),t=null):(u=t,t=function(e,t,n){return u.call(ie(e),n)})),t))for(;s<l;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:u?t.call(e):l?t(e[0],n):o},De=/^(?:checkbox|radio)$/i;!function(){var e=he.createElement("input"),t=he.createElement("div"),n=he.createDocumentFragment();if(t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ne.leadingWhitespace=3===t.firstChild.nodeType,ne.tbody=!t.getElementsByTagName("tbody").length,ne.htmlSerialize=!!t.getElementsByTagName("link").length,ne.html5Clone="<:nav></:nav>"!==he.createElement("nav").cloneNode(!0).outerHTML,e.type="checkbox",e.checked=!0,n.appendChild(e),ne.appendChecked=e.checked,t.innerHTML="<textarea>x</textarea>",ne.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,n.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",ne.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,ne.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){ne.noCloneEvent=!1}),t.cloneNode(!0).click()),null==ne.deleteExpando){ne.deleteExpando=!0;try{delete t.test}catch(e){ne.deleteExpando=!1}}}(),function(){var t,n,r=he.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})n="on"+t,(ne[t+"Bubbles"]=n in e)||(r.setAttribute(n,"t"),ne[t+"Bubbles"]=r.attributes[n].expando===!1);r=null}();var Le=/^(?:input|select|textarea)$/i,He=/^key/,qe=/^(?:mouse|pointer|contextmenu)|click/,_e=/^(?:focusinfocus|focusoutblur)$/,Me=/^([^.]*)(?:\.(.+)|)$/;ie.event={global:{},add:function(e,t,n,r,i){var o,a,s,l,u,c,f,d,p,h,m,g=ie._data(e);if(g){for(n.handler&&(l=n,n=l.handler,i=l.selector),n.guid||(n.guid=ie.guid++),(a=g.events)||(a=g.events={}),(c=g.handle)||(c=g.handle=function(e){return typeof ie===Te||e&&ie.event.triggered===e.type?void 0:ie.event.dispatch.apply(c.elem,arguments)},c.elem=e),t=(t||"").match(be)||[""],s=t.length;s--;)o=Me.exec(t[s])||[],p=m=o[1],h=(o[2]||"").split(".").sort(),p&&(u=ie.event.special[p]||{},p=(i?u.delegateType:u.bindType)||p,u=ie.event.special[p]||{},f=ie.extend({type:p,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&ie.expr.match.needsContext.test(i),namespace:h.join(".")},l),(d=a[p])||(d=a[p]=[],d.delegateCount=0,u.setup&&u.setup.call(e,r,h,c)!==!1||(e.addEventListener?e.addEventListener(p,c,!1):e.attachEvent&&e.attachEvent("on"+p,c))),u.add&&(u.add.call(e,f),f.handler.guid||(f.handler.guid=n.guid)),i?d.splice(d.delegateCount++,0,f):d.push(f),ie.event.global[p]=!0);e=null}},remove:function(e,t,n,r,i){var o,a,s,l,u,c,f,d,p,h,m,g=ie.hasData(e)&&ie._data(e);if(g&&(c=g.events)){for(t=(t||"").match(be)||[""],u=t.length;u--;)if(s=Me.exec(t[u])||[],p=m=s[1],h=(s[2]||"").split(".").sort(),p){for(f=ie.event.special[p]||{},p=(r?f.delegateType:f.bindType)||p,d=c[p]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=d.length;o--;)a=d[o],!i&&m!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(d.splice(o,1),a.selector&&d.delegateCount--,f.remove&&f.remove.call(e,a));l&&!d.length&&(f.teardown&&f.teardown.call(e,h,g.handle)!==!1||ie.removeEvent(e,p,g.handle),delete c[p])}else for(p in c)ie.event.remove(e,p+t[u],n,r,!0);ie.isEmptyObject(c)&&(delete g.handle,ie._removeData(e,"events"))}},trigger:function(t,n,r,i){var o,a,s,l,u,c,f,d=[r||he],p=te.call(t,"type")?t.type:t,h=te.call(t,"namespace")?t.namespace.split("."):[];if(s=c=r=r||he,3!==r.nodeType&&8!==r.nodeType&&!_e.test(p+ie.event.triggered)&&(p.indexOf(".")>=0&&(h=p.split("."),p=h.shift(),h.sort()),a=p.indexOf(":")<0&&"on"+p,t=t[ie.expando]?t:new ie.Event(p,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=h.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:ie.makeArray(n,[t]),u=ie.event.special[p]||{},i||!u.trigger||u.trigger.apply(r,n)!==!1)){if(!i&&!u.noBubble&&!ie.isWindow(r)){for(l=u.delegateType||p,_e.test(l+p)||(s=s.parentNode);s;s=s.parentNode)d.push(s),c=s;c===(r.ownerDocument||he)&&d.push(c.defaultView||c.parentWindow||e)}for(f=0;(s=d[f++])&&!t.isPropagationStopped();)t.type=f>1?l:u.bindType||p,o=(ie._data(s,"events")||{})[t.type]&&ie._data(s,"handle"),o&&o.apply(s,n),o=a&&s[a],o&&o.apply&&ie.acceptData(s)&&(t.result=o.apply(s,n),t.result===!1&&t.preventDefault());if(t.type=p,!i&&!t.isDefaultPrevented()&&(!u._default||u._default.apply(d.pop(),n)===!1)&&ie.acceptData(r)&&a&&r[p]&&!ie.isWindow(r)){c=r[a],c&&(r[a]=null),ie.event.triggered=p;try{r[p]()}catch(e){}ie.event.triggered=void 0,c&&(r[a]=c)}return t.result}},dispatch:function(e){e=ie.event.fix(e);var t,n,r,i,o,a=[],s=J.call(arguments),l=(ie._data(this,"events")||{})[e.type]||[],u=ie.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,e)!==!1){for(a=ie.event.handlers.call(this,e,l),t=0;(i=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,o=0;(r=i.handlers[o++])&&!e.isImmediatePropagationStopped();)e.namespace_re&&!e.namespace_re.test(r.namespace)||(e.handleObj=r,e.data=r.data,n=((ie.event.special[r.origType]||{}).handle||r.handler).apply(i.elem,s),void 0!==n&&(e.result=n)===!1&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,a=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==e.type)){for(i=[],o=0;o<s;o++)r=t[o],n=r.selector+" ",void 0===i[n]&&(i[n]=r.needsContext?ie(n,this).index(l)>=0:ie.find(n,this,null,[l]).length),i[n]&&i.push(r);i.length&&a.push({elem:l,handlers:i})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},fix:function(e){if(e[ie.expando])return e;var t,n,r,i=e.type,o=e,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=qe.test(i)?this.mouseHooks:He.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new ie.Event(o),t=r.length;t--;)n=r[t],e[n]=o[n];return e.target||(e.target=o.srcElement||he),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button,a=t.fromElement;return null==e.pageX&&null!=t.clientX&&(r=e.target.ownerDocument||he,i=r.documentElement,n=r.body,e.pageX=t.clientX+(i&&i.scrollLeft||n&&n.scrollLeft||0)-(i&&i.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||n&&n.scrollTop||0)-(i&&i.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?t.toElement:a),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==h()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){if(this===h()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(ie.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(e){return ie.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=ie.extend(new ie.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?ie.event.trigger(i,null,t):ie.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},ie.removeEvent=he.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===Te&&(e[r]=null),e.detachEvent(r,n))},ie.Event=function(e,t){return this instanceof ie.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?d:p):this.type=e,t&&ie.extend(this,t),this.timeStamp=e&&e.timeStamp||ie.now(),void(this[ie.expando]=!0)):new ie.Event(e,t)},ie.Event.prototype={isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=d,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=d,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=d,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},ie.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){ie.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||ie.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),ne.submitBubbles||(ie.event.special.submit={setup:function(){return!ie.nodeName(this,"form")&&void ie.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=ie.nodeName(t,"input")||ie.nodeName(t,"button")?t.form:void 0;n&&!ie._data(n,"submitBubbles")&&(ie.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),ie._data(n,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&ie.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return!ie.nodeName(this,"form")&&void ie.event.remove(this,"._submit")}}),ne.changeBubbles||(ie.event.special.change={setup:function(){return Le.test(this.nodeName)?("checkbox"!==this.type&&"radio"!==this.type||(ie.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),ie.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),ie.event.simulate("change",this,e,!0)})),!1):void ie.event.add(this,"beforeactivate._change",function(e){var t=e.target;Le.test(t.nodeName)&&!ie._data(t,"changeBubbles")&&(ie.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||ie.event.simulate("change",this.parentNode,e,!0)}),ie._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type)return e.handleObj.handler.apply(this,arguments)},teardown:function(){return ie.event.remove(this,"._change"),!Le.test(this.nodeName)}}),ne.focusinBubbles||ie.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){ie.event.simulate(t,e.target,ie.event.fix(e),!0)};ie.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=ie._data(r,t);i||r.addEventListener(e,n,!0),ie._data(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=ie._data(r,t)-1;i?ie._data(r,t,i):(r.removeEventListener(e,n,!0),ie._removeData(r,t))}}}),ie.fn.extend({on:function(e,t,n,r,i){var o,a;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(o in e)this.on(o,t,n,e[o],i);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),r===!1)r=p;else if(!r)return this;return 1===i&&(a=r,r=function(e){return ie().off(e),a.apply(this,arguments)},r.guid=a.guid||(a.guid=ie.guid++)),this.each(function(){ie.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,ie(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return t!==!1&&"function"!=typeof t||(n=t,t=void 0),n===!1&&(n=p),this.each(function(){ie.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){ie.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return ie.event.trigger(e,t,n,!0)}});var Fe="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Oe=/ jQuery\d+="(?:null|\d+)"/g,Pe=new RegExp("<(?:"+Fe+")[\\s/>]","i"),Be=/^\s+/,Re=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,We=/<([\w:]+)/,$e=/<tbody/i,ze=/<|&#?\w+;/,Ie=/<(?:script|style|link)/i,Xe=/checked\s*(?:[^=]|=\s*.checked.)/i,Ue=/^$|\/(?:java|ecma)script/i,Ve=/^true\/(.*)/,Qe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Je={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ne.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Ye=m(he),Ge=Ye.appendChild(he.createElement("div"));Je.optgroup=Je.option,Je.tbody=Je.tfoot=Je.colgroup=Je.caption=Je.thead,Je.th=Je.td,ie.extend({clone:function(e,t,n){var r,i,o,a,s,l=ie.contains(e.ownerDocument,e);if(ne.html5Clone||ie.isXMLDoc(e)||!Pe.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(Ge.innerHTML=e.outerHTML,Ge.removeChild(o=Ge.firstChild)),!(ne.noCloneEvent&&ne.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ie.isXMLDoc(e)))for(r=g(o),s=g(e),a=0;null!=(i=s[a]);++a)r[a]&&C(i,r[a]);if(t)if(n)for(s=s||g(e),r=r||g(o),a=0;null!=(i=s[a]);a++)T(i,r[a]);else T(e,o);return r=g(o,"script"),r.length>0&&w(r,!l&&g(e,"script")),r=s=i=null,o},buildFragment:function(e,t,n,r){for(var i,o,a,s,l,u,c,f=e.length,d=m(t),p=[],h=0;h<f;h++)if(o=e[h],o||0===o)if("object"===ie.type(o))ie.merge(p,o.nodeType?[o]:o);else if(ze.test(o)){for(s=s||d.appendChild(t.createElement("div")),l=(We.exec(o)||["",""])[1].toLowerCase(),c=Je[l]||Je._default,s.innerHTML=c[1]+o.replace(Re,"<$1></$2>")+c[2],i=c[0];i--;)s=s.lastChild;if(!ne.leadingWhitespace&&Be.test(o)&&p.push(t.createTextNode(Be.exec(o)[0])),!ne.tbody)for(o="table"!==l||$e.test(o)?"<table>"!==c[1]||$e.test(o)?0:s:s.firstChild,i=o&&o.childNodes.length;i--;)ie.nodeName(u=o.childNodes[i],"tbody")&&!u.childNodes.length&&o.removeChild(u);for(ie.merge(p,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=d.lastChild}else p.push(t.createTextNode(o));for(s&&d.removeChild(s),ne.appendChecked||ie.grep(g(p,"input"),y),h=0;o=p[h++];)if((!r||ie.inArray(o,r)===-1)&&(a=ie.contains(o.ownerDocument,o),s=g(d.appendChild(o),"script"),a&&w(s),n))for(i=0;o=s[i++];)Ue.test(o.type||"")&&n.push(o);return s=null,d},cleanData:function(e,t){for(var n,r,i,o,a=0,s=ie.expando,l=ie.cache,u=ne.deleteExpando,c=ie.event.special;null!=(n=e[a]);a++)if((t||ie.acceptData(n))&&(i=n[s],o=i&&l[i])){if(o.events)for(r in o.events)c[r]?ie.event.remove(n,r):ie.removeEvent(n,r,o.handle);l[i]&&(delete l[i],u?delete n[s]:typeof n.removeAttribute!==Te?n.removeAttribute(s):n[s]=null,Q.push(i))}}}),ie.fn.extend({text:function(e){return Ae(this,function(e){return void 0===e?ie.text(this):this.empty().append((this[0]&&this[0].ownerDocument||he).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=v(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=v(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?ie.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||ie.cleanData(g(n)),n.parentNode&&(t&&ie.contains(n.ownerDocument,n)&&w(g(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&ie.cleanData(g(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&ie.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return ie.clone(this,e,t)})},html:function(e){return Ae(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Oe,""):void 0;if("string"==typeof e&&!Ie.test(e)&&(ne.htmlSerialize||!Pe.test(e))&&(ne.leadingWhitespace||!Be.test(e))&&!Je[(We.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Re,"<$1></$2>");try{for(;n<r;n++)t=this[n]||{},1===t.nodeType&&(ie.cleanData(g(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,ie.cleanData(g(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=Y.apply([],e);var n,r,i,o,a,s,l=0,u=this.length,c=this,f=u-1,d=e[0],p=ie.isFunction(d);if(p||u>1&&"string"==typeof d&&!ne.checkClone&&Xe.test(d))return this.each(function(n){var r=c.eq(n);p&&(e[0]=d.call(this,n,r.html())),r.domManip(e,t)});if(u&&(s=ie.buildFragment(e,this[0].ownerDocument,!1,this),n=s.firstChild,1===s.childNodes.length&&(s=n),n)){for(o=ie.map(g(s,"script"),b),i=o.length;l<u;l++)r=s,l!==f&&(r=ie.clone(r,!0,!0),i&&ie.merge(o,g(r,"script"))),t.call(this[l],r,l);if(i)for(a=o[o.length-1].ownerDocument,ie.map(o,x),l=0;l<i;l++)r=o[l],Ue.test(r.type||"")&&!ie._data(r,"globalEval")&&ie.contains(a,r)&&(r.src?ie._evalUrl&&ie._evalUrl(r.src):ie.globalEval((r.text||r.textContent||r.innerHTML||"").replace(Qe,"")));s=n=null}return this}}),ie.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ie.fn[e]=function(e){for(var n,r=0,i=[],o=ie(e),a=o.length-1;r<=a;r++)n=r===a?this:this.clone(!0),ie(o[r])[t](n),G.apply(i,n.get());return this.pushStack(i)}});var Ke,Ze={};!function(){var e;ne.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var t,n,r;return n=he.getElementsByTagName("body")[0],n&&n.style?(t=he.createElement("div"),r=he.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),typeof t.style.zoom!==Te&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(he.createElement("div")).style.width="5px",e=3!==t.offsetWidth),n.removeChild(r),e):void 0}}();var et=/^margin/,tt=new RegExp("^("+ke+")(?!px)[a-z%]+$","i"),nt,rt,it=/^(top|right|bottom|left)$/;e.getComputedStyle?(nt=function(t){
return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)},rt=function(e,t,n){var r,i,o,a,s=e.style;return n=n||nt(e),a=n?n.getPropertyValue(t)||n[t]:void 0,n&&(""!==a||ie.contains(e.ownerDocument,e)||(a=ie.style(e,t)),tt.test(a)&&et.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0===a?a:a+""}):he.documentElement.currentStyle&&(nt=function(e){return e.currentStyle},rt=function(e,t,n){var r,i,o,a,s=e.style;return n=n||nt(e),a=n?n[t]:void 0,null==a&&s&&s[t]&&(a=s[t]),tt.test(a)&&!it.test(t)&&(r=s.left,i=e.runtimeStyle,o=i&&i.left,o&&(i.left=e.currentStyle.left),s.left="fontSize"===t?"1em":a,a=s.pixelLeft+"px",s.left=r,o&&(i.left=o)),void 0===a?a:a+""||"auto"}),function(){function t(){var t,n,r,i;n=he.getElementsByTagName("body")[0],n&&n.style&&(t=he.createElement("div"),r=he.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o=a=!1,l=!0,e.getComputedStyle&&(o="1%"!==(e.getComputedStyle(t,null)||{}).top,a="4px"===(e.getComputedStyle(t,null)||{width:"4px"}).width,i=t.appendChild(he.createElement("div")),i.style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",t.style.width="1px",l=!parseFloat((e.getComputedStyle(i,null)||{}).marginRight),t.removeChild(i)),t.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=t.getElementsByTagName("td"),i[0].style.cssText="margin:0;border:0;padding:0;display:none",s=0===i[0].offsetHeight,s&&(i[0].style.display="",i[1].style.display="none",s=0===i[0].offsetHeight),n.removeChild(r))}var n,r,i,o,a,s,l;n=he.createElement("div"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=n.getElementsByTagName("a")[0],r=i&&i.style,r&&(r.cssText="float:left;opacity:.5",ne.opacity="0.5"===r.opacity,ne.cssFloat=!!r.cssFloat,n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",ne.clearCloneStyle="content-box"===n.style.backgroundClip,ne.boxSizing=""===r.boxSizing||""===r.MozBoxSizing||""===r.WebkitBoxSizing,ie.extend(ne,{reliableHiddenOffsets:function(){return null==s&&t(),s},boxSizingReliable:function(){return null==a&&t(),a},pixelPosition:function(){return null==o&&t(),o},reliableMarginRight:function(){return null==l&&t(),l}}))}(),ie.swap=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i};var ot=/alpha\([^)]*\)/i,at=/opacity\s*=\s*([^)]*)/,st=/^(none|table(?!-c[ea]).+)/,lt=new RegExp("^("+ke+")(.*)$","i"),ut=new RegExp("^([+-])=("+ke+")","i"),ct={position:"absolute",visibility:"hidden",display:"block"},ft={letterSpacing:"0",fontWeight:"400"},dt=["Webkit","O","Moz","ms"];ie.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=rt(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:ne.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=ie.camelCase(t),l=e.style;if(t=ie.cssProps[s]||(ie.cssProps[s]=S(l,s)),a=ie.cssHooks[t]||ie.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];if(o=typeof n,"string"===o&&(i=ut.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(ie.css(e,t)),o="number"),null!=n&&n===n&&("number"!==o||ie.cssNumber[s]||(n+="px"),ne.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),!(a&&"set"in a&&void 0===(n=a.set(e,n,r)))))try{l[t]=n}catch(e){}}},css:function(e,t,n,r){var i,o,a,s=ie.camelCase(t);return t=ie.cssProps[s]||(ie.cssProps[s]=S(e.style,s)),a=ie.cssHooks[t]||ie.cssHooks[s],a&&"get"in a&&(o=a.get(e,!0,n)),void 0===o&&(o=rt(e,t,r)),"normal"===o&&t in ft&&(o=ft[t]),""===n||n?(i=parseFloat(o),n===!0||ie.isNumeric(i)?i||0:o):o}}),ie.each(["height","width"],function(e,t){ie.cssHooks[t]={get:function(e,n,r){if(n)return st.test(ie.css(e,"display"))&&0===e.offsetWidth?ie.swap(e,ct,function(){return L(e,t,r)}):L(e,t,r)},set:function(e,n,r){var i=r&&nt(e);return A(e,n,r?D(e,t,r,ne.boxSizing&&"border-box"===ie.css(e,"boxSizing",!1,i),i):0)}}}),ne.opacity||(ie.cssHooks.opacity={get:function(e,t){return at.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=ie.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===ie.trim(o.replace(ot,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=ot.test(o)?o.replace(ot,i):o+" "+i)}}),ie.cssHooks.marginRight=k(ne.reliableMarginRight,function(e,t){if(t)return ie.swap(e,{display:"inline-block"},rt,[e,"marginRight"])}),ie.each({margin:"",padding:"",border:"Width"},function(e,t){ie.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+Se[r]+t]=o[r]||o[r-2]||o[0];return i}},et.test(e)||(ie.cssHooks[e+t].set=A)}),ie.fn.extend({css:function(e,t){return Ae(this,function(e,t,n){var r,i,o={},a=0;if(ie.isArray(t)){for(r=nt(e),i=t.length;a<i;a++)o[t[a]]=ie.css(e,t[a],!1,r);return o}return void 0!==n?ie.style(e,t,n):ie.css(e,t)},e,t,arguments.length>1)},show:function(){return j(this,!0)},hide:function(){return j(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){je(this)?ie(this).show():ie(this).hide()})}}),ie.Tween=H,H.prototype={constructor:H,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(ie.cssNumber[n]?"":"px")},cur:function(){var e=H.propHooks[this.prop];return e&&e.get?e.get(this):H.propHooks._default.get(this)},run:function(e){var t,n=H.propHooks[this.prop];return this.options.duration?this.pos=t=ie.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):H.propHooks._default.set(this),this}},H.prototype.init.prototype=H.prototype,H.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=ie.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){ie.fx.step[e.prop]?ie.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[ie.cssProps[e.prop]]||ie.cssHooks[e.prop])?ie.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},H.propHooks.scrollTop=H.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ie.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},ie.fx=H.prototype.init,ie.fx.step={};var pt,ht,mt=/^(?:toggle|show|hide)$/,gt=new RegExp("^(?:([+-])=|)("+ke+")([a-z%]*)$","i"),yt=/queueHooks$/,vt=[F],bt={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=gt.exec(t),o=i&&i[3]||(ie.cssNumber[e]?"":"px"),a=(ie.cssNumber[e]||"px"!==o&&+r)&&gt.exec(ie.css(n.elem,e)),s=1,l=20;if(a&&a[3]!==o){o=o||a[3],i=i||[],a=+r||1;do s=s||".5",a/=s,ie.style(n.elem,e,a+o);while(s!==(s=n.cur()/r)&&1!==s&&--l)}return i&&(a=n.start=+a||+r||0,n.unit=o,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n}]};ie.Animation=ie.extend(P,{tweener:function(e,t){ie.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;r<i;r++)n=e[r],bt[n]=bt[n]||[],bt[n].unshift(t)},prefilter:function(e,t){t?vt.unshift(e):vt.push(e)}}),ie.speed=function(e,t,n){var r=e&&"object"==typeof e?ie.extend({},e):{complete:n||!n&&t||ie.isFunction(e)&&e,duration:e,easing:n&&t||t&&!ie.isFunction(t)&&t};return r.duration=ie.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in ie.fx.speeds?ie.fx.speeds[r.duration]:ie.fx.speeds._default,null!=r.queue&&r.queue!==!0||(r.queue="fx"),r.old=r.complete,r.complete=function(){ie.isFunction(r.old)&&r.old.call(this),r.queue&&ie.dequeue(this,r.queue)},r},ie.fn.extend({fadeTo:function(e,t,n,r){return this.filter(je).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=ie.isEmptyObject(e),o=ie.speed(t,n,r),a=function(){var t=P(this,ie.extend({},e),o);(i||ie._data(this,"finish"))&&t.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=ie.timers,a=ie._data(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&yt.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||ie.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=ie._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=ie.timers,a=r?r.length:0;for(n.finish=!0,ie.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),ie.each(["toggle","show","hide"],function(e,t){var n=ie.fn[t];ie.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(_(t,!0),e,r,i)}}),ie.each({slideDown:_("show"),slideUp:_("hide"),slideToggle:_("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ie.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),ie.timers=[],ie.fx.tick=function(){var e,t=ie.timers,n=0;for(pt=ie.now();n<t.length;n++)e=t[n],e()||t[n]!==e||t.splice(n--,1);t.length||ie.fx.stop(),pt=void 0},ie.fx.timer=function(e){ie.timers.push(e),e()?ie.fx.start():ie.timers.pop()},ie.fx.interval=13,ie.fx.start=function(){ht||(ht=setInterval(ie.fx.tick,ie.fx.interval))},ie.fx.stop=function(){clearInterval(ht),ht=null},ie.fx.speeds={slow:600,fast:200,_default:400},ie.fn.delay=function(e,t){return e=ie.fx?ie.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e,t,n,r,i;t=he.createElement("div"),t.setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",r=t.getElementsByTagName("a")[0],n=he.createElement("select"),i=n.appendChild(he.createElement("option")),e=t.getElementsByTagName("input")[0],r.style.cssText="top:1px",ne.getSetAttribute="t"!==t.className,ne.style=/top/.test(r.getAttribute("style")),ne.hrefNormalized="/a"===r.getAttribute("href"),ne.checkOn=!!e.value,ne.optSelected=i.selected,ne.enctype=!!he.createElement("form").enctype,n.disabled=!0,ne.optDisabled=!i.disabled,e=he.createElement("input"),e.setAttribute("value",""),ne.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),ne.radioValue="t"===e.value}();var xt=/\r/g;ie.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=ie.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,ie(this).val()):e,null==i?i="":"number"==typeof i?i+="":ie.isArray(i)&&(i=ie.map(i,function(e){return null==e?"":e+""})),t=ie.valHooks[this.type]||ie.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return t=ie.valHooks[i.type]||ie.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(xt,""):null==n?"":n)}}}),ie.extend({valHooks:{option:{get:function(e){var t=ie.find.attr(e,"value");return null!=t?t:ie.trim(ie.text(e))}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||i<0,a=o?null:[],s=o?i+1:r.length,l=i<0?s:o?i:0;l<s;l++)if(n=r[l],(n.selected||l===i)&&(ne.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!ie.nodeName(n.parentNode,"optgroup"))){if(t=ie(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=ie.makeArray(t),a=i.length;a--;)if(r=i[a],ie.inArray(ie.valHooks.option.get(r),o)>=0)try{r.selected=n=!0}catch(e){r.scrollHeight}else r.selected=!1;return n||(e.selectedIndex=-1),i}}}}),ie.each(["radio","checkbox"],function(){ie.valHooks[this]={set:function(e,t){if(ie.isArray(t))return e.checked=ie.inArray(ie(e).val(),t)>=0}},ne.checkOn||(ie.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var wt,Tt,Ct=ie.expr.attrHandle,Nt=/^(?:checked|selected)$/i,Et=ne.getSetAttribute,kt=ne.input;ie.fn.extend({attr:function(e,t){return Ae(this,ie.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ie.removeAttr(this,e)})}}),ie.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===Te?ie.prop(e,t,n):(1===o&&ie.isXMLDoc(e)||(t=t.toLowerCase(),r=ie.attrHooks[t]||(ie.expr.match.bool.test(t)?Tt:wt)),void 0===n?r&&"get"in r&&null!==(i=r.get(e,t))?i:(i=ie.find.attr(e,t),null==i?void 0:i):null!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):void ie.removeAttr(e,t))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(be);if(o&&1===e.nodeType)for(;n=o[i++];)r=ie.propFix[n]||n,ie.expr.match.bool.test(n)?kt&&Et||!Nt.test(n)?e[r]=!1:e[ie.camelCase("default-"+n)]=e[r]=!1:ie.attr(e,n,""),e.removeAttribute(Et?n:r)},attrHooks:{type:{set:function(e,t){if(!ne.radioValue&&"radio"===t&&ie.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),Tt={set:function(e,t,n){return t===!1?ie.removeAttr(e,n):kt&&Et||!Nt.test(n)?e.setAttribute(!Et&&ie.propFix[n]||n,n):e[ie.camelCase("default-"+n)]=e[n]=!0,n}},ie.each(ie.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Ct[t]||ie.find.attr;Ct[t]=kt&&Et||!Nt.test(t)?function(e,t,r){var i,o;return r||(o=Ct[t],Ct[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,Ct[t]=o),i}:function(e,t,n){if(!n)return e[ie.camelCase("default-"+t)]?t.toLowerCase():null}}),kt&&Et||(ie.attrHooks.value={set:function(e,t,n){return ie.nodeName(e,"input")?void(e.defaultValue=t):wt&&wt.set(e,t,n)}}),Et||(wt={set:function(e,t,n){var r=e.getAttributeNode(n);if(r||e.setAttributeNode(r=e.ownerDocument.createAttribute(n)),r.value=t+="","value"===n||t===e.getAttribute(n))return t}},Ct.id=Ct.name=Ct.coords=function(e,t,n){var r;if(!n)return(r=e.getAttributeNode(t))&&""!==r.value?r.value:null},ie.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);if(n&&n.specified)return n.value},set:wt.set},ie.attrHooks.contenteditable={set:function(e,t,n){wt.set(e,""!==t&&t,n)}},ie.each(["width","height"],function(e,t){ie.attrHooks[t]={set:function(e,n){if(""===n)return e.setAttribute(t,"auto"),n}}})),ne.style||(ie.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var St=/^(?:input|select|textarea|button|object)$/i,jt=/^(?:a|area)$/i;ie.fn.extend({prop:function(e,t){return Ae(this,ie.prop,e,t,arguments.length>1)},removeProp:function(e){return e=ie.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(e){}})}}),ie.extend({propFix:{for:"htmlFor",class:"className"},prop:function(e,t,n){var r,i,o,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return o=1!==a||!ie.isXMLDoc(e),o&&(t=ie.propFix[t]||t,i=ie.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=ie.find.attr(e,"tabindex");return t?parseInt(t,10):St.test(e.nodeName)||jt.test(e.nodeName)&&e.href?0:-1}}}}),ne.hrefNormalized||ie.each(["href","src"],function(e,t){ie.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),ne.optSelected||(ie.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),ie.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ie.propFix[this.toLowerCase()]=this}),ne.enctype||(ie.propFix.enctype="encoding");var At=/[\t\r\n\f]/g;ie.fn.extend({addClass:function(e){var t,n,r,i,o,a,s=0,l=this.length,u="string"==typeof e&&e;if(ie.isFunction(e))return this.each(function(t){ie(this).addClass(e.call(this,t,this.className))});if(u)for(t=(e||"").match(be)||[];s<l;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(At," "):" ")){for(o=0;i=t[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");a=ie.trim(r),n.className!==a&&(n.className=a)}return this},removeClass:function(e){var t,n,r,i,o,a,s=0,l=this.length,u=0===arguments.length||"string"==typeof e&&e;if(ie.isFunction(e))return this.each(function(t){ie(this).removeClass(e.call(this,t,this.className))});if(u)for(t=(e||"").match(be)||[];s<l;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(At," "):"")){for(o=0;i=t[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");a=e?ie.trim(r):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):ie.isFunction(e)?this.each(function(n){ie(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var t,r=0,i=ie(this),o=e.match(be)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else n!==Te&&"boolean"!==n||(this.className&&ie._data(this,"__className__",this.className),this.className=this.className||e===!1?"":ie._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;n<r;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(At," ").indexOf(t)>=0)return!0;return!1}}),ie.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){ie.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),ie.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var Dt=ie.now(),Lt=/\?/,Ht=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;ie.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var n,r=null,i=ie.trim(t+"");return i&&!ie.trim(i.replace(Ht,function(e,t,i,o){return n&&t&&(r=0),0===r?e:(n=i||t,r+=!o-!i,"")}))?Function("return "+i)():ie.error("Invalid JSON: "+t)},ie.parseXML=function(t){var n,r;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(r=new DOMParser,n=r.parseFromString(t,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(t))}catch(e){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||ie.error("Invalid XML: "+t),n};var qt,_t,Mt=/#.*$/,Ft=/([?&])_=[^&]*/,Ot=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Pt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Bt=/^(?:GET|HEAD)$/,Rt=/^\/\//,Wt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,$t={},zt={},It="*/".concat("*");try{_t=location.href}catch(e){_t=he.createElement("a"),_t.href="",_t=_t.href}qt=Wt.exec(_t.toLowerCase())||[],ie.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:_t,type:"GET",isLocal:Pt.test(qt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":It,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ie.parseJSON,"text xml":ie.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?W(W(e,ie.ajaxSettings),t):W(ie.ajaxSettings,e)},ajaxPrefilter:B($t),ajaxTransport:B(zt),ajax:function(e,t){function n(e,t,n,r){var i,c,y,v,x,T=t;2!==b&&(b=2,s&&clearTimeout(s),u=void 0,a=r||"",w.readyState=e>0?4:0,i=e>=200&&e<300||304===e,n&&(v=$(f,w,n)),v=z(f,v,w,i),i?(f.ifModified&&(x=w.getResponseHeader("Last-Modified"),x&&(ie.lastModified[o]=x),x=w.getResponseHeader("etag"),x&&(ie.etag[o]=x)),204===e||"HEAD"===f.type?T="nocontent":304===e?T="notmodified":(T=v.state,c=v.data,y=v.error,i=!y)):(y=T,!e&&T||(T="error",e<0&&(e=0))),w.status=e,w.statusText=(t||T)+"",i?h.resolveWith(d,[c,T,w]):h.rejectWith(d,[w,T,y]),w.statusCode(g),g=void 0,l&&p.trigger(i?"ajaxSuccess":"ajaxError",[w,f,i?c:y]),m.fireWith(d,[w,T]),l&&(p.trigger("ajaxComplete",[w,f]),--ie.active||ie.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,i,o,a,s,l,u,c,f=ie.ajaxSetup({},t),d=f.context||f,p=f.context&&(d.nodeType||d.jquery)?ie(d):ie.event,h=ie.Deferred(),m=ie.Callbacks("once memory"),g=f.statusCode||{},y={},v={},b=0,x="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!c)for(c={};t=Ot.exec(a);)c[t[1].toLowerCase()]=t[2];t=c[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=v[n]=v[n]||e,y[e]=t),this},overrideMimeType:function(e){return b||(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(b<2)for(t in e)g[t]=[g[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||x;return u&&u.abort(t),n(0,t),this}};if(h.promise(w).complete=m.add,w.success=w.done,w.error=w.fail,f.url=((e||f.url||_t)+"").replace(Mt,"").replace(Rt,qt[1]+"//"),f.type=t.method||t.type||f.method||f.type,f.dataTypes=ie.trim(f.dataType||"*").toLowerCase().match(be)||[""],null==f.crossDomain&&(r=Wt.exec(f.url.toLowerCase()),f.crossDomain=!(!r||r[1]===qt[1]&&r[2]===qt[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(qt[3]||("http:"===qt[1]?"80":"443")))),f.data&&f.processData&&"string"!=typeof f.data&&(f.data=ie.param(f.data,f.traditional)),R($t,f,t,w),2===b)return w;l=ie.event&&f.global,l&&0===ie.active++&&ie.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Bt.test(f.type),o=f.url,f.hasContent||(f.data&&(o=f.url+=(Lt.test(o)?"&":"?")+f.data,delete f.data),f.cache===!1&&(f.url=Ft.test(o)?o.replace(Ft,"$1_="+Dt++):o+(Lt.test(o)?"&":"?")+"_="+Dt++)),f.ifModified&&(ie.lastModified[o]&&w.setRequestHeader("If-Modified-Since",ie.lastModified[o]),ie.etag[o]&&w.setRequestHeader("If-None-Match",ie.etag[o])),(f.data&&f.hasContent&&f.contentType!==!1||t.contentType)&&w.setRequestHeader("Content-Type",f.contentType),w.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+It+"; q=0.01":""):f.accepts["*"]);for(i in f.headers)w.setRequestHeader(i,f.headers[i]);if(f.beforeSend&&(f.beforeSend.call(d,w,f)===!1||2===b))return w.abort();x="abort";for(i in{success:1,error:1,complete:1})w[i](f[i]);if(u=R(zt,f,t,w)){w.readyState=1,l&&p.trigger("ajaxSend",[w,f]),f.async&&f.timeout>0&&(s=setTimeout(function(){w.abort("timeout")},f.timeout));try{b=1,u.send(y,n)}catch(e){if(!(b<2))throw e;n(-1,e)}}else n(-1,"No Transport");return w},getJSON:function(e,t,n){return ie.get(e,t,n,"json")},getScript:function(e,t){return ie.get(e,void 0,t,"script")}}),ie.each(["get","post"],function(e,t){ie[t]=function(e,n,r,i){return ie.isFunction(n)&&(i=i||r,r=n,n=void 0),ie.ajax({url:e,type:t,dataType:i,data:n,success:r})}}),ie._evalUrl=function(e){return ie.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},ie.fn.extend({wrapAll:function(e){if(ie.isFunction(e))return this.each(function(t){ie(this).wrapAll(e.call(this,t))});if(this[0]){var t=ie(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return ie.isFunction(e)?this.each(function(t){ie(this).wrapInner(e.call(this,t))}):this.each(function(){var t=ie(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=ie.isFunction(e);return this.each(function(n){ie(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){ie.nodeName(this,"body")||ie(this).replaceWith(this.childNodes)}).end()}}),ie.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!ne.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||ie.css(e,"display"))},ie.expr.filters.visible=function(e){return!ie.expr.filters.hidden(e)};var Xt=/%20/g,Ut=/\[\]$/,Vt=/\r?\n/g,Qt=/^(?:submit|button|image|reset|file)$/i,Jt=/^(?:input|select|textarea|keygen)/i;ie.param=function(e,t){var n,r=[],i=function(e,t){t=ie.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=ie.ajaxSettings&&ie.ajaxSettings.traditional),ie.isArray(e)||e.jquery&&!ie.isPlainObject(e))ie.each(e,function(){i(this.name,this.value)});else for(n in e)I(n,e[n],t,i);return r.join("&").replace(Xt,"+")},ie.fn.extend({serialize:function(){return ie.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ie.prop(this,"elements");return e?ie.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ie(this).is(":disabled")&&Jt.test(this.nodeName)&&!Qt.test(e)&&(this.checked||!De.test(e))}).map(function(e,t){var n=ie(this).val();return null==n?null:ie.isArray(n)?ie.map(n,function(e){return{name:t.name,value:e.replace(Vt,"\r\n")}}):{name:t.name,value:n.replace(Vt,"\r\n")}}).get()}}),ie.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&X()||U()}:X;var Yt=0,Gt={},Kt=ie.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in Gt)Gt[e](void 0,!0)}),ne.cors=!!Kt&&"withCredentials"in Kt,Kt=ne.ajax=!!Kt,Kt&&ie.ajaxTransport(function(e){if(!e.crossDomain||ne.cors){var t;return{send:function(n,r){var i,o=e.xhr(),a=++Yt;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)o[i]=e.xhrFields[i];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)void 0!==n[i]&&o.setRequestHeader(i,n[i]+"");o.send(e.hasContent&&e.data||null),t=function(n,i){var s,l,u;if(t&&(i||4===o.readyState))if(delete Gt[a],t=void 0,o.onreadystatechange=ie.noop,i)4!==o.readyState&&o.abort();else{u={},s=o.status,"string"==typeof o.responseText&&(u.text=o.responseText);try{l=o.statusText}catch(e){l=""}s||!e.isLocal||e.crossDomain?1223===s&&(s=204):s=u.text?200:404}u&&r(s,l,u,o.getAllResponseHeaders())},e.async?4===o.readyState?setTimeout(t):o.onreadystatechange=Gt[a]=t:t()},abort:function(){t&&t(void 0,!0)}}}}),ie.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return ie.globalEval(e),e}}}),ie.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),ie.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=he.head||ie("head")[0]||he.documentElement;return{send:function(r,i){t=he.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||i(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var Zt=[],en=/(=)\?(?=&|$)|\?\?/;ie.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Zt.pop()||ie.expando+"_"+Dt++;return this[e]=!0,e}}),ie.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,a,s=t.jsonp!==!1&&(en.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&en.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=ie.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(en,"$1"+i):t.jsonp!==!1&&(t.url+=(Lt.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||ie.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always(function(){e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,Zt.push(i)),a&&ie.isFunction(o)&&o(a[0]),a=o=void 0}),"script"}),ie.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||he;var r=fe.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=ie.buildFragment([e],t,i),i&&i.length&&ie(i).remove(),ie.merge([],r.childNodes))};var tn=ie.fn.load;ie.fn.load=function(e,t,n){if("string"!=typeof e&&tn)return tn.apply(this,arguments);var r,i,o,a=this,s=e.indexOf(" ");return s>=0&&(r=ie.trim(e.slice(s,e.length)),e=e.slice(0,s)),ie.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),a.length>0&&ie.ajax({url:e,type:o,dataType:"html",data:t}).done(function(e){i=arguments,a.html(r?ie("<div>").append(ie.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){a.each(n,i||[e.responseText,t,e])}),this},ie.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ie.fn[t]=function(e){return this.on(t,e)}}),ie.expr.filters.animated=function(e){return ie.grep(ie.timers,function(t){return e===t.elem}).length};var nn=e.document.documentElement;ie.offset={setOffset:function(e,t,n){var r,i,o,a,s,l,u,c=ie.css(e,"position"),f=ie(e),d={};"static"===c&&(e.style.position="relative"),s=f.offset(),o=ie.css(e,"top"),l=ie.css(e,"left"),u=("absolute"===c||"fixed"===c)&&ie.inArray("auto",[o,l])>-1,u?(r=f.position(),a=r.top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(l)||0),ie.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(d.top=t.top-s.top+a),null!=t.left&&(d.left=t.left-s.left+i),"using"in t?t.using.call(e,d):f.css(d)}},ie.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){ie.offset.setOffset(this,e,t)});var t,n,r={top:0,left:0},i=this[0],o=i&&i.ownerDocument;if(o)return t=o.documentElement,ie.contains(t,i)?(typeof i.getBoundingClientRect!==Te&&(r=i.getBoundingClientRect()),n=V(o),{top:r.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:r.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):r},position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===ie.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ie.nodeName(e[0],"html")||(n=e.offset()),n.top+=ie.css(e[0],"borderTopWidth",!0),n.left+=ie.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-ie.css(r,"marginTop",!0),left:t.left-n.left-ie.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||nn;e&&!ie.nodeName(e,"html")&&"static"===ie.css(e,"position");)e=e.offsetParent;return e||nn})}}),ie.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);ie.fn[e]=function(r){return Ae(this,function(e,r,i){var o=V(e);return void 0===i?o?t in o?o[t]:o.document.documentElement[r]:e[r]:void(o?o.scrollTo(n?ie(o).scrollLeft():i,n?i:ie(o).scrollTop()):e[r]=i)},e,r,arguments.length,null)}}),ie.each(["top","left"],function(e,t){ie.cssHooks[t]=k(ne.pixelPosition,function(e,n){if(n)return n=rt(e,t),
tt.test(n)?ie(e).position()[t]+"px":n})}),ie.each({Height:"height",Width:"width"},function(e,t){ie.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){ie.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(r===!0||i===!0?"margin":"border");return Ae(this,function(t,n,r){var i;return ie.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?ie.css(t,n,a):ie.style(t,n,r,a)},t,o?r:void 0,o,null)}})}),ie.fn.size=function(){return this.length},ie.fn.andSelf=ie.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ie});var rn=e.jQuery,on=e.$;return ie.noConflict=function(t){return e.$===ie&&(e.$=on),t&&e.jQuery===ie&&(e.jQuery=rn),ie},typeof t===Te&&(e.jQuery=e.$=ie),ie})}}}}},{extensions:[".js",".json"]}),u=l("./node_modules/meteor/jquery/main.js");"undefined"==typeof Package&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package.jquery=u,{$:a,jQuery:s})}();

!function(){var e=Package.meteor.Meteor,n=Package.meteor.global,r=Package.meteor.meteorEnv,o=Package.tracker.Tracker,t=Package.tracker.Deps,i=Package["mongo-id"].MongoID,a=Package["diff-sequence"].DiffSequence,c=Package.underscore._,f=Package.random.Random,u,d,s,l;(function(){var e=function(){u._suppressWarnings?u._suppressWarnings--:("undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments),u._loggedWarnings++)},n=i.idStringify,r=i.idParse;u={_suppressWarnings:0,_loggedWarnings:0,observe:function(e,n){var r=null,i=null,f=[],u=o.autorun(function(){var u=e();o.nonreactive(function(){var e;if(i&&(f=c.map(r.fetch(),function(e){return{_id:e._id,item:e}}),i.stop(),i=null),u)if(u instanceof Array)e=s(f,u,n);else{if(!a(u))throw t();var o=l(f,u,n);e=o[0],i=o[1]}else e=d(f,n);v(f,e,n),r=u,f=e})});return{stop:function(){u.stop(),i&&i.stop()}}},fetch:function(e){if(e){if(e instanceof Array)return e;if(a(e))return e.fetch();throw t()}return[]}};var t=function(){return new Error("{{#each}} currently only accepts arrays, cursors or falsey values.")},a=function(e){return e&&c.isObject(e)&&c.isFunction(e.observe)&&c.isFunction(e.fetch)},v=function(e,o,t){var i=Package["diff-sequence"].DiffSequence.diffQueryOrderedChanges,a=[],f=[],u={},d={},s={},l=e.length;c.each(o,function(e,r){f.push({_id:e._id}),d[n(e._id)]=r}),c.each(e,function(e,r){a.push({_id:e._id}),u[n(e._id)]=r,s[n(e._id)]=r}),i(a,f,{addedBefore:function(e,r,i){var a=i?s[n(i)]:l;i&&c.each(s,function(e,n){e>=a&&s[n]++}),l++,s[n(e)]=a,t.addedAt(e,o[d[n(e)]].item,a,i)},movedBefore:function(e,r){if(e!==r){var i=s[n(e)],a=r?s[n(r)]:l;a>i&&a--,c.each(s,function(e,n){i<e&&e<a?s[n]--:a<=e&&e<i&&s[n]++}),s[n(e)]=a,t.movedTo(e,o[d[n(e)]].item,i,a,r)}},removed:function(r){var o=s[n(r)];c.each(s,function(e,n){e>=o&&s[n]--}),delete s[n(r)],l--,t.removedAt(r,e[u[n(r)]].item,o)}}),c.each(d,function(n,i){var a=r(i);if(c.has(u,i)){var f=o[n].item,d=e[u[i]].item;"object"!=typeof f&&f===d||t.changedAt(a,f,d,n)}})};d=function(e,n){return[]},s=function(r,o,t){var i={},a=c.map(o,function(r,t){var a;if("string"==typeof r)a="-"+r;else if("number"==typeof r||"boolean"==typeof r||void 0===r||null===r)a=r;else{if("object"!=typeof r)throw new Error("{{#each}} doesn't support arrays with elements of type "+typeof r);a=r&&"_id"in r?r._id:t}var c=n(a);return i[c]?(r&&"object"==typeof r&&"_id"in r&&e("duplicate id "+a+" in",o),a=f.id()):i[c]=!0,{_id:a,item:r}});return a},l=function(e,n,r){var o=!0,t=[],i=n.observe({addedAt:function(e,n,i){if(o){if(null!==i)throw new Error("Expected initial data from observe in order");t.push({_id:e._id,item:e})}else r.addedAt(e._id,e,n,i)},changedAt:function(e,n,o){r.changedAt(e._id,e,n,o)},removedAt:function(e,n){r.removedAt(e._id,e,n)},movedTo:function(e,n,o,t){r.movedTo(e._id,e,n,o,t)}});return o=!1,[t,i]}}).call(this),"undefined"==typeof Package&&(Package={}),function(e,n){for(var r in n)r in e||(e[r]=n[r])}(Package["observe-sequence"]={},{ObserveSequence:u})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,a=Package.tracker.Tracker,r=Package.tracker.Deps,i;(function(){i=function(e,t){return this instanceof i?(this.curValue=e,this.equalsFunc=t,void(this.dep=new a.Dependency)):new i(e,t)},i._isEqual=function(e,t){var n=e,a=t;return n===a&&(!n||"number"==typeof n||"boolean"==typeof n||"string"==typeof n)},i.prototype.get=function(){return a.active&&this.dep.depend(),this.curValue},i.prototype.set=function(e){var t=this.curValue;(this.equalsFunc||i._isEqual)(t,e)||(this.curValue=e,this.dep.changed())},i.prototype.toString=function(){return"ReactiveVar{"+this.get()+"}"},i.prototype._numListeners=function(){var e=0;for(var t in this.dep._dependentsById)e++;return e}}).call(this),"undefined"==typeof Package&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package["reactive-var"]={},{ReactiveVar:i})}();

!function(){var a=Package.tracker.Tracker,e=Package.tracker.Deps;"undefined"==typeof Package&&(Package={}),function(a,e){for(var c in e)c in a||(a[c]=e[c])}(Package.deps={},{Tracker:a,Deps:e})}();

!function(){var t=Package.meteor.Meteor,e=Package.meteor.global,i=Package.meteor.meteorEnv,r=Package.tracker.Tracker,n=Package.tracker.Deps,o,a,s;(function(){o={},a=function(t){return t},s=Array.prototype.slice}).call(this),function(){var t=Object.prototype.hasOwnProperty,e=function(e,i){for(var r in i)t.call(i,r)&&(e[r]=i[r]);return e};o.Visitor=function(t){e(this,t)},o.Visitor.def=function(t){e(this.prototype,t)},o.Visitor.extend=function(t){var i=this,r=function t(){o.Visitor.apply(this,arguments)};return r.prototype=new i,r.extend=i.extend,r.def=i.def,t&&e(r.prototype,t),r},o.Visitor.def({visit:function(t){if(null==t)return this.visitNull.apply(this,arguments);if("object"==typeof t){if(t.htmljsType)switch(t.htmljsType){case o.Tag.htmljsType:return this.visitTag.apply(this,arguments);case o.CharRef.htmljsType:return this.visitCharRef.apply(this,arguments);case o.Comment.htmljsType:return this.visitComment.apply(this,arguments);case o.Raw.htmljsType:return this.visitRaw.apply(this,arguments);default:throw new Error("Unknown htmljs type: "+t.htmljsType)}return o.isArray(t)?this.visitArray.apply(this,arguments):this.visitObject.apply(this,arguments)}if("string"==typeof t||"boolean"==typeof t||"number"==typeof t)return this.visitPrimitive.apply(this,arguments);if("function"==typeof t)return this.visitFunction.apply(this,arguments);throw new Error("Unexpected object in htmljs: "+t)},visitNull:function(t){},visitPrimitive:function(t){},visitArray:function(t){},visitComment:function(t){},visitCharRef:function(t){},visitRaw:function(t){},visitTag:function(t){},visitObject:function(t){throw new Error("Unexpected object in htmljs: "+t)},visitFunction:function(t){throw new Error("Unexpected function in htmljs: "+t)}}),o.TransformingVisitor=o.Visitor.extend(),o.TransformingVisitor.def({visitNull:a,visitPrimitive:a,visitArray:function(t){for(var e=s.call(arguments),i=t,r=0;r<t.length;r++){var n=t[r];e[0]=n;var o=this.visit.apply(this,e);o!==n&&(i===t&&(i=t.slice()),i[r]=o)}return i},visitComment:a,visitCharRef:a,visitRaw:a,visitObject:a,visitFunction:a,visitTag:function(t){var e=t.children,i=s.call(arguments);i[0]=e;var r=this.visitChildren.apply(this,i),n=t.attrs;i[0]=n;var a=this.visitAttributes.apply(this,i);if(a===n&&r===e)return t;var l=o.getTag(t.tagName).apply(null,r);return l.attrs=a,l},visitChildren:function(t){return this.visitArray.apply(this,arguments)},visitAttributes:function(t){if(o.isArray(t)){for(var i=s.call(arguments),r=t,n=0;n<t.length;n++){var a=t[n];i[0]=a;var l=this.visitAttributes.apply(this,i);l!==a&&(r===t&&(r=t.slice()),r[n]=l)}return r}if(t&&o.isConstructedObject(t))throw new Error("The basic HTML.TransformingVisitor does not support foreign objects in attributes.  Define a custom visitAttributes for this case.");var u=t,f=u;if(u){var c=[null,null];c.push.apply(c,arguments);for(var h in u){var p=u[h];c[0]=h,c[1]=p;var m=this.visitAttribute.apply(this,c);m!==p&&(f===u&&(f=e({},u)),f[h]=m)}}return f},visitAttribute:function(t,e,i){var r=s.call(arguments,2);return r[0]=e,this.visit.apply(this,r)}}),o.ToTextVisitor=o.Visitor.extend(),o.ToTextVisitor.def({visitNull:function(t){return""},visitPrimitive:function(t){var e=String(t);return this.textMode===o.TEXTMODE.RCDATA?e.replace(/&/g,"&amp;").replace(/</g,"&lt;"):this.textMode===o.TEXTMODE.ATTRIBUTE?e.replace(/&/g,"&amp;").replace(/"/g,"&quot;"):e},visitArray:function(t){for(var e=[],i=0;i<t.length;i++)e.push(this.visit(t[i]));return e.join("")},visitComment:function(t){throw new Error("Can't have a comment here")},visitCharRef:function(t){return this.textMode===o.TEXTMODE.RCDATA||this.textMode===o.TEXTMODE.ATTRIBUTE?t.html:t.str},visitRaw:function(t){return t.value},visitTag:function(t){return this.visit(this.toHTML(t))},visitObject:function(t){throw new Error("Unexpected object in htmljs in toText: "+t)},toHTML:function(t){return o.toHTML(t)}}),o.ToHTMLVisitor=o.Visitor.extend(),o.ToHTMLVisitor.def({visitNull:function(t){return""},visitPrimitive:function(t){var e=String(t);return e.replace(/&/g,"&amp;").replace(/</g,"&lt;")},visitArray:function(t){for(var e=[],i=0;i<t.length;i++)e.push(this.visit(t[i]));return e.join("")},visitComment:function(t){return"<!--"+t.sanitizedValue+"-->"},visitCharRef:function(t){return t.html},visitRaw:function(t){return t.value},visitTag:function(t){var e=[],i=t.tagName,r=t.children,n=t.attrs;if(n){n=o.flattenAttributes(n);for(var a in n)if("value"===a&&"textarea"===i)r=[n[a],r];else{var s=this.toText(n[a],o.TEXTMODE.ATTRIBUTE);e.push(" "+a+'="'+s+'"')}}var l="<"+i+e.join("")+">",u=[],f;if("textarea"===i){for(var c=0;c<r.length;c++)u.push(this.toText(r[c],o.TEXTMODE.RCDATA));f=u.join(""),"\n"===f.slice(0,1)&&(f="\n"+f)}else{for(var c=0;c<r.length;c++)u.push(this.visit(r[c]));f=u.join("")}var h=l+f;return!r.length&&o.isVoidElement(i)||(h+="</"+i+">"),h},visitObject:function(t){throw new Error("Unexpected object in htmljs in toHTML: "+t)},toText:function(t,e){return o.toText(t,e)}})}.call(this),function(){o.Tag=function(){},o.Tag.prototype.tagName="",o.Tag.prototype.attrs=null,o.Tag.prototype.children=Object.freeze?Object.freeze([]):[],o.Tag.prototype.htmljsType=o.Tag.htmljsType=["Tag"];var t=function(t){var e=function(){var t=this instanceof o.Tag?this:new e,i=0,r=arguments.length&&arguments[0];if(r&&"object"==typeof r)if(o.isConstructedObject(r)){if(r instanceof o.Attrs){var n=r.value;1===n.length?t.attrs=n[0]:n.length>1&&(t.attrs=n),i++}}else t.attrs=r,i++;return i<arguments.length&&(t.children=s.call(arguments,i)),t};return e.prototype=new o.Tag,e.prototype.constructor=e,e.prototype.tagName=t,e},e=o.Attrs=function(){var t=this instanceof e?this:new e;return t.value=s.call(arguments),t};o.getTag=function(e){var i=o.getSymbolName(e);if(i===e)throw new Error("Use the lowercase or camelCase form of '"+e+"' here");return o[i]||(o[i]=t(e)),o[i]},o.ensureTag=function(t){o.getTag(t)},o.isTagEnsured=function(t){return o.isKnownElement(t)},o.getSymbolName=function(t){return t.toUpperCase().replace(/-/g,"_")},o.knownElementNames="a abbr acronym address applet area article aside audio b base basefont bdi bdo big blockquote body br button canvas caption center cite code col colgroup command data datagrid datalist dd del details dfn dir div dl dt em embed eventsource fieldset figcaption figure font footer form frame frameset h1 h2 h3 h4 h5 h6 head header hgroup hr html i iframe img input ins isindex kbd keygen label legend li link main map mark menu meta meter nav noframes noscript object ol optgroup option output p param pre progress q rp rt ruby s samp script section select small source span strike strong style sub summary sup table tbody td textarea tfoot th thead time title tr track tt u ul var video wbr".split(" "),o.knownSVGElementNames="altGlyph altGlyphDef altGlyphItem animate animateColor animateMotion animateTransform circle clipPath color-profile cursor defs desc ellipse feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence filter font font-face font-face-format font-face-name font-face-src font-face-uri foreignObject g glyph glyphRef hkern image line linearGradient marker mask metadata missing-glyph path pattern polygon polyline radialGradient rect set stop style svg switch symbol text textPath title tref tspan use view vkern".split(" "),o.knownElementNames=o.knownElementNames.concat(o.knownSVGElementNames),o.voidElementNames="area base br col command embed hr img input keygen link meta param source track wbr".split(" ");var i={yes:!0},r=function(t){for(var e={},r=0;r<t.length;r++)e[t[r]]=i;return e},n=r(o.voidElementNames),a=r(o.knownElementNames),l=r(o.knownSVGElementNames);o.isKnownElement=function(t){return a[t]===i},o.isKnownSVGElement=function(t){return l[t]===i},o.isVoidElement=function(t){return n[t]===i};for(var u=0;u<o.knownElementNames.length;u++)o.ensureTag(o.knownElementNames[u]);var f=o.CharRef=function(t){if(!(this instanceof f))return new f(t);if(!(t&&t.html&&t.str))throw new Error("HTML.CharRef must be constructed with ({html:..., str:...})");this.html=t.html,this.str=t.str};f.prototype.htmljsType=f.htmljsType=["CharRef"];var c=o.Comment=function(t){if(!(this instanceof c))return new c(t);if("string"!=typeof t)throw new Error("HTML.Comment must be constructed with a string");this.value=t,this.sanitizedValue=t.replace(/^-|--+|-$/g,"")};c.prototype.htmljsType=c.htmljsType=["Comment"];var h=o.Raw=function(t){if(!(this instanceof h))return new h(t);if("string"!=typeof t)throw new Error("HTML.Raw must be constructed with a string");this.value=t};h.prototype.htmljsType=h.htmljsType=["Raw"],o.isArray=function(t){return t instanceof Array},o.isConstructedObject=function(t){return t&&"object"==typeof t&&t.constructor!==Object&&"function"==typeof t.constructor&&t instanceof t.constructor},o.isNully=function(t){if(null==t)return!0;if(o.isArray(t)){for(var e=0;e<t.length;e++)if(!o.isNully(t[e]))return!1;return!0}return!1},o.isValidAttributeName=function(t){return/^[:_A-Za-z][:_A-Za-z0-9.\-]*/.test(t)},o.flattenAttributes=function(t){if(!t)return t;var e=o.isArray(t);if(e&&0===t.length)return null;for(var i={},r=0,n=e?t.length:1;r<n;r++){var a=e?t[r]:t;if("object"!=typeof a||o.isConstructedObject(a))throw new Error("Expected plain JS object as attrs, found: "+a);for(var s in a){if(!o.isValidAttributeName(s))throw new Error("Illegal HTML attribute name: "+s);var l=a[s];o.isNully(l)||(i[s]=l)}}return i},o.toHTML=function(t){return(new o.ToHTMLVisitor).visit(t)},o.TEXTMODE={STRING:1,RCDATA:2,ATTRIBUTE:3},o.toText=function(t,e){if(!e)throw new Error("textMode required for HTML.toText");if(e!==o.TEXTMODE.STRING&&e!==o.TEXTMODE.RCDATA&&e!==o.TEXTMODE.ATTRIBUTE)throw new Error("Unknown textMode: "+e);var i=new o.ToTextVisitor({textMode:e});return i.visit(t)}}.call(this),"undefined"==typeof Package&&(Package={}),function(t,e){for(var i in e)i in t||(t[i]=e[i])}(Package.htmljs={},{HTML:o})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package.jquery.$,i=Package.jquery.jQuery,a=Package.tracker.Tracker,o=Package.tracker.Deps,s=Package.check.check,l=Package.check.Match,c=Package.underscore._,u=Package["observe-sequence"].ObserveSequence,d=Package["reactive-var"].ReactiveVar,p=Package.htmljs.HTML,f,h,m,w,v;(function(){f={},f._escape=function(){var e={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","&":"&amp;"},t=function(t){return e[t]};return function(e){return e.replace(/[&<>"'`]/g,t)}}(),f._warn=function(e){e="Warning: "+e,"undefined"!=typeof console&&console.warn&&console.warn(e)};var e=Function.prototype.bind;e?f._bind=function(t,n){if(2===arguments.length)return e.call(t,n);for(var r=new Array(arguments.length),i=0;i<r.length;i++)r[i]=arguments[i];return e.apply(t,r.slice(1))}:f._bind=c.bind}).call(this),function(){var e={};f._DOMBackend=e;var t="undefined"!=typeof i?i:"undefined"!=typeof Package?Package.jquery&&Package.jquery.jQuery:null;if(!t)throw new Error("jQuery not found");e._$jq=t,e.parseHTML=function(e){return t.parseHTML(e)||[]},e.Events={delegateEvents:function(e,n,r,i){t(e).on(n,r,i)},undelegateEvents:function(e,n,r){t(e).off(n,"**",r)},bindEventCapturer:function(n,r,i,a){var o=t(n),s=function(e){e=t.event.fix(e),e.currentTarget=e.target;var r=t(e.currentTarget);r.is(o.find(i))&&a.call(n,e)};a._meteorui_wrapper=s,r=e.Events.parseEventType(r),n.addEventListener(r,s,!0)},unbindEventCapturer:function(t,n,r){n=e.Events.parseEventType(n),t.removeEventListener(n,r._meteorui_wrapper,!0)},parseEventType:function(e){var t=e.indexOf(".");return t>=0?e.slice(0,t):e}};var n=function(){},r=function(e){this.next=this,this.prev=this,this.func=e};r.prototype.linkBefore=function(e){this.prev=e.prev,this.next=e,e.prev.next=this,e.prev=this},r.prototype.unlink=function(){this.prev.next=this.next,this.next.prev=this.prev},r.prototype.go=function(){var e=this.func;e&&e()},r.prototype.stop=r.prototype.unlink,e.Teardown={_JQUERY_EVENT_NAME:"blaze_teardown_watcher",_CB_PROP:"$blaze_teardown_callbacks",onElementTeardown:function(i,a){var o=new r(a),s=e.Teardown._CB_PROP;return i[s]||(i[s]=new r,t(i).on(e.Teardown._JQUERY_EVENT_NAME,n)),o.linkBefore(i[s]),o},tearDownElement:function(e){for(var n=[],r=e.getElementsByTagName("*"),i=0;i<r.length;i++)n.push(r[i]);n.push(e),t.cleanData(n)}},t.event.special[e.Teardown._JQUERY_EVENT_NAME]={setup:function(){},teardown:function(){var t=this,n=t[e.Teardown._CB_PROP];if(n){for(var r=n.next;r!==n;)r.go(),r=r.next;n.go(),t[e.Teardown._CB_PROP]=null}}},e.findBySelector=function(e,n){return t(e,n)}}.call(this),function(){var e=Object.freeze?Object.freeze([]):[];f._DOMRange=function(n){if(!(this instanceof t))return new t(n);var r=n||e;if(!r||"number"!=typeof r.length)throw new Error("Expected array");for(var i=0;i<r.length;i++)this._memberIn(r[i]);this.members=r,this.emptyRangePlaceholder=null,this.attached=!1,this.parentElement=null,this.parentRange=null,this.attachedCallbacks=e};var t=f._DOMRange;t._USE_COMMENT_PLACEHOLDERS=function(){var e=!1,t=document.createTextNode("");try{t.someProp=!0}catch(t){e=!0}return e}(),t._insert=function(e,n,r,i){var a=e;a instanceof t?a.attach(n,r,i):i?t._moveNodeWithHooks(a,n,r):t._insertNodeWithHooks(a,n,r)},t._remove=function(e){var n=e;n instanceof t?n.detach():t._removeNodeWithHooks(n)},t._removeNodeWithHooks=function(e){e.parentNode&&(1===e.nodeType&&e.parentNode._uihooks&&e.parentNode._uihooks.removeElement?e.parentNode._uihooks.removeElement(e):e.parentNode.removeChild(e))},t._insertNodeWithHooks=function(e,t,n){n=n||null,1===e.nodeType&&t._uihooks&&t._uihooks.insertElement?t._uihooks.insertElement(e,n):t.insertBefore(e,n)},t._moveNodeWithHooks=function(e,t,n){e.parentNode===t&&(n=n||null,1===e.nodeType&&t._uihooks&&t._uihooks.moveElement?t._uihooks.moveElement(e,n):t.insertBefore(e,n))},t.forElement=function(e){if(1!==e.nodeType)throw new Error("Expected element, found: "+e);for(var t=null;e&&!t;)t=e.$blaze_range||null,t||(e=e.parentNode);return t},t.prototype.attach=function(e,n,r,i){if((r||i)&&(this.parentElement!==e||!this.attached))throw new Error("Can only move or replace an attached DOMRange, and only under the same parent element");var a=this.members;if(a.length){this.emptyRangePlaceholder=null;for(var o=0;o<a.length;o++)t._insert(a[o],e,n,r)}else{var s=t._USE_COMMENT_PLACEHOLDERS?document.createComment(""):document.createTextNode("");this.emptyRangePlaceholder=s,e.insertBefore(s,n||null)}if(this.attached=!0,this.parentElement=e,!r&&!i)for(var o=0;o<this.attachedCallbacks.length;o++){var l=this.attachedCallbacks[o];l.attached&&l.attached(this,e)}},t.prototype.setMembers=function(e){var t=e;if(!t||"number"!=typeof t.length)throw new Error("Expected array");for(var n=this.members,r=0;r<n.length;r++)this._memberOut(n[r]);for(var r=0;r<t.length;r++)this._memberIn(t[r]);if(this.attached){if(t.length||n.length){var i=this.lastNode().nextSibling,a=this.parentElement;this.detach(!0),this.members=t,this.attach(a,i,!1,!0)}}else this.members=t},t.prototype.firstNode=function(){if(!this.attached)throw new Error("Must be attached");if(!this.members.length)return this.emptyRangePlaceholder;var e=this.members[0];return e instanceof t?e.firstNode():e},t.prototype.lastNode=function(){if(!this.attached)throw new Error("Must be attached");if(!this.members.length)return this.emptyRangePlaceholder;var e=this.members[this.members.length-1];return e instanceof t?e.lastNode():e},t.prototype.detach=function(e){if(!this.attached)throw new Error("Must be attached");var n=this.parentElement,r=this.members;if(r.length)for(var i=0;i<r.length;i++)t._remove(r[i]);else{var a=this.emptyRangePlaceholder;this.parentElement.removeChild(a),this.emptyRangePlaceholder=null}if(!e){this.attached=!1,this.parentElement=null;for(var i=0;i<this.attachedCallbacks.length;i++){var o=this.attachedCallbacks[i];o.detached&&o.detached(this,n)}}},t.prototype.addMember=function(e,n,r){var i=this.members;if(!(n>=0&&n<=i.length))throw new Error("Bad index in range.addMember: "+n);if(r||this._memberIn(e),this.attached)if(0===i.length)this.setMembers([e]);else{var a;if(n===i.length)a=this.lastNode().nextSibling;else{var o=i[n];a=o instanceof t?o.firstNode():o}i.splice(n,0,e),t._insert(e,this.parentElement,a,r)}else i.splice(n,0,e)},t.prototype.removeMember=function(n,r){var i=this.members;if(!(n>=0&&n<i.length))throw new Error("Bad index in range.removeMember: "+n);if(r)i.splice(n,1);else{var a=i[n];this._memberOut(a),1===i.length?this.setMembers(e):(i.splice(n,1),this.attached&&t._remove(a))}},t.prototype.moveMember=function(e,t){var n=this.members[e];this.removeMember(e,!0),this.addMember(n,t,!0)},t.prototype.getMember=function(e){var t=this.members;if(!(e>=0&&e<t.length))throw new Error("Bad index in range.getMember: "+e);return this.members[e]},t.prototype._memberIn=function(e){e instanceof t?e.parentRange=this:1===e.nodeType&&(e.$blaze_range=this)},t._destroy=function(e,n){e instanceof t?e.view&&f._destroyView(e.view,n):n||1!==e.nodeType||e.$blaze_range&&(f._destroyNode(e),e.$blaze_range=null)},t.prototype._memberOut=t._destroy,t.prototype.destroyMembers=function(e){for(var t=this.members,n=0;n<t.length;n++)this._memberOut(t[n],e)},t.prototype.destroy=function(e){t._destroy(this,e)},t.prototype.containsElement=function(e){if(!this.attached)throw new Error("Must be attached");if(!f._elementContains(this.parentElement,e))return!1;for(;e.parentNode!==this.parentElement;)e=e.parentNode;for(var t=e.$blaze_range;t&&t!==this;)t=t.parentRange;return t===this},t.prototype.containsRange=function(e){if(!this.attached)throw new Error("Must be attached");if(!e.attached)return!1;if(e.parentElement!==this.parentElement)return this.containsElement(e.parentElement);if(e===this)return!1;for(;e&&e!==this;)e=e.parentRange;return e===this},t.prototype.onAttached=function(e){this.onAttachedDetached({attached:e})},t.prototype.onAttachedDetached=function(t){this.attachedCallbacks===e&&(this.attachedCallbacks=[]),this.attachedCallbacks.push(t)},t.prototype.$=function(e){var t=this,n=this.parentElement;if(!n)throw new Error("Can't select in removed DomRange");if(11===n.nodeType)throw new Error("Can't use $ on an offscreen range");var r=f._DOMBackend.findBySelector(e,n),i=function(e){return"number"==typeof e&&(e=this),t.containsElement(e)};if(r.filter)r=r.filter(i);else{for(var a=[],o=0;o<r.length;o++){var s=r[o];i(s)&&a.push(s)}r=a}return r},f._elementContains=function(e,t){return 1===e.nodeType&&(e!==t&&(e.compareDocumentPosition?16&e.compareDocumentPosition(t):(t=t.parentNode,!(!t||1!==t.nodeType)&&(e===t||e.contains(t)))))}}.call(this),function(){var e=f._EventSupport={},t=f._DOMBackend,n=e.eventsToDelegate={blur:1,change:1,click:1,focus:1,focusin:1,focusout:1,reset:1,submit:1},r=e.EVENT_MODE={TBD:0,BUBBLING:1,CAPTURING:2},i=1,a=function(e,a,o,s,l){this.elem=e,this.type=a,this.selector=o,this.handler=s,this.recipient=l,this.id=i++,this.mode=r.TBD,this.delegatedHandler=function(e){return function(t){if(e.selector||t.currentTarget===t.target)return e.handler.apply(e.recipient,arguments)}}(this);var u=e.addEventListener&&!c.has(n,t.Events.parseEventType(a));u?this.capturingHandler=function(e){return function(n){if(e.mode===r.TBD){if(n.bubbles)return e.mode=r.BUBBLING,void t.Events.unbindEventCapturer(e.elem,e.type,e.capturingHandler);e.mode=r.CAPTURING,t.Events.undelegateEvents(e.elem,e.type,e.delegatedHandler)}e.delegatedHandler(n)}}(this):this.mode=r.BUBBLING};e.HandlerRec=a,a.prototype.bind=function(){this.mode!==r.BUBBLING&&t.Events.bindEventCapturer(this.elem,this.type,this.selector||"*",this.capturingHandler),this.mode!==r.CAPTURING&&t.Events.delegateEvents(this.elem,this.type,this.selector||"*",this.delegatedHandler)},a.prototype.unbind=function(){this.mode!==r.BUBBLING&&t.Events.unbindEventCapturer(this.elem,this.type,this.capturingHandler),this.mode!==r.CAPTURING&&t.Events.undelegateEvents(this.elem,this.type,this.delegatedHandler)},e.listen=function(e,t,n,r,i,o){try{e=e}finally{}var s=[];t.replace(/[^ \/]+/g,function(e){s.push(e)});for(var l=[],c=0,u=s.length;c<u;c++){var d=s[c],p=e.$blaze_events;p||(p=e.$blaze_events={});var f=p[d];f||(f=p[d]={},f.handlers=[]);var h=f.handlers,m=new a(e,d,n,r,i);if(l.push(m),m.bind(),h.push(m),o)for(var w=o(i);w;w=o(w))for(var v=0,_=h.length;v<_;v++){var g=h[v];g.recipient===w&&(g.unbind(),g.bind(),h.splice(v,1),h.push(g),v--,_--)}}return{stop:function(){var t=e.$blaze_events;if(t){for(var n=0;n<l.length;n++){var r=l[n],i=t[r.type];if(i)for(var a=i.handlers,o=a.length-1;o>=0;o--)a[o]===r&&(r.unbind(),a.splice(o,1))}l.length=0}}}}}.call(this),function(){var t=!1;f._allowJavascriptUrls=function(){t=!0},f._javascriptUrlsAllowed=function(){return t},h=function(e,t){this.name=e,this.value=t},f._AttributeHandler=h,h.prototype.update=function(e,t,n){null===n?null!==t&&e.removeAttribute(this.name):e.setAttribute(this.name,n)},h.extend=function(e){var t=this,n=function e(){h.apply(this,arguments)};return n.prototype=new t,n.extend=t.extend,e&&c.extend(n.prototype,e),n},f._DiffingAttributeHandler=h.extend({update:function(e,t,n){if(!this.getCurrentValue||!this.setValue||!this.parseValue)throw new Error("Missing methods in subclass of 'DiffingAttributeHandler'");var r=t?this.parseValue(t):{},i=n?this.parseValue(n):{},a=this.getCurrentValue(e),o=a?this.parseValue(a):{};c.each(c.keys(r),function(e){e in i||delete o[e]}),c.each(c.keys(i),function(e){o[e]=i[e]}),this.setValue(e,c.values(o).join(" "))}});var n=f._DiffingAttributeHandler.extend({getCurrentValue:function(e){return e.className},setValue:function(e,t){e.className=t},parseValue:function(e){var t={};return c.each(e.split(" "),function(e){e&&(t[e]=e)}),t}}),i=n.extend({getCurrentValue:function(e){return e.className.baseVal},setValue:function(e,t){e.setAttribute("class",t)}}),a=f._DiffingAttributeHandler.extend({getCurrentValue:function(e){return e.getAttribute("style")},setValue:function(e,t){""===t?e.removeAttribute("style"):e.setAttribute("style",t)},parseValue:function(e){for(var t={},n=/(\*?[-#\/\*\\\w]+(?:\[[0-9a-z_-]+\])?)\s*:\s*(?:\'(?:\\\'|.)*?\'|"(?:\\"|.)*?"|\([^\)]*?\)|[^};])+[;\s]*/g,i=n.exec(e);i;)t[" "+i[1]]=i[0].trim?i[0].trim():r.trim(i[0]),i=n.exec(e);return t}}),o=h.extend({update:function(e,t,n){var r=this.name;null==n?null!=t&&(e[r]=!1):e[r]=!0}}),s=h.extend({update:function(e,t,n){var r=this.name;n!==e[r]&&(e[r]=n)}}),l=h.extend({update:function(e,t,n){var r="http://www.w3.org/1999/xlink";null===n?null!==t&&e.removeAttributeNS(r,this.name):e.setAttributeNS(r,this.name,this.value)}}),u=function(e){return"ownerSVGElement"in e},d=function(e,t){var n={FORM:["action"],BODY:["background"],BLOCKQUOTE:["cite"],Q:["cite"],DEL:["cite"],INS:["cite"],OBJECT:["classid","codebase","data","usemap"],APPLET:["codebase"],A:["href"],AREA:["href"],LINK:["href"],BASE:["href"],IMG:["longdesc","src","usemap"],FRAME:["longdesc","src"],IFRAME:["longdesc","src"],HEAD:["profile"],SCRIPT:["src"],INPUT:["src","usemap","formaction"],BUTTON:["formaction"],BASE:["href"],MENUITEM:["icon"],HTML:["manifest"],VIDEO:["poster"]};if("itemid"===t)return!0;var r=n[e]||[];return c.contains(r,t)};if(e.isClient)var p=document.createElement("A");var w=function(t){if(e.isClient)return p.href=t,(p.protocol||"").toLowerCase();throw new Error("getUrlProtocol not implemented on the server")},v=h.prototype.update,_=h.extend({update:function(e,t,n){var r=this,i=arguments;if(f._javascriptUrlsAllowed())v.apply(r,i);else{var a="javascript:"===w(n),o="vbscript:"===w(n);a||o?(f._warn("URLs that use the 'javascript:' or 'vbscript:' protocol are not allowed in URL attribute values. Call Blaze._allowJavascriptUrls() to enable them."),v.apply(r,[e,t,null])):v.apply(r,i)}}});f._makeAttributeHandler=function(e,t,r){return"class"===t?u(e)?new i(t,r):new n(t,r):"style"===t?new a(t,r):"OPTION"===e.tagName&&"selected"===t||"INPUT"===e.tagName&&"checked"===t?new o(t,r):"autofocus"===t||"disabled"===t||"hidden"===t||"readonly"===t||"required"===t?new o(t,r):"FORM"===e.tagName&&"novalidate"===t?new o(t,r):"IFRAME"!==e.tagName||"sandbox"!==t||r?"IMG"===e.tagName&&"ismap"===t?new o(t,r):"INPUT"!==e.tagName&&"SELECT"!==e.tagName||"multiple"!==t?"OL"===e.tagName&&"reversed"===t?new o(t,r):"SCRIPT"===e.tagName&&"defer"===t?new o(t,r):"VIDEO"!==e.tagName||"autoplay"!==t&&"controls"!==t&&"loop"!==t&&"muted"!==t?"TEXTAREA"!==e.tagName&&"INPUT"!==e.tagName||"value"!==t?"xlink:"===t.substring(0,6)?new l(t.substring(6),r):d(e.tagName,t)?new _(t,r):new h(t,r):new s(t,r):new o(t,r):new o(t,r):new o(t,(!!r))},m=function(e){this.elem=e,this.handlers={}},m.prototype.update=function(e){var t=this.elem,n=this.handlers;for(var r in n)if(!c.has(e,r)){var i=n[r],a=i.value;i.value=null,i.update(t,a,null),delete n[r]}for(var r in e){var i=null,a,o=e[r];c.has(n,r)?(i=n[r],a=i.value):null!==o&&(i=f._makeAttributeHandler(t,r,o),n[r]=i,a=null),a!==o&&(i.value=o,i.update(t,a,o),null===o&&delete n[r])}}}.call(this),function(){f._materializeDOM=function(t,n,r,i){var a=i||[];if(e(t,n,r,a),!i)for(;a.length;){var o=a.pop();o()}return n};var e=function(e,n,r,i){if(null!=e){switch(typeof e){case"string":case"boolean":case"number":return void n.push(document.createTextNode(String(e)));case"object":if(e.htmljsType)switch(e.htmljsType){case p.Tag.htmljsType:return void n.push(t(e,r,i));case p.CharRef.htmljsType:return void n.push(document.createTextNode(e.str));case p.Comment.htmljsType:return void n.push(document.createComment(e.sanitizedValue));case p.Raw.htmljsType:for(var a=f._DOMBackend.parseHTML(e.value),o=0;o<a.length;o++)n.push(a[o]);return}else{if(p.isArray(e)){for(var o=e.length-1;o>=0;o--)i.push(f._bind(f._materializeDOM,null,e[o],n,r,i));return}if(e instanceof f.Template&&(e=e.constructView()),e instanceof f.View)return void f._materializeView(e,r,i,n)}}throw new Error("Unexpected object in htmljs: "+e)}},t=function(e,t,r){var i=e.tagName,o;o=(p.isKnownSVGElement(i)||n(e))&&document.createElementNS?document.createElementNS("http://www.w3.org/2000/svg",i):document.createElement(i);var s=e.attrs,l=e.children;if("textarea"===i&&e.children.length&&!(s&&"value"in s)){if("function"==typeof s||p.isArray(s))throw new Error("Can't have reactive children of TEXTAREA node; use the 'value' attribute instead.");s=c.extend({},s||null),s.value=f._expand(l,t),l=[]}if(s){var u=new m(o),d=function(){var e=f._expandAttributes(s,t),n=p.flattenAttributes(e),r={};for(var i in n)r[i]=f._toText(n[i],t,p.TEXTMODE.STRING);u.update(r)},h;h=t?t.autorun(d,void 0,"updater"):a.nonreactive(function(){return a.autorun(function(){a._withCurrentView(t,d)})}),f._DOMBackend.Teardown.onElementTeardown(o,function e(){h.stop()})}if(l.length){var w=[];r.push(function(){for(var e=0;e<w.length;e++){var t=w[e];t instanceof f._DOMRange?t.attach(o):o.appendChild(t)}}),r.push(f._bind(f._materializeDOM,null,l,w,t,r))}return o},n=function(e){return"a"===e.tagName&&e.attrs&&void 0!==e.attrs["xlink:href"]}}.call(this),function(){var t;f._throwNextException=!1,f._reportException=function(n,r){if(f._throwNextException)throw f._throwNextException=!1,n;t||(t=function(){return"undefined"!=typeof e?e._debug:"undefined"!=typeof console&&console.log?console.log:function(){}}),t()(r||"Exception caught in template:",n.stack||n.message||n)},f._wrapCatchingExceptions=function(e,t){return"function"!=typeof e?e:function(){try{return e.apply(this,arguments)}catch(e){f._reportException(e,"Exception in "+t+":")}}}}.call(this),function(){f.View=function(e,t){return this instanceof f.View?("function"==typeof e&&(t=e,e=""),this.name=e,this._render=t,this._callbacks={created:null,rendered:null,destroyed:null},this.isCreated=!1,this._isCreatedForExpansion=!1,this.isRendered=!1,this._isAttached=!1,this.isDestroyed=!1,this._isInRender=!1,this.parentView=null,this._domrange=null,this._hasGeneratedParent=!1,this._scopeBindings={},void(this.renderCount=0)):new f.View(e,t)},f.View.prototype._render=function(){return null},f.View.prototype.onViewCreated=function(e){this._callbacks.created=this._callbacks.created||[],this._callbacks.created.push(e)},f.View.prototype._onViewRendered=function(e){this._callbacks.rendered=this._callbacks.rendered||[],this._callbacks.rendered.push(e)},f.View.prototype.onViewReady=function(e){var t=this,n=function(){a.afterFlush(function(){t.isDestroyed||f._withCurrentView(t,function(){e.call(t)})})};t._onViewRendered(function e(){t.isDestroyed||(t._domrange.attached?n():t._domrange.onAttached(n))})},f.View.prototype.onViewDestroyed=function(e){this._callbacks.destroyed=this._callbacks.destroyed||[],this._callbacks.destroyed.push(e)},f.View.prototype.removeViewDestroyedListener=function(e){var t=this._callbacks.destroyed;if(t){var n=c.lastIndexOf(t,e);n!==-1&&(t[n]=null)}},f.View.prototype.autorun=function(e,t,n){var r=this;if(!r.isCreated)throw new Error("View#autorun must be called from the created callback at the earliest");if(this._isInRender)throw new Error("Can't call View#autorun from inside render(); try calling it from the created or rendered callback");var i=f.Template._currentTemplateInstanceFunc,o=function n(a){return f._withCurrentView(t||r,function(){return f.Template._withTemplateInstanceFunc(i,function(){return e.call(r,a)})})};o.displayName=(r.name||"anonymous")+":"+(n||"anonymous");var s=a.autorun(o),l=function(){s.stop()};return r.onViewDestroyed(l),s.onStop(function(){r.removeViewDestroyedListener(l)}),s},f.View.prototype._errorIfShouldntCallSubscribe=function(){var e=this;if(!e.isCreated)throw new Error("View#subscribe must be called from the created callback at the earliest");if(e._isInRender)throw new Error("Can't call View#subscribe from inside render(); try calling it from the created or rendered callback");if(e.isDestroyed)throw new Error("Can't call View#subscribe from inside the destroyed callback, try calling it inside created or rendered.")},f.View.prototype.subscribe=function(t,n){var r=this;n=n||{},r._errorIfShouldntCallSubscribe();var i;return i=n.connection?n.connection.subscribe.apply(n.connection,t):e.subscribe.apply(e,t),r.onViewDestroyed(function(){i.stop()}),i},f.View.prototype.firstNode=function(){if(!this._isAttached)throw new Error("View must be attached before accessing its DOM");return this._domrange.firstNode()},f.View.prototype.lastNode=function(){if(!this._isAttached)throw new Error("View must be attached before accessing its DOM");return this._domrange.lastNode()},f._fireCallbacks=function(e,t){f._withCurrentView(e,function(){a.nonreactive(function n(){for(var r=e._callbacks[t],i=0,a=r&&r.length;i<a;i++)r[i]&&r[i].call(e)})})},f._createView=function(e,t,n){if(e.isCreated)throw new Error("Can't render the same View twice");e.parentView=t||null,e.isCreated=!0,n&&(e._isCreatedForExpansion=!0),f._fireCallbacks(e,"created")};var t=function(e,t){var n=new f._DOMRange(t);e._domrange=n,n.view=e,e.isRendered=!0,f._fireCallbacks(e,"rendered");var r=null;return n.onAttached(function t(n,i){e._isAttached=!0,r=f._DOMBackend.Teardown.onElementTeardown(i,function t(){f._destroyView(e,!0)})}),e.onViewDestroyed(function(){r&&r.stop(),r=null}),n};f._materializeView=function(e,n,r,i){f._createView(e,n);var o,s;return a.nonreactive(function(){e.autorun(function t(n){e.renderCount++,e._isInRender=!0;var r=e._render();e._isInRender=!1,n.firstRun||a.nonreactive(function t(){var n=f._materializeDOM(r,[],e);f._isContentEqual(s,r)||(o.setMembers(n),f._fireCallbacks(e,"rendered"))}),s=r,a.onInvalidate(function(){o&&o.destroyMembers()})},void 0,"materialize");var n;r?(n=[],r.push(function(){o=t(e,n),n=null,i.push(o)}),r.push(f._bind(f._materializeDOM,null,s,n,e,r))):(n=f._materializeDOM(s,[],e),o=t(e,n),n=null)}),r?null:o},f._expandView=function(e,t){f._createView(e,t,!0),e._isInRender=!0;var n=f._withCurrentView(e,function(){return e._render()});e._isInRender=!1;var r=f._expand(n,e);return a.active?a.onInvalidate(function(){f._destroyView(e)}):f._destroyView(e),r},f._HTMLJSExpander=p.TransformingVisitor.extend(),f._HTMLJSExpander.def({visitObject:function(e){return e instanceof f.Template&&(e=e.constructView()),e instanceof f.View?f._expandView(e,this.parentView):p.TransformingVisitor.prototype.visitObject.call(this,e)},visitAttributes:function(e){return"function"==typeof e&&(e=f._withCurrentView(this.parentView,e)),p.TransformingVisitor.prototype.visitAttributes.call(this,e)},visitAttribute:function(e,t,n){return"function"==typeof t&&(t=f._withCurrentView(this.parentView,t)),p.TransformingVisitor.prototype.visitAttribute.call(this,e,t,n)}});var n=function(){var e=f.currentView;return e&&e._isInRender?e:null};f._expand=function(e,t){return t=t||n(),new f._HTMLJSExpander({parentView:t}).visit(e)},f._expandAttributes=function(e,t){return t=t||n(),new f._HTMLJSExpander({parentView:t}).visitAttributes(e)},f._destroyView=function(e,t){e.isDestroyed||(e.isDestroyed=!0,f._fireCallbacks(e,"destroyed"),e._domrange&&e._domrange.destroyMembers(t))},f._destroyNode=function(e){1===e.nodeType&&f._DOMBackend.Teardown.tearDownElement(e)},f._isContentEqual=function(e,t){return e instanceof p.Raw?t instanceof p.Raw&&e.value===t.value:null==e?null==t:e===t&&("number"==typeof e||"boolean"==typeof e||"string"==typeof e)},f.currentView=null,f._withCurrentView=function(e,t){var n=f.currentView;try{return f.currentView=e,t()}finally{f.currentView=n}};var r=function(e){if(null===e)throw new Error("Can't render null");if("undefined"==typeof e)throw new Error("Can't render undefined");if(!(e instanceof f.View||e instanceof f.Template||"function"==typeof e))try{(new p.Visitor).visit(e)}catch(e){throw new Error("Expected Template or View")}},i=function(e){if(r(e),e instanceof f.Template)return e.constructView();if(e instanceof f.View)return e;var t=e;return"function"!=typeof t&&(t=function(){return e}),f.View("render",t)},o=function(e){return r(e),"function"!=typeof e?function(){return e}:e};f.render=function(e,t,r,a){if(t||f._warn("Blaze.render without a parent element is deprecated. You must specify where to insert the rendered content."),r instanceof f.View&&(a=r,r=null),t&&"number"!=typeof t.nodeType)throw new Error("'parentElement' must be a DOM node");if(r&&"number"!=typeof r.nodeType)throw new Error("'nextNode' must be a DOM node");a=a||n();var o=i(e);return f._materializeView(o,a),t&&o._domrange.attach(t,r),o},f.insert=function(e,t,n){if(f._warn("Blaze.insert has been deprecated.  Specify where to insert the rendered content in the call to Blaze.render."),!(e&&e._domrange instanceof f._DOMRange))throw new Error("Expected template rendered with Blaze.render");e._domrange.attach(t,n)},f.renderWithData=function(e,t,n,r,i){return f.render(f._TemplateWith(t,o(e)),n,r,i)},f.remove=function(e){if(!(e&&e._domrange instanceof f._DOMRange))throw new Error("Expected template rendered with Blaze.render");for(;e;){if(!e.isDestroyed){var t=e._domrange;t.attached&&!t.parentRange&&t.detach(),t.destroy()}e=e._hasGeneratedParent&&e.parentView}},f.toHTML=function(e,t){return t=t||n(),p.toHTML(f._expandView(i(e),t))},f.toHTMLWithData=function(e,t,r){return r=r||n(),p.toHTML(f._expandView(f._TemplateWith(t,o(e)),r))},f._toText=function(e,t,r){if("function"==typeof e)throw new Error("Blaze._toText doesn't take a function, just HTMLjs");if(null==t||t instanceof f.View||(r=t,t=null),t=t||n(),!r)throw new Error("textMode required");if(r!==p.TEXTMODE.STRING&&r!==p.TEXTMODE.RCDATA&&r!==p.TEXTMODE.ATTRIBUTE)throw new Error("Unknown textMode: "+r);return p.toText(f._expand(e,t),r)},f.getData=function(e){var t;if(e)if(e instanceof f.View){var n=e;t="with"===n.name?n:f.getView(n,"with")}else{if("number"!=typeof e.nodeType)throw new Error("Expected DOM element or View");if(1!==e.nodeType)throw new Error("Expected DOM element");t=f.getView(e,"with")}else t=f.getView("with");return t?t.dataVar.get():null},f.getElementData=function(e){if(f._warn("Blaze.getElementData has been deprecated.  Use Blaze.getData(element) instead."),1!==e.nodeType)throw new Error("Expected DOM element");return f.getData(e)},f.getView=function(e,t){var n=t;if("string"==typeof e&&(n=e,e=null),e){if(e instanceof f.View)return f._getParentView(e,n);if("number"==typeof e.nodeType)return f._getElementView(e,n);throw new Error("Expected DOM element or View")}return f._getCurrentView(n)},f._getCurrentView=function(e){var t=f.currentView;if(!t)throw new Error("There is no current view");if(e){for(;t&&t.name!==e;)t=t.parentView;return t||null}return t},f._getParentView=function(e,t){var n=e.parentView;if(t)for(;n&&n.name!==t;)n=n.parentView;return n||null},f._getElementView=function(e,t){for(var n=f._DOMRange.forElement(e),r=null;n&&!r;)r=n.view||null,r||(n=n.parentRange?n.parentRange:f._DOMRange.forElement(n.parentElement));if(t){for(;r&&r.name!==t;)r=r.parentView;return r||null}return r},f._addEventMap=function(e,t,n){n=n||null;var r=[];if(!e._domrange)throw new Error("View must have a DOMRange");e._domrange.onAttached(function i(a,o){c.each(t,function(t,i){var s=i.split(/,\s+/);c.each(s,function(i){var s=i.split(/\s+/);if(0!==s.length){var l=s.shift(),c=s.join(" ");r.push(f._EventSupport.listen(o,l,c,function(r){if(!a.containsElement(r.currentTarget))return null;var i=n||this,o=arguments;return f._withCurrentView(e,function(){return t.apply(i,o)})},a,function(e){return e.parentRange}))}})})}),e.onViewDestroyed(function(){c.each(r,function(e){e.stop()}),r.length=0})}}.call(this),function(){f._calculateCondition=function(e){return e instanceof Array&&0===e.length&&(e=!1),!!e},f.With=function(e,t){var n=f.View("with",t);return n.dataVar=new d,n.onViewCreated(function(){"function"==typeof e?n.autorun(function(){n.dataVar.set(e())},n.parentView,"setData"):n.dataVar.set(e)}),n},f._attachBindingsToView=function(e,t){t.onViewCreated(function(){c.each(e,function(e,n){t._scopeBindings[n]=new d,"function"==typeof e?t.autorun(function(){t._scopeBindings[n].set(e())},t.parentView):t._scopeBindings[n].set(e)})})},f.Let=function(e,t){var n=f.View("let",t);return f._attachBindingsToView(e,n),n},f.If=function(e,t,n,r){var i=new d,a=f.View(r?"unless":"if",function(){return i.get()?t():n?n():null});return a.__conditionVar=i,a.onViewCreated(function(){this.autorun(function(){var t=f._calculateCondition(e());i.set(r?!t:t)},this.parentView,"condition")}),a},f.Unless=function(e,t,n){return f.If(e,t,n,!0)},f.Each=function(e,t,n){var r=f.View("each",function(){var e=this.initialSubviews;return this.initialSubviews=null,this._isCreatedForExpansion&&(this.expandedValueDep=new a.Dependency,this.expandedValueDep.depend()),e});r.initialSubviews=[],r.numItems=0,r.inElseMode=!1,r.stopHandle=null,r.contentFunc=t,r.elseFunc=n,r.argVar=new d,r.variableName=null;var i=function(e,t){void 0===t&&(t=r.numItems-1);for(var n=e;n<=t;n++){var i=r._domrange.members[n].view;i._scopeBindings["@index"].set(n)}};return r.onViewCreated(function(){r.autorun(function(){var t=e();c.isObject(t)&&c.has(t,"_sequence")&&(r.variableName=t._variable||null,t=t._sequence),r.argVar.set(t)},r.parentView,"collection"),r.stopHandle=u.observe(function(){return r.argVar.get()},{addedAt:function(e,t,n){a.nonreactive(function(){var e;e=r.variableName?f.View("item",r.contentFunc):f.With(t,r.contentFunc),r.numItems++;var a={};if(a["@index"]=n,r.variableName&&(a[r.variableName]=t),f._attachBindingsToView(a,e),r.expandedValueDep)r.expandedValueDep.changed();else if(r._domrange){r.inElseMode&&(r._domrange.removeMember(0),r.inElseMode=!1);var o=f._materializeView(e,r);r._domrange.addMember(o,n),i(n)}else r.initialSubviews.splice(n,0,e)})},removedAt:function(e,t,n){a.nonreactive(function(){r.numItems--,r.expandedValueDep?r.expandedValueDep.changed():r._domrange?(r._domrange.removeMember(n),i(n),r.elseFunc&&0===r.numItems&&(r.inElseMode=!0,r._domrange.addMember(f._materializeView(f.View("each_else",r.elseFunc),r),0))):r.initialSubviews.splice(n,1)})},changedAt:function(e,t,n,i){a.nonreactive(function(){if(r.expandedValueDep)r.expandedValueDep.changed();else{var e;e=r._domrange?r._domrange.getMember(i).view:r.initialSubviews[i],r.variableName?e._scopeBindings[r.variableName].set(t):e.dataVar.set(t)}})},movedTo:function(e,t,n,o){a.nonreactive(function(){if(r.expandedValueDep)r.expandedValueDep.changed();else if(r._domrange)r._domrange.moveMember(n,o),i(Math.min(n,o),Math.max(n,o));else{var e=r.initialSubviews,t=e[n];e.splice(n,1),e.splice(o,0,t)}})}}),r.elseFunc&&0===r.numItems&&(r.inElseMode=!0,r.initialSubviews[0]=f.View("each_else",r.elseFunc))}),r.onViewDestroyed(function(){r.stopHandle&&r.stopHandle.stop()}),r},f._TemplateWith=function(e,t){var n,r=e;"function"!=typeof e&&(r=function(){return e});var i=function(){var e=null;return n.parentView&&"InOuterTemplateScope"===n.parentView.name&&(e=n.parentView.originalParentView),e?f._withCurrentView(e,r):r()},a=function(){var e=t.call(this);return e instanceof f.Template&&(e=e.constructView()),e instanceof f.View&&(e._hasGeneratedParent=!0),e};return n=f.With(i,a),n.__isTemplateWith=!0,n},f._InOuterTemplateScope=function(e,t){var n=f.View("InOuterTemplateScope",t),r=e.parentView;return r.__isTemplateWith&&(r=r.parentView),n.onViewCreated(function(){this.originalParentView=this.parentView,this.parentView=r,this.__childDoesntStartNewLexicalScope=!0}),n},f.InOuterTemplateScope=f._InOuterTemplateScope}.call(this),function(){f._globalHelpers={},f.registerHelper=function(e,t){f._globalHelpers[e]=t},f.deregisterHelper=function(e){delete f._globalHelpers[e]};var e=function(e,t){return"function"!=typeof e?e:f._bind(e,t)},t=function(e){return"function"==typeof e?function(){var t=f.getData();return null==t&&(t={}),e.apply(t,arguments)}:e};f._OLDSTYLE_HELPER={},f._getTemplateHelper=function(e,r,i){var a=!1;if(e.__helpers.has(r)){var o=e.__helpers.get(r);if(o!==f._OLDSTYLE_HELPER)return null!=o?n(t(o),i):null;a=!0}return r in e&&(a||(e.__helpers.set(r,f._OLDSTYLE_HELPER),e._NOWARN_OLDSTYLE_HELPERS||f._warn("Assigning helper with `"+e.viewName+"."+r+" = ...` is deprecated.  Use `"+e.viewName+".helpers(...)` instead.")),null!=e[r])?n(t(e[r]),i):null};var n=function(e,t){
return"function"!=typeof e?e:function(){var n=this,r=arguments;return f.Template._withTemplateInstanceFunc(t,function(){return f._wrapCatchingExceptions(e,"template helper").apply(n,r)})}};f._lexicalBindingLookup=function(e,t){var n=e,r=[];do if(c.has(n._scopeBindings,t)){var i=n._scopeBindings[t];return function(){return i.get()}}while((!n.__startsNewLexicalScope||n.parentView&&n.parentView.__childDoesntStartNewLexicalScope)&&(n=n.parentView));return null},f._getTemplate=function(e,t){return e in f.Template&&f.Template[e]instanceof f.Template?f.Template[e]:null},f._getGlobalHelper=function(e,r){return null!=f._globalHelpers[e]?n(t(f._globalHelpers[e]),r):null},f.View.prototype.lookup=function(e,t){var n=this.template,r=t&&t.template,i,a,o,s;if(this.templateInstance&&(o=f._bind(this.templateInstance,this)),/^\./.test(e)){if(!/^(\.)+$/.test(e))throw new Error("id starting with dot must be a series of dots");return f._parentData(e.length-1,!0)}return n&&null!=(i=f._getTemplateHelper(n,e,o))?i:n&&null!=(a=f._lexicalBindingLookup(f.currentView,e))?a:r&&null!=(s=f._getTemplate(e,o))?s:null!=(i=f._getGlobalHelper(e,o))?i:function(){var t=arguments.length>0,n=f.getData(),i=n&&n[e];if(!i){if(r)throw new Error("No such template: "+e);if(t)throw new Error("No such function: "+e);if("@"===e.charAt(0)&&(null===i||void 0===i))throw new Error("Unsupported directive: "+e)}if(!n)return null;if("function"!=typeof i){if(t)throw new Error("Can't call non-function: "+i);return i}return i.apply(n,arguments)}},f._parentData=function(e,t){null==e&&(e=1);for(var n=f.getView("with"),r=0;r<e&&n;r++)n=f.getView(n,"with");return n?t?function(){return n.dataVar.get()}:n.dataVar.get():null},f.View.prototype.lookupTemplate=function(e){return this.lookup(e,{template:!0})}}.call(this),function(){f.Template=function(e,n){if(!(this instanceof f.Template))return new f.Template(e,n);if("function"==typeof e&&(n=e,e=""),"string"!=typeof e)throw new Error("viewName must be a String (or omitted)");if("function"!=typeof n)throw new Error("renderFunction must be a function");this.viewName=e,this.renderFunction=n,this.__helpers=new t,this.__eventMaps=[],this._callbacks={created:[],rendered:[],destroyed:[]}};var e=f.Template,t=function(){};t.prototype.get=function(e){return this[" "+e]},t.prototype.set=function(e,t){this[" "+e]=t},t.prototype.has=function(e){return" "+e in this},f.isTemplate=function(e){return e instanceof f.Template},e.prototype.onCreated=function(e){this._callbacks.created.push(e)},e.prototype.onRendered=function(e){this._callbacks.rendered.push(e)},e.prototype.onDestroyed=function(e){this._callbacks.destroyed.push(e)},e.prototype._getCallbacks=function(e){var t=this,n=t[e]?[t[e]]:[];return n=n.concat(t._callbacks[e])};var n=function(t,n){e._withTemplateInstanceFunc(function(){return n},function(){for(var e=0,r=t.length;e<r;e++)t[e].call(n)})};e.prototype.constructView=function(t,r){var i=this,a=f.View(i.viewName,i.renderFunction);a.template=i,a.templateContentBlock=t?new e("(contentBlock)",t):null,a.templateElseBlock=r?new e("(elseBlock)",r):null,(i.__eventMaps||"object"==typeof i.events)&&a._onViewRendered(function(){1===a.renderCount&&(i.__eventMaps.length||"object"!=typeof i.events||e.prototype.events.call(i,i.events),c.each(i.__eventMaps,function(e){f._addEventMap(a,e,a)}))}),a._templateInstance=new f.TemplateInstance(a),a.templateInstance=function(){var e=a._templateInstance;return e.data=f.getData(a),a._domrange&&!a.isDestroyed?(e.firstNode=a._domrange.firstNode(),e.lastNode=a._domrange.lastNode()):(e.firstNode=null,e.lastNode=null),e};var o=i._getCallbacks("created");a.onViewCreated(function(){n(o,a.templateInstance())});var s=i._getCallbacks("rendered");a.onViewReady(function(){n(s,a.templateInstance())});var l=i._getCallbacks("destroyed");return a.onViewDestroyed(function(){n(l,a.templateInstance())}),a},f.TemplateInstance=function(e){if(!(this instanceof f.TemplateInstance))return new f.TemplateInstance(e);if(!(e instanceof f.View))throw new Error("View required");e._templateInstance=this,this.view=e,this.data=null,this.firstNode=null,this.lastNode=null,this._allSubsReadyDep=new a.Dependency,this._allSubsReady=!1,this._subscriptionHandles={}},f.TemplateInstance.prototype.$=function(e){var t=this.view;if(!t._domrange)throw new Error("Can't use $ on template instance with no DOM");return t._domrange.$(e)},f.TemplateInstance.prototype.findAll=function(e){return Array.prototype.slice.call(this.$(e))},f.TemplateInstance.prototype.find=function(e){var t=this.$(e);return t[0]||null},f.TemplateInstance.prototype.autorun=function(e){return this.view.autorun(e)},f.TemplateInstance.prototype.subscribe=function(){var e=this,t=e._subscriptionHandles,n=c.toArray(arguments),r={};if(n.length){var i=c.last(n),a={onReady:l.Optional(Function),onError:l.Optional(Function),onStop:l.Optional(Function),connection:l.Optional(l.Any)};c.isFunction(i)?r.onReady=n.pop():i&&!c.isEmpty(i)&&l.test(i,a)&&(r=n.pop())}var o,s=r.onStop;r.onStop=function(n){delete t[o.subscriptionId],e._allSubsReady||e._allSubsReadyDep.changed(),s&&s(n)};var u=r.connection,d=c.pick(r,["onReady","onError","onStop"]);return n.push(d),o=e.view.subscribe.call(e.view,n,{connection:u}),c.has(t,o.subscriptionId)||(t[o.subscriptionId]=o,e._allSubsReady&&e._allSubsReadyDep.changed()),o},f.TemplateInstance.prototype.subscriptionsReady=function(){return this._allSubsReadyDep.depend(),this._allSubsReady=c.all(this._subscriptionHandles,function(e){return e.ready()}),this._allSubsReady},e.prototype.helpers=function(e){if(!c.isObject(e))throw new Error("Helpers dictionary has to be an object");for(var t in e)this.__helpers.set(t,e[t])},e._currentTemplateInstanceFunc=null,e._withTemplateInstanceFunc=function(t,n){if("function"!=typeof n)throw new Error("Expected function, got: "+n);var r=e._currentTemplateInstanceFunc;try{return e._currentTemplateInstanceFunc=t,n()}finally{e._currentTemplateInstanceFunc=r}},e.prototype.events=function(t){if(!c.isObject(t))throw new Error("Event map has to be an object");var n=this,r={};for(var i in t)r[i]=function(t,n){return function(t){var r=this,i=f.getData(t.currentTarget);null==i&&(i={});var a=Array.prototype.slice.call(arguments),o=f._bind(r.templateInstance,r);return a.splice(1,0,o()),e._withTemplateInstanceFunc(o,function(){return n.apply(i,a)})}}(i,t[i]);n.__eventMaps.push(r)},e.instance=function(){return e._currentTemplateInstanceFunc&&e._currentTemplateInstanceFunc()},e.currentData=f.getData,e.parentData=f._parentData,e.registerHelper=f.registerHelper,e.deregisterHelper=f.deregisterHelper}.call(this),function(){w=f,f.ReactiveVar=d,w._templateInstance=f.Template.instance,v={},v.registerHelper=f.registerHelper,v._escape=f._escape,v.SafeString=function(e){this.string=e},v.SafeString.prototype.toString=function(){return this.string.toString()}}.call(this),"undefined"==typeof Package&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package.blaze={},{Blaze:f,UI:w,Handlebars:v})}();

!function(){"undefined"==typeof Package&&(Package={}),Package["mquandalle:jade"]={}}();

!function(){var a=Package.blaze.Blaze,e=Package.blaze.UI,n=Package.blaze.Handlebars;"undefined"==typeof Package&&(Package={}),function(a,e){for(var n in e)n in a||(a[n]=e[n])}(Package.ui={},{Blaze:a,UI:e,Handlebars:n})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package["observe-sequence"].ObserveSequence,a=Package.underscore._,u=Package.tracker.Tracker,i=Package.tracker.Deps,o=Package.htmljs.HTML,c=Package.blaze.Blaze,l=Package.blaze.UI,f=Package.blaze.Handlebars,p;(function(){p={};var e=function(e,t){return e===t};p.include=function(t,n,r){if(!t)return null;if("function"!=typeof t){var a=t;if(!c.isTemplate(a))throw new Error("Expected template or null, found: "+a);var u=t.constructView(n,r);return u.__startsNewLexicalScope=!0,u}var i=c.ReactiveVar(null,e),u=c.View("Spacebars.include",function(){var e=i.get();if(null===e)return null;if(!c.isTemplate(e))throw new Error("Expected template or null, found: "+e);return e.constructView(n,r)});return u.__templateVar=i,u.onViewCreated(function(){this.autorun(function(){i.set(t())})}),u.__startsNewLexicalScope=!0,u},p.mustacheImpl=function(e){var t=arguments;if(t.length>1){var n=t[t.length-1];if(n instanceof p.kw){var r={};for(var a in n.hash){var u=n.hash[a];r[a]="function"==typeof u?u():u}t[t.length-1]=p.kw(r)}else n=p.kw(),t=Array.prototype.slice.call(arguments),t.push(n)}return p.call.apply(null,t)},p.mustache=function(e){var t=p.mustacheImpl.apply(null,arguments);return t instanceof p.SafeString?o.Raw(t.toString()):null==t||t===!1?null:String(t)},p.attrMustache=function(e){var t=p.mustacheImpl.apply(null,arguments);if(null==t||""===t)return null;if("object"==typeof t)return t;if("string"==typeof t&&o.isValidAttributeName(t)){var n={};return n[t]="",n}throw new Error("Expected valid attribute name, '', null, or object")},p.dataMustache=function(e){var t=p.mustacheImpl.apply(null,arguments);return t},p.makeRaw=function(e){return null==e?null:e instanceof o.Raw?e:o.Raw(e)},p.call=function(e){if("function"==typeof e){for(var t=[],n=1;n<arguments.length;n++){var r=arguments[n];t[n-1]="function"==typeof r?r():r}return e.apply(null,t)}if(null!=e&&arguments.length>1)throw new Error("Can't call non-function: "+e);return e},p.kw=function(e){return this instanceof p.kw?void(this.hash=e||{}):new p.kw(e)},p.SafeString=function(e){return this instanceof p.SafeString?new f.SafeString(e):new p.SafeString(e)},p.SafeString.prototype=f.SafeString.prototype,p.dot=function(e,t){if(arguments.length>2){var n=[];return n.push(p.dot(e,t)),n.push.apply(n,Array.prototype.slice.call(arguments,2)),p.dot.apply(null,n)}if("function"==typeof e&&(e=e()),!e)return e;var r=e[t];return"function"!=typeof r?r:function(){return r.apply(e,arguments)}},p.With=function(e,t,n){var r=new c.ReactiveVar,a=c.View("Spacebars_with",function(){return c.If(function(){return r.get()},function(){return c.With(function(){return r.get()},t)},n)});return a.onViewCreated(function(){this.autorun(function(){r.set(e()),u.onInvalidate(function(){r.dep.changed()})})}),a},p.TemplateWith=c._TemplateWith}).call(this),"undefined"==typeof Package&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package.spacebars={},{Spacebars:p})}();

!function(){"undefined"==typeof Package&&(Package={}),Package["templating-compiler"]={}}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,a=Package.underscore._,o=Package.blaze.Blaze,c=Package.blaze.UI,r=Package.blaze.Handlebars,i=Package.spacebars.Spacebars,u=Package.htmljs.HTML,l;(function(){l=o.Template;var e="__proto__ name".split(" ");l.__checkName=function(t){if(t in l||a.contains(e,t)){if(l[t]instanceof l&&"body"!==t)throw new Error("There are multiple templates named '"+t+"'. Each template needs a unique name.");throw new Error("This template name is reserved: "+t)}},l.__define__=function(e,t){l.__checkName(e),l[e]=new l("Template."+e,t),l[e]._NOWARN_OLDSTYLE_HELPERS=!0},l.body=new l("body",function(){var e=this;return a.map(l.body.contentRenderFuncs,function(t){return t.apply(e)})}),l.body.contentRenderFuncs=[],l.body.view=null,l.body.addContent=function(e){l.body.contentRenderFuncs.push(e)},l.body.renderToDocument=function(){if(!l.body.view){var e=o.render(l.body,document.body);l.body.view=e}},c.body=l.body,l.__body__=l.body,l.__body__.__contentParts=l.body.contentViews,l.__body__.__instantiate=l.body.renderToDocument}).call(this),function(){l.__checkName("__dynamic"),l.__dynamic=new l("Template.__dynamic",function(){var e=this;return[o.View("lookup:checkContext",function(){return i.mustache(e.lookup("checkContext"))}),"\n  ",o.If(function(){return i.call(e.lookup("dataContextPresent"))},function(){return["\n    ",i.include(e.lookupTemplate("__dynamicWithDataContext"),function(){return o._InOuterTemplateScope(e,function(){return i.include(function(){return i.call(e.templateContentBlock)})})}),"\n  "]},function(){return["\n    \n    ",o._TemplateWith(function(){return{template:i.call(e.lookup("template")),data:i.call(e.lookup(".."))}},function(){return i.include(e.lookupTemplate("__dynamicWithDataContext"),function(){return o._InOuterTemplateScope(e,function(){return i.include(function(){return i.call(e.templateContentBlock)})})})}),"\n  "]})]}),l.__checkName("__dynamicWithDataContext"),l.__dynamicWithDataContext=new l("Template.__dynamicWithDataContext",function(){var e=this;return i.With(function(){return i.dataMustache(e.lookup("chooseTemplate"),e.lookup("template"))},function(){return["\n    \n    ",o._TemplateWith(function(){return i.call(i.dot(e.lookup(".."),"data"))},function(){return i.include(e.lookupTemplate(".."),function(){return o._InOuterTemplateScope(e,function(){return i.include(function(){return i.call(e.templateContentBlock)})})})}),"\n  "]})})}.call(this),function(){var e=o.Template;e.__dynamicWithDataContext.helpers({chooseTemplate:function(t){return o._getTemplate(t,function(){return e.instance()})}}),e.__dynamic.helpers({dataContextPresent:function(){return a.has(this,"data")},checkContext:function(){if(!a.has(this,"template"))throw new Error("Must specify name in the 'template' argument to {{> Template.dynamic}}.");a.each(this,function(e,t){if("template"!==t&&"data"!==t)throw new Error("Invalid argument to {{> Template.dynamic}}: "+t)})}})}.call(this),"undefined"==typeof Package&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package["templating-runtime"]={},{Template:l})}();

!function(){var a=Package["templating-runtime"].Template;"undefined"==typeof Package&&(Package={}),function(a,e){for(var n in e)n in a||(a[n]=e[n])}(Package.templating={},{Template:a})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package.underscore._,o=Package.ejson.EJSON,i;(function(){if(Package["cmather:iron-core"])throw new Error("\n\n    Sorry! The cmather:iron-{x} packages were migrated to the new package system with the wrong name, and you have duplicate copies.\n    You can see which cmather:iron-{x} packages have been installed by using this command:\n\n    > meteor list\n\n    Can you remove any installed cmather:iron-{x} packages like this:    \n\n    > meteor remove cmather:iron-core\n    > meteor remove cmather:iron-router\n    > meteor remove cmather:iron-dynamic-template\n    > meteor remove cmather:iron-dynamic-layout\n    \n    The new packages are named iron:{x}. For example:\n\n    > meteor add iron:router\n\n    Sorry for the hassle, but thank you!    \n\n  ")}).call(this),function(){i={},i.utils={},i.utils.assert=function(e,t){if(!e)throw new Error(t)},i.utils.warn=function(e,t){e||console&&console.warn&&console.warn(t)},i.utils.defaultValue=function(e,t,n){return"undefined"==typeof e[t]?(e[t]=n,n):e[t]},i.utils.inherits=function(e,t,n){i.utils.assert("undefined"!=typeof e,"Child is undefined in inherits function"),i.utils.assert("undefined"!=typeof t,"Parent is undefined in inherits function");for(var a in t)r.has(t,a)&&(e[a]=o.clone(t[a]));var s=function(){this.constructor=e};return s.prototype=t.prototype,e.prototype=new s,e.__super__=t.prototype,r.isObject(n)&&r.extend(e.prototype,n),e},i.utils.extend=function(e,t){t=t||{};var n=function(){var e;e=r.has(t,"constructor")?t.constructor:n.__super__.constructor,e.apply(this,arguments)};return i.utils.inherits(n,e,t)},i.utils.global=function(){return e.isClient?window:t}(),i.utils.namespace=function(e,t){var n=i.utils.global,r,o,a,s;i.utils.assert("string"==typeof e,"namespace must be a string"),r=e.split("."),a=r.pop(),s=n;for(var c=0;c<r.length;c++)o=r[c],s=s[o]=s[o]||{};return 2===arguments.length?(s[a]=t,t):s[a]},i.utils.resolve=function(e){var t=i.utils.global,n,r;if("string"==typeof e){n=e.split("."),r=t;for(var o=0;o<n.length;o++)if(r=r[n[o]],!r)return}else r=e;return r},i.utils.capitalize=function(e){return e.charAt(0).toUpperCase()+e.slice(1,e.length)},i.utils.classCase=function(e){var t=/_|-|\.|\//;return e?r.map(e.split(t),function(e){return i.utils.capitalize(e)}).join(""):""},i.utils.camelCase=function(e){var t=i.utils.classCase(e);return t=t.charAt(0).toLowerCase()+t.slice(1,t.length)},i.utils.notifyDeprecated=function(e){var t,n,o,i,a="[:where] ':name' is deprecated. Please use ':instead' instead.";r.isObject(e)?(t=e.name,n=e.instead,o=e.message||a,i=e.where||"IronRouter"):(o=e,t="",n="",i=""),"undefined"!=typeof console&&console.warn&&console.warn("<deprecated> "+o.replace(":name",t).replace(":instead",n).replace(":where",i)+" "+(new Error).stack)},i.utils.withDeprecatedNotice=function(e,t,n){return function(){return Utils.notifyDeprecated(e),t&&t.apply(n||this,arguments)}},Function.prototype.deprecate=function(e){var t=this;return i.utils.withDeprecatedNotice(e,t)},i.utils.debug=function(e){return i.utils.assert("string"==typeof e,"debug requires a package name"),function t(){if(console&&console.log&&i.debug===!0){var n=r.toArray(arguments).join(" ");console.log("%c<"+e+"> %c"+n,"color: #999;","color: #000;")}}},i.utils.get=function(e){for(var t=1;t<arguments.length;t++){if(!(e&&arguments[t]in e))return;e=e[arguments[t]]}return e},i.utils.global.Iron=i}.call(this),"undefined"==typeof Package&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package["iron:core"]={},{Iron:i})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,a=Package.ui.Blaze,r=Package.ui.UI,i=Package.ui.Handlebars,o=Package.underscore._,s=Package.jquery.$,u=Package.jquery.jQuery,c=Package.tracker.Tracker,l=Package.tracker.Deps,p=Package["reactive-var"].ReactiveVar,h=Package["templating-runtime"].Template,d=Package.random.Random,m=Package["iron:core"].Iron,f=Package.htmljs.HTML,_=Package.spacebars.Spacebars,v;(function(){if(Package["cmather:iron-dynamic-template"])throw new Error("\n\n    Sorry! The cmather:iron-{x} packages were migrated to the new package system with the wrong name, and you have duplicate copies.\n    You can see which cmather:iron-{x} packages have been installed by using this command:\n\n    > meteor list\n\n    Can you remove any installed cmather:iron-{x} packages like this:    \n\n    > meteor remove cmather:iron-core\n    > meteor remove cmather:iron-router\n    > meteor remove cmather:iron-dynamic-template\n    > meteor remove cmather:iron-dynamic-layout\n    \n    The new packages are named iron:{x}. For example:\n\n    > meteor add iron:router\n\n    Sorry for the hassle, but thank you!    \n\n  ")}).call(this),function(){h.__checkName("__DynamicTemplateError__"),h.__DynamicTemplateError__=new h("Template.__DynamicTemplateError__",function(){var e=this;return f.DIV({style:"margin: 0 auto; color: red;"},"\n    ",a.View("lookup:msg",function(){return _.mustache(e.lookup("msg"))}),"\n  ")})}.call(this),function(){var e=m.utils.debug("iron:dynamic-template"),t=m.utils.assert,n=m.utils.get,i=m.utils.camelCase,u=function(e){return Object.prototype.toString.call(e)};v=function(e){this._id=d.id(),this.options=e=e||{},this._template=e.template,this._defaultTemplate=e.defaultTemplate,this._content=e.content,this._data=e.data,this._templateDep=new c.Dependency,this._dataDep=new c.Dependency,this._lookupHostDep=new c.Dependency,this._lookupHostValue=null,this._hooks={},this._eventMap=null,this._eventHandles=null,this._eventThisArg=null,this.name=e.name||this.constructor.prototype.name||"DynamicTemplate",this.isCreated=!1,this.isDestroyed=!1},v.prototype.template=function(e){if(1===arguments.length&&e!==this._template)return this._template=e,void this._templateDep.changed();if(!(arguments.length>0))return this._templateDep.depend(),this._template?"function"==typeof this._template?this._template():this._template:this._defaultTemplate?"function"==typeof this._defaultTemplate?this._defaultTemplate():this._defaultTemplate:void 0},v.prototype.defaultTemplate=function(e){return 1!==arguments.length?this._defaultTemplate:void(this._defaultTemplate=e)},v.prototype.clear=function(){this._template=void 0,this._data=void 0,this._templateDep.changed()},v.prototype.data=function(e){return 1===arguments.length&&e!==this._data?(this._data=e,void this._dataDep.changed()):(this._dataDep.depend(),"function"==typeof this._data?this._data():this._data)},v.prototype.create=function(e){var t=this;if(this.isCreated)throw new Error("DynamicTemplate view is already created");this.isCreated=!0,this.isDestroyed=!1;var n=p(null),r=a.View("DynamicTemplate",function(){var e=this,r=n.get();return a.With(function(){var n=t.data();return"undefined"!=typeof n?n:v.getParentDataContext(e)},function(){return t.renderView(r)})});return r.onViewCreated(function(){this.autorun(function(){n.set(t.template())})}),o.each(["onViewCreated","onViewReady","_onViewRendered","onViewDestroyed"],function(e){r[e](function(){t._runHooks(e,this)})}),r._onViewRendered(function(){t.isInserted=!0,1===r.renderCount&&t._attachEvents()}),r.onViewDestroyed(function(){t._detachEvents()}),r._templateInstance=new a.TemplateInstance(r),r.templateInstance=function(){var e=r._templateInstance;return e.data=a.getData(r),r._domrange&&!r.isDestroyed?(e.firstNode=r._domrange.firstNode(),e.lastNode=r._domrange.lastNode()):(e.firstNode=null,e.lastNode=null),e},this.view=r,r.__dynamicTemplate__=this,r.name=this.name,r},v.prototype.renderView=function(e){var t=this,n=null;return"string"==typeof e?(n=h[e],n||(n=h[i(e)]),n||(n=a.With({msg:"Couldn't find a template named "+JSON.stringify(e)+" or "+JSON.stringify(i(e))+". Are you sure you defined it?"},function(){return h.__DynamicTemplateError__}))):"[object Object]"===u(e)?n=e:"undefined"!=typeof t._content&&(n=t._content),n},v.prototype.destroy=function(){this.isCreated&&(a.remove(this.view),this.view=null,this.isDestroyed=!0,this.isCreated=!1)},o.each(["onViewCreated","onViewReady","_onViewRendered","onViewDestroyed"],function(e){v.prototype[e]=function(t){var n=this._hooks[e]=this._hooks[e]||[];return n.push(t),this}}),v.prototype._runHooks=function(e,t){for(var n=this._hooks[e]||[],a,r=0;r<n.length;r++)a=n[r],a.call(t,this)},v.prototype.events=function(e,t){var n=this;this._detachEvents(),this._eventThisArg=t;var r=this._eventMap={};for(var i in e)r[i]=function(e,r){return function(e){var i=a.getData(e.currentTarget);null==i&&(i={});var o=n.view.templateInstance();return r.call(t||this,e,o,i)}}(i,e[i]);this._attachEvents()},v.prototype._attachEvents=function(){var e=this,t=e._eventThisArg,n=e._eventMap,r=e.view,i=e._eventHandles;if(r){var s=r._domrange;if(!s)throw new Error("no domrange");var u=function(t,s){o.each(n,function(n,u){var c=u.split(/,\s+/);o.each(c,function(o){var u=o.split(/\s+/);if(0!==u.length){var c=u.shift(),l=u.join(" ");i.push(a._EventSupport.listen(s,c,l,function(i){if(!t.containsElement(i.currentTarget))return null;var o=e._eventThisArg||this,s=arguments;return a._withCurrentView(r,function(){return n.apply(o,s)})},t,function(e){return e.parentRange}))}})})};s.attached?u(s,s.parentElement):s.onAttached(u)}},v.prototype._detachEvents=function(){o.each(this._eventHandles,function(e){e.stop()}),this._eventHandles=[]};var f=function(e,t,n,r){o.each(n,function(n,i){var s=i.split(/,\s+/);o.each(s,function(i){var o=i.split(/\s+/);if(0!==o.length){var s=o.shift(),u=o.join(" ");handles.push(a._EventSupport.listen(t,s,u,function(t){if(!e.containsElement(t.currentTarget))return null;var i=r||this,o=arguments;return a._withCurrentView(view,function(){return n.apply(i,o)})},e,function(e){return e.parentRange}))}})})};v.prototype.insert=function(e){if(e=e||{},!this.isInserted){this.isInserted=!0;var t=e.el||document.body,n=s(t);if(0===n.length)throw new Error("No element to insert layout into. Is your element defined? Try a Meteor.startup callback.");return this.view||this.create(e),a.render(this.view,n[0],e.nextNode,e.parentView),this}},v.prototype._getLookupHost=function(){return this._lookupHostValue},v.prototype._setLookupHost=function(e){var t=this;return t._lookupHostValue!==e&&(t._lookupHostValue=e,l.afterFlush(function(){t._lookupHostDep.changed()})),this},v.getParentDataContext=function(e){return v.getDataContext(e&&e.parentView)},v.getDataContext=function(e){for(;e;){if("with"===e.name&&!e.__isTemplateWith)return e.dataVar.get();e=e.parentView}return null},v.getInclusionArguments=function(e){var t=e&&e.parentView;return t&&t.__isTemplateWith?t.dataVar.get():null},v.args=function(e){return function(t){var n=v.getInclusionArguments(e);return n?t?n[t]:n:null}},v.extend=function(e){return m.utils.extend(this,e)},v.findFirstLookupHost=function(e){var n,r;for(t(e instanceof a.View,"view must be a Blaze.View");e;)if(e.__dynamicTemplate__){var n=e.__dynamicTemplate__._getLookupHost();if(n)return n}else e=e.parentView},v.findLookupHostWithProperty=function(e,r){var i,o;for(t(e instanceof a.View,"view must be a Blaze.View");e;){if(e.__dynamicTemplate__){var i=e.__dynamicTemplate__._getLookupHost();if(i&&n(i,r))return i}e=e.parentView}},v.findLookupHostWithHelper=function(e,r){var i,o;for(t(e instanceof a.View,"view must be a Blaze.View");e;){if(e.__dynamicTemplate__){var i=e.__dynamicTemplate__._getLookupHost();if(i&&n(i,"constructor","_helpers",r))return i}e=e.parentView}},"undefined"!=typeof h&&r.registerHelper("DynamicTemplate",new h("DynamicTemplateHelper",function(){var e=v.args(this);return new v({data:function(){return e("data")},template:function(){return e("template")},content:this.templateContentBlock}).create()})),m.DynamicTemplate=v}.call(this),function(){var e=m.utils.assert,t=m.utils.get,n=a.View.prototype.lookup;a.View.prototype.lookup=function(e){var r;return r=v.findLookupHostWithHelper(a.getView(),e),r?function n(){var a=t(r,"constructor","_helpers",e),i=[].slice.call(arguments);return"function"==typeof a?a.apply(r,i):a}:n.apply(this,arguments)}}.call(this),"undefined"==typeof Package&&(Package={}),Package["iron:dynamic-template"]={}}();

!function(){var e=Package.meteor.Meteor,n=Package.meteor.global,t=Package.meteor.meteorEnv,r=Package["templating-runtime"].Template,o=Package.blaze.Blaze,i=Package.blaze.UI,a=Package.blaze.Handlebars,s=Package.underscore._,c=Package.tracker.Tracker,u=Package.tracker.Deps,h=Package["iron:core"].Iron,l=Package.htmljs.HTML,g=Package.spacebars.Spacebars,d,p,m;(function(){var e=[];if(Package["cmather:iron-layout"]&&e.push("\n\n    The cmather:iron-{x} packages were migrated to the new package system with the wrong name, and you have duplicate copies.\n    You can see which cmather:iron-{x} packages have been installed by using this command:\n\n    > meteor list\n\n    Can you remove any installed cmather:iron-{x} packages like this:    \n\n    > meteor remove cmather:iron-core\n    > meteor remove cmather:iron-router\n    > meteor remove cmather:iron-dynamic-template\n    > meteor remove cmather:iron-dynamic-layout\n    \n    The new packages are named iron:{x}. For example:\n\n    > meteor add iron:router\n\n    Sorry for the hassle, but thank you!    \n\n  "),Package["cmather:blaze-layout"]&&e.push("The blaze-layout package has been replaced by iron-layout. Please remove the package like this:\n> meteor remove cmather:blaze-layout\n"),e.length>0)throw new Error("Sorry! Looks like there's a few errors related to iron:layout\n\n"+e.join("\n\n"))}).call(this),function(){r.__checkName("__IronDefaultLayout__"),r.__IronDefaultLayout__=new r("Template.__IronDefaultLayout__",function(){var e=this;return g.include(e.lookupTemplate("yield"))})}.call(this),function(){var e=h.DynamicTemplate,n=h.utils.inherits;d=function(e){for(;e;){if("Iron.Layout"===e.name)return e.__dynamicTemplate__;e=e.parentView}return null},p=function(e){var n=this;p.__super__.constructor.apply(this,arguments),e=e||{},this.name="Iron.Layout",this._regions={},this._regionHooks={},this.defaultTemplate("__IronDefaultLayout__"),e.content&&this.render(e.content)},m=p.DEFAULT_REGION="main",n(p,h.DynamicTemplate),p.prototype.region=function(e,n){return this._ensureRegion(e,n)},p.prototype.destroyRegions=function(){s.each(this._regions,function(e){e.destroy()}),this._regions={}},p.prototype.render=function(e,n){n=n||{};var t=n.to||n.region||m,r=this.region(t);this._trackRenderedRegion(t),r.template(e),r.data(n.data)},p.prototype.has=function(e){return e=e||p.DEFAULT_REGION,!!this._regions[e]},p.prototype.regionKeys=function(){return s.keys(this._regions)},p.prototype.clear=function(e){return e=e||p.DEFAULT_REGION,this.has(e)&&this.region(e).template(null),this},p.prototype.clearAll=function(){return s.each(this._regions,function(e){e.template(null)}),this},p.prototype.beginRendering=function(e){var n=this;if(this._finishRenderingTransaction&&this._finishRenderingTransaction(),this._finishRenderingTransaction=s.once(function(){var t=n._endRendering({flush:!1});e&&e(t)}),u.afterFlush(this._finishRenderingTransaction),this._renderedRegions)throw new Error("You called beginRendering again before calling endRendering");this._renderedRegions={}},p.prototype._trackRenderedRegion=function(e){this._renderedRegions&&(this._renderedRegions[e]=!0)},p.prototype._endRendering=function(e){e=e||{},e.flush!==!1&&u.flush();var n=this._renderedRegions||{};return this._renderedRegions=null,s.keys(n)},s.each(["onRegionCreated","onRegionRendered","onRegionDestroyed"],function(e){p.prototype[e]=function(n){var t=this._regionHooks[e]=this._regionHooks[e]||[];return t.push(n),this}}),p.prototype._ensureRegion=function(e,n){return this._regions[e]=this._regions[e]||this._createDynamicTemplate(e,n)},p.prototype._createDynamicTemplate=function(e,n){var t=this,r=new h.DynamicTemplate(n),o=h.utils.capitalize;return r._region=e,s.each(["viewCreated","viewReady","viewDestroyed"],function(e){e=o(e),r["on"+e](function(n){var r=this,o={viewCreated:"regionCreated",viewReady:"regionRendered",viewDestroyed:"regionDestroyed"}[e];t._runRegionHooks("on"+o,r,n)})}),r},p.prototype._runRegionHooks=function(e,n,t){for(var r=this,o=this._regionHooks[e]||[],i,a=0;a<o.length;a++)i=o[a],i.call(n,t.region,t,this)},"undefined"!=typeof r&&(i.registerHelper("yield",new r("yield",function(){var n=d(this);if(!n)throw new Error("No Iron.Layout found so you can't use yield!");var t=e.getInclusionArguments(this),r,o;return s.isString(t)?r=t:s.isObject(t)&&(r=t.region),r=r||m,o=n.region(r),o.isCreated&&o.destroy(),o.create()})),i.registerHelper("contentFor",new r("contentFor",function(){var n=d(this);if(!n)throw new Error("No Iron.Layout found so you can't use contentFor!");var t=e.getInclusionArguments(this)||{},r=this.templateContentBlock,o=t.template,i=t.data,a;if(s.isString(t))a=t;else{if(!s.isObject(t))throw new Error("Which region is this contentFor block supposed to be for?");a=t.region}return n.region(a).template(o||r),n._trackRenderedRegion(a),i&&n.region(a).data(i),null})),i.registerHelper("hasRegion",function(e){var n=d(o.getView());if(!n)throw new Error("No Iron.Layout found so you can't use hasRegion!");if(!s.isString(e))throw new Error("You need to provide an region argument to hasRegion");return!!n.region(e).template()}),i.registerHelper("Layout",new r("layout",function(){var e=h.DynamicTemplate.args(this),n=new p({template:function(){return e("template")},data:function(){return e("data")},content:this.templateContentBlock});return n.create()}))),h.Layout=p}.call(this),"undefined"==typeof Package&&(Package={}),Package["iron:layout"]={}}();

!function(){var e=Package.meteor.Meteor,r=Package.meteor.global,t=Package.meteor.meteorEnv,n=Package.underscore._,i=Package["iron:core"].Iron,o,a;(function(){function e(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function r(o,a,s){a&&"[object Array]"!==t(a)&&(s=a,a=null),a=a||[],s=s||{};var c=s.strict,u=s.end!==!1,p=s.sensitive?"":"i",l=0;if(o instanceof RegExp){var h=o.source.match(/\((?!\?)/g)||[];return a.push.apply(a,h.map(function(e,r){return{name:r,delimiter:null,optional:!1,repeat:!1}})),i(o,a)}if("[object Array]"===t(o))return o=o.map(function(e){return r(e,a,s).source}),i(new RegExp("(?:"+o.join("|")+")",p),a);o=o.replace(n,function(r,t,n,i,o,s,c,u){if(t)return t;if(u)return"\\"+u;var p="+"===c||"*"===c,h="?"===c||"*"===c;return a.push({name:i||l++,delimiter:n||"/",optional:h,repeat:p}),n=n?"\\"+n:"",o=e(o||s||"[^"+(n||"\\/")+"]+?"),p&&(o=o+"(?:"+n+o+")*"),h?"(?:"+n+"("+o+"))?":n+"("+o+")"});var f="/"===o[o.length-1];return c||(o=(f?o.slice(0,-2):o)+"(?:\\/(?=$))?"),u||(o+=c&&f?"":"(?=\\/|$)"),i(new RegExp("^"+o+(u?"$":""),p),a)}var t=function(e){return Object.prototype.toString.call(e)},n=new RegExp(["(\\\\.)","([\\/.])?(?:\\:(\\w+)(?:\\(((?:\\\\.|[^)])*)\\))?|\\(((?:\\\\.|[^)])*)\\))([+*?])?","([.+*?=^!:${}()[\\]|\\/])"].join("|"),"g"),i=function(e,r){return e.keys=r,e};o=r}).call(this),function(){function e(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(r){return void(r.constructor==URIError&&t("Tried to decode an invalid URI component: "+JSON.stringify(e)+" "+r.stack))}}function r(e){try{return decodeURI(e.replace(/\+/g," "))}catch(r){return void(r.constructor==URIError&&t("Tried to decode an invalid URI: "+JSON.stringify(e)+" "+r.stack))}}var t=i.utils.warn;a=function(e,r){r=r||{},this.options=r,this.keys=[],this.regexp=o(e,this.keys,r),this._originalPath=e,n.extend(this,a.parse(e))},a.normalize=function(e){if(e instanceof RegExp)return e;if("string"!=typeof e)return"/";var r=a.parse(e),t=r.pathname;return"/"!==t.charAt(0)&&(t="/"+t),t.length>1&&"/"===t.charAt(t.length-1)&&(t=t.slice(0,t.length-1)),t},a.isSameOrigin=function(e,r){var t=a.parse(e),n=a.parse(r),i=t.origin===n.origin;return i},a.fromQueryString=function(r){if(!r)return{};if("string"!=typeof r)throw new Error("expected string");"?"===r.charAt(0)&&(r=r.slice(1));var t=r.split("&"),i={},o;return n.each(t,function(r){var t=r.split("="),n=t[0],o=e(t[1]);"[]"===n.slice(-2)?(n=n.slice(0,-2),i[n]=i[n]||[],i[n].push(o)):i[n]=o}),i},a.toQueryString=function(e){var r=[];return"string"==typeof e?"?"!==e.charAt(0)?"?"+e:e:(n.each(e,function(e,t){n.isArray(e)?n.each(e,function(e){r.push(encodeURIComponent(t)+"[]="+encodeURIComponent(e))}):r.push(encodeURIComponent(t)+"="+encodeURIComponent(e))}),r.length>0?"?"+r.join("&"):"")},a.parse=function(e){if("string"!=typeof e)return{};var r=/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,t=e.match(r),n=t[1]?t[1].toLowerCase():void 0,i=t[3],o=!!i,s=t[4]?t[4].toLowerCase():void 0,c=s?s.split("@"):[],u,p;2==c.length?(p=c[0],u=c[1]):1==c.length?(u=c[0],p=void 0):(u=void 0,p=void 0);var l=u&&u.split(":")||[],h=l[0],f=l[1],g=n&&u?n+"//"+u:void 0,d=t[5],m=t[8],y=e,v=t[6],w,R=m&&m.indexOf("?")||-1;~R&&!v?(v=m.slice(R),m=m.substr(0,R),w=v.slice(1)):w=t[7];var x=d+(v||""),U=a.fromQueryString(w),S=[n||"",o?"//":"",s||""].join(""),k=[n||"",o?"//":"",s||"",d||"",v||"",m||""].join("");return{rootUrl:S||"",originalUrl:e||"",href:k||"",protocol:n||"",auth:p||"",host:u||"",hostname:h||"",port:f||"",origin:g||"",path:x||"",pathname:d||"",search:v||"",query:w||"",queryObject:U||"",hash:m||"",slashes:o}},a.prototype.test=function(e){return this.regexp.test(a.normalize(e))},a.prototype.exec=function(e){return this.regexp.exec(a.normalize(e))},a.prototype.params=function(t){if(!t)return[];var n=[],i=this.exec(t),o,s=this.keys,c,u;if(!i)throw new Error('The route named "'+this.name+'" does not match the path "'+t+'"');for(var p=1,l=i.length;p<l;++p)c=s[p-1],u="string"==typeof i[p]?e(i[p]):i[p],c?n[c.name]=void 0!==n[c.name]?n[c.name]:u:n.push(u);return t=r(t),"undefined"!=typeof t&&(o=t.split("?")[1],o&&(o=o.split("#")[0]),n.hash=t.split("#")[1]||null,n.query=a.fromQueryString(o)),n},a.prototype.resolve=function(e,r){var t,i,o,s=0,c=this._originalPath,u,p,l=[],h=e;if(r=r||{},e=e||[],p=r.query,u=r.hash&&r.hash.toString(),c instanceof RegExp)throw new Error("Cannot currently resolve a regular expression path");if(c=c.replace(/(\/)?(\.)?:(\w+)(?:(\(.*?\)))?(\?)?/g,function(r,o,a,s,c,u,p){if(o=o||"",a=a||"",t=e[s],i="undefined"!=typeof t,u&&!i)t="";else if(!i)return void l.push(s);t=n.isFunction(t)?t.call(e):t;var h=n.map(String(t).split("/"),function(e){return encodeURIComponent(e)}).join("/");return o+a+h}).replace(/\*/g,function(r){if("undefined"==typeof e[s])throw new Error("You are trying to access a wild card parameter at index "+s+" but the value of params at that index is undefined");var t=String(e[s++]);return n.map(t.split("/"),function(e){return encodeURIComponent(e)}).join("/")}),p=a.toQueryString(p),c+=p,u&&(u=encodeURI(u.replace("#","")),c=c+"#"+u),c=c.replace(/\/+/g,"/"),c=c.replace(/^(.+)\/$/g,"$1"),0==l.length)return c;if(r.throwOnMissingParams===!0)throw new Error("Missing required parameters on path "+JSON.stringify(this._originalPath)+". The missing params are: "+JSON.stringify(l)+". The params object passed in was: "+JSON.stringify(h)+".");return null},i.Url=a}.call(this),"undefined"==typeof Package&&(Package={}),Package["iron:url"]={}}();

!function(){var t=Package.meteor.Meteor,e=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package.underscore._,i=Package.ejson.EJSON,o=Package["iron:core"].Iron,a,s;(function(){var t=o.Url;a=function(e,n,i){r.isFunction(e)&&(i=i||n||{},n=e,e="/",this.middleware=!0,"undefined"==typeof i.mount&&(i.mount=!0)),"object"==typeof n&&(i=n,n=i.action||"action"),i=i||{},this.options=i,this.mount=i.mount,this.method=i.method&&i.method.toLowerCase()||!1,this.where=i.where||"client",this.mount&&(i.end=!1),i.name?this.name=i.name:"string"==typeof e&&"/"!==e.charAt(0)?this.name=e:"string"==typeof e&&"/"!==e&&(this.name=e.split("/").slice(1).join(".")),e=i.path||e,"string"==typeof e&&"/"!==e.charAt(0)&&(e="/"+e),this.path=e,this.compiledUrl=new t(e,i),r.isString(n)?this.handle=function t(){var e=this[n];if("function"!=typeof e)throw new Error("No method named "+JSON.stringify(n)+" found on handler.");return e.apply(this,arguments)}:r.isFunction(n)&&(this.handle=n)},a.prototype.test=function(t,e){e=e||{};var n=this.compiledUrl.test(t),r=!0,i=!0;return this.method&&e.method&&(r=this.method==e.method.toLowerCase()),e.where&&(i=this.where==e.where),n&&r&&i},a.prototype.params=function(t){return this.compiledUrl.params(t)},a.prototype.resolve=function(t,e){return this.compiledUrl.resolve(t,e)},a.prototype.clone=function(){var t=new a(this.path,this.handle,this.options);return t.name=this.name,t}}).call(this),function(){var e=o.Url,n=o.utils.assert,h=o.utils.defaultValue;s=function(){this._stack=[],this.length=0},s.prototype._create=function(t,e,n){var i=new a(t,e,n),o=i.name;if(o){if(r.has(this._stack,o))throw new Error("Handler with name '"+o+"' already exists.");this._stack[o]=i}return i},s.prototype.findByName=function(t){return this._stack[t]},s.prototype.push=function(t,e,n){var r=this._create(t,e,n);return this._stack.push(r),this.length++,r},s.prototype.append=function(){var t=this,e=r.toArray(arguments),n={};return"object"==typeof e[e.length-1]&&(n=e.pop()),r.each(e,function(e){if("undefined"!=typeof e)if("function"==typeof e)t.push(e,n);else{if(!r.isArray(e))throw new Error("Can only append functions or arrays to the MiddlewareStack");t.append.apply(t,e.concat([n]))}}),this},s.prototype.insertAt=function(t,e,n,r){var i=this._create(e,n,r);return this._stack.splice(t,0,i),this.length=this._stack.length,this},s.prototype.insertBefore=function(t,e,n,i){var o,a;if(!(o=this._stack[t]))throw new Error("Couldn't find a handler named '"+t+"' on the path stack");return a=r.indexOf(this._stack,o),this.insertAt(a,e,n,i),this},s.prototype.insertAfter=function(t,e,n,i){var o,a;if(!(o=this._stack[t]))throw new Error("Couldn't find a handler named '"+t+"' on the path stack");return a=r.indexOf(this._stack,o),this.insertAt(a+1,e,n,i),this},s.prototype.concat=function(){var t=new s,e=Array.prototype.concat,n=i.clone(this._stack),o=r.map(r.toArray(arguments),function(t){return i.clone(t._stack)});return t._stack=e.apply(n,o),t.length=t._stack.length,t},s.prototype.dispatch=function r(i,o,a){var s=this,l=i;n("string"==typeof i,"Requires url"),n("object"==typeof o,"Requires context object"),i=e.normalize(i||"/"),h(o,"request",{}),h(o,"response",{}),h(o,"originalUrl",i),h(o,"_method",o.method),h(o,"_handlersForEnv",{client:!1,server:!1}),h(o,"_handled",!1),h(o,"isHandled",function(){return o._handled}),h(o,"willBeHandledOnClient",function(){return o._handlersForEnv.client}),h(o,"willBeHandledOnServer",function(){return o._handlersForEnv.server});var c=function(){if(a)try{a.apply(this,arguments)}catch(t){throw t._punt=!0,t}},u=0,p=t.bindEnvironment(function n(r){var a=s._stack[u++];if(o.url=o.request.url=o.originalUrl,!a)return c.call(o,r);if(!a.test(i,{method:o._method}))return p(r);var h=t.isClient?"client":"server";if(a.middleware||(o._handlersForEnv[a.where]=!0),a.where!==h)return p(r);if(o.next=p,a.mount){var l=e.normalize(a.compiledUrl.pathname),d=i.substr(l.length,i.length);d=e.normalize(d),o.url=o.request.url=d}try{var f=a.handle.length,m=o.request,y=o.response;return r&&4===f?a.handle.call(o,r,m,y,p):!r&&f<4?a.handle.call(o,m,y,p):p(r)}catch(t){if(t._punt)throw t;p(t)}finally{o._handled=!0,o.next=null}});return p(),o.next=null,o},o=o||{},o.MiddlewareStack=s}.call(this),"undefined"==typeof Package&&(Package={}),function(t,e){for(var n in e)n in t||(t[n]=e[n])}(Package["iron:middleware-stack"]={},{Handler:a})}();

!function(){var t=Package.meteor.Meteor,e=Package.meteor.global,n=Package.meteor.meteorEnv,a=Package.underscore._,r=Package.tracker.Tracker,o=Package.tracker.Deps,i=Package.jquery.$,c=Package.jquery.jQuery,s=Package["iron:core"].Iron,h,u,l,f,p;(function(){var t=s.Url,e="__hash__";h=function(n){var a=t.parse(n),r=a.hash&&a.hash.replace("#",""),o=a.search,i=a.pathname,c=a.rootUrl;if(r&&"!"!==r.charAt(0)){var s=e+"="+r;o=o?o+"&":"?",o+=s,r=""}return!r&&i?r="#!"+i.substring(1):r&&(r="#"+r),[c,r,o].join("")},u=function(n){var r=t.parse(n),o=r.hash&&r.hash.replace("#!","/"),i=r.search,c=r.rootUrl,s;return a.has(r.queryObject,e)?(s="#"+r.queryObject[e],delete r.queryObject[e]):s="",[c,o,t.toQueryString(r.queryObject),s].join("")},l=function(n){var a=t.parse(n),r=a.queryObject;return a.hash&&(r[e]=a.hash.replace("#","")),["!",a.pathname.substring(1),t.toQueryString(r)].join("")}}).call(this),function(){var t=s.Url;f=function(e,n){a.extend(this,t.parse(e),{options:n||{}})},f.prototype.equals=function(t){return!!t&&(t instanceof f&&(t.pathname==this.pathname&&t.search==this.search&&t.hash==this.hash&&t.options.historyState===this.options.historyState))},f.prototype.isCancelled=function(){return!!this._isCancelled},f.prototype.cancelUrlChange=function(){this._isCancelled=!0}}.call(this),function(){var e=s.Url,n=null,r=new o.Dependency,c={go:[],popState:[]},g=function(){return/MSIE 9/.test(navigator.appVersion)},y=function(){return/MSIE 8/.test(navigator.appVersion)},d=function(){return!!Package.appcache},S=function(){return"undefined"==typeof history||"function"!=typeof history.pushState},v=function(){return p.options.useHashPaths||y()||g()||d()||S()},k=function(){return!!p.options.useHashPaths},w=function(t,e){a.each(c[t],function(t){t.call(e)})},P=function(t){if(!(t instanceof f))throw new Error("Expected a State instance");return!t.equals(n)&&(n=t,r.changed(),!0)},m=function(){var t=location.href,e;e=k()?new f(u(t)):new f(t,{historyState:history.state}),w("popState",e),P(e)},j=function(t){var e=q;e&&e(t)},_=function(t,e){e=e||{};var n=new f(t,e);w("go",n),P(n)&&o.afterFlush(function(){n.isCancelled()||(k()?location.hash=l(t):e.replaceState===!0?history.replaceState(e.historyState,null,t):history.pushState(e.historyState,null,t))})},q=function(t){try{var n=t.currentTarget,a=n.href,r=n.pathname+n.search+n.hash;if(r=r.replace(/(^\/?)/,"/"),t.isDefaultPrevented())return void t.preventDefault();if(t.metaKey||t.ctrlKey||t.shiftKey)return;if(n.target)return;if(!e.isSameOrigin(a,location.href))return;t.preventDefault(),_(r)}catch(e){throw t.preventDefault(),e}};p={},p.options={linkSelector:"a[href]",useHashPaths:!1},p.configure=function(t){a.extend(this.options,t||{})},p.get=function(){return r.depend(),n},p.start=function(){if(!this._isStarted){var n=e.parse(location.href);if(v()){if(n.pathname.length>1){var a=h(location.href);window.location=a}this.configure({useHashPaths:!0})}var r=location.href;if(k()){var o=new f(u(r));P(o)}else{if("!"===n.hash.replace("#","")[0])var r=u(r);var c={initial:!0};history.replaceState(c,null,r);var o=new f(r,{historyState:c});P(o)}i(window).on("popstate.iron-location",m),i(window).on("hashchange.iron-location",m),t.startup(function(){i(document).on("click.iron-location",p.options.linkSelector,j)}),this._isStarted=!0}},p.stop=function(){this._isStarted&&(i(window).on("popstate.iron-location"),i(window).on("hashchange.iron-location"),i(document).off("click.iron-location"),this._isStarted=!1)},p.onClick=function(t){q=t},p.go=function(t,e){return _(t,e)},p.onGo=function(t){c.go.push(t)},p.onPopState=function(t){c.popState.push(t)},p.start(),s.Location=p}.call(this),"undefined"==typeof Package&&(Package={}),function(t,e){for(var n in e)n in t||(t[n]=e[n])}(Package["iron:location"]={},{urlToHashStyle:h,urlFromHashStyle:u})}();

!function(){var t=Package.meteor.Meteor,e=Package.meteor.global,n=Package.meteor.meteorEnv,a=Package.underscore._,o=Package.tracker.Tracker,i=Package.tracker.Deps,r=Package["reactive-dict"].ReactiveDict,u=Package["templating-runtime"].Template,s=Package["iron:core"].Iron,c=Package.blaze.Blaze,l=Package.blaze.UI,p=Package.blaze.Handlebars,d=Package.spacebars.Spacebars,y=Package.htmljs.HTML,h,f;(function(){var t=s.utils.assert,e=function(){for(var t={},e=i.currentComputation;e;)t[String(e._id)]=!0,e=e._parent;return t},n=function(n){var o=e(),i=a.keys(n._dependentsById);a.each(i,function(e){t(!o[e],"\n\nYou called wait() after calling ready() inside the same computation tree.\n\nYou can fix this problem in two possible ways:\n\n1) Put all of your wait() calls before any ready() calls.\n2) Put your ready() call in its own computation with Deps.autorun.")})};h=function(){this._readyDep=new i.Dependency,this._comps=[],this._notReadyCount=0},h.prototype.wait=function(t){var e=this,o=i.currentComputation;n(e._readyDep),i.nonreactive(function(){var n=null,r=i.autorun(function(a){var o=!!t(),i=e._notReadyCount;a.firstRun&&!o?e._notReadyCount++:null!==n&&o!==n&&o===!0?e._notReadyCount--:null!==n&&o!==n&&o===!1&&e._notReadyCount++,n=o,0===i&&e._notReadyCount>0?e._readyDep.changed():i>0&&0===e._notReadyCount&&e._readyDep.changed()});e._comps.push(r),o&&o.onInvalidate(function(){i.afterFlush(function(){r.stop(),e._comps.splice(a.indexOf(e._comps,r),1),n===!1&&(e._notReadyCount--,0===e._notReadyCount&&e._readyDep.changed())})})})},h.prototype.ready=function(){return this._readyDep.depend(),0===this._notReadyCount},h.prototype.stop=function(){a.each(this._comps,function(t){t.stop()}),this._comps=[]},s.WaitList=h}).call(this),function(){var t=s.utils.debug("iron:controller"),e=s.Layout,n=s.DynamicTemplate,o=function(t,e){return function(){return"function"==typeof t?t.apply(e,arguments):t}};f=function(t){var n=this;this.options=t||{},this._layout=this.options.layout||new e(this.options),this._isController=!0,this._layout._setLookupHost(this);var a=f._collectEventMaps.call(this.constructor);this._layout.events(a,this),this.init(t)},f.prototype.layout=function(t,e){var n=this;return this._layout.template(t),e&&a.has(e,"data")&&this._layout.data(o(e.data,this)),{data:function(t){return n._layout.data(o(t,n))}}},f.prototype.render=function(t,e){var n=this;e&&"undefined"!=typeof e.data&&(e.data=o(e.data,this));var a=this._layout.render(t,e);return{data:function(t){return a.data(o(t,n))}}},f.prototype.beginRendering=function(t){return this._layout.beginRendering(t)},f.extend=function(t){return s.utils.extend(this,t)},f.events=function(t){return this._eventMap=t,this};var i=function(t,e){var n={};return t.__super__&&a.extend(n,i(t.__super__.constructor,e)),a.has(t,e)?a.extend(n,t[e]):n};f._collectEventMaps=function(){return i(this,"_eventMap")},f._helpers={},f.helpers=function(t){return a.extend(this._helpers,t),this},"undefined"!=typeof u&&(s.controller=function(){return n.findLookupHostWithProperty(c.getView(),"_isController")},u.registerHelper("get",function(t){var e=s.controller();if(e&&e.state)return e.state.get(t)})),s.Controller=f}.call(this),function(){var t=s.Layout,e=s.utils.debug("iron:controller"),n=s.utils.defaultValue,o=function(t,e){return function(){return"function"==typeof t?t.apply(e,arguments):t}};f.prototype.init=function(t){this._waitlist=new h,this.state=new r},f.prototype.insert=function(t){return this._layout.insert.apply(this._layout,arguments)},f.prototype.wait=function(t){var e=this;if(t)return a.isArray(t)?a.each(t,function t(n){e.wait(n)}):t.ready?this._waitlist.wait(function(){return t.ready()}):this._waitlist.wait(t),this},f.prototype.ready=function(){return this._waitlist.ready()},f.prototype.stop=function(){this._waitlist.stop()}}.call(this),"undefined"==typeof Package&&(Package={}),Package["iron:controller"]={}}();

!function(){var t=Package.underscore._,o=Package.tracker.Tracker,e=Package.tracker.Deps,r=Package.blaze.Blaze,n=Package.blaze.UI,i=Package.blaze.Handlebars,a=Package["templating-runtime"].Template,u=Package.ejson.EJSON,s=Package.meteor.Meteor,l=Package.meteor.global,c=Package.meteor.meteorEnv,p=Package["iron:core"].Iron,h=Package.htmljs.HTML,f=Package.spacebars.Spacebars,d,y,_,m,g;(function(){d=new s.EnvironmentVariable}).call(this),function(){y=["get","post","put","delete","patch"]}.call(this),function(){var o=p.Controller,e=p.Url,r=p.MiddlewareStack,n=p.utils.assert;_=o.extend({constructor:function(o){_.__super__.constructor.apply(this,arguments),o=o||{},this.options=o,this._onStopCallbacks=[],this.route=o.route,this.params=[];var e=this.lookupOption("data");"function"==typeof e?this.data=t.bind(e,this):"undefined"!=typeof e&&(this.data=function(){return e}),this.init(o)}}),_.prototype.lookupOption=function(o){if(this.route&&this.route.options&&t.has(this.route.options,o))return this.route.options[o];if(t.has(this.options,o))return this.options[o];if("undefined"!=typeof this[o])return this[o];var e=d.get();return e&&t.has(e,o)?e[o]:this.router&&this.router.options&&t.has(this.router.options,o)?this.router.options[o]:void 0},_.prototype.configureFromUrl=function(t,o,e){n("string"==typeof t,"url must be a string"),o=o||{},this.request=o.request||{},this.response=o.response||{},this.url=o.url||t,this.originalUrl=o.originalUrl||t,this.method=this.request.method,this.route&&this.setParams(this.route.params(t),e)},_.prototype._collectHooks=function(){var o=this,e=t.toArray(arguments),r=function(e){if(!e)return[];var r=o.router.lookupHook,n=t.isArray(e)?e:[e];return t.map(n,function(t){return r(t)})},n=function(o,e){var i=[];return o.__super__&&(i=i.concat(n(o.__super__.constructor,e))),t.has(o.prototype,e)?i.concat(r(o.prototype[e])):i},i=function(t){for(var o=0;o<e.length;o++)t(e[o])},a=[];i(function(t){var e=o.route&&o.route.getName(),r=o.router.getHooks(t,e);a=a.concat(r)});var u=[];i(function(t){var e=n(o.constructor,t);u=u.concat(e)});var s=[];i(function(e){if(t.has(o,e)){var n=r(o[e]);s=s.concat(n)}});var l=[];o.route&&i(function(t){var e=r(o.route.options[t]);l=l.concat(e)});var c=a.concat(l).concat(u).concat(s);return c},_.prototype.runHooks=function(){for(var t=this._collectHooks.apply(this,arguments),o=0,e=t.length;o<e;o++){var r=t[o];r.call(this)}return t.length},_.prototype.getParams=function(){return this.params},_.prototype.setParams=function(t){return this.params=t,this},p.RouteController=_}.call(this),function(){var r=p.Controller,n=p.Url,i=p.MiddlewareStack,a=p.utils.debug("iron-router:RouteController");if(_.prototype.init=function(t){_.__super__.init.apply(this,arguments),this._computation=null,this._paramsDep=new o.Dependency,this.location=p.Location},_.prototype.getParams=function(){return this._paramsDep.depend(),this.params},_.prototype.setParams=function(o,e){var r=function(o,r){if(!(o instanceof Array))throw new Error("you called equals with a non array value in setParams");if(!(r instanceof Array))return!1;if(o.length!==r.length)return!1;for(var n=0;n<o.length;n++)if(!u.equals(o[n],r[n],e))return!1;var i=t.keys(o),a=t.keys(r),s;if(i.length!==a.length)return!1;for(var n=0;n<i.length;n++){if(s=i[n],!t.has(r,s))return!1;if(!u.equals(o[s],r[s]))return!1}return!0};if(!r(this.params,o))return this.params=o,e=e||{},e.reactive!==!1&&this._paramsDep.changed(),this},_.prototype.dispatch=function(t,o,r){if(this._computation&&!this._computation.stopped)throw new Error("RouteController computation is already running. Stop it first.");var n=this;return e.nonreactive(function(){e.autorun(function(e){n._computation=e,t.dispatch(o,n,r)})}),n},_.prototype._runRoute=function(o,r,n){var a=this,u=this._collectHooks("subscriptions");t.each(u,function(t){a.wait(t.call(a))});var s=this._collectHooks("waitOn");t.each(s,function(t){a.wait(t.call(a))});var l=s.length>0,c,h,f=function(){return e.nonreactive(function(){return a._layout.template()})},d=function(){return e.nonreactive(function(){var t=a._layout._regions.main;return t&&t.template()})},y=f(),m=d();this.beginRendering(function o(e){if(!a.isStopped){var r=f(),n=d();if(y!==r||m!=n){var i=a._layout.regionKeys(),u=t.difference(i,e);t.each(u,function(t){a._layout.clear(t)})}}}),this.layout(this.lookupOption("layoutTemplate"),{data:this.lookupOption("data")});var g=new i,v=new i,k=new i;v.append(this._collectHooks("onRun","load"),{where:"client"}),k.append(this._collectHooks("onRerun"),{where:"client"}),g.append(function t(o,e,r){this._computation.firstRun&&!_._hasJustReloaded&&v.length>0?v.dispatch(o.url,this,r):r(),_._hasJustReloaded=!1},function t(o,e,r){this._computation.firstRun?r():k.length>0?k.dispatch(o.url,this,r):r()},{where:"client"}),l&&g.push(t.bind(p.Router.hooks.loading,a));var w=this._collectHooks("onBeforeAction","before");g.append(w,{where:"client"}),0===o._actionStack.length&&o._actionStack.push(o._path,"action",o.options),g=g.concat(o._actionStack),this._rendered=!1,g.dispatch(r,this,n),e.afterFlush(function(){p.utils.warn(a._rendered||a.isStopped,"Route dispatch never rendered. Did you forget to call this.next() in an onBeforeAction?")}),this.runHooks("onAfterAction","after")},_.prototype.action=function(){this.render()},_.prototype.lookupTemplate=function(){return this.lookupOption("template")||this.router&&this.router.toTemplateName(this.route.getName())},_.prototype.lookupRegionTemplates=function(){return this.lookupOption("yieldRegions")||this.lookupOption("regionTemplates")||this.lookupOption("yieldTemplates")||{}},_.prototype.render=function(t,o){if(this._rendered=!0,0===arguments.length){var t=this.lookupTemplate(),e=_.__super__.render.call(this,t);return this.renderRegions(),e}return _.__super__.render.call(this,t,o)},_.prototype.renderRegions=function(){var o=this,e=this.lookupRegionTemplates();a("regionTemplates: "+JSON.stringify(e)),t.each(e,function(t,e){o.render(e,t)})},_.prototype.stop=function(){_.__super__.stop.call(this),this._computation&&this._computation.stop(),this.runHooks("onStop","unload"),this.isStopped=!0},_.prototype.redirect=function(){return this.router.go.apply(this.router,arguments)},_.prototype.subscribe=function(){var o=this,e=s.subscribe.apply(this,arguments);return t.extend(e,{wait:function(){o.wait(this)}})},Package.reload){Package.reload.Reload._onMigrate("iron-router",function(){return[!0,!0]});var l=Package.reload.Reload._migrationData("iron-router");_._hasJustReloaded=l}}.call(this),function(){var o=p.Url,e=p.MiddlewareStack,r=p.utils.assert;m=function(o,r,n){var i=function(t,o,e){var r=this;r.request=t,r.response=o,i.dispatch(t.url,r,e)};return"object"==typeof r&&(n=r,r=n.action),n=n||{},"string"==typeof o&&"/"!==o.charAt(0)&&(o=n.path?n.path:"/"+o),t.extend(i,this.constructor.prototype),n=i.options=n||{},i._actionStack=new e,i._beforeStack=new e,i._beforeStack.append(i.options.onBeforeAction),i._beforeStack.append(i.options.before),i._afterStack=new e,i._afterStack.append(i.options.onAfterAction),i._afterStack.append(i.options.after),i._methods={},"string"==typeof r?i._actionStack.push(o,t.extend(n,{template:r})):"function"!=typeof r&&"object"!=typeof r||i._actionStack.push(o,r,n),i._path=o,i},m.prototype.getName=function(){return this.handler&&this.handler.name},m.prototype.findControllerConstructor=function(){var t=this,o=function(t,o){o=o||{};var e=p.utils.resolve(t);if(e&&_.prototype.isPrototypeOf(e.prototype))return e;if(o.supressErrors!==!0)throw new Error("RouteController '"+t+"' is not defined.")},e=function(o){return t.router.toControllerName(o)},r,n=this.getName();return"function"==typeof this.options.controller?this.options.controller:"string"==typeof this.options.controller?o(this.options.controller):this.router&&this.router.options.controller?"function"==typeof this.router.options.controller?this.router.options.controller:"string"==typeof this.router.options.controller?o(this.router.options.controller):void 0:n&&(r=o(e(n),{supressErrors:!0}))?r:_},m.prototype.createController=function(t){t=t||{};var o=this.findControllerConstructor();t.route=this;var e=new o(t);return e},m.prototype.setControllerParams=function(t,o){},m.prototype.dispatch=function(t,o,e){return r(o._runRoute,"context doesn't have a _runRoute method"),o._runRoute(this,t,e)},m.prototype.path=function(t,o){return this.handler.resolve(t,o)},m.prototype.url=function(t,o){var e=this.path(t,o),r=o&&o.host||s.absoluteUrl();return"/"===r.charAt(r.length-1)&&(r=r.slice(0,r.length-1)),r+e},m.prototype.params=function(t){return this.handler.params(t)},t.each(y,function(t){m.prototype[t]=function(o){return this._methods[t]=!0,this._actionStack.push(this._path,o,{name:this.getName()+"_"+t.toLowerCase(),method:t,where:this.handler.where,mount:!1}),this}}),p.Route=m}.call(this),function(){var o=p.MiddlewareStack,e=p.Url,r=p.Layout,n=p.utils.warn,i=p.utils.assert;g=function(e){function r(t,o,e){r.dispatch(t.url,{request:t,response:o},e)}return r._stack=new o,r._globalHooks={},r.routes=[],r.routes._byPath={},this.configure.call(r,e),t.extend(r,this.constructor.prototype),this.init.call(r,e),s.startup(function(){s.defer(function(){r.options.autoStart!==!1&&r.start()})}),r},g.prototype.init=function(t){},g.prototype.configure=function(o){var e=this;o=o||{};var r=function(o){return o?t.isArray(o)?o:[o]:[]};return t.each(p.Router.HOOK_TYPES,function n(i){o[i]&&(t.each(r(o[i]),function t(o){e.addHook(i,o)}),delete o[i])}),this.options=this.options||{},t.extend(this.options,o),this},g.prototype.map=function(t){return t.call(this)},g.prototype.route=function(t,o,e){var r=function(t){return Object.prototype.toString.call(t)};i("[object String]"===r(t)||"[object RegExp]"===r(t),"Router.route requires a path that is a string or regular expression."),"object"==typeof o&&(e=o,o=e.action);var n=new m(t,o,e);e=e||{},e.mount=!1;var a=this._stack.push(t,n,e);return a.route=n,n.handler=a,n.router=this,i(!this.routes._byPath[a.path],"A route for the path "+JSON.stringify(a.path)+" already exists by the name of "+JSON.stringify(a.name)+"."),this.routes._byPath[a.path]=n,this.routes.push(n),"string"==typeof a.name&&(this.routes[a.name]=n),n},g.prototype.findFirstRoute=function(t){for(var o,e,r=0;r<this.routes.length;r++)if(e=this.routes[r],o=e.handler.test(t,{where:s.isServer?"server":"client"}))return e;return null},g.prototype.path=function(t,o,e){var r=this.routes[t];return n(r,"You called Router.path for a route named "+JSON.stringify(t)+" but that route doesn't seem to exist. Are you sure you created it?"),r&&r.path(o,e)},g.prototype.url=function(t,o,e){var r=this.routes[t];return n(r,"You called Router.url for a route named "+JSON.stringify(t)+" but that route doesn't seem to exist. Are you sure you created it?"),r&&r.url(o,e)},g.prototype.createController=function(t,o){var e=this.findFirstRoute(t),r;return o=o||{},r=e?e.createController({layout:this._layout}):new _({layout:this._layout}),r.router=this,r.configureFromUrl(t,o,{reactive:!1}),r},g.prototype.setTemplateNameConverter=function(t){return this._templateNameConverter=t,this},g.prototype.setControllerNameConverter=function(t){return this._controllerNameConverter=t,this},g.prototype.toTemplateName=function(t){return this._templateNameConverter?this._templateNameConverter(t):p.utils.classCase(t)},g.prototype.toControllerName=function(t){return this._controllerNameConverter?this._controllerNameConverter(t):p.utils.classCase(t)+"Controller"},g.prototype.addHook=function(o,e,r){var n=this;r=r||{};var i=function(o){return o?t.isArray(o)?o:[o]:[]};r.only&&(r.only=i(r.only)),r.except&&(r.except=i(r.except));var a=this._globalHooks[o]=this._globalHooks[o]||[],u=function(){var t=this,o=arguments;return d.withValue(r,function(){return n.lookupHook(e).apply(t,o)})};return a.push({options:r,hook:u}),this},g.prototype.lookupHook=function(o){var e=o;if(t.isFunction(e))return e;if(t.isString(e)&&t.isFunction(p.Router.hooks[e]))return p.Router.hooks[e];throw new Error("No hook found named: "+o)},g.prototype.getHooks=function(o,e){var r=this,n=[];return t.each(this._globalHooks[o],function(o){var r=o.options;return r.except&&t.include(r.except,e)?[]:r.only&&!t.include(r.only,e)?[]:void n.push(o.hook)}),n},g.HOOK_TYPES=["onRun","onRerun","onBeforeAction","onAfterAction","onStop","waitOn","subscriptions","load","before","after","unload"],g.hooks={},g.plugins={},t.each(g.HOOK_TYPES,function(t){g.prototype[t]=function(o,e){this.addHook(t,o,e)}}),g.prototype.plugin=function(t,o){var e;if("function"==typeof t?e=t:"string"==typeof t&&(e=p.Router.plugins[t]),!e)throw new Error("No plugin found named "+JSON.stringify(t));return e.call(this,this,o),this},p.Router=g}.call(this),function(){if("undefined"!=typeof a)var t=new a("DefaultLoadingTemplate",function(){return"Loading..."}),o=new a("DefaultDataNotFoundTemplate",function(){return"Data not found..."});g.hooks.loading=function(){if(this.ready())return void this.next();var o=this.lookupOption("loadingTemplate");this.render(o||t),this.renderRegions()},g.hooks.dataNotFound=function(){if(!this.ready())return void this.next();var t=this.lookupOption("data"),e,r=this.lookupOption("notFoundTemplate");return"function"!=typeof t||(e=t.call(this))?void this.next():(this.render(r||o),void this.renderRegions())}}.call(this),function(){var o=p.utils.warn,e=p.DynamicTemplate,i=p.utils.debug("iron:router <helpers>");n.registerHelper("Router",new r.Template("Router",function(){return g.createView()})),n.registerHelper("pathFor",function(e){var r;arguments.length>1&&(r=arguments[0],e=arguments[1]||{});var n=e&&e.hash;n=n||{};var i="",a=n.query,s=n.hash,r=r||n.route,l=t.extend({},n.data||this),c=g.routes[r];return o(c,"pathFor couldn't find a route named "+JSON.stringify(r)),c&&(t.each(c.handler.compiledUrl.keys,function(o){var e=o.name;t.has(n,e)&&(l[e]=u.clone(n[e]),delete n[e])}),i=c.path(l,{query:a,hash:s})),i}),n.registerHelper("urlFor",function(e){var r;arguments.length>1&&(r=arguments[0],e=arguments[1]||{});var n=e&&e.hash;n=n||{};var i="",a=n.query,s=n.hash,r=r||n.route,l=t.extend({},n.data||this),c=g.routes[r];return o(c,"urlFor couldn't find a route named "+JSON.stringify(r)),c&&(t.each(c.handler.compiledUrl.keys,function(o){var e=o.name;t.has(n,e)&&(l[e]=u.clone(n[e]),delete n[e])}),i=c.url(l,{query:a,hash:s})),i}),n.registerHelper("linkTo",new r.Template("linkTo",function(){var n=this,i=e.getInclusionArguments(this);if("object"!=typeof i)throw new Error("linkTo options must be key value pairs such as {{#linkTo route='my.route.name'}}. You passed: "+JSON.stringify(i));i=i||{};var a="",s=i.query,l=i.hash,c=i.route,p=t.extend({},i.data||e.getParentDataContext(this)),f=g.routes[c],d;o(f,"linkTo couldn't find a route named "+JSON.stringify(c)),f&&(t.each(f.handler.compiledUrl.keys,function(o){var e=o.name;t.has(i,e)&&(p[e]=u.clone(i[e]),delete i[e])}),a=f.path(p,{query:s,hash:l}));var y=t.omit(i,"route","query","hash","data");return y.href=a,r.With(function(){return e.getParentDataContext(n)},function(){return h.A(y,n.templateContentBlock)})}))}.call(this),function(){var o=p.MiddlewareStack,r=p.Url,n=p.Layout,i=p.utils.assert,a="__IronRouterNotFound__",u="__IronRouterNoRoutes__";g.prototype.init=function(t){var o=this;o._currentController=null,o._currentRoute=null,o._currentDep=new e.Dependency,o._locationComputation=null,o._layout=new n({template:o.options.layoutTemplate}),s.startup(function(){setTimeout(function t(){o.options.autoRender!==!1&&o.insert({el:document.body})})})},g.prototype.insert=function(t){return this._layout.insert(t),this},g.prototype.createView=function(){return this._layout.create()},g.prototype.lookupNotFoundTemplate=function(){return this.options.notFoundTemplate?this.options.notFoundTemplate:0===this.routes.length?u:a},g.prototype.lookupLayoutTemplate=function(){return this.options.layoutTemplate},g.prototype.dispatch=function(t,o,r){var n=this;i("string"==typeof t,"expected url string in router dispatch");var s=this._currentController,l=this.findFirstRoute(t),c=this._currentRoute;return this._currentRoute=l,this._currentController&&this._currentController.stop(),s&&l&&c===l?s.configureFromUrl(t,o):s=this.createController(t,o),this._currentController=s,s.dispatch(n._stack,t,function t(o){if(o)throw o;if(!s.isHandled()){var i=e.nonreactive(function(){return s.location.get().options.historyState});if(i&&i.initial===!0){this.layout(this.lookupOption("layoutTemplate"),{data:{url:this.url}});var l=this.lookupOption("notFoundTemplate");l||(l=0===n.routes.length?u:a),this.render(l,{data:{url:this.url}}),this.renderRegions(),s.isHandled=function(){return!0}}return r&&r.call(s)}}),this._currentController==s&&this._currentDep.changed(),s},g.prototype.current=function(){return this._currentDep.depend(),this._currentController},g.prototype._scrollToHash=function(t){try{var o=$(t);$("html, body").scrollTop(o.offset().top)}catch(t){}},g.prototype.start=function(){var t=this,o;t._locationComputation=e.autorun(function e(r){var n,i=p.Location.get(),a,u,s,l=t._currentController;!l||o&&o.path!==i.path?n=t.dispatch(i.href,null,function t(o){this.isHandled()||(i.cancelUrlChange(),window.location=i.path)}):(t._scrollToHash(i.hash),l.configureFromUrl(i.href)),o=i})},g.prototype.stop=function(){this._isStarted&&(this._locationComputation&&this._locationComputation.stop(),this._currentController&&this._currentController.stop(),this._isStarted=!1)},g.prototype.go=function(o,e,r){var n=this,a=/^\/|http/,u;if(r=r||{},a.test(o))u=o;else{var s=n.routes[o];i(s,"No route found named "+JSON.stringify(o)),u=s.path(e,t.extend(r,{throwOnMissingParams:!0}))}p.Location.go(u,r)}}.call(this),function(){g.plugins.loading=function(t,o){t.onBeforeAction("loading",o)},g.plugins.dataNotFound=function(t,o){t.onBeforeAction("dataNotFound",o)}}.call(this),function(){g=new p.Router}.call(this),function(){a.__checkName("__IronRouterNotFound__"),a.__IronRouterNotFound__=new a("Template.__IronRouterNotFound__",function(){var t=this;return h.DIV({style:"width: 600px; margin: 0 auto; padding: 20px;"},"\n    ",h.DIV({style:"font-size: 18pt; color: #999;"},"\n      Oops, looks like there's no route on the client or the server for url: \"",r.View("lookup:url",function(){return f.mustache(t.lookup("url"))}),'."\n    '),"\n  ")}),a.__checkName("__IronRouterNoRoutes__"),a.__IronRouterNoRoutes__=new a("Template.__IronRouterNoRoutes__",function(){var t=this;return h.Raw('<div style="font-family: helvetica; color: #777; max-width: 600px; margin: 20px auto;">\n      <h1 style="text-align: center; margin: 0; font-size: 48pt;">\n        iron:router\n      </h1>\n      <p style="text-align: center; font-size: 1.3em;">\n        Organize your Meteor application.\n      </p>\n      <div style="margin: 50px 0px;">\n        <pre style="background: #f2f2f2; margin: 0; padding: 10px;">\nRouter.route(\'/\', function () {\n  this.render(\'Home\', {\n    data: function () { return Items.findOne({_id: this.params._id}); }\n  });\n});\n        </pre>\n      </div>\n      <div style="margin: 50px 0px;">\n        Check it out on Github:<br>\n        <a href="https://github.com/eventedmind/iron-router" target="_blank">https://github.com/eventedmind/iron-router</a>\n        <br>\n        <br>\n        And check out the new Guide:<br>\n        <a href="https://iron-meteor.github.io/iron-router" target="_blank">\n          https://iron-meteor.github.io/iron-router\n        </a>\n      </div>\n    </div>')})}.call(this),"undefined"==typeof Package&&(Package={}),function(t,o){for(var e in o)e in t||(t[e]=o[e])}(Package["iron:router"]={},{Router:g,RouteController:_})}();

!function(){"undefined"==typeof Package&&(Package={}),Package["ddp-rate-limiter"]={}}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,o=Package.meteor.meteorEnv,a=Package.random.Random;(function(){var t="_localstorage_test_"+a.id(),o;try{window.localStorage&&(window.localStorage.setItem(t,t),o=window.localStorage.getItem(t),window.localStorage.removeItem(t))}catch(e){}t===o&&(e._localStorage={getItem:function(e){return window.localStorage.getItem(e)},setItem:function(e,t){window.localStorage.setItem(e,t)},removeItem:function(e){window.localStorage.removeItem(e)}}),e._localStorage||(e._debug("You are running a browser with no localStorage or userData support. Logging in from one tab will not cause another tab to be logged in."),e._localStorage={_data:{},setItem:function(e,t){this._data[e]=t},removeItem:function(e){delete this._data[e]},getItem:function(e){var t=this._data[e];return void 0===t?null:t}})}).call(this),"undefined"==typeof Package&&(Package={}),Package.localstorage={}}();

!function(){var n=Package.meteor.Meteor,e=Package.meteor.global,t=Package.meteor.meteorEnv,a=Package.underscore._,r;(function(){r=function(n){var e=this;if(n=n||{},e.nextCallbackId=0,e.callbacks={},e.bindEnvironment=!0,n.bindEnvironment===!1&&(e.bindEnvironment=!1),n.exceptionHandler)e.exceptionHandler=n.exceptionHandler;else if(n.debugPrintExceptions){if(!a.isString(n.debugPrintExceptions))throw new Error("Hook option debugPrintExceptions should be a string");e.exceptionHandler=n.debugPrintExceptions}},a.extend(r.prototype,{register:function(t){var a=this,r=a.exceptionHandler||function(n){throw n};t=a.bindEnvironment?n.bindEnvironment(t,r):e(t,r);var i=a.nextCallbackId++;return a.callbacks[i]=t,{stop:function(){delete a.callbacks[i]}}},each:function(e){var t=this;n._nodeCodeMustBeInFiber();for(var r=a.keys(t.callbacks),i=0;i<r.length;++i){var o=r[i];if(a.has(t.callbacks,o)){var c=t.callbacks[o];if(!e(c))break}}}});var e=function(e,t,r){if(!t||"string"==typeof t){var i=t||"callback of async function";t=function(e){n._debug("Exception in "+i+":",e&&e.stack||e)}}return function(){var n=a.toArray(arguments),i=function(){try{var a=e.apply(r,n)}catch(n){t(n)}return a};return i()}}}).call(this),"undefined"==typeof Package&&(Package={}),function(n,e){for(var t in e)t in n||(n[t]=e[t])}(Package["callback-hook"]={},{Hook:r})}();

!function(){var n=Package.meteor.Meteor,e=Package.meteor.global,o=Package.meteor.meteorEnv,t=Package.underscore._,i=Package.tracker.Tracker,r=Package.tracker.Deps,c=Package.random.Random,a=Package["callback-hook"].Hook,s=Package["ddp-client"].DDP,u=Package.mongo.Mongo,l=Package.modules.meteorInstall,g=Package.modules.Buffer,_=Package.modules.process,p=Package["ecmascript-runtime"].Symbol,f=Package["ecmascript-runtime"].Map,h=Package["ecmascript-runtime"].Set,d=Package["babel-runtime"].meteorBabelHelpers,m=Package.promise.Promise,k,L,E,I=l({node_modules:{meteor:{"accounts-base":{"client_main.js":["./accounts_client.js","./url_client.js","./localstorage_token.js",function(e,o,t){t.export({AccountsClient:function(){return i},AccountsTest:function(){return r}});var i;t.import("./accounts_client.js",{AccountsClient:function(n){i=n}});var r;t.import("./url_client.js",{AccountsTest:function(n){r=n}}),t.import("./localstorage_token.js"),k=new i,n.users=k.users}],"accounts_client.js":["babel-runtime/helpers/classCallCheck","babel-runtime/helpers/possibleConstructorReturn","babel-runtime/helpers/inherits","./accounts_common.js",function(e,o,r){r.export({AccountsClient:function(){return l}});var c;r.import("babel-runtime/helpers/classCallCheck",{default:function(n){c=n}});var a;r.import("babel-runtime/helpers/possibleConstructorReturn",{default:function(n){a=n}});var s;r.import("babel-runtime/helpers/inherits",{default:function(n){s=n}});var u;r.import("./accounts_common.js",{AccountsCommon:function(n){u=n}});var l=function(n){function e(o){c(this,e);var t=a(this,n.call(this,o));return t._loggingIn=!1,t._loggingInDeps=new i.Dependency,t._loginServicesHandle=t.connection.subscribe("meteor.loginServiceConfiguration"),t._pageLoadLoginCallbacks=[],t._pageLoadLoginAttemptInfo=null,t._initUrlMatching(),t._initLocalStorage(),t}return s(e,n),e.prototype.userId=function(){function n(){return this.connection.userId()}return n}(),e.prototype._setLoggingIn=function(){function n(n){this._loggingIn!==n&&(this._loggingIn=n,this._loggingInDeps.changed())}return n}(),e.prototype.loggingIn=function(){function n(){return this._loggingInDeps.depend(),this._loggingIn}return n}(),e.prototype.logout=function(){function n(n){var e=this;e.connection.apply("logout",[],{wait:!0},function(o,t){o?n&&n(o):(e.makeClientLoggedOut(),n&&n())})}return n}(),e.prototype.logoutOtherClients=function(){function n(n){var e=this;e.connection.apply("getNewToken",[],{wait:!0},function(n,o){n||e._storeLoginToken(e.userId(),o.token,o.tokenExpires)}),e.connection.apply("removeOtherTokens",[],{wait:!0},function(e){n&&n(e)})}return n}(),e}(u),g=l.prototype;n.loggingIn=function(){return k.loggingIn()},g.callLoginMethod=function(n){var e=this;n=t.extend({methodName:"login",methodArguments:[{}],_suppressLoggingIn:!1},n),t.each(["validateResult","userCallback"],function(e){n[e]||(n[e]=function(){})});var o=t.once(function(o){o?e._onLoginFailureHook.each(function(n){return n({error:o}),!0}):e._onLoginHook.each(function(n){return n(),!0}),n.userCallback.apply(this,arguments)}),i=!1,r=function n(t,r){!t&&r&&r.token&&(e.connection.onReconnect=function(){i=!0;var n=e._storedLoginToken();n&&(r={token:n,tokenExpires:e._storedLoginTokenExpires()}),r.tokenExpires||(r.tokenExpires=e._tokenExpiration(new Date)),e._tokenExpiresSoon(r.tokenExpires)?e.makeClientLoggedOut():e.callLoginMethod({methodArguments:[{resume:r.token}],_suppressLoggingIn:!0,userCallback:function(){function n(n){var t=e._storedLoginToken();n&&t&&t===r.token&&e.makeClientLoggedOut(),o(n)}return n}()})})},c=function t(r,c){if(!i){if(e._setLoggingIn(!1),r||!c)return r=r||new Error("No result from call to "+n.methodName),void o(r);try{n.validateResult(c)}catch(n){return void o(n)}e.makeClientLoggedIn(c.id,c.token,c.tokenExpires),o()}};n._suppressLoggingIn||e._setLoggingIn(!0),e.connection.apply(n.methodName,n.methodArguments,{wait:!0,onResultReceived:r},c)},g.makeClientLoggedOut=function(){this.connection._userId&&this._onLogoutHook.each(function(n){return n(),!0}),this._unstoreLoginToken(),this.connection.setUserId(null),this.connection.onReconnect=null},g.makeClientLoggedIn=function(n,e,o){this._storeLoginToken(n,e,o),this.connection.setUserId(n)},n.logout=function(n){return k.logout(n)},n.logoutOtherClients=function(n){return k.logoutOtherClients(n)},g.loginServicesConfigured=function(){return this._loginServicesHandle.ready()},g.onPageLoadLogin=function(n){this._pageLoadLoginAttemptInfo?n(this._pageLoadLoginAttemptInfo):this._pageLoadLoginCallbacks.push(n)},g._pageLoadLogin=function(e){return this._pageLoadLoginAttemptInfo?void n._debug("Ignoring unexpected duplicate page load login attempt info"):(t.each(this._pageLoadLoginCallbacks,function(n){n(e)}),this._pageLoadLoginCallbacks=[],void(this._pageLoadLoginAttemptInfo=e))},Package.blaze&&(Package.blaze.Blaze.Template.registerHelper("currentUser",function(){return n.user()}),Package.blaze.Blaze.Template.registerHelper("loggingIn",function(){return n.loggingIn()}))}],"accounts_common.js":["babel-runtime/helpers/classCallCheck",function(e,o,i){i.export({AccountsCommon:function(){return c}});var r;i.import("babel-runtime/helpers/classCallCheck",{default:function(n){r=n}});var c=function(){function e(n){r(this,e),this._options={},this.connection=void 0,this._initConnection(n||{}),this.users=new u.Collection("users",{_preventAutopublish:!0,connection:this.connection}),this._onLoginHook=new a({bindEnvironment:!1,debugPrintExceptions:"onLogin callback"}),this._onLoginFailureHook=new a({bindEnvironment:!1,debugPrintExceptions:"onLoginFailure callback"}),this._onLogoutHook=new a({bindEnvironment:!1,debugPrintExceptions:"onLogout callback"})}return e.prototype.userId=function(){function n(){throw new Error("userId method not implemented")}return n}(),e.prototype.user=function(){function n(){var n=this.userId();return n?this.users.findOne(n):null}return n}(),e.prototype.config=function(){function e(e){var o=this;if(n.isServer?__meteor_runtime_config__.accountsConfigCalled=!0:__meteor_runtime_config__.accountsConfigCalled||n._debug("Accounts.config was called on the client but not on the server; some configuration options may not take effect."),t.has(e,"oauthSecretKey")){if(n.isClient)throw new Error("The oauthSecretKey option may only be specified on the server");if(!Package["oauth-encryption"])throw new Error("The oauth-encryption package must be loaded to set oauthSecretKey");Package["oauth-encryption"].OAuthEncryption.loadKey(e.oauthSecretKey),e=t.omit(e,"oauthSecretKey")}var i=["sendVerificationEmail","forbidClientAccountCreation","passwordEnrollTokenExpirationInDays","restrictCreationByEmailDomain","loginExpirationInDays","passwordResetTokenExpirationInDays"];t.each(t.keys(e),function(n){if(!t.contains(i,n))throw new Error("Accounts.config: Invalid key: "+n)}),t.each(i,function(n){if(n in e){if(n in o._options)throw new Error("Can't set `"+n+"` more than once");o._options[n]=e[n]}})}return e}(),e.prototype.onLogin=function(){function n(n){return this._onLoginHook.register(n)}return n}(),e.prototype.onLoginFailure=function(){function n(n){return this._onLoginFailureHook.register(n)}return n}(),e.prototype.onLogout=function(){function n(n){return this._onLogoutHook.register(n)}return n}(),e.prototype._initConnection=function(){function e(e){n.isClient&&(e.connection?this.connection=e.connection:e.ddpUrl?this.connection=s.connect(e.ddpUrl):"undefined"!=typeof __meteor_runtime_config__&&__meteor_runtime_config__.ACCOUNTS_CONNECTION_URL?this.connection=s.connect(__meteor_runtime_config__.ACCOUNTS_CONNECTION_URL):this.connection=n.connection)}return e}(),e.prototype._getTokenLifetimeMs=function(){function n(){return 24*(this._options.loginExpirationInDays||g)*60*60*1e3}return n}(),e.prototype._getPasswordResetTokenLifetimeMs=function(){function n(){return 24*(this._options.passwordResetTokenExpirationInDays||_)*60*60*1e3}return n}(),e.prototype._getPasswordEnrollTokenLifetimeMs=function(){function n(){return 24*(this._options.passwordEnrollTokenExpirationInDays||p)*60*60*1e3}return n}(),e.prototype._tokenExpiration=function(){function n(n){return new Date(new Date(n).getTime()+this._getTokenLifetimeMs())}return n}(),e.prototype._tokenExpiresSoon=function(){function n(n){var e=.1*this._getTokenLifetimeMs(),o=1e3*f;return e>o&&(e=o),new Date>new Date(n)-e}return n}(),e}(),l=c.prototype;n.userId=function(){return k.userId()},n.user=function(){return k.user()};var g=90,_=3,p=30,f=3600;L=6e5,E=1e4,n.startup(function(){var n=Package["service-configuration"].ServiceConfiguration;l.loginServiceConfiguration=n.configurations,l.ConfigError=n.ConfigError});var h="Accounts.LoginCancelledError";l.LoginCancelledError=n.makeErrorType(h,function(n){this.message=n}),l.LoginCancelledError.prototype.name=h,l.LoginCancelledError.numericError=145546287}],"localstorage_token.js":["./accounts_client.js",function(e,o,t){var i;t.import("./accounts_client.js",{AccountsClient:function(n){i=n}});var r=i.prototype;n.loginWithToken=function(n,e){return k.loginWithToken(n,e)},r.loginWithToken=function(n,e){this.callLoginMethod({methodArguments:[{resume:n}],userCallback:e})},r._enableAutoLogin=function(){this._autoLoginEnabled=!0,this._pollStoredLoginToken()},r._isolateLoginTokenForTest=function(){this.LOGIN_TOKEN_KEY=this.LOGIN_TOKEN_KEY+c.id(),this.USER_ID_KEY=this.USER_ID_KEY+c.id()},r._storeLoginToken=function(e,o,t){n._localStorage.setItem(this.USER_ID_KEY,e),n._localStorage.setItem(this.LOGIN_TOKEN_KEY,o),t||(t=this._tokenExpiration(new Date)),n._localStorage.setItem(this.LOGIN_TOKEN_EXPIRES_KEY,t),this._lastLoginTokenWhenPolled=o},r._unstoreLoginToken=function(){n._localStorage.removeItem(this.USER_ID_KEY),n._localStorage.removeItem(this.LOGIN_TOKEN_KEY),n._localStorage.removeItem(this.LOGIN_TOKEN_EXPIRES_KEY),this._lastLoginTokenWhenPolled=null},r._storedLoginToken=function(){return n._localStorage.getItem(this.LOGIN_TOKEN_KEY)},r._storedLoginTokenExpires=function(){return n._localStorage.getItem(this.LOGIN_TOKEN_EXPIRES_KEY)},r._storedUserId=function(){return n._localStorage.getItem(this.USER_ID_KEY)},r._unstoreLoginTokenIfExpiresSoon=function(){var n=this._storedLoginTokenExpires();n&&this._tokenExpiresSoon(new Date(n))&&this._unstoreLoginToken()},r._initLocalStorage=function(){var e=this;e.LOGIN_TOKEN_KEY="Meteor.loginToken",e.LOGIN_TOKEN_EXPIRES_KEY="Meteor.loginTokenExpires",e.USER_ID_KEY="Meteor.userId";var o=__meteor_runtime_config__.ROOT_URL_PATH_PREFIX;if(o||this.connection!==n.connection){var t=":"+this.connection._stream.rawUrl;o&&(t+=":"+o),e.LOGIN_TOKEN_KEY+=t,e.LOGIN_TOKEN_EXPIRES_KEY+=t,e.USER_ID_KEY+=t}if(e._autoLoginEnabled){e._unstoreLoginTokenIfExpiresSoon();var i=e._storedLoginToken();if(i){var r=e._storedUserId();r&&e.connection.setUserId(r),e.loginWithToken(i,function(o){o&&(n._debug("Error logging in with token: "+o),e.makeClientLoggedOut()),e._pageLoadLogin({type:"resume",allowed:!o,error:o,methodName:"login",methodArguments:[{resume:i}]})})}}e._lastLoginTokenWhenPolled=i,e._pollIntervalTimer&&clearInterval(e._pollIntervalTimer),e._pollIntervalTimer=setInterval(function(){e._pollStoredLoginToken()},3e3)},r._pollStoredLoginToken=function(){var n=this;if(n._autoLoginEnabled){var e=n._storedLoginToken();n._lastLoginTokenWhenPolled!=e&&(e?n.loginWithToken(e,function(e){e&&n.makeClientLoggedOut()}):n.logout()),n._lastLoginTokenWhenPolled=e}}}],"url_client.js":["./accounts_client.js",function(e,o,i){function r(n,e,o){t.each(u,function(t){var i,r=new RegExp("^\\#\\/"+t+"\\/(.*)$"),c=e.match(r);c&&(i=c[1],"reset-password"===t?n._resetPasswordToken=i:"verify-email"===t?n._verifyEmailToken=i:"enroll-account"===t&&(n._enrollAccountToken=i),window.location.hash="",o.call(n,i,t))})}function c(e,o){var t=this;t._autoLoginEnabled=!1,n.startup(function(){t._accountsCallbacks[o]&&t._accountsCallbacks[o](e,function(){t._enableAutoLogin()})})}i.export({AccountsTest:function(){return g}});var a;i.import("./accounts_client.js",{AccountsClient:function(n){a=n}});var s=a.prototype,u=["reset-password","verify-email","enroll-account"],l=window.location.hash;s._initUrlMatching=function(){this._autoLoginEnabled=!0,this._accountsCallbacks={},this._attemptToMatchHash()},s._attemptToMatchHash=function(){r(this,l,c)};var g={attemptToMatchHash:function(){function n(n,e){return r(k,n,e)}return n}()};s.onResetPasswordLink=function(e){this._accountsCallbacks["reset-password"]&&n._debug("Accounts.onResetPasswordLink was called more than once. Only one callback added will be executed."),this._accountsCallbacks["reset-password"]=e},s.onEmailVerificationLink=function(e){this._accountsCallbacks["verify-email"]&&n._debug("Accounts.onEmailVerificationLink was called more than once. Only one callback added will be executed."),this._accountsCallbacks["verify-email"]=e},s.onEnrollmentLink=function(e){this._accountsCallbacks["enroll-account"]&&n._debug("Accounts.onEnrollmentLink was called more than once. Only one callback added will be executed."),this._accountsCallbacks["enroll-account"]=e}}]}}}},{extensions:[".js",".json"]}),b=I("./node_modules/meteor/accounts-base/client_main.js");"undefined"==typeof Package&&(Package={}),function(n,e){for(var o in e)o in n||(n[o]=e[o])}(Package["accounts-base"]=b,{Accounts:k})}();

!function(){var r=Package.meteor.Meteor,n=Package.meteor.global,t=Package.meteor.meteorEnv,e;(function(){e=function(){function r(r){function n(r,n){var t=(65535&r)+(65535&n),e=(r>>16)+(n>>16)+(t>>16);return e<<16|65535&t}function t(r,n){return r>>>n|r<<32-n}function e(r,n){return r>>>n}function o(r,n,t){return r&n^~r&t}function a(r,n,t){return r&n^r&t^n&t}function u(r){return t(r,2)^t(r,13)^t(r,22)}function f(r){return t(r,6)^t(r,11)^t(r,25)}function c(r){return t(r,7)^t(r,18)^e(r,3)}function i(r){return t(r,17)^t(r,19)^e(r,10)}function g(r,t){var e=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),g=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),h=new Array(64),C,v,d,m,A,l,S,k,P,y,w,b;r[t>>5]|=128<<24-t%32,r[(t+64>>9<<4)+15]=t;for(var P=0;P<r.length;P+=16){C=g[0],v=g[1],d=g[2],m=g[3],A=g[4],l=g[5],S=g[6],k=g[7];for(var y=0;y<64;y++)y<16?h[y]=r[y+P]:h[y]=n(n(n(i(h[y-2]),h[y-7]),c(h[y-15])),h[y-16]),w=n(n(n(n(k,f(A)),o(A,l,S)),e[y]),h[y]),b=n(u(C),a(C,v,d)),k=S,S=l,l=A,A=n(m,w),m=d,d=v,v=C,C=n(w,b);g[0]=n(C,g[0]),g[1]=n(v,g[1]),g[2]=n(d,g[2]),g[3]=n(m,g[3]),g[4]=n(A,g[4]),g[5]=n(l,g[5]),g[6]=n(S,g[6]),g[7]=n(k,g[7])}return g}function h(r){for(var n=Array(),t=(1<<d)-1,e=0;e<r.length*d;e+=d)n[e>>5]|=(r.charCodeAt(e/d)&t)<<24-e%32;return n}function C(r){for(var n="",t=0;t<r.length;t++){var e=r.charCodeAt(t);e<128?n+=String.fromCharCode(e):e>127&&e<2048?(n+=String.fromCharCode(e>>6|192),n+=String.fromCharCode(63&e|128)):(n+=String.fromCharCode(e>>12|224),n+=String.fromCharCode(e>>6&63|128),n+=String.fromCharCode(63&e|128))}return n}function v(r){for(var n=m?"0123456789ABCDEF":"0123456789abcdef",t="",e=0;e<4*r.length;e++)t+=n.charAt(r[e>>2]>>8*(3-e%4)+4&15)+n.charAt(r[e>>2]>>8*(3-e%4)&15);return t}var d=8,m=0;return r=C(r),v(g(h(r),r.length*d))}return r}()}).call(this),"undefined"==typeof Package&&(Package={}),function(r,n){for(var t in n)t in r||(r[t]=n[t])}(Package.sha={},{SHA256:e})}();

!function(){var t=Package.meteor.Meteor,i=Package.meteor.global,r=Package.meteor.meteorEnv,o=Package.random.Random,s=Package.check.check,e=Package.check.Match,h=Package.sha.SHA256,n=Package.underscore._,f,u;(function(){f=function(){function t(t,i,r){null!=t&&("number"==typeof t?this.fromNumber(t,i,r):null==i&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,i))}function i(){return new t(null)}function r(t,i,r,o,s,e){for(;--e>=0;){var h=i*this[t++]+r[o]+s;s=Math.floor(h/67108864),r[o++]=67108863&h}return s}function o(t,i,r,o,s,e){for(var h=32767&i,n=i>>15;--e>=0;){var f=32767&this[t],u=this[t++]>>15,a=n*f+u*h;f=h*f+((32767&a)<<15)+r[o]+(1073741823&s),s=(f>>>30)+(a>>>15)+n*u+(s>>>30),r[o++]=1073741823&f}return s}function s(t,i,r,o,s,e){for(var h=16383&i,n=i>>14;--e>=0;){var f=16383&this[t],u=this[t++]>>14,a=n*f+u*h;f=h*f+((16383&a)<<14)+r[o]+s,s=(f>>28)+(a>>14)+n*u,r[o++]=268435455&f}return s}function e(t){return ii.charAt(t)}function h(t,i){var r=ri[t.charCodeAt(i)];return null==r?-1:r}function n(t){for(var i=this.t-1;i>=0;--i)t[i]=this[i];t.t=this.t,t.s=this.s}function f(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+DV:this.t=0}function u(t){var r=i();return r.fromInt(t),r}function a(i,r){var o;if(16==r)o=4;else if(8==r)o=3;else if(256==r)o=8;else if(2==r)o=1;else if(32==r)o=5;else{if(4!=r)return void this.fromRadix(i,r);o=2}this.t=0,this.s=0;for(var s=i.length,e=!1,n=0;--s>=0;){var f=8==o?255&i[s]:h(i,s);f<0?"-"==i.charAt(s)&&(e=!0):(e=!1,0==n?this[this.t++]=f:n+o>this.DB?(this[this.t-1]|=(f&(1<<this.DB-n)-1)<<n,this[this.t++]=f>>this.DB-n):this[this.t-1]|=f<<n,n+=o,n>=this.DB&&(n-=this.DB))}8==o&&0!=(128&i[0])&&(this.s=-1,n>0&&(this[this.t-1]|=(1<<this.DB-n)-1<<n)),this.clamp(),e&&t.ZERO.subTo(this,this)}function p(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t}function c(t){if(this.s<0)return"-"+this.negate().toString(t);var i;if(16==t)i=4;else if(8==t)i=3;else if(2==t)i=1;else if(32==t)i=5;else{if(4!=t)return this.toRadix(t);i=2}var r=(1<<i)-1,o,s=!1,h="",n=this.t,f=this.DB-n*this.DB%i;if(n-- >0)for(f<this.DB&&(o=this[n]>>f)>0&&(s=!0,h=e(o));n>=0;)f<i?(o=(this[n]&(1<<f)-1)<<i-f,o|=this[--n]>>(f+=this.DB-i)):(o=this[n]>>(f-=i)&r,f<=0&&(f+=this.DB,--n)),o>0&&(s=!0),s&&(h+=e(o));return s?h:"0"}function m(){var r=i();return t.ZERO.subTo(this,r),r}function l(){return this.s<0?this.negate():this}function v(t){var i=this.s-t.s;if(0!=i)return i;var r=this.t;if(i=r-t.t,0!=i)return i;for(;--r>=0;)if(0!=(i=this[r]-t[r]))return i;return 0}function T(t){var i=1,r;return 0!=(r=t>>>16)&&(t=r,i+=16),0!=(r=t>>8)&&(t=r,i+=8),0!=(r=t>>4)&&(t=r,i+=4),0!=(r=t>>2)&&(t=r,i+=2),0!=(r=t>>1)&&(t=r,i+=1),i}function y(){return this.t<=0?0:this.DB*(this.t-1)+T(this[this.t-1]^this.s&this.DM)}function d(t,i){var r;for(r=this.t-1;r>=0;--r)i[r+t]=this[r];for(r=t-1;r>=0;--r)i[r]=0;i.t=this.t+t,i.s=this.s}function D(t,i){for(var r=t;r<this.t;++r)i[r-t]=this[r];i.t=Math.max(this.t-t,0),i.s=this.s}function g(t,i){var r=t%this.DB,o=this.DB-r,s=(1<<o)-1,e=Math.floor(t/this.DB),h=this.s<<r&this.DM,n;for(n=this.t-1;n>=0;--n)i[n+e+1]=this[n]>>o|h,h=(this[n]&s)<<r;for(n=e-1;n>=0;--n)i[n]=0;i[e]=h,i.t=this.t+e+1,i.s=this.s,i.clamp()}function B(t,i){i.s=this.s;var r=Math.floor(t/this.DB);if(r>=this.t)return void(i.t=0);var o=t%this.DB,s=this.DB-o,e=(1<<o)-1;i[0]=this[r]>>o;for(var h=r+1;h<this.t;++h)i[h-r-1]|=(this[h]&e)<<s,i[h-r]=this[h]>>o;o>0&&(i[this.t-r-1]|=(this.s&e)<<s),i.t=this.t-r,i.clamp()}function b(t,i){for(var r=0,o=0,s=Math.min(t.t,this.t);r<s;)o+=this[r]-t[r],i[r++]=o&this.DM,o>>=this.DB;if(t.t<this.t){for(o-=t.s;r<this.t;)o+=this[r],i[r++]=o&this.DM,o>>=this.DB;o+=this.s}else{for(o+=this.s;r<t.t;)o-=t[r],i[r++]=o&this.DM,o>>=this.DB;o-=t.s}i.s=o<0?-1:0,o<-1?i[r++]=this.DV+o:o>0&&(i[r++]=o),i.t=r,i.clamp()}function S(i,r){var o=this.abs(),s=i.abs(),e=o.t;for(r.t=e+s.t;--e>=0;)r[e]=0;for(e=0;e<s.t;++e)r[e+o.t]=o.am(0,s[e],r,e,0,o.t);r.s=0,r.clamp(),this.s!=i.s&&t.ZERO.subTo(r,r)}function E(t){for(var i=this.abs(),r=t.t=2*i.t;--r>=0;)t[r]=0;for(r=0;r<i.t-1;++r){var o=i.am(r,i[r],t,2*r,0,1);(t[r+i.t]+=i.am(r+1,2*i[r],t,2*r+1,o,i.t-r-1))>=i.DV&&(t[r+i.t]-=i.DV,t[r+i.t+1]=1)}t.t>0&&(t[t.t-1]+=i.am(r,i[r],t,2*r,0,1)),t.s=0,t.clamp()}function w(r,o,s){var e=r.abs();if(!(e.t<=0)){var h=this.abs();if(h.t<e.t)return null!=o&&o.fromInt(0),void(null!=s&&this.copyTo(s));null==s&&(s=i());var n=i(),f=this.s,u=r.s,a=this.DB-T(e[e.t-1]);a>0?(e.lShiftTo(a,n),h.lShiftTo(a,s)):(e.copyTo(n),h.copyTo(s));var p=n.t,c=n[p-1];if(0!=c){var m=c*(1<<this.F1)+(p>1?n[p-2]>>this.F2:0),l=this.FV/m,v=(1<<this.F1)/m,y=1<<this.F2,d=s.t,D=d-p,g=null==o?i():o;for(n.dlShiftTo(D,g),s.compareTo(g)>=0&&(s[s.t++]=1,s.subTo(g,s)),t.ONE.dlShiftTo(p,g),g.subTo(n,n);n.t<p;)n[n.t++]=0;for(;--D>=0;){var B=s[--d]==c?this.DM:Math.floor(s[d]*l+(s[d-1]+y)*v);if((s[d]+=n.am(0,B,s,D,0,p))<B)for(n.dlShiftTo(D,g),s.subTo(g,s);s[d]<--B;)s.subTo(g,s)}null!=o&&(s.drShiftTo(p,o),f!=u&&t.ZERO.subTo(o,o)),s.t=p,s.clamp(),a>0&&s.rShiftTo(a,s),f<0&&t.ZERO.subTo(s,s)}}}function M(r){var o=i();return this.abs().divRemTo(r,null,o),this.s<0&&o.compareTo(t.ZERO)>0&&r.subTo(o,o),o}function A(t){this.m=t}function R(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t}function O(t){return t}function C(t){t.divRemTo(this.m,null,t)}function F(t,i,r){t.multiplyTo(i,r),this.reduce(r)}function V(t,i){t.squareTo(i),this.reduce(i)}function k(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var i=3&t;return i=i*(2-(15&t)*i)&15,i=i*(2-(255&t)*i)&255,i=i*(2-((65535&t)*i&65535))&65535,i=i*(2-t*i%this.DV)%this.DV,i>0?this.DV-i:-i}function N(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function P(r){var o=i();return r.abs().dlShiftTo(this.m.t,o),o.divRemTo(this.m,null,o),r.s<0&&o.compareTo(t.ZERO)>0&&this.m.subTo(o,o),o}function q(t){var r=i();return t.copyTo(r),this.reduce(r),r}function L(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var i=0;i<this.m.t;++i){var r=32767&t[i],o=r*this.mpl+((r*this.mph+(t[i]>>15)*this.mpl&this.um)<<15)&t.DM;for(r=i+this.m.t,t[r]+=this.m.am(0,o,t,i,0,this.m.t);t[r]>=t.DV;)t[r]-=t.DV,t[++r]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}function x(t,i){t.squareTo(i),this.reduce(i)}function I(t,i,r){t.multiplyTo(i,r),this.reduce(r)}function Z(){return 0==(this.t>0?1&this[0]:this.s)}function z(r,o){if(r>4294967295||r<1)return t.ONE;var s=i(),e=i(),h=o.convert(this),n=T(r)-1;for(h.copyTo(s);--n>=0;)if(o.sqrTo(s,e),(r&1<<n)>0)o.mulTo(e,h,s);else{var f=s;s=e,e=f}return o.revert(s)}function U(t,i){var r;return r=t<256||i.isEven()?new A(i):new N(i),this.exp(t,r)}function j(){var t=i();return this.copyTo(t),t}function H(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function _(){return 0==this.t?this.s:this[0]<<24>>24}function G(){return 0==this.t?this.s:this[0]<<16>>16}function J(t){return Math.floor(Math.LN2*this.DB/Math.log(t))}function K(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1}function Q(t){if(null==t&&(t=10),0==this.signum()||t<2||t>36)return"0";var r=this.chunkSize(t),o=Math.pow(t,r),s=u(o),e=i(),h=i(),n="";for(this.divRemTo(s,e,h);e.signum()>0;)n=(o+h.intValue()).toString(t).substr(1)+n,e.divRemTo(s,e,h);return h.intValue().toString(t)+n}function W(i,r){this.fromInt(0),null==r&&(r=10);for(var o=this.chunkSize(r),s=Math.pow(r,o),e=!1,n=0,f=0,u=0;u<i.length;++u){var a=h(i,u);a<0?"-"==i.charAt(u)&&0==this.signum()&&(e=!0):(f=r*f+a,++n>=o&&(this.dMultiply(s),this.dAddOffset(f,0),n=0,f=0))}n>0&&(this.dMultiply(Math.pow(r,n)),this.dAddOffset(f,0)),e&&t.ZERO.subTo(this,this)}function X(i,r,o){if("number"==typeof r)if(i<2)this.fromInt(1);else for(this.fromNumber(i,o),this.testBit(i-1)||this.bitwiseTo(t.ONE.shiftLeft(i-1),et,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(r);)this.dAddOffset(2,0),this.bitLength()>i&&this.subTo(t.ONE.shiftLeft(i-1),this);else{var s=new Array,e=7&i;s.length=(i>>3)+1,r.nextBytes(s),e>0?s[0]&=(1<<e)-1:s[0]=0,this.fromString(s,256)}}function Y(){var t=this.t,i=new Array;i[0]=this.s;var r=this.DB-t*this.DB%8,o,s=0;if(t-- >0)for(r<this.DB&&(o=this[t]>>r)!=(this.s&this.DM)>>r&&(i[s++]=o|this.s<<this.DB-r);t>=0;)r<8?(o=(this[t]&(1<<r)-1)<<8-r,o|=this[--t]>>(r+=this.DB-8)):(o=this[t]>>(r-=8)&255,r<=0&&(r+=this.DB,--t)),0!=(128&o)&&(o|=-256),0==s&&(128&this.s)!=(128&o)&&++s,(s>0||o!=this.s)&&(i[s++]=o);return i}function $(t){return 0==this.compareTo(t)}function tt(t){return this.compareTo(t)<0?this:t}function it(t){return this.compareTo(t)>0?this:t}function rt(t,i,r){var o,s,e=Math.min(t.t,this.t);for(o=0;o<e;++o)r[o]=i(this[o],t[o]);if(t.t<this.t){for(s=t.s&this.DM,o=e;o<this.t;++o)r[o]=i(this[o],s);r.t=this.t}else{for(s=this.s&this.DM,o=e;o<t.t;++o)r[o]=i(s,t[o]);r.t=t.t}r.s=i(this.s,t.s),r.clamp()}function ot(t,i){return t&i}function st(t){var r=i();return this.bitwiseTo(t,ot,r),r}function et(t,i){return t|i}function ht(t){var r=i();return this.bitwiseTo(t,et,r),r}function nt(t,i){return t^i}function ft(t){var r=i();return this.bitwiseTo(t,nt,r),r}function ut(t,i){return t&~i}function at(t){var r=i();return this.bitwiseTo(t,ut,r),r}function pt(){for(var t=i(),r=0;r<this.t;++r)t[r]=this.DM&~this[r];return t.t=this.t,t.s=~this.s,t}function ct(t){var r=i();return t<0?this.rShiftTo(-t,r):this.lShiftTo(t,r),r}function mt(t){var r=i();return t<0?this.lShiftTo(-t,r):this.rShiftTo(t,r),r}function lt(t){if(0==t)return-1;var i=0;return 0==(65535&t)&&(t>>=16,i+=16),0==(255&t)&&(t>>=8,i+=8),0==(15&t)&&(t>>=4,i+=4),0==(3&t)&&(t>>=2,i+=2),0==(1&t)&&++i,i}function vt(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+lt(this[t]);return this.s<0?this.t*this.DB:-1}function Tt(t){for(var i=0;0!=t;)t&=t-1,++i;return i}function yt(){for(var t=0,i=this.s&this.DM,r=0;r<this.t;++r)t+=Tt(this[r]^i);return t}function dt(t){var i=Math.floor(t/this.DB);return i>=this.t?0!=this.s:0!=(this[i]&1<<t%this.DB)}function Dt(i,r){var o=t.ONE.shiftLeft(i);return this.bitwiseTo(o,r,o),o}function gt(t){return this.changeBit(t,et)}function Bt(t){return this.changeBit(t,ut)}function bt(t){return this.changeBit(t,nt)}function St(t,i){for(var r=0,o=0,s=Math.min(t.t,this.t);r<s;)o+=this[r]+t[r],i[r++]=o&this.DM,o>>=this.DB;if(t.t<this.t){for(o+=t.s;r<this.t;)o+=this[r],i[r++]=o&this.DM,o>>=this.DB;o+=this.s}else{for(o+=this.s;r<t.t;)o+=t[r],i[r++]=o&this.DM,o>>=this.DB;o+=t.s}i.s=o<0?-1:0,o>0?i[r++]=o:o<-1&&(i[r++]=this.DV+o),i.t=r,i.clamp()}function Et(t){var r=i();return this.addTo(t,r),r}function wt(t){var r=i();return this.subTo(t,r),r}function Mt(t){var r=i();return this.multiplyTo(t,r),r}function At(t){var r=i();return this.divRemTo(t,r,null),r}function Rt(t){var r=i();return this.divRemTo(t,null,r),r}function Ot(t){var r=i(),o=i();return this.divRemTo(t,r,o),new Array(r,o)}function Ct(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()}function Ft(t,i){for(;this.t<=i;)this[this.t++]=0;for(this[i]+=t;this[i]>=this.DV;)this[i]-=this.DV,++i>=this.t&&(this[this.t++]=0),++this[i]}function Vt(){}function kt(t){return t}function Nt(t,i,r){t.multiplyTo(i,r)}function Pt(t,i){t.squareTo(i)}function qt(t){return this.exp(t,new Vt)}function Lt(t,i,r){var o=Math.min(this.t+t.t,i);for(r.s=0,r.t=o;o>0;)r[--o]=0;var s;for(s=r.t-this.t;o<s;++o)r[o+this.t]=this.am(0,t[o],r,o,0,this.t);for(s=Math.min(t.t,i);o<s;++o)this.am(0,t[o],r,o,0,i-o);r.clamp()}function xt(t,i,r){--i;var o=r.t=this.t+t.t-i;for(r.s=0;--o>=0;)r[o]=0;for(o=Math.max(i-this.t,0);o<t.t;++o)r[this.t+o-i]=this.am(i-o,t[o],r,0,0,this.t+o-i);r.clamp(),r.drShiftTo(1,r)}function It(r){this.r2=i(),this.q3=i(),t.ONE.dlShiftTo(2*r.t,this.r2),this.mu=this.r2.divide(r),this.m=r}function Zt(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var r=i();return t.copyTo(r),this.reduce(r),r}function zt(t){return t}function Ut(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)}function jt(t,i){t.squareTo(i),this.reduce(i)}function Ht(t,i,r){t.multiplyTo(i,r),this.reduce(r)}function _t(t,r){var o=t.bitLength(),s,e=u(1),h;if(o<=0)return e;s=o<18?1:o<48?3:o<144?4:o<768?5:6,h=o<8?new A(r):r.isEven()?new It(r):new N(r);var n=new Array,f=3,a=s-1,p=(1<<s)-1;if(n[1]=h.convert(this),s>1){var c=i();for(h.sqrTo(n[1],c);f<=p;)n[f]=i(),h.mulTo(c,n[f-2],n[f]),f+=2}var m=t.t-1,l,v=!0,y=i(),d;for(o=T(t[m])-1;m>=0;){for(o>=a?l=t[m]>>o-a&p:(l=(t[m]&(1<<o+1)-1)<<a-o,m>0&&(l|=t[m-1]>>this.DB+o-a)),f=s;0==(1&l);)l>>=1,--f;if((o-=f)<0&&(o+=this.DB,--m),v)n[l].copyTo(e),v=!1;else{for(;f>1;)h.sqrTo(e,y),h.sqrTo(y,e),f-=2;f>0?h.sqrTo(e,y):(d=e,e=y,y=d),h.mulTo(y,n[l],e)}for(;m>=0&&0==(t[m]&1<<o);)h.sqrTo(e,y),d=e,e=y,y=d,--o<0&&(o=this.DB-1,--m)}return h.revert(e)}function Gt(t){var i=this.s<0?this.negate():this.clone(),r=t.s<0?t.negate():t.clone();if(i.compareTo(r)<0){var o=i;i=r,r=o}var s=i.getLowestSetBit(),e=r.getLowestSetBit();if(e<0)return i;for(s<e&&(e=s),e>0&&(i.rShiftTo(e,i),r.rShiftTo(e,r));i.signum()>0;)(s=i.getLowestSetBit())>0&&i.rShiftTo(s,i),(s=r.getLowestSetBit())>0&&r.rShiftTo(s,r),i.compareTo(r)>=0?(i.subTo(r,i),i.rShiftTo(1,i)):(r.subTo(i,r),r.rShiftTo(1,r));return e>0&&r.lShiftTo(e,r),r}function Jt(t){if(t<=0)return 0;var i=this.DV%t,r=this.s<0?t-1:0;if(this.t>0)if(0==i)r=this[0]%t;else for(var o=this.t-1;o>=0;--o)r=(i*r+this[o])%t;return r}function Kt(i){var r=i.isEven();if(this.isEven()&&r||0==i.signum())return t.ZERO;for(var o=i.clone(),s=this.clone(),e=u(1),h=u(0),n=u(0),f=u(1);0!=o.signum();){for(;o.isEven();)o.rShiftTo(1,o),r?(e.isEven()&&h.isEven()||(e.addTo(this,e),h.subTo(i,h)),e.rShiftTo(1,e)):h.isEven()||h.subTo(i,h),h.rShiftTo(1,h);for(;s.isEven();)s.rShiftTo(1,s),r?(n.isEven()&&f.isEven()||(n.addTo(this,n),f.subTo(i,f)),n.rShiftTo(1,n)):f.isEven()||f.subTo(i,f),f.rShiftTo(1,f);o.compareTo(s)>=0?(o.subTo(s,o),r&&e.subTo(n,e),h.subTo(f,h)):(s.subTo(o,s),r&&n.subTo(e,n),f.subTo(h,f))}return 0!=s.compareTo(t.ONE)?t.ZERO:f.compareTo(i)>=0?f.subtract(i):f.signum()<0?(f.addTo(i,f),f.signum()<0?f.add(i):f):f}function Qt(t){var i,r=this.abs();if(1==r.t&&r[0]<=ei[ei.length-1]){for(i=0;i<ei.length;++i)if(r[0]==ei[i])return!0;return!1}if(r.isEven())return!1;for(i=1;i<ei.length;){for(var o=ei[i],s=i+1;s<ei.length&&o<hi;)o*=ei[s++];for(o=r.modInt(o);i<s;)if(o%ei[i++]==0)return!1}return r.millerRabin(t)}function Wt(r){var o=this.subtract(t.ONE),s=o.getLowestSetBit();if(s<=0)return!1;var e=o.shiftRight(s);r=r+1>>1,r>ei.length&&(r=ei.length);for(var h=i(),n=0;n<r;++n){h.fromInt(ei[n]);var f=h.modPow(e,this);if(0!=f.compareTo(t.ONE)&&0!=f.compareTo(o)){for(var u=1;u++<s&&0!=f.compareTo(o);)if(f=f.modPowInt(2,this),0==f.compareTo(t.ONE))return!1;if(0!=f.compareTo(o))return!1}}return!0}var Xt,Yt=0xdeadbeefcafe,$t=15715070==(16777215&Yt);t.prototype.am=s,Xt=28,t.prototype.DB=Xt,t.prototype.DM=(1<<Xt)-1,t.prototype.DV=1<<Xt;var ti=52;t.prototype.FV=Math.pow(2,ti),t.prototype.F1=ti-Xt,t.prototype.F2=2*Xt-ti;var ii="0123456789abcdefghijklmnopqrstuvwxyz",ri=new Array,oi,si;for(oi="0".charCodeAt(0),si=0;si<=9;++si)ri[oi++]=si;for(oi="a".charCodeAt(0),si=10;si<36;++si)ri[oi++]=si;for(oi="A".charCodeAt(0),si=10;si<36;++si)ri[oi++]=si;A.prototype.convert=R,A.prototype.revert=O,A.prototype.reduce=C,A.prototype.mulTo=F,A.prototype.sqrTo=V,N.prototype.convert=P,N.prototype.revert=q,N.prototype.reduce=L,N.prototype.mulTo=I,N.prototype.sqrTo=x,t.prototype.copyTo=n,t.prototype.fromInt=f,t.prototype.fromString=a,t.prototype.clamp=p,t.prototype.dlShiftTo=d,t.prototype.drShiftTo=D,t.prototype.lShiftTo=g,t.prototype.rShiftTo=B,t.prototype.subTo=b,t.prototype.multiplyTo=S,t.prototype.squareTo=E,t.prototype.divRemTo=w,t.prototype.invDigit=k,t.prototype.isEven=Z,t.prototype.exp=z,t.prototype.toString=c,t.prototype.negate=m,t.prototype.abs=l,t.prototype.compareTo=v,t.prototype.bitLength=y,t.prototype.mod=M,t.prototype.modPowInt=U,t.ZERO=u(0),t.ONE=u(1),Vt.prototype.convert=kt,Vt.prototype.revert=kt,Vt.prototype.mulTo=Nt,Vt.prototype.sqrTo=Pt,It.prototype.convert=Zt,It.prototype.revert=zt,It.prototype.reduce=Ut,It.prototype.mulTo=Ht,It.prototype.sqrTo=jt;var ei=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],hi=(1<<26)/ei[ei.length-1];return t.prototype.chunkSize=J,t.prototype.toRadix=Q,t.prototype.fromRadix=W,t.prototype.fromNumber=X,t.prototype.bitwiseTo=rt,t.prototype.changeBit=Dt,t.prototype.addTo=St,t.prototype.dMultiply=Ct,t.prototype.dAddOffset=Ft,t.prototype.multiplyLowerTo=Lt,t.prototype.multiplyUpperTo=xt,t.prototype.modInt=Jt,t.prototype.millerRabin=Wt,t.prototype.clone=j,t.prototype.intValue=H,t.prototype.byteValue=_,t.prototype.shortValue=G,t.prototype.signum=K,t.prototype.toByteArray=Y,t.prototype.equals=$,t.prototype.min=tt,t.prototype.max=it,t.prototype.and=st,t.prototype.or=ht,t.prototype.xor=ft,t.prototype.andNot=at,t.prototype.not=pt,t.prototype.shiftLeft=ct,t.prototype.shiftRight=mt,t.prototype.getLowestSetBit=vt,t.prototype.bitCount=yt,t.prototype.testBit=dt,t.prototype.setBit=gt,t.prototype.clearBit=Bt,t.prototype.flipBit=bt,t.prototype.add=Et,t.prototype.subtract=wt,t.prototype.multiply=Mt,t.prototype.divide=At,t.prototype.remainder=Rt,t.prototype.divideAndRemainder=Ot,t.prototype.modPow=_t,t.prototype.modInverse=Kt,t.prototype.pow=qt,t.prototype.gcd=Gt,t.prototype.isProbablePrime=Qt,t}()}).call(this),function(){u={},u.generateVerifier=function(t,r){var s=i(r),e=r&&r.salt||o.secret(),h,n=r&&r.hashedIdentityAndPassword;n||(h=r&&r.identity||o.secret(),n=s.hash(h+":"+t));var u=s.hash(e+n),a=new f(u,16),p=s.g.modPow(a,s.N);return{identity:h,salt:e,verifier:p.toString(16)}},u.matchVerifier={identity:String,salt:String,verifier:String};var t={hash:function(t){return h(t).toLowerCase()},N:new f("EEAF0AB9ADB38DD69C33F80AFA8FC5E86072618775FF3C0B9EA2314C9C256576D674DF7496EA81D3383B4813D692C6E0E0D5D8E250B98BE48E495C1D6089DAD15DC7D7B46154D6B6CE8EF4AD69B15D4982559B297BCF1885C529F566660E57EC68EDBC3C05726CC02FD4CBF4976EAA9AFD5138FE8376435B9FC61D2FC0EB06E3",16),g:new f("2")};t.k=new f(t.hash(t.N.toString(16)+t.g.toString(16)),16);var i=function(i){if(!i)return t;var r=n.extend({},t);return n.each(["N","g","k"],function(t){if(i[t])if("string"==typeof i[t])r[t]=new f(i[t],16);else{if(!(i[t]instanceof f))throw new Error("Invalid parameter: "+t);r[t]=i[t]}}),i.hash&&(r.hash=function(t){return i.hash(t).toLowerCase()}),!i.k&&(i.N||i.g||i.hash)&&(r.k=r.hash(r.N.toString(16)+r.g.toString(16))),r}}.call(this),"undefined"==typeof Package&&(Package={}),function(t,i){for(var r in i)r in t||(t[r]=i[r])}(Package.srp={},{SRP:u})}();

!function(){var e=Package.meteor.Meteor,r=Package.meteor.global,a=Package.meteor.meteorEnv,o=Package["accounts-base"].Accounts,s=Package.srp.SRP,t=Package.sha.SHA256,n=Package.ejson.EJSON,c=Package["ddp-client"].DDP,d=Package.check.check,i=Package.check.Match,u=Package.underscore._,l=Package.modules.meteorInstall,m=Package.modules.Buffer,g=Package.modules.process,w=Package["ecmascript-runtime"].Symbol,P=Package["ecmascript-runtime"].Map,p=Package["ecmascript-runtime"].Set,h=Package["babel-runtime"].meteorBabelHelpers,f=Package.promise.Promise,k=l({node_modules:{meteor:{"accounts-password":{"password_client.js":function(){function r(e,r){if(!r)throw e;r(e)}e.loginWithPassword=function(e,s,t){"string"==typeof e&&(e=e.indexOf("@")===-1?{username:e}:{email:e}),o.callLoginMethod({methodArguments:[{user:e,password:o._hashPassword(s)}],userCallback:function(){function o(o,n){o&&400===o.error&&"old password format"===o.reason?a({upgradeError:o,userSelector:e,plaintextPassword:s},t):o?r(o,t):t&&t()}return o}()})},o._hashPassword=function(e){return{digest:t(e),algorithm:"sha-256"}};var a=function a(s,c){var d;try{d=n.parse(s.upgradeError.details)}catch(e){}d&&"srp"===d.format?o.callLoginMethod({methodArguments:[{user:s.userSelector,srp:t(d.identity+":"+s.plaintextPassword),password:o._hashPassword(s.plaintextPassword)}],userCallback:c}):r(new e.Error(400,"Password is old. Please reset your password."),c)};o.createUser=function(a,s){if(a=u.clone(a),"string"!=typeof a.password)throw new Error("options.password must be a string");return a.password?(a.password=o._hashPassword(a.password),void o.callLoginMethod({methodName:"createUser",methodArguments:[a],userCallback:s})):r(new e.Error(400,"Password may not be empty"),s)},o.changePassword=function(s,t,n){return e.user()?(d(t,String),t?void o.connection.apply("changePassword",[s?o._hashPassword(s):null,o._hashPassword(t)],function(c,d){c||!d?c&&400===c.error&&"old password format"===c.reason?a({upgradeError:c,userSelector:{id:e.userId()},plaintextPassword:s},function(e){e?r(e,n):o.changePassword(s,t,n)}):r(c||new Error("No result from changePassword."),n):n&&n()}):r(new e.Error(400,"Password may not be empty"),n)):r(new Error("Must be logged in to change password."),n)},o.forgotPassword=function(a,s){return a.email?void(s?o.connection.call("forgotPassword",a,s):o.connection.call("forgotPassword",a)):r(new e.Error(400,"Must pass options.email"),s)},o.resetPassword=function(a,s,t){return d(a,String),d(s,String),s?void o.callLoginMethod({methodName:"resetPassword",methodArguments:[a,o._hashPassword(s)],userCallback:t}):r(new e.Error(400,"Password may not be empty"),t)},o.verifyEmail=function(a,s){return a?void o.callLoginMethod({methodName:"verifyEmail",methodArguments:[a],userCallback:s}):r(new e.Error(400,"Need to pass token"),s)}}}}}},{extensions:[".js",".json"]});k("./node_modules/meteor/accounts-password/password_client.js"),"undefined"==typeof Package&&(Package={}),Package["accounts-password"]={}}();

!function(){"undefined"==typeof Package&&(Package={}),Package["jakobloekke:rabbitmq"]={}}();

!function(){var e=Package.meteor.Meteor,a=Package.meteor.global,c=Package.meteor.meteorEnv;(function(){}).call(this),"undefined"==typeof Package&&(Package={}),Package["meteorhacks:npm"]={}}();

!function(){"undefined"==typeof Package&&(Package={}),Package["fortawesome:fontawesome"]={}}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,o=Package.mongo.Mongo,r=Package.tracker.Tracker,i=Package.tracker.Deps,c=Package.underscore._,a=Package.ejson.EJSON,s=Package.minimongo.LocalCollection,u=Package.minimongo.Minimongo,l;(function(){var t={},n=Package.tracker&&Package.tracker.Tracker||Package.deps.Deps,r=e.isServer&&new e.EnvironmentVariable;if(l={defaults:{before:{insert:{},update:{},remove:{},upsert:{},find:{},findOne:{},all:{}},after:{insert:{},update:{},remove:{},find:{},findOne:{},all:{}},all:{insert:{},update:{},remove:{},find:{},findOne:{},all:{}}},directEnv:new e.EnvironmentVariable,directOp:function e(t){return this.directEnv.withValue(!0,t)},hookedOp:function e(t){return this.directEnv.withValue(!1,t)}},l.getUserId=function t(){var o;if(e.isClient&&n.nonreactive(function(){o=e.userId&&e.userId()}),e.isServer){try{o=e.userId&&e.userId()}catch(e){}o||(o=r.get())}return o},l.extendCollectionInstance=function n(o,r){c.each(["before","after"],function(n){c.each(t,function(t,r){"upsert"===t&&"after"===n||(e._ensure(o,n,r),e._ensure(o,"_hookAspects",r),o._hookAspects[r][n]=[],o[n][r]=function(e,t){var i=o._hookAspects[r][n].push({aspect:e,options:l.initOptions(t,n,r)});return{replace:function(e,t){o._hookAspects[r][n].splice(i-1,1,{aspect:e,options:l.initOptions(t,n,r)})},remove:function(){o._hookAspects[r][n].splice(i-1,1)}}})})}),o.hookOptions=a.clone(l.defaults),c.each(t,function(t,n){var i=e.isClient||"upsert"===n?o:o._collection,a=i[n];e._ensure(o,"direct",n),o.direct[n]=function(){var e=arguments;return l.directOp(function(){return r.prototype[n].apply(o,e)})},i[n]=function(){return l.directEnv.get()===!0?a.apply(i,arguments):t.call(this,l.getUserId(),a,o,"upsert"===n?{insert:o._hookAspects.insert||{},update:o._hookAspects.update||{},upsert:o._hookAspects.upsert||{}}:o._hookAspects[n]||{},function(e){return c.isFunction(o._transform)?function(t){return o._transform(t||e)}:function(t){return t||e}},c.toArray(arguments),!1)}})},l.defineAdvice=function e(n,o){t[n]=o},l.getAdvice=function e(n){return t[n]},l.initOptions=function e(t,n,o){return l.extendOptions(l.defaults,t,n,o)},l.extendOptions=function e(t,n,o,r){return n=c.extend(n||{},t.all.all),n=c.extend(n,t[o].all),n=c.extend(n,t.all[r]),n=c.extend(n,t[o][r])},l.getDocs=function e(t,n,o){var r={transform:null,reactive:!1};return o&&(o.multi||(r.limit=1)),t.find(n,r)},l.getFields=function e(t){var n=[];return c.each(t,function(e,t){c.contains(["$set","$unset","$inc","$push","$pull","$pop","$rename","$pullAll","$addToSet","$bit"],t)?c.each(c.keys(e),function(e){e.indexOf(".")!==-1&&(e=e.substring(0,e.indexOf("."))),c.contains(n,e)||n.push(e)}):n.push(t)}),n},l.reassignPrototype=function t(n,r){var i="function"==typeof Object.setPrototypeOf;r||(r="undefined"!=typeof o?o.Collection:e.Collection),i?Object.setPrototypeOf(n,r.prototype):n.__proto__&&(n.__proto__=r.prototype)},l.wrapCollection=function e(t,n){n._CollectionConstructor||(n._CollectionConstructor=n.Collection),n._CollectionPrototype||(n._CollectionPrototype=new n.Collection(null));var o=n._CollectionConstructor,r=n._CollectionPrototype;t.Collection=function(){var e=o.apply(this,arguments);return l.extendCollectionInstance(this,o),e},t.Collection.prototype=r,t.Collection.prototype.constructor=t.Collection;for(var i in o)o.hasOwnProperty(i)&&(t.Collection[i]=o[i])},l.modify=s._modify,"undefined"!=typeof o?(l.wrapCollection(e,o),l.wrapCollection(o,o)):l.wrapCollection(e,e),e.isServer){var i=e.publish;e.publish=function(e,t){return i.call(this,e,function(){var e=this,n=arguments;return r.withValue(e&&e.userId,function(){return t.apply(e,n)})})},l.isWithinPublish=function e(){return void 0!==r.get()}}}).call(this),function(){l.defineAdvice("insert",function(e,t,n,r,i,s,u){function l(t,n){var l=s[0];if(t&&(c.isObject(t)&&t.ops&&(t=l._id._str?new o.ObjectID(l._id._str.toString()):t.ops&&t.ops[0]&&t.ops[0]._id),l=a.clone(s[0]),l._id=t),!u){var f=c.extend({transform:i(l),_id:t,err:n},p);c.each(r.after,function(t){t.aspect.call(f,e,l)})}return t}var f=this,p={context:f,_super:t,args:s},d=c.last(s),h=c.isFunction(d),v,_;if(!u)try{if(c.each(r.before,function(t){var n=t.aspect.call(c.extend({transform:i(s[0])},p),e,s[0]);n===!1&&(v=!0)}),v)return!1}catch(e){if(h)return d.call(f,e);throw e}return h?(s[s.length-1]=function(e,t){return l(t&&t[0]&&t[0]._id||t,e),d.apply(this,arguments)},t.apply(f,s)):(_=t.apply(f,s),l(_&&_[0]&&_[0]._id||_))})}.call(this),function(){l.defineAdvice("update",function(e,t,n,o,r,i,s){function u(t,n){if(!s){var a=l.getFields(i[1]),u=l.getDocs.call(f,k,{_id:{$in:_}},i[2]).fetch();c.each(o.after,function(o){c.each(u,function(i){o.aspect.call(c.extend({transform:r(i),previous:y.docs&&y.docs[i._id],affected:t,err:n},p),e,i,a,y.mutator,y.options)})})}}var f=this,p={context:f,_super:t,args:i},d=c.last(i),h=c.isFunction(d),v,_,g,m,y={},k=c.has(f,"_collection")?f._collection:f;if(c.isFunction(i[2])&&(d=i[2],i[2]={}),!s)try{if((o.before||o.after)&&(g=l.getFields(i[1]),v=l.getDocs.call(f,k,i[0],i[2]).fetch(),_=c.map(v,function(e){return e._id})),o.after&&(y.mutator=a.clone(i[1]),y.options=a.clone(i[2]),c.some(o.after,function(e){return e.options.fetchPrevious!==!1})&&l.extendOptions(n.hookOptions,{},"after","update").fetchPrevious!==!1&&(y.docs={},c.each(v,function(e){y.docs[e._id]=a.clone(e)}))),c.each(o.before,function(t){c.each(v,function(n){var o=t.aspect.call(c.extend({transform:r(n)},p),e,n,g,i[1],i[2]);o===!1&&(m=!0)})}),m)return!1}catch(e){if(h)return d.call(f,e);throw e}if(h)return i[i.length-1]=function(e,t){return u(t,e),d.apply(this,arguments)},t.apply(this,i);var C=t.apply(f,i);return u(C),C})}.call(this),function(){l.defineAdvice("remove",function(e,t,n,o,r,i,s){function u(t){s||c.each(o.after,function(n){c.each(g,function(o){n.aspect.call(c.extend({transform:r(o),err:t},p),e,o)})})}var f=this,p={context:f,_super:t,args:i},d=c.last(i),h=c.isFunction(d),v,_,g=[],m=c.has(f,"_collection")?f._collection:f;if(!s)try{if((o.before||o.after)&&(v=l.getDocs.call(f,m,i[0]).fetch()),o.after&&c.each(v,function(e){g.push(a.clone(e))}),c.each(o.before,function(t){c.each(v,function(n){var o=t.aspect.call(c.extend({transform:r(n)},p),e,n);o===!1&&(_=!0)})}),_)return!1}catch(e){if(h)return d.call(f,e);throw e}if(h)return i[i.length-1]=function(e){return u(e),d.apply(this,arguments)},t.apply(f,i);var y=t.apply(f,i);return u(),y})}.call(this),function(){l.defineAdvice("upsert",function(e,t,n,o,r,i,s){function u(t,n){if(!s){var a=l.getFields(i[1]),u=l.getDocs.call(p,k,{_id:{$in:g}},i[2]).fetch();c.each(o.update.after,function(o){c.each(u,function(i){o.aspect.call(c.extend({transform:r(i),previous:y.docs&&y.docs[i._id],affected:t,err:n},d),e,i,a,y.mutator,y.options)})})}}function f(t,n){if(!s){var a=l.getDocs.call(p,k,{_id:t},i[0],{}).fetch()[0],u=c.extend({transform:r(a),_id:t,err:n},d);c.each(o.insert.after,function(t){t.aspect.call(u,e,a)})}}var p=this,d={context:p,_super:t,args:i},h=c.last(i),v=c.isFunction(h),_,g,m,y={},k=c.has(p,"_collection")?p._collection:p;if(c.isFunction(i[2])&&(h=i[2],i[2]={}),!s&&(o.upsert.before&&(_=l.getDocs.call(p,k,i[0],i[2]).fetch(),g=c.map(_,function(e){return e._id})),o.update.after&&c.some(o.update.after,function(e){return e.options.fetchPrevious!==!1})&&l.extendOptions(n.hookOptions,{},"after","update").fetchPrevious!==!1&&(y.mutator=a.clone(i[1]),y.options=a.clone(i[2]),y.docs={},c.each(_,function(e){y.docs[e._id]=a.clone(e)})),!s&&(c.each(o.upsert.before,function(t){var n=t.aspect.call(d,e,i[0],i[1],i[2]);n===!1&&(m=!0)}),m)))return!1;if(v)return i[i.length-1]=function(e,t){return e||t.insertedId?f(t&&t.insertedId,e):u(t&&t.numberAffected,e),l.hookedOp(function(){return h.call(this,e,t)})},l.directOp(function(){return t.apply(p,i)});var C=l.directOp(function(){return t.apply(p,i)});return C&&C.insertedId?f(C&&C.insertedId):u(C&&C.numberAffected),C})}.call(this),function(){l.defineAdvice("find",function(e,t,n,o,r,i,a){function s(t){a||c.each(o.after,function(n){n.aspect.call(l,e,i[0],i[1],t)})}var u=this,l={context:u,_super:t,args:i},f,p;return!(!a&&(c.each(o.before,function(t){var n=t.aspect.call(l,e,i[0],i[1]);n===!1&&(p=!0)}),p))&&(f=t.apply(u,i),s(f),f)})}.call(this),function(){l.defineAdvice("findOne",function(e,t,n,o,r,i,a){function s(t){a||c.each(o.after,function(n){n.aspect.call(l,e,i[0],i[1],t)})}var u=this,l={context:u,_super:t,args:i},f,p;return!(!a&&(c.each(o.before,function(t){var n=t.aspect.call(l,e,i[0],i[1]);n===!1&&(p=!0)}),p))&&(f=t.apply(u,i),s(f),f)})}.call(this),function(){if(e.users){l.reassignPrototype(e.users);var t="undefined"!=typeof o&&"undefined"!=typeof o.Collection?o.Collection:e.Collection;l.extendCollectionInstance(e.users,t)}}.call(this),"undefined"==typeof Package&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package["matb33:collection-hooks"]={},{CollectionHooks:l})}();

!function(){var e=Package.meteor.Meteor,n=Package.meteor.global,a=Package.meteor.meteorEnv,r=Package.underscore._,c,t;(function(){c={};var e=function(e){return encodeURIComponent(e).replace(/[!'()]/g,escape).replace(/\*/g,"%2A")};c._encodeParams=function(n){var a=[];return r.each(n,function(n,r){a.length&&a.push("&"),a.push(e(r),"=",e(n))}),a.join("").replace(/%20/g,"+")},t=function(e,n,a,r){var t=e,o=n?n.slice(1):null;if("string"==typeof a&&(o=String(a)),r){o=o||"";var u=c._encodeParams(r);o&&u&&(o+="&"),o+=u}var i=t;return null!==o&&(i+="?"+o),i}}).call(this),function(){c._constructUrl=function(e,n,a){var r=/^(.*?)(\?.*)?$/.exec(e);return t(r[1],r[2],n,a)}}.call(this),"undefined"==typeof Package&&(Package={}),function(e,n){for(var a in n)a in e||(e[a]=n[a])}(Package.url={},{URL:c})}();

!function(){var t=Package.meteor.Meteor,e=Package.meteor.global,n=Package.meteor.meteorEnv,a=Package.underscore._,r=Package.url.URL,o,c,i;(function(){(function(){o=function(t,e){var n=500,a=function(t,e){return t.length>e?t.slice(0,e)+"...":t},r="failed ["+t+"]";return e&&(r+=" "+a(e.replace(/\n/g," "),n)),new Error(r)},c=function(t){var e=(t.headers["content-type"]||";").split(";")[0];if(a.include(["application/json","text/javascript"],e))try{t.data=JSON.parse(t.content)}catch(e){t.data=null}else t.data=null},i={},i.get=function(){return i.call.apply(this,["GET"].concat(a.toArray(arguments)))},i.post=function(){return i.call.apply(this,["POST"].concat(a.toArray(arguments)))},i.put=function(){return i.call.apply(this,["PUT"].concat(a.toArray(arguments)))},i.del=function(){return i.call.apply(this,["DELETE"].concat(a.toArray(arguments)))}}).call(this),function(){i.call=function(e,n,i,s){if(s||"function"!=typeof i||(s=i,i=null),i=i||{},"function"!=typeof s)throw new Error("Can't make a blocking HTTP call from the client; callback required.");e=(e||"").toUpperCase();var u={},l=i.content;i.data&&(l=JSON.stringify(i.data),u["Content-Type"]="application/json");var f,p;if(l||"GET"===e||"HEAD"===e?f=i.params:p=i.params,n=r._constructUrl(n,i.query,f),i.followRedirects===!1)throw new Error("Option followRedirects:false not supported on client.");var d,h;if(i.auth){var y=i.auth.indexOf(":");if(y<0)throw new Error('auth option should be of the form "username:password"');d=i.auth.substring(0,y),h=i.auth.substring(y+1)}p&&(l=r._encodeParams(p)),a.extend(u,i.headers||{}),s=function(t){return function(e,n){e&&n&&(e.response=n),t(e,n)}}(s),s=a.once(s);try{var g;if("undefined"!=typeof XMLHttpRequest)g=new XMLHttpRequest;else{if("undefined"==typeof ActiveXObject)throw new Error("Can't create XMLHttpRequest");g=new ActiveXObject("Microsoft.XMLHttp")}g.open(e,n,!0,d,h);for(var v in u)g.setRequestHeader(v,u[v]);var w=!1,m;i.timeout&&(m=t.setTimeout(function(){w=!0,g.abort()},i.timeout)),g.onreadystatechange=function(e){if(4===g.readyState)if(m&&t.clearTimeout(m),w)s(new Error("timeout"));else if(g.status){var n={};n.statusCode=g.status,n.content=g.responseText,n.headers={};var r=g.getAllResponseHeaders();""===r&&g.getResponseHeader("content-type")&&(r="content-type: "+g.getResponseHeader("content-type"));var i=r.split(/\r?\n/);a.each(i,function(t){var e=/^(.*?):(?:\s+)(.*)$/.exec(t);e&&3===e.length&&(n.headers[e[1].toLowerCase()]=e[2])}),c(n);var u=null;n.statusCode>=400&&(u=o(n.statusCode,n.content)),s(u,n)}else s(new Error("network"))},g.send(l)}catch(t){s(t)}}}.call(this),function(){t.http=i}.call(this)}).call(this),"undefined"==typeof Package&&(Package={}),function(t,e){for(var n in e)n in t||(t[n]=e[n])}(Package["dandv:http-more"]={},{HTTP:i})}();

!function(){var e=Package.meteor.Meteor,r=Package.meteor.global,a=Package.meteor.meteorEnv,t=Package["templating-runtime"].Template,s=Package.underscore._,n=Package.blaze.Blaze,c=Package.blaze.UI,i=Package.blaze.Handlebars,o=Package.spacebars.Spacebars,l=Package.htmljs.HTML;(function(){t.registerHelper("Session",function(e,r){var a,t;switch(s.isUndefined(r)&&(t="get"),s.isString(r)&&(t="get"),s.isObject(r)&&(t="get",s.has(r.hash,"set")&&(t=s.has(r.hash,"action")?r.hash.action:"set",a=r.hash.set||void 0)),t){case"setDefault":return void Session.setDefault(e,a);case"set":return void Session.set(e,a);case"get":default:return Session.get(e)}}),t.registerHelper("log",function(e,r){console.log("arguments: ",arguments,"this: ",this);try{return JSON.stringify(e,null,2)+" | "+JSON.stringify(r,null,2)}catch(a){return e+" | "+r}});var e=function(r){var a=[],t;if(r.length>3){for(var n=!0,c=r[0],i=0;i<r.length-1;)t=r[++i],~["or","||","!|","|!","!|!","nor","xor","nxor","!||"].indexOf(t)&&(n=!1),~["and","&&","!&","&!","!&!","nand","!&&"].indexOf(t)&&(a=[!!~a.indexOf(!0)],r.length>i+2&&(c=r[++i],t=r[++i])),a.push(!!e([c,t,r[++i]])),c=r[i];return n?!~a.indexOf(!1)&&!~a.indexOf(void 0)&&!~a.indexOf(null):!!~a.indexOf(!0)}var o=r[0],l=r[2];if(t=r[1],s.isObject(o)&&s.isObject(l)&&(o=JSON.stringify(o),l=JSON.stringify(l)),s.isString(l)&&l.indexOf("|")!==-1){for(var u=l.split("|"),g=u.length-1;g>=0;g--)a.push(e([o,t,u[g]]));return!!~a.indexOf(!0)}switch(t){case">":case"gt":case"greaterThan":return o>l;case">=":case"gte":case"greaterThanEqual":return o>=l;case"<":case"lt":case"lessThan":return o<l;case"<=":case"lte":case"lessThanEqual":return o<=l;case"===":case"is":return o===l;case"!==":case"isnt":return o!==l;case"isEqual":case"==":return o==l;case"isNotEqual":case"!=":return o!=l;case"&&":case"and":return o&&l;case"&!":return o&&!l;case"!&":return!o&&l;case"!&!":return!o&&!l;case"||":case"or":return o||l;case"!|":return!o||l;case"|!":return o||!l;case"!|!":return!o||!l;case"!||":case"nor":return!(o||l);case"!&&":case"nand":return!(o&&l);case"xor":return o&&!l||!o&&l;case"nxor":return!(o&&!l||!o&&l);default:return console.error('[ostrio:templatehelpers] [comparison operator: "'+t+'" is not supported!]'),!1}};t.registerHelper("compare",function(){var r=Array.prototype.slice.call(arguments);return r.pop(),e.call(null,r)}),t.registerHelper("_",function(){var e,r,a;if(e=Array.prototype.slice.call(arguments),e.length)return a=this,r=e[0],e.shift(),e.pop(),s[r].apply(a,e)})}).call(this),"undefined"==typeof Package&&(Package={}),Package["ostrio:templatehelpers"]={}}();

!function(){"undefined"==typeof Package&&(Package={}),Package.email={}}();

!function(){var a;"undefined"==typeof Package&&(Package={}),function(a,e){for(var n in e)n in a||(a[n]=e[n])}(Package["mquandalle:jade-compiler"]={},{JadeCompiler:a})}();

!function(){"undefined"==typeof Package&&(Package={}),Package["meteorhacks:ssr"]={}}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r,a;(function(){(function(){r=function(){var e={version:"1.1.6"};return Array.prototype.indexOf||(Array.prototype.indexOf=function(e){"use strict";if(null==this)throw new TypeError;var t=Object(this),n=t.length>>>0;if(0===n)return-1;var r=0;if(arguments.length>1&&(r=Number(arguments[1]),r!=r?r=0:0!=r&&r!=1/0&&r!=-(1/0)&&(r=(r>0||-1)*Math.floor(Math.abs(r)))),r>=n)return-1;for(var a=r>=0?r:Math.max(n-Math.abs(r),0);a<n;a++)if(a in t&&t[a]===e)return a;return-1}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),e.array={},e.array.sort=function(e,t){e.sort(function(e,t){return+e-+t}),t&&0===e[0]&&e.push(e.shift())},e.array.next=function(e,t,n){for(var r,a=0!==n[0],i=0,u=t.length-1;u>-1;--u){if(r=t[u],r===e)return r;if(!(r>e||0===r&&a&&n[1]>e))break;i=u}return t[i]},e.array.nextInvalid=function(e,t,n){for(var r=n[0],a=n[1],i=t.length,u=0===t[i-1]&&0!==r?a:0,o=e,f=t.indexOf(e),d=o;o===(t[f]||u);)if(o++,o>a&&(o=r),f++,f===i&&(f=0),o===d)return;return o},e.array.prev=function(e,t,n){for(var r,a=t.length,i=0!==n[0],u=a-1,o=0;o<a;o++){if(r=t[o],r===e)return r;if(!(r<e||0===r&&i&&n[1]<e))break;u=o}return t[u]},e.array.prevInvalid=function(e,t,n){for(var r=n[0],a=n[1],i=t.length,u=0===t[i-1]&&0!==r?a:0,o=e,f=t.indexOf(e),d=o;o===(t[f]||u);)if(o--,o<r&&(o=a),f--,f===-1&&(f=i-1),o===d)return;return o},e.day=e.D={name:"day",range:86400,val:function(t){return t.D||(t.D=e.date.getDate.call(t))},isValid:function(t,n){return e.D.val(t)===(n||e.D.extent(t)[1])},extent:function(t){if(t.DExtent)return t.DExtent;var n=e.M.val(t),r=e.DAYS_IN_MONTH[n-1];return 2===n&&366===e.dy.extent(t)[1]&&(r+=1),t.DExtent=[1,r]},start:function(t){return t.DStart||(t.DStart=e.date.next(e.Y.val(t),e.M.val(t),e.D.val(t)))},end:function(t){return t.DEnd||(t.DEnd=e.date.prev(e.Y.val(t),e.M.val(t),e.D.val(t)))},next:function(t,n){n=n>e.D.extent(t)[1]?1:n;var r=e.date.nextRollover(t,n,e.D,e.M),a=e.D.extent(r)[1];return n=n>a?1:n||a,e.date.next(e.Y.val(r),e.M.val(r),n)},prev:function(t,n){var r=e.date.prevRollover(t,n,e.D,e.M),a=e.D.extent(r)[1];return e.date.prev(e.Y.val(r),e.M.val(r),n>a?a:n||a)}},e.dayOfWeekCount=e.dc={name:"day of week count",range:604800,val:function(t){return t.dc||(t.dc=Math.floor((e.D.val(t)-1)/7)+1)},isValid:function(t,n){return e.dc.val(t)===n||0===n&&e.D.val(t)>e.D.extent(t)[1]-7},extent:function(t){return t.dcExtent||(t.dcExtent=[1,Math.ceil(e.D.extent(t)[1]/7)])},start:function(t){return t.dcStart||(t.dcStart=e.date.next(e.Y.val(t),e.M.val(t),Math.max(1,7*(e.dc.val(t)-1)+1||1)))},end:function(t){return t.dcEnd||(t.dcEnd=e.date.prev(e.Y.val(t),e.M.val(t),Math.min(7*e.dc.val(t),e.D.extent(t)[1])))},next:function(t,n){n=n>e.dc.extent(t)[1]?1:n;var r=e.date.nextRollover(t,n,e.dc,e.M),a=e.dc.extent(r)[1];n=n>a?1:n;var i=e.date.next(e.Y.val(r),e.M.val(r),0===n?e.D.extent(r)[1]-6:1+7*(n-1));return i.getTime()<=t.getTime()?(r=e.M.next(t,e.M.val(t)+1),e.date.next(e.Y.val(r),e.M.val(r),0===n?e.D.extent(r)[1]-6:1+7*(n-1))):i},prev:function(t,n){var r=e.date.prevRollover(t,n,e.dc,e.M),a=e.dc.extent(r)[1];return n=n>a?a:n||a,e.dc.end(e.date.prev(e.Y.val(r),e.M.val(r),1+7*(n-1)))}},e.dayOfWeek=e.dw=e.d={name:"day of week",range:86400,val:function(t){return t.dw||(t.dw=e.date.getDay.call(t)+1)},isValid:function(t,n){return e.dw.val(t)===(n||7)},extent:function(){return[1,7]},start:function(t){return e.D.start(t)},end:function(t){return e.D.end(t)},next:function(t,n){return n=n>7?1:n||7,e.date.next(e.Y.val(t),e.M.val(t),e.D.val(t)+(n-e.dw.val(t))+(n<=e.dw.val(t)?7:0))},prev:function(t,n){return n=n>7?7:n||7,e.date.prev(e.Y.val(t),e.M.val(t),e.D.val(t)+(n-e.dw.val(t))+(n>=e.dw.val(t)?-7:0))}},e.dayOfYear=e.dy={name:"day of year",range:86400,val:function(t){return t.dy||(t.dy=Math.ceil(1+(e.D.start(t).getTime()-e.Y.start(t).getTime())/e.DAY))},isValid:function(t,n){return e.dy.val(t)===(n||e.dy.extent(t)[1])},extent:function(t){var n=e.Y.val(t);return t.dyExtent||(t.dyExtent=[1,n%4?365:366])},start:function(t){return e.D.start(t)},end:function(t){return e.D.end(t)},next:function(t,n){n=n>e.dy.extent(t)[1]?1:n;var r=e.date.nextRollover(t,n,e.dy,e.Y),a=e.dy.extent(r)[1];return n=n>a?1:n||a,e.date.next(e.Y.val(r),e.M.val(r),n)},prev:function(t,n){var r=e.date.prevRollover(t,n,e.dy,e.Y),a=e.dy.extent(r)[1];return n=n>a?a:n||a,e.date.prev(e.Y.val(r),e.M.val(r),n)}},e.hour=e.h={name:"hour",range:3600,val:function(t){return t.h||(t.h=e.date.getHour.call(t))},isValid:function(t,n){return e.h.val(t)===n},extent:function(){return[0,23]},start:function(t){return t.hStart||(t.hStart=e.date.next(e.Y.val(t),e.M.val(t),e.D.val(t),e.h.val(t)))},end:function(t){return t.hEnd||(t.hEnd=e.date.prev(e.Y.val(t),e.M.val(t),e.D.val(t),e.h.val(t)))},next:function(t,n){n=n>23?0:n;var r=e.date.next(e.Y.val(t),e.M.val(t),e.D.val(t)+(n<=e.h.val(t)?1:0),n);return!e.date.isUTC&&r.getTime()<=t.getTime()&&(r=e.date.next(e.Y.val(r),e.M.val(r),e.D.val(r),n+1)),r},prev:function(t,n){return n=n>23?23:n,e.date.prev(e.Y.val(t),e.M.val(t),e.D.val(t)+(n>=e.h.val(t)?-1:0),n)}},e.minute=e.m={name:"minute",range:60,val:function(t){return t.m||(t.m=e.date.getMin.call(t))},isValid:function(t,n){return e.m.val(t)===n},extent:function(e){return[0,59]},start:function(t){return t.mStart||(t.mStart=e.date.next(e.Y.val(t),e.M.val(t),e.D.val(t),e.h.val(t),e.m.val(t)))},end:function(t){return t.mEnd||(t.mEnd=e.date.prev(e.Y.val(t),e.M.val(t),e.D.val(t),e.h.val(t),e.m.val(t)))},next:function(t,n){var r=e.m.val(t),a=e.s.val(t),i=n>59?60-r:n<=r?60-r+n:n-r,u=new Date(t.getTime()+i*e.MIN-a*e.SEC);return!e.date.isUTC&&u.getTime()<=t.getTime()&&(u=new Date(t.getTime()+(i+120)*e.MIN-a*e.SEC)),u},prev:function(t,n){return n=n>59?59:n,e.date.prev(e.Y.val(t),e.M.val(t),e.D.val(t),e.h.val(t)+(n>=e.m.val(t)?-1:0),n)}},e.month=e.M={name:"month",range:2629740,val:function(t){return t.M||(t.M=e.date.getMonth.call(t)+1)},isValid:function(t,n){return e.M.val(t)===(n||12)},extent:function(){return[1,12]},start:function(t){return t.MStart||(t.MStart=e.date.next(e.Y.val(t),e.M.val(t)))},end:function(t){return t.MEnd||(t.MEnd=e.date.prev(e.Y.val(t),e.M.val(t)))},next:function(t,n){return n=n>12?1:n||12,e.date.next(e.Y.val(t)+(n>e.M.val(t)?0:1),n)},prev:function(t,n){return n=n>12?12:n||12,e.date.prev(e.Y.val(t)-(n>=e.M.val(t)?1:0),n)}},e.second=e.s={name:"second",range:1,val:function(t){return t.s||(t.s=e.date.getSec.call(t))},isValid:function(t,n){return e.s.val(t)===n},extent:function(){return[0,59]},start:function(e){return e},end:function(e){return e},next:function(t,n){var r=e.s.val(t),a=n>59?60-r:n<=r?60-r+n:n-r,i=new Date(t.getTime()+a*e.SEC);return!e.date.isUTC&&i.getTime()<=t.getTime()&&(i=new Date(t.getTime()+(a+7200)*e.SEC)),i},prev:function(t,n,r){return n=n>59?59:n,e.date.prev(e.Y.val(t),e.M.val(t),e.D.val(t),e.h.val(t),e.m.val(t)+(n>=e.s.val(t)?-1:0),n)}},e.time=e.t={name:"time",range:1,val:function(t){return t.t||(t.t=3600*e.h.val(t)+60*e.m.val(t)+e.s.val(t))},isValid:function(t,n){return e.t.val(t)===n},extent:function(){return[0,86399]},start:function(e){return e},end:function(e){return e},next:function(t,n){n=n>86399?0:n;var r=e.date.next(e.Y.val(t),e.M.val(t),e.D.val(t)+(n<=e.t.val(t)?1:0),0,0,n);return!e.date.isUTC&&r.getTime()<t.getTime()&&(r=e.date.next(e.Y.val(r),e.M.val(r),e.D.val(r),e.h.val(r),e.m.val(r),n+7200)),r},prev:function(t,n){return n=n>86399?86399:n,e.date.next(e.Y.val(t),e.M.val(t),e.D.val(t)+(n>=e.t.val(t)?-1:0),0,0,n)}},e.weekOfMonth=e.wm={name:"week of month",range:604800,val:function(t){return t.wm||(t.wm=(e.D.val(t)+(e.dw.val(e.M.start(t))-1)+(7-e.dw.val(t)))/7)},isValid:function(t,n){return e.wm.val(t)===(n||e.wm.extent(t)[1])},extent:function(t){return t.wmExtent||(t.wmExtent=[1,(e.D.extent(t)[1]+(e.dw.val(e.M.start(t))-1)+(7-e.dw.val(e.M.end(t))))/7])},start:function(t){return t.wmStart||(t.wmStart=e.date.next(e.Y.val(t),e.M.val(t),Math.max(e.D.val(t)-e.dw.val(t)+1,1)))},end:function(t){return t.wmEnd||(t.wmEnd=e.date.prev(e.Y.val(t),e.M.val(t),Math.min(e.D.val(t)+(7-e.dw.val(t)),e.D.extent(t)[1])))},next:function(t,n){n=n>e.wm.extent(t)[1]?1:n;var r=e.date.nextRollover(t,n,e.wm,e.M),a=e.wm.extent(r)[1];return n=n>a?1:n||a,e.date.next(e.Y.val(r),e.M.val(r),Math.max(1,7*(n-1)-(e.dw.val(r)-2)))},prev:function(t,n){var r=e.date.prevRollover(t,n,e.wm,e.M),a=e.wm.extent(r)[1];return n=n>a?a:n||a,e.wm.end(e.date.next(e.Y.val(r),e.M.val(r),Math.max(1,7*(n-1)-(e.dw.val(r)-2))))}},e.weekOfYear=e.wy={name:"week of year (ISO)",range:604800,val:function(t){if(t.wy)return t.wy;var n=e.dw.next(e.wy.start(t),5),r=e.dw.next(e.Y.prev(n,e.Y.val(n)-1),5);return t.wy=1+Math.ceil((n.getTime()-r.getTime())/e.WEEK)},isValid:function(t,n){return e.wy.val(t)===(n||e.wy.extent(t)[1])},extent:function(t){if(t.wyExtent)return t.wyExtent;var n=e.dw.next(e.wy.start(t),5),r=e.dw.val(e.Y.start(n)),a=e.dw.val(e.Y.end(n));return t.wyExtent=[1,5===r||5===a?53:52]},start:function(t){return t.wyStart||(t.wyStart=e.date.next(e.Y.val(t),e.M.val(t),e.D.val(t)-(e.dw.val(t)>1?e.dw.val(t)-2:6)))},end:function(t){return t.wyEnd||(t.wyEnd=e.date.prev(e.Y.val(t),e.M.val(t),e.D.val(t)+(e.dw.val(t)>1?8-e.dw.val(t):0)))},next:function(t,n){n=n>e.wy.extent(t)[1]?1:n;var r=e.dw.next(e.wy.start(t),5),a=e.date.nextRollover(r,n,e.wy,e.Y);1!==e.wy.val(a)&&(a=e.dw.next(a,2));var i=e.wy.extent(a)[1],u=e.wy.start(a);return n=n>i?1:n||i,e.date.next(e.Y.val(u),e.M.val(u),e.D.val(u)+7*(n-1))},prev:function(t,n){var r=e.dw.next(e.wy.start(t),5),a=e.date.prevRollover(r,n,e.wy,e.Y);1!==e.wy.val(a)&&(a=e.dw.next(a,2));var i=e.wy.extent(a)[1],u=e.wy.end(a);return n=n>i?i:n||i,e.wy.end(e.date.next(e.Y.val(u),e.M.val(u),e.D.val(u)+7*(n-1)))}},e.year=e.Y={name:"year",range:31556900,val:function(t){return t.Y||(t.Y=e.date.getYear.call(t))},isValid:function(t,n){return e.Y.val(t)===n},extent:function(){return[1970,2099]},start:function(t){return t.YStart||(t.YStart=e.date.next(e.Y.val(t)))},end:function(t){return t.YEnd||(t.YEnd=e.date.prev(e.Y.val(t)))},next:function(t,n){return n>e.Y.val(t)&&n<=e.Y.extent()[1]?e.date.next(n):e.NEVER},prev:function(t,n){return n<e.Y.val(t)&&n>=e.Y.extent()[0]?e.date.prev(n):e.NEVER}},e.fullDate=e.fd={name:"full date",range:1,val:function(e){return e.fd||(e.fd=e.getTime())},isValid:function(t,n){return e.fd.val(t)===n},extent:function(){return[0,3250368e7]},start:function(e){return e},end:function(e){return e},next:function(t,n){return e.fd.val(t)<n?new Date(n):e.NEVER},prev:function(t,n){return e.fd.val(t)>n?new Date(n):e.NEVER}},e.modifier={},e.modifier.after=e.modifier.a=function(e,t){var n=t[0];return{name:"after "+e.name,range:(e.extent(new Date)[1]-n)*e.range,val:e.val,isValid:function(e,t){return this.val(e)>=n},extent:e.extent,start:e.start,end:e.end,next:function(t,r){return r!=n&&(r=e.extent(t)[0]),e.next(t,r)},prev:function(t,r){return r=r===n?e.extent(t)[1]:n-1,e.prev(t,r)}}},e.modifier.before=e.modifier.b=function(e,t){var n=t[t.length-1];return{name:"before "+e.name,range:e.range*(n-1),val:e.val,isValid:function(e,t){return this.val(e)<n},extent:e.extent,start:e.start,end:e.end,next:function(t,r){return r=r===n?e.extent(t)[0]:n,e.next(t,r)},prev:function(t,r){return r=r===n?n-1:e.extent(t)[1],e.prev(t,r)}}},e.compile=function(t){function n(e){return"next"===e?function(e,t){return e.getTime()>t.getTime()}:function(e,t){return t.getTime()>e.getTime()}}var r=[],a=0,i;for(var u in t){var o=u.split("_"),f=o[0],d=o[1],l=t[u],v=d?e.modifier[d](e[f],l):e[f];r.push({constraint:v,vals:l}),a++}return r.sort(function(e,t){var n=e.constraint.range,r=t.constraint.range;return r<n?-1:r>n?1:0}),i=r[a-1].constraint,{start:function(t,n){for(var u=n,o=e.array[t],f=1e3,d;f--&&!d&&u;){d=!0;for(var l=0;l<a;l++){var v=r[l].constraint,c=v.val(u),s=v.extent(u),h=o(c,r[l].vals,s);if(!v.isValid(u,h)){u=v[t](u,h),d=!1;break}}}return u!==e.NEVER&&(u="next"===t?i.start(u):i.end(u)),u},end:function(t,i){for(var u,o=e.array[t+"Invalid"],f=n(t),d=a-1;d>=0;d--){var l=r[d].constraint,v=l.val(i),c=l.extent(i),s=o(v,r[d].vals,c),h;void 0!==s&&(h=l[t](i,s),!h||u&&!f(u,h)||(u=h))}return u},tick:function(t,n){return new Date("next"===t?i.end(n).getTime()+e.SEC:i.start(n).getTime()-e.SEC)},tickStart:function(e){return i.start(e)}}},e.schedule=function(t){function n(t,n,x,g,p){var M=s(t),D=n,b=1e3,k=[],Y=[],E,T,O=[],S="next"===t,N,R=S?0:1,C=S?1:0;if(x=x?new Date(x):new Date,!x||!x.getTime())throw new Error("Invalid start date.");for(r(t,m,k,x),u(t,w,Y,x);b--&&D&&(E=h(k,M))&&(!g||!M(E,g));)if(y&&(o(t,w,Y,E),T=l(t,Y,E)))i(t,m,k,T);else{if(p){var V=v(Y,M);if(T=c(t,m,k,E,V),a=S?[new Date(Math.max(x,E)),T?new Date(g?Math.min(T,g):T):void 0]:[T?new Date(g?Math.max(g,T.getTime()+e.SEC):T.getTime()+e.SEC):void 0,new Date(Math.min(x,E.getTime()+e.SEC))],N&&a[R].getTime()===N[C].getTime()?(N[C]=a[C],D++):(N=a,O.push(N)),!T)break;i(t,m,k,T)}else O.push(S?new Date(Math.max(x,E)):d(m,k,E,g)),f(t,m,k,E);D--}return 0===O.length?e.NEVER:1===n?O[0]:O}function r(e,t,n,r){for(var a=0,i=t.length;a<i;a++)n[a]=t[a].start(e,r)}function i(e,t,n,r){for(var a=s(e),i=0,u=t.length;i<u;i++)n[i]&&!a(n[i],r)&&(n[i]=t[i].start(e,r))}function u(t,n,r,a){for(var i=s(t),u=0,o=n.length;u<o;u++){var f=n[u].start(t,a);f?r[u]=[f,n[u].end(t,f)]:r[u]=e.NEVER}}function o(t,n,r,a){for(var i=s(t),u=0,o=n.length;u<o;u++)if(r[u]&&!i(r[u][0],a)){var f=n[u].start(t,a);f?r[u]=[f,n[u].end(t,f)]:r[u]=e.NEVER}}function f(e,t,n,r){for(var a=0,i=t.length;a<i;a++)n[a]&&n[a].getTime()===r.getTime()&&(n[a]=t[a].start(e,t[a].tick(e,r)))}function d(e,t,n,r){for(var a,i=0,u=t.length;i<u;i++)if(t[i]&&t[i].getTime()===n.getTime()){var o=e[i].tickStart(n);if(r&&o<r)return r;(!a||o>a)&&(a=o)}return a}function l(e,t,n){for(var r=s(e),a,i=0,u=t.length;i<u;i++){var o=t[i];!o||r(o[0],n)||o[1]&&!r(o[1],n)||a&&!r(o[1],a)||(a=o[1])}return a}function v(e,t){for(var n,r=0,a=e.length;r<a;r++)!e[r]||n&&!t(n,e[r][0])||(n=e[r][0]);return n}function c(e,t,n,r,a){for(var i=s(e),u,o=0,f=t.length;o<f;o++){var d=n[o];if(d&&d.getTime()===r.getTime()){var l=t[o].end(e,d);if(a&&(!l||i(l,a)))return a;u&&!i(l,u)||(u=l)}}return u}function s(e){return"next"===e?function(e,t){return!t||e.getTime()>t.getTime()}:function(e,t){return!e||t.getTime()>e.getTime()}}function h(e,t){for(var n=e[0],r=1,a=e.length;r<a;r++)e[r]&&t(n,e[r])&&(n=e[r]);return n}if(!t)throw new Error("Missing schedule definition.");if(!t.schedules)throw new Error("Definition must include at least one schedule.");for(var m=[],x=t.schedules.length,w=[],y=t.exceptions?t.exceptions.length:0,g=0;g<x;g++)m.push(e.compile(t.schedules[g]));for(var p=0;p<y;p++)w.push(e.compile(t.exceptions[p]));return{isValid:function(t){return n("next",1,t,t)!==e.NEVER},next:function(e,t,r){return n("next",e||1,t,r)},prev:function(e,t,r){return n("prev",e||1,t,r)},nextRange:function(e,t,r){return n("next",e||1,t,r,!0)},prevRange:function(e,t,r){return n("prev",e||1,t,r,!0)}}},e.setTimeout=function(t,n){function r(){var e=Date.now(),n=a.next(2,e),u=n[0].getTime()-e;u<1e3&&(u=n[1].getTime()-e),i=u<2147483647?setTimeout(t,u):setTimeout(r,2147483647)}var a=e.schedule(n),i;return r(),{clear:function(){clearTimeout(i)}}},e.setInterval=function(t,n){function r(){i||(t(),a=e.setTimeout(r,n))}var a=e.setTimeout(r,n),i=!1;return{clear:function(){i=!0,a.clear()}}},e.date={},e.date.timezone=function(t){e.date.build=t?function(e,t,n,r,a,i){return new Date(e,t,n,r,a,i)}:function(e,t,n,r,a,i){return new Date(Date.UTC(e,t,n,r,a,i))};var n=t?"get":"getUTC",r=Date.prototype;e.date.getYear=r[n+"FullYear"],e.date.getMonth=r[n+"Month"],e.date.getDate=r[n+"Date"],e.date.getDay=r[n+"Day"],e.date.getHour=r[n+"Hours"],e.date.getMin=r[n+"Minutes"],e.date.getSec=r[n+"Seconds"],e.date.isUTC=!t},e.date.UTC=function(){e.date.timezone(!1)},e.date.localTime=function(){e.date.timezone(!0)},e.date.UTC(),e.SEC=1e3,e.MIN=60*e.SEC,e.HOUR=60*e.MIN,e.DAY=24*e.HOUR,e.WEEK=7*e.DAY,e.DAYS_IN_MONTH=[31,28,31,30,31,30,31,31,30,31,30,31],e.NEVER=0,e.date.next=function(t,n,r,a,i,u){return e.date.build(t,void 0!==n?n-1:0,void 0!==r?r:1,a||0,i||0,u||0)},e.date.nextRollover=function(t,n,r,a){var i=r.val(t),u=r.extent(t)[1];return(n||u)<=i||n>u?new Date(a.end(t).getTime()+e.SEC):a.start(t)},e.date.prev=function(t,n,r,a,i,u){var o=arguments.length;return n=o<2?11:n-1,r=o<3?e.D.extent(e.date.next(t,n+1))[1]:r,a=o<4?23:a,i=o<5?59:i,u=o<6?59:u,e.date.build(t,n,r,a,i,u)},e.date.prevRollover=function(e,t,n,r){var a=n.val(e);return t>=a||!t?r.start(r.prev(e,r.val(e)-1)):r.start(e)},e.parse={},e.parse.cron=function(e,t){function n(e,t){return isNaN(e)?c[e]||null:+e+(t||0)}function r(e){var t={},n;for(n in e)"dc"!==n&&"d"!==n&&(t[n]=e[n].slice(0));return t}function a(e,t,n,r,a){var i=n;for(e[t]||(e[t]=[]);i<=r;)e[t].indexOf(i)<0&&e[t].push(i),i+=a||1}function i(e,t,n,i){(t.d&&!t.dc||t.dc&&t.dc.indexOf(i)<0)&&(e.push(r(t)),t=e[e.length-1]),a(t,"d",n,n),a(t,"dc",i,i)}function u(e,t,n){var r={},i={};1===n?(a(t,"D",1,3),a(t,"d",c.MON,c.FRI),a(r,"D",2,2),a(r,"d",c.TUE,c.FRI),a(i,"D",3,3),a(i,"d",c.TUE,c.FRI)):(a(t,"D",n-1,n+1),a(t,"d",c.MON,c.FRI),a(r,"D",n-1,n-1),a(r,"d",c.MON,c.THU),a(i,"D",n+1,n+1),a(i,"d",c.TUE,c.FRI)),e.exceptions.push(r),e.exceptions.push(i)}function o(e,t,r,i,u,o){var f=e.split("/"),d=+f[1],l=f[0];if("*"!==l&&"0"!==l){var v=l.split("-");i=n(v[0],o),u=n(v[1],o)||u}a(t,r,i,u,d)}function f(e,t,r,f,d,l){var v,c,s=t.schedules,h=s[s.length-1];"L"===e&&(e=f-1),null!==(v=n(e,l))?a(h,r,v,v):null!==(v=n(e.replace("W",""),l))?u(t,h,v):null!==(v=n(e.replace("L",""),l))?i(s,h,v,f-1):2===(c=e.split("#")).length?(v=n(c[0],l),i(s,h,v,n(c[1]))):o(e,h,r,f,d,l)}function d(e){return e.indexOf("#")>-1||e.indexOf("L")>0}function l(e,t){return d(e)&&!d(t)?1:0}function v(e){"* * * * * *"===e&&(e="0/1 * * * * *");var t={schedules:[{}],exceptions:[]},n=e.split(" "),r,a,i,u;for(r in s)if(a=s[r],i=n[a[0]],i&&"*"!==i&&"?"!==i){u=i.split(",").sort(l);var o,d=u.length;for(o=0;o<d;o++)f(u[o],t,r,a[1],a[2],a[3])}return t}var c={JAN:1,FEB:2,MAR:3,APR:4,MAY:5,JUN:6,JUL:7,AUG:8,SEP:9,OCT:10,NOV:11,DEC:12,SUN:1,MON:2,TUE:3,WED:4,THU:5,FRI:6,SAT:7},s={s:[0,0,59],m:[1,0,59],h:[2,0,23],D:[3,1,31],M:[4,1,12],Y:[6,1970,2099],d:[5,1,7,1]},h=e.toUpperCase();return v(t?h:"0 "+h)},e.parse.recur=function(){function t(e,t,n){if(e=d?e+"_"+d:e,a||(i.push({}),a=i[0]),a[e]||(a[e]=[]),u=a[e],f){for(o=[],c=t;c<=n;c+=f)o.push(c);s={n:e,x:f,c:u.length,m:n}}o=l?[t]:v?[n]:o;var r=o.length;for(c=0;c<r;c+=1){var h=o[c];u.indexOf(h)<0&&u.push(h)}o=f=d=l=v=0}var n=[],r=[],a,i=n,u,o,f,d,l,v,c,s;return{schedules:n,exceptions:r,on:function(){return o=arguments[0]instanceof Array?arguments[0]:arguments,this},every:function(e){return f=e||1,this},after:function(e){return d="a",o=[e],this},before:function(e){return d="b",o=[e],this},first:function(){return l=1,this},last:function(){return v=1,this},time:function(){for(var e=0,n=o.length;e<n;e++){var r=o[e].split(":");r.length<3&&r.push(0),o[e]=3600*+r[0]+60*+r[1]+ +r[2]}return t("t"),this},second:function(){return t("s",0,59),this},minute:function(){return t("m",0,59),this},hour:function(){return t("h",0,23),this},dayOfMonth:function(){return t("D",1,v?0:31),this},dayOfWeek:function(){return t("d",1,7),this},onWeekend:function(){return o=[1,7],this.dayOfWeek()},onWeekday:function(){return o=[2,3,4,5,6],this.dayOfWeek()},dayOfWeekCount:function(){return t("dc",1,v?0:5),this},dayOfYear:function(){return t("dy",1,v?0:366),this},weekOfMonth:function(){return t("wm",1,v?0:5),this},weekOfYear:function(){return t("wy",1,v?0:53),this},month:function(){return t("M",1,12),this},year:function(){return t("Y",1970,2450),this},fullDate:function(){for(var e=0,n=o.length;e<n;e++)o[e]=o[e].getTime();return t("fd"),this},customModifier:function(t,n){var r=e.modifier[t];if(!r)throw new Error("Custom modifier "+t+" not recognized!");return d=t,o=arguments[1]instanceof Array?arguments[1]:[arguments[1]],this},customPeriod:function(n){var r=e[n];if(!r)throw new Error("Custom time period "+n+" not recognized!");return t(n,r.extent(new Date)[0],r.extent(new Date)[1]),this},startingOn:function(e){return this.between(e,s.m)},between:function(e,n){return a[s.n]=a[s.n].splice(0,s.c),f=s.x,t(s.n,e,n),this},and:function(){return a=i[i.push({})-1],this},except:function(){return i=r,a=null,this}}},e.parse.text=function(t){function n(e,t,n,r){return{startPos:e,endPos:t,text:n,type:r}}function r(e){var t=e instanceof Array?e:[e],r=/\s+/,a,i,u,o,f,d;for(t.push(r),f=x;!a||a.type===r;){d=-1,i=w.substring(f),a=n(f,f,w.split(r)[0]);var l,v=t.length;for(l=0;l<v;l++)o=t[l],u=o.exec(i),u&&0===u.index&&u[0].length>d&&(d=u[0].length,a=n(f,f+d,i.substring(0,d),o));a.type===r&&(f=a.endPos)}return a}function a(e){var t=r(e);return x=t.endPos,t}function i(e){for(var t=+s(e),n=v(g.through)?+s(e):t,r=[],a=t;a<=n;a++)r.push(a);return r}function u(e){for(var t=i(e);v(g.and);)t=t.concat(i(e));return t}function o(e){var t,n,r,a;v(g.weekend)?e.on(p.sun,p.sat).dayOfWeek():v(g.weekday)?e.on(p.mon,p.tue,p.wed,p.thu,p.fri).dayOfWeek():(t=s(g.rank),e.every(t),n=l(e),v(g.start)?(t=s(g.rank),e.startingOn(t),c(n.type)):v(g.between)&&(r=s(g.rank),v(g.and)&&(a=s(g.rank),e.between(r,a))))}function f(e){v(g.first)?e.first():v(g.last)?e.last():e.on(u(g.rank)),l(e)}function d(e){x=0,w=e,y=-1;for(var t=m();x<w.length&&y<0;){var n=c([g.every,g.after,g.before,g.onthe,g.on,g.of,g.in,g.at,g.and,g.except,g.also]);switch(n.type){case g.every:o(t);break;case g.after:void 0!==r(g.time).type?(t.after(s(g.time)),t.time()):(t.after(s(g.rank)),l(t));break;case g.before:void 0!==r(g.time).type?(t.before(s(g.time)),t.time()):(t.before(s(g.rank)),l(t));break;case g.onthe:f(t);break;case g.on:t.on(u(g.dayName)).dayOfWeek();break;case g.of:t.on(u(g.monthName)).month();break;case g.in:t.on(u(g.yearIndex)).year();break;case g.at:for(t.on(s(g.time)).time();v(g.and);)t.on(s(g.time)).time();break;case g.and:break;case g.also:t.and();break;case g.except:t.except();break;default:y=x}}return{schedules:t.schedules,exceptions:t.exceptions,error:y}}function l(e){var t=c([g.second,g.minute,g.hour,g.dayOfYear,g.dayOfWeek,g.dayInstance,g.day,g.month,g.year,g.weekOfMonth,g.weekOfYear]);switch(t.type){case g.second:e.second();break;case g.minute:e.minute();break;case g.hour:e.hour();break;case g.dayOfYear:e.dayOfYear();break;case g.dayOfWeek:e.dayOfWeek();break;case g.dayInstance:e.dayOfWeekCount();break;case g.day:e.dayOfMonth();break;case g.weekOfMonth:e.weekOfMonth();break;case g.weekOfYear:e.weekOfYear();break;case g.month:e.month();break;case g.year:e.year();break;default:y=x}return t}function v(e){var t=r(e).type===e;return t&&a(e),t}function c(e){var t=a(e);return t.type?t.text=h(t.text,e):y=x,t}function s(e){return c(e).text}function h(e,t){var n=e;switch(t){case g.time:var r=e.split(/(:|am|pm)/),a="pm"===r[3]&&r[0]<12?parseInt(r[0],10)+12:r[0],i=r[2].trim();n=(1===a.length?"0":"")+a+":"+i;break;case g.rank:n=parseInt(/^\d+/.exec(e)[0],10);break;case g.monthName:case g.dayName:n=p[e.substring(0,3)]}return n}var m=e.parse.recur,x=0,w="",y,g={eof:/^$/,rank:/^((\d\d\d\d)|([2-5]?1(st)?|[2-5]?2(nd)?|[2-5]?3(rd)?|(0|[1-5]?[4-9]|[1-5]0|1[1-3])(th)?))\b/,time:/^((([0]?[1-9]|1[0-2]):[0-5]\d(\s)?(am|pm))|(([0]?\d|1\d|2[0-3]):[0-5]\d))\b/,dayName:/^((sun|mon|tue(s)?|wed(nes)?|thu(r(s)?)?|fri|sat(ur)?)(day)?)\b/,monthName:/^(jan(uary)?|feb(ruary)?|ma((r(ch)?)?|y)|apr(il)?|ju(ly|ne)|aug(ust)?|oct(ober)?|(sept|nov|dec)(ember)?)\b/,yearIndex:/^(\d\d\d\d)\b/,every:/^every\b/,after:/^after\b/,before:/^before\b/,second:/^(s|sec(ond)?(s)?)\b/,minute:/^(m|min(ute)?(s)?)\b/,hour:/^(h|hour(s)?)\b/,day:/^(day(s)?( of the month)?)\b/,dayInstance:/^day instance\b/,dayOfWeek:/^day(s)? of the week\b/,dayOfYear:/^day(s)? of the year\b/,weekOfYear:/^week(s)?( of the year)?\b/,weekOfMonth:/^week(s)? of the month\b/,weekday:/^weekday\b/,weekend:/^weekend\b/,month:/^month(s)?\b/,year:/^year(s)?\b/,between:/^between (the)?\b/,start:/^(start(ing)? (at|on( the)?)?)\b/,at:/^(at|@)\b/,and:/^(,|and\b)/,except:/^(except\b)/,also:/(also)\b/,first:/^(first)\b/,last:/^last\b/,in:/^in\b/,of:/^of\b/,onthe:/^on the\b/,on:/^on\b/,through:/(-|^(to|through)\b)/},p={jan:1,feb:2,mar:3,apr:4,may:5,jun:6,jul:7,aug:8,sep:9,oct:10,nov:11,dec:12,sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7,"1st":1,fir:1,"2nd":2,sec:2,"3rd":3,thi:3,"4th":4,for:4};return d(t.toLowerCase())},e}()}).call(this)}).call(this),"undefined"==typeof Package&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package["mrt:later"]={},{later:r})}();

!function(){"undefined"==typeof Package&&(Package={}),Package.coffeescript={}}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package["mrt:later"].later,o=Package.mongo.Mongo,i=Package.check.check,l=Package.check.Match,a=Package["ecmascript-runtime"].Symbol,s=Package["ecmascript-runtime"].Map,u=Package["ecmascript-runtime"].Set,c=Package["babel-runtime"].meteorBabelHelpers,p=Package.promise.Promise,d,h,f;(function(){d="object"==typeof d?d:{};var t=d,n="function"==typeof a&&"symbol"==typeof a.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof a&&e.constructor===a&&e!==a.prototype?"symbol":typeof e},r,o,i,l,s,u,p,f,g,b,y,_=[].slice,v=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};f=function e(t,n,r,o,i){var l,a,s,u,c,p;if(null==i&&(i=function e(t){return t}),l=null!=(s=null!=(u=h._ddp_apply)?u[null!=(c=t.root)?c:t]:void 0)?s:h._ddp_apply,"function"!=typeof l)throw new Error("Job remote method call error, no valid invocation method found.");return a=(null!=(p=t.root)?p:t)+"_"+n,o&&"function"==typeof o?l(a,r,function(e){return function(e,t){return e?o(e):o(null,i(t))}}(this)):i(l(a,r))},g=function e(t,r){var o;if(null!=r&&"function"!=typeof r)t=r,r=void 0;else{if(!("object"===("undefined"==typeof t?"undefined":n(t))&&t instanceof Array&&t.length<2))throw new Error("options... in optionsHelp must be an Array with zero or one elements");t=null!=(o=null!=t?t[0]:void 0)?o:{}}if("object"!==("undefined"==typeof t?"undefined":n(t)))throw new Error("in optionsHelp options not an object or bad callback");return[t,r]},y=function e(t,n){var r,o,i,l;if(!(t instanceof Array&&n>0))throw new Error("splitLongArray: bad params");for(l=[],r=o=0,i=Math.ceil(t.length/n);0<=i?o<i:o>i;r=0<=i?++o:--o)l.push(t.slice(r*n,(r+1)*n));return l},b=function e(t,n,r,o){var i,l,a;if(null==r&&(r=function e(t,n){return t||n}),null==o&&(o=!1),null!=t){if(!("function"==typeof t&&n>0&&"function"==typeof r))throw new Error("Bad params given to reduceCallbacks");return a=o,i=0,l=null,function(e,o){if(!l){if(e)return l=e,t(e);if(i++,a=r(a,o),i===n)return t(null,a);if(i>n)throw new Error("reduceCallbacks callback invoked more than requested "+n+" times")}}}},s=function e(t,n){return t instanceof Array||(t=[t]),t.concat(n)},p=function e(t){return"number"==typeof t&&Math.floor(t)===t},u=function e(t){return"boolean"==typeof t},i=function t(){var n,r;return r=arguments[0],n=2<=arguments.length?_.call(arguments,1):[],null!=("undefined"!=typeof e&&null!==e?e.setTimeout:void 0)?e.setTimeout.apply(e,[r,0].concat(_.call(n))):"undefined"!=typeof setImmediate&&null!==setImmediate?setImmediate.apply(null,[r].concat(_.call(n))):setTimeout.apply(null,[r,0].concat(_.call(n)))},l=function t(){var n,r,o;return r=arguments[0],o=arguments[1],n=3<=arguments.length?_.call(arguments,2):[],null!=("undefined"!=typeof e&&null!==e?e.setInterval:void 0)?e.setInterval.apply(e,[r,o].concat(_.call(n))):setInterval.apply(null,[r,o].concat(_.call(n)))},o=function t(n){return null!=("undefined"!=typeof e&&null!==e?e.clearInterval:void 0)?e.clearInterval(n):clearInterval(n)},r=function(){function e(){var t,n,r,o,i,l,a,s,c;if(a=arguments[0],s=arguments[1],n=4<=arguments.length?_.call(arguments,2,t=arguments.length-1):(t=2,[]),c=arguments[t++],this.root=a,this.type=s,this.worker=c,!(this instanceof e))return function(e,t,n){n.prototype=e.prototype;var r=new n,o=e.apply(r,t);return Object(o)===o?o:r}(e,[this.root,this.type].concat(_.call(n),[this.worker]),function(){});if(r=g(n,this.worker),n=r[0],this.worker=r[1],this.pollInterval=null==n.pollInterval||n.pollInterval?null!=n.pollInterval&&p(n.pollInterval)?n.pollInterval:5e3:h.forever,!(p(this.pollInterval)&&this.pollInterval>=0))throw new Error("JobQueue: Invalid pollInterval, must be a positive integer");if(this.concurrency=null!=(o=n.concurrency)?o:1,!(p(this.concurrency)&&this.concurrency>=0))throw new Error("JobQueue: Invalid concurrency, must be a positive integer");if(this.payload=null!=(i=n.payload)?i:1,!(p(this.payload)&&this.payload>=0))throw new Error("JobQueue: Invalid payload, must be a positive integer");if(this.prefetch=null!=(l=n.prefetch)?l:0,!(p(this.prefetch)&&this.prefetch>=0))throw new Error("JobQueue: Invalid prefetch, must be a positive integer");if(this.workTimeout=n.workTimeout,null!=this.workTimeout&&!(p(this.workTimeout)&&this.workTimeout>=0))throw new Error("JobQueue: Invalid workTimeout, must be a positive integer");if(this.callbackStrict=n.callbackStrict,null!=this.callbackStrict&&!u(this.callbackStrict))throw new Error("JobQueue: Invalid callbackStrict, must be a boolean");this._workers={},this._tasks=[],this._taskNumber=0,this._stoppingGetWork=void 0,this._stoppingTasks=void 0,this._interval=null,this._getWorkOutstanding=!1,this.paused=!0,this.resume()}return e.prototype._getWork=function(){var e,t;if(!this._getWorkOutstanding&&!this.paused&&(e=this.prefetch+this.payload*(this.concurrency-this.running())-this.length(),e>0))return this._getWorkOutstanding=!0,t={maxJobs:e},null!=this.workTimeout&&(t.workTimeout=this.workTimeout),h.getWork(this.root,this.type,t,function(t){return function(n,r){var o,l,a;if(t._getWorkOutstanding=!1,n)return console.error("JobQueue: Received error from getWork(): ",n);if(!(null!=r&&r instanceof Array))return console.error("JobQueue: Nonarray response from server from getWork()");for(r.length>e&&console.error("JobQueue: getWork() returned jobs ("+r.length+") in excess of maxJobs ("+e+")"),l=0,a=r.length;l<a;l++)o=r[l],t._tasks.push(o),null==t._stoppingGetWork&&i(t._process.bind(t));return null!=t._stoppingGetWork?t._stoppingGetWork():void 0}}(this))},e.prototype._only_once=function(e){var t;return t=!1,function(n){return function(){if(t&&(console.error("Worker callback called multiple times in JobQueue"),n.callbackStrict))throw new Error("JobQueue worker callback was invoked multiple times");return t=!0,e.apply(n,arguments)}}(this)},e.prototype._process=function(){var e,t,n;if(!this.paused&&this.running()<this.concurrency&&this.length())return t=this.payload>1?this._tasks.splice(0,this.payload):this._tasks.shift(),t._taskId="Task_"+this._taskNumber++,this._workers[t._taskId]=t,n=function(e){return function(){return delete e._workers[t._taskId],null!=e._stoppingTasks&&0===e.running()&&0===e.length()?e._stoppingTasks():(i(e._process.bind(e)),i(e._getWork.bind(e)))}}(this),e=this._only_once(n),this.worker(t,e)},e.prototype._stopGetWork=function(e){return o(this._interval),this._interval=null,this._getWorkOutstanding?this._stoppingGetWork=e:i(e)},e.prototype._waitForTasks=function(e){return 0!==this.running()?this._stoppingTasks=e:i(e)},e.prototype._failJobs=function(e,t){var n,r,o,l,a;for(0===e.length&&i(t),n=0,a=[],o=0,l=e.length;o<l;o++)r=e[o],a.push(r.fail("Worker shutdown",function(r){return function(r,o){if(n++,n===e.length)return t()}}(this)));return a},e.prototype._hard=function(e){return this.paused=!0,this._stopGetWork(function(t){return function(){var n,r,o,i;i=t._tasks,t._tasks=[],o=t._workers;for(n in c.sanitizeForInObject(o))r=o[n],i=i.concat(r);return t._failJobs(i,e)}}(this))},e.prototype._stop=function(e){return this.paused=!0,this._stopGetWork(function(t){return function(){var n;return n=t._tasks,t._tasks=[],t._waitForTasks(function(){return t._failJobs(n,e)})}}(this))},e.prototype._soft=function(e){return this._stopGetWork(function(t){return function(){return t._waitForTasks(e)}}(this))},e.prototype.length=function(){return this._tasks.length},e.prototype.running=function(){return Object.keys(this._workers).length},e.prototype.idle=function(){return this.length()+this.running()===0},e.prototype.full=function(){return this.running()===this.concurrency},e.prototype.pause=function(){if(!this.paused)return this.pollInterval>=h.forever||(o(this._interval),this._interval=null),this.paused=!0,this},e.prototype.resume=function(){var e,t,n;if(this.paused){for(this.paused=!1,i(this._getWork.bind(this)),this.pollInterval>=h.forever||(this._interval=l(this._getWork.bind(this),this.pollInterval)),n=e=1,t=this.concurrency;1<=t?e<=t:e>=t;n=1<=t?++e:--e)i(this._process.bind(this));return this}},e.prototype.trigger=function(){if(!this.paused)return i(this._getWork.bind(this)),this},e.prototype.shutdown=function(){var e,t,n,r;switch(n=2<=arguments.length?_.call(arguments,0,t=arguments.length-1):(t=0,[]),e=arguments[t++],r=g(n,e),n=r[0],e=r[1],null==n.level&&(n.level="normal"),null==n.quiet&&(n.quiet=!1),null==e&&(n.quiet||console.warn("using default shutdown callback!"),e=function(e){return function(){return console.warn("Shutdown complete")}}(this)),n.level){case"hard":return n.quiet||console.warn("Shutting down hard"),this._hard(e);case"soft":return n.quiet||console.warn("Shutting down soft"),this._soft(e);default:return n.quiet||console.warn("Shutting down normally"),this._stop(e)}},e}(),h=function(){function t(e,r,o){var i,l,a;if(this.root=e,!(this instanceof t))return new t(this.root,r,o);if(this._root=this.root,null!=(null!=(l=this.root)?l.root:void 0)&&"string"==typeof this.root.root&&(this.root=this._root.root),null==o&&null!=(null!=r?r.data:void 0)&&null!=(null!=r?r.type:void 0)){if(r instanceof t)return r;i=r,o=i.data,r=i.type}else i={};if("object"!==("undefined"==typeof i?"undefined":n(i))||"object"!==("undefined"==typeof o?"undefined":n(o))||"string"!=typeof r||"string"!=typeof this.root)throw new Error("new Job: bad parameter(s), "+this.root+" ("+n(this.root)+"), "+r+" ("+("undefined"==typeof r?"undefined":n(r))+"), "+o+" ("+("undefined"==typeof o?"undefined":n(o))+"), "+i+" ("+("undefined"==typeof i?"undefined":n(i))+")");return null!=i.type&&null!=i.data?this._doc=i:(a=new Date,this._doc={runId:null,type:r,data:o,status:"waiting",updated:a,created:a},this.priority().retry().repeat().after().progress().depends().log("Constructed")),this}return t.forever=9007199254740992,t.foreverDate=new Date(864e13),t.jobPriorities={low:10,normal:0,medium:-5,high:-10,critical:-15},t.jobRetryBackoffMethods=["constant","exponential"],t.jobStatuses=["waiting","paused","ready","running","failed","cancelled","completed"],t.jobLogLevels=["info","success","warning","danger"],t.jobStatusCancellable=["running","ready","waiting","paused"],t.jobStatusPausable=["ready","waiting"],t.jobStatusRemovable=["cancelled","completed","failed"],t.jobStatusRestartable=["cancelled","failed"],t.ddpMethods=["startJobs","stopJobs","startJobServer","shutdownJobServer","jobRemove","jobPause","jobResume","jobReady","jobCancel","jobRestart","jobSave","jobRerun","getWork","getJob","jobLog","jobProgress","jobDone","jobFail"],t.ddpPermissionLevels=["admin","manager","creator","worker"],t.ddpMethodPermissions={startJobs:["startJobs","admin"],stopJobs:["stopJobs","admin"],startJobServer:["startJobServer","admin"],shutdownJobServer:["shutdownJobServer","admin"],jobRemove:["jobRemove","admin","manager"],jobPause:["jobPause","admin","manager"],jobResume:["jobResume","admin","manager"],jobCancel:["jobCancel","admin","manager"],jobReady:["jobReady","admin","manager"],jobRestart:["jobRestart","admin","manager"],jobSave:["jobSave","admin","creator"],jobRerun:["jobRerun","admin","creator"],getWork:["getWork","admin","worker"],getJob:["getJob","admin","worker"],jobLog:["jobLog","admin","worker"],jobProgress:["jobProgress","admin","worker"],jobDone:["jobDone","admin","worker"],jobFail:["jobFail","admin","worker"]},t._ddp_apply=void 0,t._setDDPApply=function(e,t){if("function"==typeof e){if("string"==typeof t){if(null==this._ddp_apply&&(this._ddp_apply={}),"function"==typeof this._ddp_apply)throw new Error("Job.setDDP must specify a collection name each time if called more than once.");return this._ddp_apply[t]=e}if(this._ddp_apply)throw new Error("Job.setDDP must specify a collection name each time if called more than once.");return this._ddp_apply=e}throw new Error("Bad function in Job.setDDPApply()")},t.setDDP=function(t,n,r){var o,i,l,a;for(null==t&&(t=null),null==n&&(n=null),null==r&&(r=null),"string"==typeof n||n instanceof Array?"string"==typeof n&&(n=[n]):(r=n,n=[void 0]),a=[],i=0,l=n.length;i<l;i++)if(o=n[i],null==t||null==t.close||null==t.subscribe){if(null!==t||null==("undefined"!=typeof e&&null!==e?e.apply:void 0))throw new Error("Bad ddp object in Job.setDDP()");a.push(this._setDDPApply(e.apply,o))}else null==t.observe?a.push(this._setDDPApply(t.apply.bind(t),o)):null==r?a.push(this._setDDPApply(t.call.bind(t),o)):a.push(this._setDDPApply(function(e,n,o){var i;if(i=r.current,t.call(e,n,function(e,t){return null!=o&&"function"==typeof o?o(e,t):e?i.throwInto(e):i.run(t)}),null==o||"function"!=typeof o)return r.yield()},o));return a},t.getWork=function(){var e,n,r,o,i,l;if(i=arguments[0],l=arguments[1],r=4<=arguments.length?_.call(arguments,2,n=arguments.length-1):(n=2,[]),e=arguments[n++],o=g(r,e),r=o[0],e=o[1],"string"==typeof l&&(l=[l]),null!=r.workTimeout&&!(p(r.workTimeout)&&r.workTimeout>0))throw new Error("getWork: workTimeout must be a positive integer");return f(i,"getWork",[l,r],e,function(e){return function(e){var n,o;return o=function(){var r,o,l;for(l=[],r=0,o=e.length;r<o;r++)n=e[r],l.push(new t(i,n));return l}()||[],null!=r.maxJobs?o:o[0]}}(this))},t.processJobs=r,t.makeJob=function(){var e;return e=!1,function(n,r){return e||(e=!0,console.warn("Job.makeJob(root, jobDoc) has been deprecated and will be removed in a future release, use 'new Job(root, jobDoc)' instead.")),new t(n,r)}}(),t.getJob=function(){var e,n,r,o,i,l;return l=arguments[0],n=arguments[1],o=4<=arguments.length?_.call(arguments,2,r=arguments.length-1):(r=2,[]),e=arguments[r++],i=g(o,e),o=i[0],e=i[1],null==o.getLog&&(o.getLog=!1),f(l,"getJob",[n,o],e,function(e){return function(e){return e?new t(l,e):void 0}}(this))},t.getJobs=function(){var e,n,r,o,i,l,a,u,c,p,d,h;for(h=arguments[0],o=arguments[1],c=4<=arguments.length?_.call(arguments,2,i=arguments.length-1):(i=2,[]),e=arguments[i++],p=g(c,e),c=p[0],e=p[1],null==c.getLog&&(c.getLog=!1),d=[],r=y(o,32),u=b(e,r.length,s,[]),l=0,a=r.length;l<a;l++)n=r[l],d=d.concat(f(h,"getJob",[n,c],u,function(e){return function(e){var n,r,o,i;if(e){for(i=[],o=0,r=e.length;o<r;o++)n=e[o],i.push(new t(h,n.type,n.data,n));return i}return null}}(this)));return d},t.pauseJobs=function(){var e,t,n,r,o,i,l,a,s,u,c,p;for(p=arguments[0],r=arguments[1],s=4<=arguments.length?_.call(arguments,2,o=arguments.length-1):(o=2,[]),e=arguments[o++],u=g(s,e),s=u[0],e=u[1],c=!1,n=y(r,256),a=b(e,n.length),i=0,l=n.length;i<l;i++)t=n[i],c=f(p,"jobPause",[t,s],a)||c;return c},t.resumeJobs=function(){var e,t,n,r,o,i,l,a,s,u,c,p;for(p=arguments[0],r=arguments[1],s=4<=arguments.length?_.call(arguments,2,o=arguments.length-1):(o=2,[]),e=arguments[o++],u=g(s,e),s=u[0],e=u[1],c=!1,n=y(r,256),a=b(e,n.length),i=0,l=n.length;i<l;i++)t=n[i],c=f(p,"jobResume",[t,s],a)||c;return c},t.readyJobs=function(){var e,t,n,r,o,i,l,a,s,u,c,p;for(p=arguments[0],r=arguments[1],s=4<=arguments.length?_.call(arguments,2,o=arguments.length-1):(o=2,[]),e=arguments[o++],null==r&&(r=[]),u=g(s,e),s=u[0],e=u[1],null==s.force&&(s.force=!1),c=!1,n=y(r,256),n.length>0||(n=[[]]),a=b(e,n.length),i=0,l=n.length;i<l;i++)t=n[i],c=f(p,"jobReady",[t,s],a)||c;return c},t.cancelJobs=function(){var e,t,n,r,o,i,l,a,s,u,c,p;for(p=arguments[0],r=arguments[1],s=4<=arguments.length?_.call(arguments,2,o=arguments.length-1):(o=2,[]),e=arguments[o++],u=g(s,e),s=u[0],e=u[1],null==s.antecedents&&(s.antecedents=!0),c=!1,n=y(r,256),a=b(e,n.length),i=0,l=n.length;i<l;i++)t=n[i],c=f(p,"jobCancel",[t,s],a)||c;return c},t.restartJobs=function(){var e,t,n,r,o,i,l,a,s,u,c,p;for(p=arguments[0],r=arguments[1],s=4<=arguments.length?_.call(arguments,2,o=arguments.length-1):(o=2,[]),e=arguments[o++],u=g(s,e),s=u[0],e=u[1],null==s.retries&&(s.retries=1),null==s.dependents&&(s.dependents=!0),c=!1,n=y(r,256),a=b(e,n.length),i=0,l=n.length;i<l;i++)t=n[i],c=f(p,"jobRestart",[t,s],a)||c;return c},t.removeJobs=function(){var e,t,n,r,o,i,l,a,s,u,c,p;for(p=arguments[0],r=arguments[1],s=4<=arguments.length?_.call(arguments,2,o=arguments.length-1):(o=2,[]),e=arguments[o++],u=g(s,e),s=u[0],e=u[1],c=!1,n=y(r,256),a=b(e,n.length),i=0,l=n.length;i<l;i++)t=n[i],c=f(p,"jobRemove",[t,s],a)||c;return c},t.startJobs=function(){var e,t,n,r,o;return o=arguments[0],n=3<=arguments.length?_.call(arguments,1,t=arguments.length-1):(t=1,[]),e=arguments[t++],r=g(n,e),n=r[0],e=r[1],f(o,"startJobs",[n],e)},t.stopJobs=function(){var e,t,n,r,o;return o=arguments[0],n=3<=arguments.length?_.call(arguments,1,t=arguments.length-1):(t=1,[]),e=arguments[t++],r=g(n,e),n=r[0],e=r[1],null==n.timeout&&(n.timeout=6e4),f(o,"stopJobs",[n],e)},t.startJobServer=function(){var e,t,n,r,o;return o=arguments[0],n=3<=arguments.length?_.call(arguments,1,t=arguments.length-1):(t=1,[]),e=arguments[t++],r=g(n,e),n=r[0],e=r[1],f(o,"startJobServer",[n],e)},t.shutdownJobServer=function(){var e,t,n,r,o;return o=arguments[0],n=3<=arguments.length?_.call(arguments,1,t=arguments.length-1):(t=1,[]),e=arguments[t++],r=g(n,e),n=r[0],e=r[1],null==n.timeout&&(n.timeout=6e4),f(o,"shutdownJobServer",[n],e)},t.prototype._echo=function(e,t){switch(null==t&&(t=null),t){case"danger":console.error(e);break;case"warning":console.warn(e);break;case"success":console.log(e);break;default:console.info(e)}},t.prototype.depends=function(e){var n,r,o,i;if(e){if(e instanceof t&&(e=[e]),!(e instanceof Array))throw new Error("Bad input parameter: depends() accepts a falsy value, or Job or array of Jobs");for(n=this._doc.depends,o=0,i=e.length;o<i;o++){if(r=e[o],!(r instanceof t&&null!=r._doc._id))throw new Error("Each provided object must be a saved Job instance (with an _id)");n.push(r._doc._id)}}else n=[];return this._doc.depends=n,this._doc.resolved=[],this},t.prototype.priority=function(e){var n;if(null==e&&(e=0),"string"==typeof e){if(n=t.jobPriorities[e],null==n)throw new Error("Invalid string priority level provided")}else if(p(e))n=e;else{throw new Error("priority must be an integer or valid priority level");n=0}return this._doc.priority=n,this},t.prototype.retry=function(e){var r,o;if(null==e&&(e=0),p(e)&&e>=0&&(e={retries:e}),"object"!==("undefined"==typeof e?"undefined":n(e)))throw new Error("bad parameter: accepts either an integer >= 0 or an options object");if(null!=e.retries){if(!(p(e.retries)&&e.retries>=0))throw new Error("bad option: retries must be an integer >= 0");e.retries++}else e.retries=t.forever;if(null!=e.until){if(!(e.until instanceof Date))throw new Error("bad option: until must be a Date object")}else e.until=t.foreverDate;if(null!=e.wait){if(!(p(e.wait)&&e.wait>=0))throw new Error("bad option: wait must be an integer >= 0")}else e.wait=3e5;if(null!=e.backoff){if(o=e.backoff,v.call(t.jobRetryBackoffMethods,o)<0)throw new Error("bad option: invalid retry backoff method")}else e.backoff="constant";return this._doc.retries=e.retries,this._doc.repeatRetries=e.retries,this._doc.retryWait=e.wait,null==(r=this._doc).retried&&(r.retried=0),this._doc.retryBackoff=e.backoff,this._doc.retryUntil=e.until,this},t.prototype.repeat=function(e){var r,o;if(null==e&&(e=0),p(e)&&e>=0&&(e={repeats:e}),"object"!==("undefined"==typeof e?"undefined":n(e)))throw new Error("bad parameter: accepts either an integer >= 0 or an options object");if(null!=e.wait&&null!=e.schedule)throw new Error("bad options: wait and schedule options are mutually exclusive");if(null!=e.repeats){if(!(p(e.repeats)&&e.repeats>=0))throw new Error("bad option: repeats must be an integer >= 0")}else e.repeats=t.forever;if(null!=e.until){if(!(e.until instanceof Date))throw new Error("bad option: until must be a Date object")}else e.until=t.foreverDate;if(null!=e.wait){if(!(p(e.wait)&&e.wait>=0))throw new Error("bad option: wait must be an integer >= 0")}else e.wait=3e5;if(null!=e.schedule){if("object"!==n(e.schedule))throw new Error("bad option, schedule option must be an object");if(!(null!=(null!=(o=e.schedule)?o.schedules:void 0)&&e.schedule.schedules instanceof Array))throw new Error("bad option, schedule object requires a schedules attribute of type Array.");if(null!=e.schedule.exceptions&&!(e.schedule.exceptions instanceof Array))throw new Error("bad option, schedule object exceptions attribute must be an Array");e.wait={schedules:e.schedule.schedules,exceptions:e.schedule.exceptions}}return this._doc.repeats=e.repeats,this._doc.repeatWait=e.wait,null==(r=this._doc).repeated&&(r.repeated=0),this._doc.repeatUntil=e.until,this},t.prototype.delay=function(e){if(null==e&&(e=0),!(p(e)&&e>=0))throw new Error("Bad parameter, delay requires a non-negative integer.");return this.after(new Date((new Date).valueOf()+e))},t.prototype.after=function(e){var t;if(null==e&&(e=new Date(0)),!("object"===("undefined"==typeof e?"undefined":n(e))&&e instanceof Date))throw new Error("Bad parameter, after requires a valid Date object");return t=e,this._doc.after=t,this},t.prototype.log=function(){var e,n,r,o,l,a,s;if(o=arguments[0],l=3<=arguments.length?_.call(arguments,1,r=arguments.length-1):(r=1,[]),n=arguments[r++],a=g(l,n),l=a[0],n=a[1],null==l.level&&(l.level="info"),"string"!=typeof o)throw new Error("Log message must be a string");if(!("string"==typeof l.level&&(s=l.level,v.call(t.jobLogLevels,s)>=0)))throw new Error("Log level options must be one of Job.jobLogLevels");return null!=l.echo&&(l.echo&&t.jobLogLevels.indexOf(l.level)>=t.jobLogLevels.indexOf(l.echo)&&this._echo("LOG: "+l.level+", "+this._doc._id+" "+this._doc.runId+": "+o,l.level),delete l.echo),null!=this._doc._id?f(this._root,"jobLog",[this._doc._id,this._doc.runId,o,l],n):(null==(e=this._doc).log&&(e.log=[]),this._doc.log.push({time:new Date,runId:null,level:l.level,message:o}),null!=n&&"function"==typeof n&&i(n,null,!0),this)},t.prototype.progress=function(){var e,t,n,r,o,l,a;if(t=arguments[0],a=arguments[1],r=4<=arguments.length?_.call(arguments,2,n=arguments.length-1):(n=2,[]),e=arguments[n++],null==t&&(t=0),null==a&&(a=1),l=g(r,e),r=l[0],e=l[1],!("number"==typeof t&&"number"==typeof a&&t>=0&&a>0&&a>=t))throw new Error("job.progress: something is wrong with progress params: "+this.id+", "+t+" out of "+a);return o={completed:t,total:a,percent:100*t/a},r.echo&&(delete r.echo,this._echo("PROGRESS: "+this._doc._id+" "+this._doc.runId+": "+o.completed+" out of "+o.total+" ("+o.percent+"%)")),null!=this._doc._id&&null!=this._doc.runId?f(this._root,"jobProgress",[this._doc._id,this._doc.runId,t,a,r],e,function(e){return function(t){return t&&(e._doc.progress=o),t}}(this)):null==this._doc._id?(this._doc.progress=o,null!=e&&"function"==typeof e&&i(e,null,!0),this):null},t.prototype.save=function(){var e,t,n,r;return n=2<=arguments.length?_.call(arguments,0,t=arguments.length-1):(t=0,[]),e=arguments[t++],r=g(n,e),n=r[0],e=r[1],f(this._root,"jobSave",[this._doc,n],e,function(e){return function(t){return t&&(e._doc._id=t),t}}(this))},t.prototype.refresh=function(){var e,t,n,r;if(n=2<=arguments.length?_.call(arguments,0,t=arguments.length-1):(t=0,[]),e=arguments[t++],r=g(n,e),n=r[0],e=r[1],null==n.getLog&&(n.getLog=!1),null!=this._doc._id)return f(this._root,"getJob",[this._doc._id,n],e,function(e){return function(t){return null!=t&&(e._doc=t,e)}}(this));throw new Error("Can't call .refresh() on an unsaved job")},t.prototype.done=function(){var e,t,r,o,i;if(i=arguments[0],r=3<=arguments.length?_.call(arguments,1,t=arguments.length-1):(t=1,[]),e=arguments[t++],null==i&&(i={}),"function"==typeof i&&(e=i,i={}),o=g(r,e),r=o[0],e=o[1],null!=i&&"object"===("undefined"==typeof i?"undefined":n(i))||(i={value:i}),null!=this._doc._id&&null!=this._doc.runId)return f(this._root,"jobDone",[this._doc._id,this._doc.runId,i,r],e);throw new Error("Can't call .done() on an unsaved or non-running job");return null},t.prototype.fail=function(){var e,t,r,o,i;if(i=arguments[0],r=3<=arguments.length?_.call(arguments,1,t=arguments.length-1):(t=1,[]),e=arguments[t++],null==i&&(i="No error information provided"),"function"==typeof i&&(e=i,i="No error information provided"),o=g(r,e),r=o[0],e=o[1],null!=i&&"object"===("undefined"==typeof i?"undefined":n(i))||(i={value:i}),null==r.fatal&&(r.fatal=!1),null!=this._doc._id&&null!=this._doc.runId)return f(this._root,"jobFail",[this._doc._id,this._doc.runId,i,r],e);throw new Error("Can't call .fail() on an unsaved or non-running job");return null},t.prototype.pause=function(){var e,t,n,r;return n=2<=arguments.length?_.call(arguments,0,t=arguments.length-1):(t=0,[]),e=arguments[t++],r=g(n,e),n=r[0],e=r[1],null!=this._doc._id?f(this._root,"jobPause",[this._doc._id,n],e):(this._doc.status="paused",null!=e&&"function"==typeof e&&i(e,null,!0),this);return null},t.prototype.resume=function(){var e,t,n,r;return n=2<=arguments.length?_.call(arguments,0,t=arguments.length-1):(t=0,[]),e=arguments[t++],r=g(n,e),n=r[0],e=r[1],null!=this._doc._id?f(this._root,"jobResume",[this._doc._id,n],e):(this._doc.status="waiting",null!=e&&"function"==typeof e&&i(e,null,!0),this);return null},t.prototype.ready=function(){var e,t,n,r;if(n=2<=arguments.length?_.call(arguments,0,t=arguments.length-1):(t=0,[]),e=arguments[t++],r=g(n,e),n=r[0],e=r[1],null==n.force&&(n.force=!1),null!=this._doc._id)return f(this._root,"jobReady",[this._doc._id,n],e);throw new Error("Can't call .ready() on an unsaved job");return null},t.prototype.cancel=function(){var e,t,n,r;if(n=2<=arguments.length?_.call(arguments,0,t=arguments.length-1):(t=0,[]),e=arguments[t++],r=g(n,e),n=r[0],e=r[1],null==n.antecedents&&(n.antecedents=!0),null!=this._doc._id)return f(this._root,"jobCancel",[this._doc._id,n],e);throw new Error("Can't call .cancel() on an unsaved job");return null},t.prototype.restart=function(){var e,t,n,r;if(n=2<=arguments.length?_.call(arguments,0,t=arguments.length-1):(t=0,[]),e=arguments[t++],r=g(n,e),n=r[0],e=r[1],null==n.retries&&(n.retries=1),null==n.dependents&&(n.dependents=!0),null!=this._doc._id)return f(this._root,"jobRestart",[this._doc._id,n],e);throw new Error("Can't call .restart() on an unsaved job");return null},t.prototype.rerun=function(){var e,t,n,r;if(n=2<=arguments.length?_.call(arguments,0,t=arguments.length-1):(t=0,[]),e=arguments[t++],r=g(n,e),n=r[0],e=r[1],null==n.repeats&&(n.repeats=0),null==n.wait&&(n.wait=this._doc.repeatWait),null!=this._doc._id)return f(this._root,"jobRerun",[this._doc._id,n],e);throw new Error("Can't call .rerun() on an unsaved job");return null},t.prototype.remove=function(){var e,t,n,r;if(n=2<=arguments.length?_.call(arguments,0,t=arguments.length-1):(t=0,[]),e=arguments[t++],r=g(n,e),n=r[0],e=r[1],null!=this._doc._id)return f(this._root,"jobRemove",[this._doc._id,n],e);throw new Error("Can't call .remove() on an unsaved job");return null},Object.defineProperties(t.prototype,{doc:{get:function(){function e(){return this._doc}return e}(),set:function(){function e(){return console.warn("Job.doc cannot be directly assigned.")}return e}()},type:{get:function(){function e(){return this._doc.type}return e}(),set:function(){function e(){return console.warn("Job.type cannot be directly assigned.")}return e}()},data:{get:function(){function e(){return this._doc.data}return e}(),set:function(){function e(){return console.warn("Job.data cannot be directly assigned.")}return e}()}}),t}(),null!=("undefined"!=typeof module&&null!==module?module.exports:void 0)&&(module.exports=h)}).call(this),function(){d="object"==typeof d?d:{};var t=d,n,a,s,u,c,p,f,g,b,y,_,v,w,m,j=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},k=function(e,t){function n(){this.constructor=e}for(var r in t)D.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},D={}.hasOwnProperty,J=[].slice;y=function(e){return l.test(e,Number)&&e>=0},_=function(e){return l.test(e,Number)&&e>0},b=function(e){return l.test(e,Number)&&e>=1},u=function(e){return y(e)&&Math.floor(e)===e},s=function(e){return b(e)&&Math.floor(e)===e},m=function(e){return l.test(e,String)&&j.call(h.jobStatuses,e)>=0},g=function(e){return l.test(e,String)&&j.call(h.jobLogLevels,e)>=0},w=function(e){return l.test(e,String)&&j.call(h.jobRetryBackoffMethods,e)>=0},a=function(e){return l.test(e,l.OneOf(String,o.Collection.ObjectID))},f=function(){return[{time:Date,runId:l.OneOf(l.Where(a),null),level:l.Where(g),message:String,data:l.Optional(Object)}]},v=function(){return{completed:l.Where(y),total:l.Where(y),percent:l.Where(y)}},p=function(){return{schedules:[Object],exceptions:l.Optional([Object])}},c=function(){return{_id:l.Optional(l.OneOf(l.Where(a),null)),runId:l.OneOf(l.Where(a),null),type:String,status:l.Where(m),data:Object,result:l.Optional(Object),failures:l.Optional([Object]),priority:l.Integer,depends:[l.Where(a)],resolved:[l.Where(a)],after:Date,updated:Date,workTimeout:l.Optional(l.Where(s)),expiresAfter:l.Optional(Date),log:l.Optional(f()),progress:v(),retries:l.Where(u),retried:l.Where(u),repeatRetries:l.Optional(l.Where(u)),retryUntil:Date,retryWait:l.Where(u),retryBackoff:l.Where(w),repeats:l.Where(u),repeated:l.Where(u),repeatUntil:Date,repeatWait:l.OneOf(l.Where(u),l.Where(p)),created:Date}},n=function(t){function n(t,i){var l;if(this.root=null!=t?t:"queue",null==i&&(i={}),!(this instanceof n))return new n(this.root,i);if(!(this instanceof o.Collection))throw new Error("The global definition of Mongo.Collection has changed since the job-collection package was loaded. Please ensure that any packages that redefine Mongo.Collection are loaded before job-collection.");if(o.Collection!==o.Collection.prototype.constructor)throw new e.Error("The global definition of Mongo.Collection has been patched by another package, and the prototype constructor has been left in an inconsistent state. Please see this link for a workaround: https://github.com/vsivsi/meteor-file-sample-app/issues/2#issuecomment-120780592");this.later=r,null==i.noCollectionSuffix&&(i.noCollectionSuffix=!1),l=this.root,i.noCollectionSuffix||(l+=".jobs"),delete i.noCollectionSuffix,h.setDDP(i.connection,this.root),this._createLogEntry=function(e,t,n,r,o){var i;return null==e&&(e=""),null==t&&(t=null),null==n&&(n="info"),null==r&&(r=new Date),null==o&&(o=null),i={time:r,runId:t,message:e,level:n}},this._logMessage={readied:function(){return this._createLogEntry("Promoted to ready")}.bind(this),forced:function(e){return this._createLogEntry("Dependencies force resolved",null,"warning")}.bind(this),rerun:function(e,t){return this._createLogEntry("Rerunning job",null,"info",new Date,{previousJob:{id:e,runId:t}})}.bind(this),running:function(e){return this._createLogEntry("Job Running",e)}.bind(this),paused:function(){return this._createLogEntry("Job Paused")}.bind(this),resumed:function(){return this._createLogEntry("Job Resumed")}.bind(this),cancelled:function(){return this._createLogEntry("Job Cancelled",null,"warning")}.bind(this),restarted:function(){return this._createLogEntry("Job Restarted")}.bind(this),resubmitted:function(){return this._createLogEntry("Job Resubmitted")}.bind(this),submitted:function(){return this._createLogEntry("Job Submitted")}.bind(this),completed:function(e){return this._createLogEntry("Job Completed",e,"success")}.bind(this),resolved:function(e,t){return this._createLogEntry("Dependency resolved",null,"info",new Date,{dependency:{id:e,runId:t}})}.bind(this),failed:function(e,t,n){var r,o,i;return i=n.value,o="Job Failed with"+(t?" Fatal":"")+" Error"+(null!=i&&"string"==typeof i?": "+i:"")+".",r=t?"danger":"warning",this._createLogEntry(o,e,r)}.bind(this)},n.__super__.constructor.call(this,l,i)}return k(n,t),n.prototype._validNumGTEZero=y,n.prototype._validNumGTZero=_,n.prototype._validNumGTEOne=b,n.prototype._validIntGTEZero=u,n.prototype._validIntGTEOne=s,n.prototype._validStatus=m,n.prototype._validLogLevel=g,n.prototype._validRetryBackoff=w,n.prototype._validId=a,n.prototype._validLog=f,n.prototype._validProgress=v,n.prototype._validJobDoc=c,n.prototype.jobLogLevels=h.jobLogLevels,n.prototype.jobPriorities=h.jobPriorities,n.prototype.jobStatuses=h.jobStatuses,n.prototype.jobStatusCancellable=h.jobStatusCancellable,n.prototype.jobStatusPausable=h.jobStatusPausable,
n.prototype.jobStatusRemovable=h.jobStatusRemovable,n.prototype.jobStatusRestartable=h.jobStatusRestartable,n.prototype.forever=h.forever,n.prototype.foreverDate=h.foreverDate,n.prototype.ddpMethods=h.ddpMethods,n.prototype.ddpPermissionLevels=h.ddpPermissionLevels,n.prototype.ddpMethodPermissions=h.ddpMethodPermissions,n.prototype.processJobs=function(){var e;return e=1<=arguments.length?J.call(arguments,0):[],function(e,t,n){n.prototype=e.prototype;var r=new n,o=e.apply(r,t);return Object(o)===o?o:r}(h.processJobs,[this.root].concat(J.call(e)),function(){})},n.prototype.getJob=function(){var e;return e=1<=arguments.length?J.call(arguments,0):[],h.getJob.apply(h,[this.root].concat(J.call(e)))},n.prototype.getWork=function(){var e;return e=1<=arguments.length?J.call(arguments,0):[],h.getWork.apply(h,[this.root].concat(J.call(e)))},n.prototype.getJobs=function(){var e;return e=1<=arguments.length?J.call(arguments,0):[],h.getJobs.apply(h,[this.root].concat(J.call(e)))},n.prototype.readyJobs=function(){var e;return e=1<=arguments.length?J.call(arguments,0):[],h.readyJobs.apply(h,[this.root].concat(J.call(e)))},n.prototype.cancelJobs=function(){var e;return e=1<=arguments.length?J.call(arguments,0):[],h.cancelJobs.apply(h,[this.root].concat(J.call(e)))},n.prototype.pauseJobs=function(){var e;return e=1<=arguments.length?J.call(arguments,0):[],h.pauseJobs.apply(h,[this.root].concat(J.call(e)))},n.prototype.resumeJobs=function(){var e;return e=1<=arguments.length?J.call(arguments,0):[],h.resumeJobs.apply(h,[this.root].concat(J.call(e)))},n.prototype.restartJobs=function(){var e;return e=1<=arguments.length?J.call(arguments,0):[],h.restartJobs.apply(h,[this.root].concat(J.call(e)))},n.prototype.removeJobs=function(){var e;return e=1<=arguments.length?J.call(arguments,0):[],h.removeJobs.apply(h,[this.root].concat(J.call(e)))},n.prototype.setDDP=function(){var e;return e=1<=arguments.length?J.call(arguments,0):[],h.setDDP.apply(h,e)},n.prototype.startJobServer=function(){var e;return e=1<=arguments.length?J.call(arguments,0):[],h.startJobServer.apply(h,[this.root].concat(J.call(e)))},n.prototype.shutdownJobServer=function(){var e;return e=1<=arguments.length?J.call(arguments,0):[],h.shutdownJobServer.apply(h,[this.root].concat(J.call(e)))},n.prototype.startJobs=function(){var e;return e=1<=arguments.length?J.call(arguments,0):[],h.startJobs.apply(h,[this.root].concat(J.call(e)))},n.prototype.stopJobs=function(){var e;return e=1<=arguments.length?J.call(arguments,0):[],h.stopJobs.apply(h,[this.root].concat(J.call(e)))},n.prototype.jobDocPattern=c(),n.prototype.allow=function(){throw new Error("Server-only function jc.allow() invoked on client.")},n.prototype.deny=function(){throw new Error("Server-only function jc.deny() invoked on client.")},n.prototype.promote=function(){throw new Error("Server-only function jc.promote() invoked on client.")},n.prototype.setLogStream=function(){throw new Error("Server-only function jc.setLogStream() invoked on client.")},n.prototype.logConsole=function(){throw new Error("Client-only function jc.logConsole() invoked on server.")},n.prototype.makeJob=function(){var e;return e=!1,function(){var t;return t=1<=arguments.length?J.call(arguments,0):[],e||(e=!0,console.warn("WARNING: jc.makeJob() has been deprecated. Use new Job(jc, doc) instead.")),function(e,t,n){n.prototype=e.prototype;var r=new n,o=e.apply(r,t);return Object(o)===o?o:r}(h,[this.root].concat(J.call(t)),function(){})}}(),n.prototype.createJob=function(){var e;return e=!1,function(){var t;return t=1<=arguments.length?J.call(arguments,0):[],e||(e=!0,console.warn("WARNING: jc.createJob() has been deprecated. Use new Job(jc, type, data) instead.")),function(e,t,n){n.prototype=e.prototype;var r=new n,o=e.apply(r,t);return Object(o)===o?o:r}(h,[this.root].concat(J.call(t)),function(){})}}(),n.prototype._methodWrapper=function(e,t){var n,r,o;return r=this._toLog,o=null!=(n=this._unblockDDPMethods)&&n,function(){var n,i,l,a;return n=1<=arguments.length?J.call(arguments,0):[],a=null!=(i=this.userId)?i:"[UNAUTHENTICATED]",r(a,e,"params: "+JSON.stringify(n)),o&&this.unblock(),l=t.apply(null,n),r(a,e,"returned: "+JSON.stringify(l)),l}},n.prototype._generateMethods=function(){var e,t,n,r,o,i;o={},r="_DDPMethod_",i=this;for(n in i)t=i[n],n.slice(0,r.length)===r&&(e=n.slice(r.length),o[this.root+"_"+e]=this._methodWrapper(e,t.bind(this)));return o},n.prototype._idsOfDeps=function(e,t,n,r){var o,i,l;return l=[],n&&l.push({depends:{$elemMatch:{$in:e}}}),t&&(o=[],this.find({_id:{$in:e}},{fields:{depends:1},transform:null}).forEach(function(e){var t,n,r,i,l;if(j.call(o,t)<0){for(i=e.depends,l=[],n=0,r=i.length;n<r;n++)t=i[n],l.push(o.push(t));return l}}),o.length>0&&l.push({_id:{$in:o}})),l&&(i=[],this.find({status:{$in:r},$or:l},{fields:{_id:1},transform:null}).forEach(function(e){var t;if(t=e._id,j.call(i,t)<0)return i.push(e._id)})),i},n.prototype._rerun_job=function(e,t,n,r){var o,i,l,a,s;return null==t&&(t=e.repeats-1),null==n&&(n=e.repeatWait),null==r&&(r=e.repeatUntil),o=e._id,a=e.runId,s=new Date,delete e._id,delete e.result,delete e.failures,delete e.expiresAfter,delete e.workTimeout,e.runId=null,e.status="waiting",e.repeatRetries=null!=e.repeatRetries?e.repeatRetries:e.retries+e.retried,e.retries=e.repeatRetries,e.retries>this.forever&&(e.retries=this.forever),e.retryUntil=r,e.retried=0,e.repeats=t,e.repeats>this.forever&&(e.repeats=this.forever),e.repeatUntil=r,e.repeated=e.repeated+1,e.updated=s,e.created=s,e.progress={completed:0,total:1,percent:0},(l=this._logMessage.rerun(o,a))?e.log=[l]:e.log=[],e.after=new Date(s.valueOf()+n),(i=this.insert(e))?(this._DDPMethod_jobReady(i),i):(console.warn("Job rerun/repeat failed to reschedule!",o,a),null)},n.prototype._DDPMethod_startJobServer=function(t){return i(t,l.Optional({})),null==t&&(t={}),this.isSimulation||(this.stopped&&this.stopped!==!0&&e.clearTimeout(this.stopped),this.stopped=!1),!0},n.prototype._DDPMethod_startJobs=function(){var e;return e=!1,function(t){return e||(e=!0,console.warn("Deprecation Warning: jc.startJobs() has been renamed to jc.startJobServer()")),this._DDPMethod_startJobServer(t)}}(),n.prototype._DDPMethod_shutdownJobServer=function(t){return i(t,l.Optional({timeout:l.Optional(l.Where(s))})),null==t&&(t={}),null==t.timeout&&(t.timeout=6e4),this.isSimulation||(this.stopped&&this.stopped!==!0&&e.clearTimeout(this.stopped),this.stopped=e.setTimeout(function(e){return function(){var t,n;if(t=e.find({status:"running"},{transform:null}),n=t.count(),0!==n&&console.warn("Failing "+n+" jobs on queue stop."),t.forEach(function(t){return e._DDPMethod_jobFail(t._id,t.runId,"Running at Job Server shutdown.")}),null!=e.logStream)return e.logStream.end(),e.logStream=null}}(this),t.timeout)),!0},n.prototype._DDPMethod_stopJobs=function(){var e;return e=!1,function(t){return e||(e=!0,console.warn("Deprecation Warning: jc.stopJobs() has been renamed to jc.shutdownJobServer()")),this._DDPMethod_shutdownJobServer(t)}}(),n.prototype._DDPMethod_getJob=function(e,t){var n,r,o,s;return i(e,l.OneOf(l.Where(a),[l.Where(a)])),i(t,l.Optional({getLog:l.Optional(Boolean),getFailures:l.Optional(Boolean)})),null==t&&(t={}),null==t.getLog&&(t.getLog=!1),null==t.getFailures&&(t.getFailures=!1),s=!1,a(e)&&(e=[e],s=!0),0===e.length?null:(o={_private:0},t.getLog||(o.log=0),t.getFailures||(o.failures=0),r=this.find({_id:{$in:e}},{fields:o,transform:null}).fetch(),(null!=r?r.length:void 0)?(null!=this.scrub&&(r=function(){var e,t,o;for(o=[],e=0,t=r.length;e<t;e++)n=r[e],o.push(this.scrub(n));return o}.call(this)),i(r,[c()]),s?r[0]:r):null)},n.prototype._DDPMethod_getWork=function(e,t){var n,r,o,a,u,p,d,h,f;if(i(e,l.OneOf(String,[String])),i(t,l.Optional({maxJobs:l.Optional(l.Where(s)),workTimeout:l.Optional(l.Where(s))})),!this.isSimulation){if(null==t&&(t={}),null==t.maxJobs&&(t.maxJobs=1),this.stopped)return[];for("string"==typeof e&&(e=[e]),f=new Date,r=[],h=this._makeNewID();r.length<t.maxJobs&&(a=this.find({type:{$in:e},status:"ready",runId:null},{sort:{priority:1,retryUntil:1,after:1},limit:t.maxJobs-r.length,fields:{_id:1},transform:null}).map(function(e){return e._id}),(null!=a?a.length:void 0)>0);)p={$set:{status:"running",runId:h,updated:f},$inc:{retries:-1,retried:1}},(u=this._logMessage.running(h))&&(p.$push={log:u}),null!=t.workTimeout?(p.$set.workTimeout=t.workTimeout,p.$set.expiresAfter=new Date(f.valueOf()+t.workTimeout)):(null==p.$unset&&(p.$unset={}),p.$unset.workTimeout="",p.$unset.expiresAfter=""),d=this.update({_id:{$in:a},status:"ready",runId:null},p,{multi:!0}),d>0&&(o=this.find({_id:{$in:a},runId:h},{fields:{log:0,failures:0,_private:0},transform:null}).fetch(),(null!=o?o.length:void 0)>0&&(null!=this.scrub&&(o=function(){var e,t,r;for(r=[],e=0,t=o.length;e<t;e++)n=o[e],r.push(this.scrub(n));return r}.call(this)),i(r,[c()]),r=r.concat(o)));return r}},n.prototype._DDPMethod_jobRemove=function(e,t){var n;return i(e,l.OneOf(l.Where(a),[l.Where(a)])),i(t,l.Optional({})),null==t&&(t={}),a(e)&&(e=[e]),0!==e.length&&(n=this.remove({_id:{$in:e},status:{$in:this.jobStatusRemovable}}),n>0||(console.warn("jobRemove failed"),!1))},n.prototype._DDPMethod_jobPause=function(e,t){var n,r,o,s;return i(e,l.OneOf(l.Where(a),[l.Where(a)])),i(t,l.Optional({})),null==t&&(t={}),a(e)&&(e=[e]),0!==e.length&&(s=new Date,r={$set:{status:"paused",updated:s}},(n=this._logMessage.paused())&&(r.$push={log:n}),o=this.update({_id:{$in:e},status:{$in:this.jobStatusPausable}},r,{multi:!0}),o>0||(console.warn("jobPause failed"),!1))},n.prototype._DDPMethod_jobResume=function(e,t){var n,r,o,s;return i(e,l.OneOf(l.Where(a),[l.Where(a)])),i(t,l.Optional({})),null==t&&(t={}),a(e)&&(e=[e]),0!==e.length&&(s=new Date,r={$set:{status:"waiting",updated:s}},(n=this._logMessage.resumed())&&(r.$push={log:n}),o=this.update({_id:{$in:e},status:"paused",updated:{$ne:s}},r,{multi:!0}),o>0?(this._DDPMethod_jobReady(e),!0):(console.warn("jobResume failed"),!1))},n.prototype._DDPMethod_jobReady=function(e,t){var n,r,o,s,u,c;if(i(e,l.OneOf(l.Where(a),[l.Where(a)])),i(t,l.Optional({force:l.Optional(Boolean),time:l.Optional(Date)})),!this.isSimulation)return s=new Date,null==t&&(t={}),null==t.force&&(t.force=!1),null==t.time&&(t.time=s),a(e)&&(e=[e]),c={status:"waiting",after:{$lte:t.time}},o={$set:{status:"ready",updated:s}},e.length>0&&(c._id={$in:e},o.$set.after=s),r=[],t.force?(o.$set.depends=[],n=this._logMessage.forced(),n&&r.push(n)):c.depends={$size:0},n=this._logMessage.readied(),n&&r.push(n),r.length>0&&(o.$push={log:{$each:r}}),u=this.update(c,o,{multi:!0}),u>0},n.prototype._DDPMethod_jobCancel=function(e,t){var n,r,o,s,u,c;return i(e,l.OneOf(l.Where(a),[l.Where(a)])),i(t,l.Optional({antecedents:l.Optional(Boolean),dependents:l.Optional(Boolean)})),null==t&&(t={}),null==t.antecedents&&(t.antecedents=!1),null==t.dependents&&(t.dependents=!0),a(e)&&(e=[e]),0!==e.length&&(c=new Date,s={$set:{status:"cancelled",runId:null,progress:{completed:0,total:1,percent:0},updated:c}},(o=this._logMessage.cancelled())&&(s.$push={log:o}),u=this.update({_id:{$in:e},status:{$in:this.jobStatusCancellable}},s,{multi:!0}),n=this._idsOfDeps(e,t.antecedents,t.dependents,this.jobStatusCancellable),r=!1,n.length>0&&(r=this._DDPMethod_jobCancel(n,t)),!!(u>0||r)||(console.warn("jobCancel failed"),!1))},n.prototype._DDPMethod_jobRestart=function(e,t){var n,r,o,s,c,p,d;return i(e,l.OneOf(l.Where(a),[l.Where(a)])),i(t,l.Optional({retries:l.Optional(l.Where(u)),until:l.Optional(Date),antecedents:l.Optional(Boolean),dependents:l.Optional(Boolean)})),null==t&&(t={}),null==t.retries&&(t.retries=1),t.retries>this.forever&&(t.retries=this.forever),null==t.dependents&&(t.dependents=!1),null==t.antecedents&&(t.antecedents=!0),a(e)&&(e=[e]),0!==e.length&&(d=new Date,c={_id:{$in:e},status:{$in:this.jobStatusRestartable}},o={$set:{status:"waiting",progress:{completed:0,total:1,percent:0},updated:d},$inc:{retries:t.retries}},(r=this._logMessage.restarted())&&(o.$push={log:r}),null!=t.until&&(o.$set.retryUntil=t.until),s=this.update(c,o,{multi:!0}),p=this._idsOfDeps(e,t.antecedents,t.dependents,this.jobStatusRestartable),n=!1,p.length>0&&(n=this._DDPMethod_jobRestart(p,t)),s>0||n?(this._DDPMethod_jobReady(e),!0):(console.warn("jobRestart failed"),!1))},n.prototype._DDPMethod_jobSave=function(e,t){var n,r,o,a,s,u,p,d;if(i(e,c()),i(t,l.Optional({cancelRepeats:l.Optional(Boolean)})),i(e.status,l.Where(function(e){return l.test(e,String)&&("waiting"===e||"paused"===e)})),null==t&&(t={}),null==t.cancelRepeats&&(t.cancelRepeats=!1),e.repeats>this.forever&&(e.repeats=this.forever),e.retries>this.forever&&(e.retries=this.forever),d=new Date,e.after<d&&(e.after=d),e.retryUntil<d&&(e.retryUntil=d),e.repeatUntil<d&&(e.repeatUntil=d),null!=this.later&&"number"!=typeof e.repeatWait){if(!(a=null!=(p=this.later)?p.schedule(e.repeatWait).next(1,e.after):void 0))return console.warn("No valid available later.js times in schedule after "+e.after),null;if(s=new Date(a),!(s<=e.repeatUntil))return console.warn("No valid available later.js times in schedule before "+e.repeatUntil),null;e.after=s}else if(null==this.later&&"number"!==e.repeatWait)return console.warn("Later.js not loaded..."),null;return e._id?(r={$set:{status:"waiting",data:e.data,retries:e.retries,repeatRetries:null!=e.repeatRetries?e.repeatRetries:e.retries+e.retried,retryUntil:e.retryUntil,retryWait:e.retryWait,retryBackoff:e.retryBackoff,repeats:e.repeats,repeatUntil:e.repeatUntil,repeatWait:e.repeatWait,depends:e.depends,priority:e.priority,after:e.after,updated:d}},(n=this._logMessage.resubmitted())&&(r.$push={log:n}),u=this.update({_id:e._id,status:"paused",runId:null},r),u?(this._DDPMethod_jobReady(e._id),e._id):null):(e.repeats===this.forever&&t.cancelRepeats&&this.find({type:e.type,status:{$in:this.jobStatusCancellable}},{transform:null}).forEach(function(e){return function(t){return e._DDPMethod_jobCancel(t._id,{})}}(this)),e.created=d,e.log.push(this._logMessage.submitted()),o=this.insert(e),this._DDPMethod_jobReady(o),o)},n.prototype._DDPMethod_jobProgress=function(e,t,n,r,o){var s,u,c,p,d;return i(e,l.Where(a)),i(t,l.Where(a)),i(n,l.Where(y)),i(r,l.Where(_)),i(o,l.Optional({})),null==o&&(o={}),this.stopped?null:(p={completed:n,total:r,percent:100*n/r},i(p,l.Where(function(e){var t;return e.total>=e.completed&&0<=(t=e.percent)&&t<=100})),d=new Date,s=this.findOne({_id:e},{fields:{workTimeout:1}}),u={$set:{progress:p,updated:d}},null!=(null!=s?s.workTimeout:void 0)&&(u.$set.expiresAfter=new Date(d.valueOf()+s.workTimeout)),c=this.update({_id:e,runId:t,status:"running"},u),1===c||(console.warn("jobProgress failed"),!1))},n.prototype._DDPMethod_jobLog=function(e,t,n,r){var o,s,u,c,p,d;return i(e,l.Where(a)),i(t,l.OneOf(l.Where(a),null)),i(n,String),i(r,l.Optional({level:l.Optional(l.Where(g)),data:l.Optional(Object)})),null==r&&(r={}),d=new Date,s={time:d,runId:t,level:null!=(p=r.level)?p:"info",message:n},null!=r.data&&(s.data=r.data),o=this.findOne({_id:e},{fields:{status:1,workTimeout:1}}),u={$push:{log:s},$set:{updated:d}},null!=(null!=o?o.workTimeout:void 0)&&"running"===o.status&&(u.$set.expiresAfter=new Date(d.valueOf()+o.workTimeout)),c=this.update({_id:e},u),1===c||(console.warn("jobLog failed"),!1)},n.prototype._DDPMethod_jobRerun=function(e,t){var n;return i(e,l.Where(a)),i(t,l.Optional({repeats:l.Optional(l.Where(u)),until:l.Optional(Date),wait:l.OneOf(l.Where(u),l.Where(p))})),n=this.findOne({_id:e,status:"completed"},{fields:{result:0,failures:0,log:0,progress:0,updated:0,after:0,status:0},transform:null}),null!=n&&(null==t&&(t={}),null==t.repeats&&(t.repeats=0),t.repeats>this.forever&&(t.repeats=this.forever),null==t.until&&(t.until=n.repeatUntil),null==t.wait&&(t.wait=0),this._rerun_job(n,t.repeats,t.wait,t.until))},n.prototype._DDPMethod_jobDone=function(e,t,n,r){var o,s,c,p,d,h,f,g,b,y,_,v,w;return i(e,l.Where(a)),i(t,l.Where(a)),i(n,Object),i(r,l.Optional({repeatId:l.Optional(Boolean),delayDeps:l.Optional(l.Where(u))})),null==r&&(r={repeatId:!1}),v=new Date,c=this.findOne({_id:e,runId:t,status:"running"},{fields:{log:0,failures:0,progress:0,updated:0,after:0,status:0},transform:null}),null==c?(this.isSimulation||console.warn("Running job not found",e,t),!1):(f={$set:{status:"completed",result:n,progress:{completed:1,total:1,percent:100},updated:v}},(h=this._logMessage.completed(t))&&(f.$push={log:h}),y=this.update({_id:e,runId:t,status:"running"},f),1===y?(c.repeats>0&&("number"==typeof c.repeatWait?c.repeatUntil-c.repeatWait>=v&&(d=this._rerun_job(c)):(b=null!=(_=this.later)?_.schedule(c.repeatWait).next(2):void 0,b&&b.length>0&&(s=new Date(b[0]),(s-v>500||b.length>1)&&(s-v<=500&&(s=new Date(b[1])),w=s-v,c.repeatUntil-w>=v&&(d=this._rerun_job(c,c.repeats-1,w)))))),p=this.find({depends:{$all:[e]}},{transform:null,fields:{_id:1}}).fetch().map(function(e){return function(e){return e._id}}(this)),p.length>0&&(f={$pull:{depends:e},$push:{resolved:e}},null!=r.delayDeps&&(o=new Date(v.valueOf()+r.delayDeps),f.$max={after:o}),(h=this._logMessage.resolved(e,t))&&(f.$push.log=h),g=this.update({_id:{$in:p}},f,{multi:!0}),g!==p.length&&console.warn("Not all dependent jobs were resolved "+p.length+" > "+g),this._DDPMethod_jobReady(p)),!r.repeatId||null==d||d):(console.warn("jobDone failed"),!1))},n.prototype._DDPMethod_jobFail=function(e,t,n,r){var o,s,u,c,p,d,h;return i(e,l.Where(a)),i(t,l.Where(a)),i(n,Object),i(r,l.Optional({fatal:l.Optional(Boolean)})),null==r&&(r={}),null==r.fatal&&(r.fatal=!1),h=new Date,s=this.findOne({_id:e,runId:t,status:"running"},{fields:{log:0,failures:0,progress:0,updated:0,after:0,runId:0,status:0},transform:null}),null==s?(this.isSimulation||console.warn("Running job not found",e,t),!1):(o=function(){switch(s.retryBackoff){case"exponential":return new Date(h.valueOf()+s.retryWait*Math.pow(2,s.retried-1));default:return new Date(h.valueOf()+s.retryWait)}}(),p=!r.fatal&&s.retries>0&&s.retryUntil>=o?"waiting":"failed",n.runId=t,c={$set:{status:p,runId:null,after:o,progress:{completed:0,total:1,percent:0},updated:h},$push:{failures:n}},(u=this._logMessage.failed(t,"failed"===p,n))&&(c.$push.log=u),d=this.update({_id:e,runId:t,status:"running"},c),"failed"===p&&1===d&&this.find({depends:{$all:[e]}},{transform:null}).forEach(function(e){return function(t){return e._DDPMethod_jobCancel(t._id)}}(this)),1===d||(console.warn("jobFail failed"),!1))},n}(o.Collection),t.JobCollectionBase=n}.call(this),function(){d="object"==typeof d?d:{};var t=d,n=function(e,t){return function(){return e.apply(t,arguments)}},r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;e.isClient&&(Function.prototype.bind||(Function.prototype.bind=function(e){var t,n,r,o;if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");return t=Array.prototype.slice.call(arguments,1),o=this,r=function(){},n=function(){var n;return n=this instanceof r&&e?this:e,o.apply(n,t.concat(Array.prototype.slice.call(arguments)))},r.prototype=this.prototype,n.prototype=new r,n}),f=function(t){function o(t,r){return null==t&&(t="queue"),null==r&&(r={}),this._toLog=n(this._toLog,this),this instanceof o?(o.__super__.constructor.call(this,t,r),this.logConsole=!1,this.isSimulation=!0,void(null==r.connection?e.methods(this._generateMethods()):r.connection.methods(this._generateMethods()))):new o(t,r)}return r(o,t),o.prototype._toLog=function(e,t,n){if(this.logConsole)return console.log(new Date+", "+e+", "+t+", "+n+"\n")},o}(t.JobCollectionBase))}.call(this),"undefined"==typeof Package&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package["vsivsi:job-collection"]={},{Job:h,JobCollection:f})}();

!function(){var e=Package.meteor.Meteor,o=Package.meteor.global,n=Package.meteor.meteorEnv,i=Package["accounts-base"].Accounts,r=Package.mongo.Mongo,t;(function(){"undefined"==typeof t&&(t={}),t.configurations=new r.Collection("meteor_accounts_loginServiceConfiguration",{_preventAutopublish:!0,connection:e.isClient?i.connection:e.connection}),t.ConfigError=function(o){e.isClient&&!i.loginServicesConfigured()?this.message="Login service configuration not yet loaded":o?this.message="Service "+o+" not configured":this.message="Service not configured"},t.ConfigError.prototype=new Error,t.ConfigError.prototype.name="ServiceConfiguration.ConfigError"}).call(this),"undefined"==typeof Package&&(Package={}),function(e,o){for(var n in o)n in e||(e[n]=o[n])}(Package["service-configuration"]={},{ServiceConfiguration:t})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,o=Package.meteor.meteorEnv,r=Package.check.check,n=Package.check.Match,i=Package.underscore._,a=Package.reload.Reload,c=Package.base64.Base64,l=Package.url.URL,d,u;(function(){var t={};d={},d.showPopup=function(e,t,o){throw new Error("OAuth.showPopup must be implemented on this arch.")},d._loginStyle=function(t,o,r){if(e.isCordova)return"popup";var n=r&&r.loginStyle||o.loginStyle||"popup";if(!i.contains(["popup","redirect"],n))throw new Error("Invalid login style: "+n);if("redirect"===n)try{sessionStorage.setItem("Meteor.oauth.test","test"),sessionStorage.removeItem("Meteor.oauth.test")}catch(e){n="popup"}return n},d._stateParam=function(t,o,r){var n={loginStyle:t,credentialToken:o,isCordova:e.isCordova};return"redirect"===t&&(n.redirectUrl=r||""+window.location),c.encode(JSON.stringify(n))},d.saveDataForRedirect=function(e,t){a._onMigrate("oauth",function(){return[!0,{loginService:e,credentialToken:t}]}),a._migrate(null,{immediateMigration:!0})},d.getDataAfterRedirect=function(){var t=a._migrationData("oauth");if(!t||!t.credentialToken)return null;var o=t.credentialToken,r=d._storageTokenPrefix+o,n;try{n=sessionStorage.getItem(r),sessionStorage.removeItem(r)}catch(t){e._debug("error retrieving credentialSecret",t)}return{loginService:t.loginService,credentialToken:o,credentialSecret:n}},d.launchLogin=function(e){if(!e.loginService)throw new Error("loginService required");if("popup"===e.loginStyle)d.showPopup(e.loginUrl,i.bind(e.credentialRequestCompleteCallback,null,e.credentialToken),e.popupOptions);else{if("redirect"!==e.loginStyle)throw new Error("invalid login style");d.saveDataForRedirect(e.loginService,e.credentialToken),window.location=e.loginUrl}},d.initiateLogin=function(e,t,o,r){d.showPopup(t,i.bind(o,null,e),r)},d._handleCredentialSecret=function(e,o){if(r(e,String),r(o,String),i.has(t,e))throw new Error("Duplicate credential token from OAuth login");t[e]=o},d._retrieveCredentialSecret=function(o){var r=t[o];if(r)delete t[o];else{var n=d._storageTokenPrefix+o;r=e._localStorage.getItem(n),e._localStorage.removeItem(n)}return r}}).call(this),function(){d.showPopup=function(t,o,r){var n=e(t,r&&r.width||650,r&&r.height||331),i=setInterval(function(){try{var e=n.closed||void 0===n.closed}catch(e){return}e&&(clearInterval(i),o())},100)};var e=function(e,t,o){var r="undefined"!=typeof window.screenX?window.screenX:window.screenLeft,n="undefined"!=typeof window.screenY?window.screenY:window.screenTop,i="undefined"!=typeof window.outerWidth?window.outerWidth:document.body.clientWidth,a="undefined"!=typeof window.outerHeight?window.outerHeight:document.body.clientHeight-22,c=r+(i-t)/2,l=n+(a-o)/2,d="width="+t+",height="+o+",left="+c+",top="+l+",scrollbars=yes",u=window.open(e,"Login",d);if("undefined"==typeof u){var s=new Error("The login popup was blocked by the browser");throw s.attemptedUrl=e,s}return u.focus&&u.focus(),u}}.call(this),function(){d._storageTokenPrefix="Meteor.oauth.credentialSecret-",d._redirectUri=function(t,o,r,n){var a=o.loginStyle?null:"close",c=!1,d=!1;if(r&&(r=i.clone(r),c=r.cordova,d=r.android,delete r.cordova,delete r.android,i.isEmpty(r)&&(r=void 0)),e.isServer&&c){var u=process.env.MOBILE_ROOT_URL||__meteor_runtime_config__.ROOT_URL;if(d){var s=Npm.require("url"),g=s.parse(u);"localhost"===g.hostname&&(g.hostname="10.0.2.2",delete g.host),u=s.format(g)}n=i.extend({},n,{rootUrl:u})}return l._constructUrl(e.absoluteUrl("_oauth/"+t,n),a,r)}}.call(this),function(){u=d}.call(this),"undefined"==typeof Package&&(Package={}),function(e,t){for(var o in t)o in e||(e[o]=t[o])}(Package.oauth={},{OAuth:d,Oauth:u})}();

!function(){var e=Package.meteor.Meteor,r=Package.meteor.global,a=Package.meteor.meteorEnv,t=Package.underscore._,o=Package.random.Random,n=Package.check.check,c=Package.check.Match,u=Package["accounts-base"].Accounts,i=Package.oauth.OAuth,l=Package.oauth.Oauth;(function(){u.oauth={};var r={};u.oauth.registerService=function(a){if(t.has(r,a))throw new Error("Duplicate service: "+a);r[a]=!0,e.server&&e.users._ensureIndex("services."+a+".id",{unique:1,sparse:1})},u.oauth.unregisterService=function(e){if(!t.has(r,e))throw new Error("Service not found: "+e);delete r[e]},u.oauth.serviceNames=function(){return t.keys(r)}}).call(this),function(){var r=function(r){return r&&r instanceof e.Error&&r.error===u.LoginCancelledError.numericError?new u.LoginCancelledError(r.reason):r};e.startup(function(){var e=i.getDataAfterRedirect();if(e){var a="login",o=[{oauth:t.pick(e,"credentialToken","credentialSecret")}];u.callLoginMethod({methodArguments:o,userCallback:function(t){t=r(t),u._pageLoadLogin({type:e.loginService,allowed:!t,error:t,methodName:a,methodArguments:o})}})}}),u.oauth.tryLoginAfterPopupClosed=function(e,a){var t=i._retrieveCredentialSecret(e)||null;u.callLoginMethod({methodArguments:[{oauth:{credentialToken:e,credentialSecret:t}}],userCallback:a&&function(e){a(r(e))}})},u.oauth.credentialRequestCompleteHandler=function(e){return function(r){r&&r instanceof Error?e&&e(r):u.oauth.tryLoginAfterPopupClosed(r,e)}}}.call(this),"undefined"==typeof Package&&(Package={}),Package["accounts-oauth"]={}}();

!function(){"undefined"==typeof Package&&(Package={}),Package.oauth2={}}();

!function(){var e=Package.meteor.Meteor,a=Package.meteor.global,t=Package.meteor.meteorEnv,o=Package["accounts-base"].Accounts,i=Package["service-configuration"].ServiceConfiguration,r=Package.oauth.OAuth,n=Package.oauth.Oauth,c=Package.random.Random,s=Package["templating-runtime"].Template,l=Package.blaze.Blaze,u=Package.blaze.UI,g=Package.blaze.Handlebars,p=Package.spacebars.Spacebars,k=Package.htmljs.HTML,f;(function(){(function(){o.oauth.registerService("vk"),e.isClient?e.loginWithVk=function(e,a){a||"function"!=typeof e||(a=e,e=null);var t=o.oauth.credentialRequestCompleteHandler(a);f.requestCredential(e,t)}:o.addAutopublishFields({forLoggedInUser:["services.vk"],forOtherUsers:["services.vk.id","services.vk.nickname","services.vk.gender"]})}).call(this),function(){f={},f.requestCredential=function(a,t){t||"function"!=typeof a||(t=a,a={});var o=i.configurations.findOne({service:"vk"});if(!o)return void(t&&t(new i.ConfigError("Service not configured")));var r=c.id(),s=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i.test(navigator.userAgent),l=s?"touch":"popup",u="";o.scope&&(u=o.scope,a&&a.requestPermissions&&(u+=",")),a&&a.requestPermissions&&(u+=a.requestPermissions.join(","));var g="https://oauth.vk.com/authorize?client_id="+o.appId+"&scope="+u+"&redirect_uri="+e.absoluteUrl("_oauth/vk?close=close",{replaceLocalhost:!1})+"&response_type=code&display="+l+"&state="+r;n.initiateLogin(r,g,t)}}.call(this),function(){s.__checkName("configureLoginServiceDialogForVk"),s.configureLoginServiceDialogForVk=new s("Template.configureLoginServiceDialogForVk",function(){var e=this;return[k.Raw("<p>\n        First, you'll need to register your client on VKontakte. Follow these steps:\n    </p>\n    "),k.OL("\n        ",k.Raw('<li>\n            Visit <a href="http://vk.com/editapp?act=create" target="_blank">http://vk.com/editapp?act=create</a>\n        </li>'),"\n        ",k.LI("\n            Set Callback URL to: ",k.SPAN({class:"url"},l.View(function(){return p.mustache(e.lookup("siteUrl"))})),"\n        "),"\n    ")]})}.call(this),function(){s.configureLoginServiceDialogForVk.siteUrl=function(){return e.absoluteUrl({replaceLocalhost:!0})},s.configureLoginServiceDialogForVk.fields=function(){return[{property:"appId",label:"App Id"},{property:"secret",label:"App Secret"},{property:"scope",label:"Scope"}]}}.call(this)}).call(this),"undefined"==typeof Package&&(Package={}),function(e,a){for(var t in a)t in e||(e[t]=a[t])}(Package["mrt:accounts-vk"]={},{VK:f})}();

!function(){var e=Package.meteor.Meteor,a=Package.meteor.global,o=Package.meteor.meteorEnv,n=Package.oauth.OAuth,i=Package.oauth.Oauth,t=Package["templating-runtime"].Template,r=Package.random.Random,l=Package["service-configuration"].ServiceConfiguration,c=Package.blaze.Blaze,s=Package.blaze.UI,p=Package.blaze.Handlebars,u=Package.spacebars.Spacebars,g=Package.htmljs.HTML,k;(function(){t.__checkName("configureLoginServiceDialogForFacebook"),t.configureLoginServiceDialogForFacebook=new t("Template.configureLoginServiceDialogForFacebook",function(){var e=this;return[g.Raw("<p>\n    First, you'll need to register your app on Facebook. Follow these steps:\n  </p>\n  "),g.OL("\n    ",g.Raw('<li>\n      Visit <a href="https://developers.facebook.com/apps" target="_blank">https://developers.facebook.com/apps</a>\n    </li>'),"\n    ",g.Raw('<li>\n      Click "Add a New App".\n    </li>'),"\n    ",g.Raw('<li>\n      Select "Website" and type a name for your app.\n    </li>'),"\n    ",g.Raw('<li>\n      Click "Create New Facebook App ID".\n    </li>'),"\n    ",g.Raw('<li>\n      Select a category in the dropdown and click "Create App ID".\n    </li>'),"\n    ",g.LI('\n      Under "Tell us about your website", set Site URL to: ',g.SPAN({class:"url"},c.View("lookup:siteUrl",function(){return u.mustache(e.lookup("siteUrl"))})),' and click "Next".\n    '),"\n    ",g.Raw('<li>\n      Click "Skip to Developer Dashboard".\n    </li>'),"\n    ",g.Raw('<li>\n      Go to the "Settings" tab and add an email address under "Contact Email". Click "Save Changes".\n    </li>'),"\n    ",g.Raw('<li>\n      Go to the "Status &amp; Review" tab and select Yes for "Do you want to make this app and\n      all its live features available to the general public?". Click "Confirm".\n    </li>'),"\n    ",g.Raw("<li>\n      Go back to the Dashboard tab.\n    </li>"),"\n  ")]})}).call(this),function(){t.configureLoginServiceDialogForFacebook.helpers({siteUrl:function(){return e.absoluteUrl()}}),t.configureLoginServiceDialogForFacebook.fields=function(){return[{property:"appId",label:"App ID"},{property:"secret",label:"App Secret"}]}}.call(this),function(){k={},k.requestCredential=function(e,a){a||"function"!=typeof e||(a=e,e={});var o=l.configurations.findOne({service:"facebook"});if(!o)return void(a&&a(new l.ConfigError));var i=r.secret(),t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i.test(navigator.userAgent),c=t?"touch":"popup",s="email";e&&e.requestPermissions&&(s=e.requestPermissions.join(","));var p=n._loginStyle("facebook",o,e),u="https://www.facebook.com/v2.2/dialog/oauth?client_id="+o.appId+"&redirect_uri="+n._redirectUri("facebook",o)+"&display="+c+"&scope="+s+"&state="+n._stateParam(p,i,e&&e.redirectUrl);e&&e.auth_type&&(u+="&auth_type="+encodeURIComponent(e.auth_type)),n.launchLogin({loginService:"facebook",loginStyle:p,loginUrl:u,credentialRequestCompleteCallback:a,credentialToken:i})}}.call(this),"undefined"==typeof Package&&(Package={}),function(e,a){for(var o in a)o in e||(e[o]=a[o])}(Package.facebook={},{Facebook:k})}();

!function(){var e=Package.meteor.Meteor,o=Package.meteor.global,a=Package.meteor.meteorEnv,c=Package["accounts-base"].Accounts,t=Package.facebook.Facebook;(function(){c.oauth.registerService("facebook"),e.isClient?e.loginWithFacebook=function(e,o){o||"function"!=typeof e||(o=e,e=null);var a=c.oauth.credentialRequestCompleteHandler(o);t.requestCredential(e,a)}:c.addAutopublishFields({forLoggedInUser:["services.facebook"],forOtherUsers:["services.facebook.id","services.facebook.username","services.facebook.gender"]})}).call(this),"undefined"==typeof Package&&(Package={}),Package["accounts-facebook"]={}}();

!function(){var e=Package.meteor.Meteor,r=Package.meteor.global,n=Package.meteor.meteorEnv,t;(function(){t={extensions:{}};var e=t.forEach=function(e,r){if("function"==typeof e.forEach)e.forEach(r);else{var n,t=e.length;for(n=0;n<t;n++)r(e[n],n,e)}},r=function(e){return e.replace(/[_-]||\s/g,"").toLowerCase()};t.converter=function(e){var n,a,c,o=0,l=[],i=[];if("undefind"!=typeof module&&"undefined"!=typeof exports&&"undefind"!=typeof require){var u=require("fs");if(u){var p=u.readdirSync((__dirname||".")+"/extensions").filter(function(e){return~e.indexOf(".js")}).map(function(e){return e.replace(/\.js$/,"")});t.forEach(p,function(e){var n=r(e);t.extensions[n]=require("./extensions/"+e)})}}if(this.makeHtml=function(e){return n={},a={},c=[],e=e.replace(/~/g,"~T"),e=e.replace(/\$/g,"~D"),e=e.replace(/\r\n/g,"\n"),e=e.replace(/\r/g,"\n"),e="\n\n"+e+"\n\n",e=D(e),e=e.replace(/^[ \t]+$/gm,""),t.forEach(l,function(r){e=g(r,e)}),e=C(e),e=d(e),e=s(e),e=m(e),e=j(e),e=e.replace(/~D/g,"$$"),e=e.replace(/~T/g,"~"),t.forEach(i,function(r){e=g(r,e)}),e},e&&e.extensions){var f=this;t.forEach(e.extensions,function(e){if("string"==typeof e&&(e=t.extensions[r(e)]),"function"!=typeof e)throw"Extension '"+e+"' could not be loaded.  It was either not found or is not a valid extension.";t.forEach(e(f),function(e){e.type?"language"===e.type||"lang"===e.type?l.push(e):"output"!==e.type&&"html"!==e.type||i.push(e):i.push(e)})})}var g=function(e,r){if(e.regex){var n=new RegExp(e.regex,"g");return r.replace(n,e.replace)}if(e.filter)return e.filter(r)},s=function(e){return e+="~0",e=e.replace(/^[ ]{0,3}\[(.+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?[ \t]*\n?[ \t]*(?:(\n*)["(](.+?)[")][ \t]*)?(?:\n+|(?=~0))/gm,function(e,r,t,c,o){return r=r.toLowerCase(),n[r]=A(t),c?c+o:(o&&(a[r]=o.replace(/"/g,"&quot;")),"")}),e=e.replace(/~0/,"")},d=function(e){e=e.replace(/\n/g,"\n\n");var r="p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del|style|section|header|footer|nav|article|aside",n="p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|style|section|header|footer|nav|article|aside";return e=e.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm,h),e=e.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|style|section|header|footer|nav|article|aside)\b[^\r]*?<\/\2>[ \t]*(?=\n+)\n)/gm,h),e=e.replace(/(\n[ ]{0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,h),e=e.replace(/(\n\n[ ]{0,3}<!(--[^\r]*?--\s*)+>[ \t]*(?=\n{2,}))/g,h),e=e.replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,h),e=e.replace(/\n\n/g,"\n")},h=function(e,r){var n=r;return n=n.replace(/\n\n/g,"\n"),n=n.replace(/^\n/,""),n=n.replace(/\n+$/g,""),n="\n\n~K"+(c.push(n)-1)+"K\n\n"},m=function(e){e=y(e);var r=q("<hr />");return e=e.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,r),e=e.replace(/^[ ]{0,2}([ ]?\-[ ]?){3,}[ \t]*$/gm,r),e=e.replace(/^[ ]{0,2}([ ]?\_[ ]?){3,}[ \t]*$/gm,r),e=_(e),e=S(e),e=L(e),e=d(e),e=z(e)},v=function(e){return e=K(e),e=$(e),e=B(e),e=x(e),e=w(e),e=M(e),e=A(e),e=T(e),e=e.replace(/  +\n/g," <br />\n")},$=function(e){var r=/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--.*?--\s*)+>)/gi;return e=e.replace(r,function(e){var r=e.replace(/(.)<\/?code>(?=.)/g,"$1`");return r=I(r,"\\`*_")})},w=function(e){return e=e.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,k),e=e.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\]\([ \t]*()<?(.*?(?:\(.*?\).*?)?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,k),e=e.replace(/(\[([^\[\]]+)\])()()()()()/g,k)},k=function(e,r,t,c,o,l,i,u){void 0==u&&(u="");var p=r,f=t,g=c.toLowerCase(),s=o,d=u;if(""==s)if(""==g&&(g=f.toLowerCase().replace(/ ?\n/g," ")),s="#"+g,void 0!=n[g])s=n[g],void 0!=a[g]&&(d=a[g]);else{if(!(p.search(/\(\s*\)$/m)>-1))return p;s=""}s=I(s,"*_");var h='<a href="'+s+'"';return""!=d&&(d=d.replace(/"/g,"&quot;"),d=I(d,"*_"),h+=' title="'+d+'"'),h+=">"+f+"</a>"},x=function(e){return e=e.replace(/(!\[(.*?)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,E),e=e.replace(/(!\[(.*?)\]\s?\([ \t]*()<?(\S+?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,E)},E=function(e,r,t,c,o,l,i,u){var p=r,f=t,g=c.toLowerCase(),s=o,d=u;if(d||(d=""),""==s){if(""==g&&(g=f.toLowerCase().replace(/ ?\n/g," ")),s="#"+g,void 0==n[g])return p;s=n[g],void 0!=a[g]&&(d=a[g])}f=f.replace(/"/g,"&quot;"),s=I(s,"*_");var h='<img src="'+s+'" alt="'+f+'"';return d=d.replace(/"/g,"&quot;"),d=I(d,"*_"),h+=' title="'+d+'"',h+=" />"},y=function(e){function r(e){return e.replace(/[^\w]/g,"").toLowerCase()}return e=e.replace(/^(.+)[ \t]*\n=+[ \t]*\n+/gm,function(e,n){return q('<h1 id="'+r(n)+'">'+v(n)+"</h1>")}),e=e.replace(/^(.+)[ \t]*\n-+[ \t]*\n+/gm,function(e,n){return q('<h2 id="'+r(n)+'">'+v(n)+"</h2>")}),e=e.replace(/^(\#{1,6})[ \t]*(.+?)[ \t]*\#*\n+/gm,function(e,n,t){var a=n.length;return q("<h"+a+' id="'+r(t)+'">'+v(t)+"</h"+a+">")})},b,_=function(e){e+="~0";var r=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;return o?e=e.replace(r,function(e,r,n){var t=r,a=n.search(/[*+-]/g)>-1?"ul":"ol";t=t.replace(/\n{2,}/g,"\n\n\n");var c=b(t);return c=c.replace(/\s+$/,""),c="<"+a+">"+c+"</"+a+">\n"}):(r=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/g,e=e.replace(r,function(e,r,n,t){var a=r,c=n,o=t.search(/[*+-]/g)>-1?"ul":"ol",c=c.replace(/\n{2,}/g,"\n\n\n"),l=b(c);return l=a+"<"+o+">\n"+l+"</"+o+">\n"})),e=e.replace(/~0/,"")};b=function(e){return o++,e=e.replace(/\n{2,}$/,"\n"),e+="~0",e=e.replace(/(\n)?(^[ \t]*)([*+-]|\d+[.])[ \t]+([^\r]+?(\n{1,2}))(?=\n*(~0|\2([*+-]|\d+[.])[ \t]+))/gm,function(e,r,n,t,a){var c=a,o=r,l=n;return o||c.search(/\n{2,}/)>-1?c=m(H(c)):(c=_(H(c)),c=c.replace(/\n$/,""),c=v(c)),"<li>"+c+"</li>\n"}),e=e.replace(/~0/g,""),o--,e};var S=function(e){return e+="~0",e=e.replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g,function(e,r,n){var t=r,a=n;return t=P(H(t)),t=D(t),t=t.replace(/^\n+/g,""),t=t.replace(/\n+$/g,""),t="<pre><code>"+t+"\n</code></pre>",q(t)+a}),e=e.replace(/~0/,"")},C=function(e){return e+="~0",e=e.replace(/(?:^|\n)```(.*)\n([\s\S]*?)\n```/g,function(e,r,n){var t=r,a=n;return a=P(a),a=D(a),a=a.replace(/^\n+/g,""),a=a.replace(/\n+$/g,""),a="<pre><code"+(t?' class="'+t+'"':"")+">"+a+"\n</code></pre>",q(a)}),e=e.replace(/~0/,"")},q=function(e){return e=e.replace(/(^\n+|\n+$)/g,""),"\n\n~K"+(c.push(e)-1)+"K\n\n"},K=function(e){return e=e.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(e,r,n,t,a){var c=t;return c=c.replace(/^([ \t]*)/g,""),c=c.replace(/[ \t]*$/g,""),c=P(c),r+"<code>"+c+"</code>"})},P=function(e){return e=e.replace(/&/g,"&amp;"),e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"),e=I(e,"*_{}[]\\",!1)},T=function(e){return e=e.replace(/(\*\*|__)(?=\S)([^\r]*?\S[*_]*)\1/g,"<strong>$2</strong>"),e=e.replace(/(\*|_)(?=\S)([^\r]*?\S)\1/g,"<em>$2</em>")},L=function(e){return e=e.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(e,r){var n=r;return n=n.replace(/^[ \t]*>[ \t]?/gm,"~0"),n=n.replace(/~0/g,""),n=n.replace(/^[ \t]+$/gm,""),n=m(n),n=n.replace(/(^|\n)/g,"$1  "),n=n.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(e,r){var n=r;return n=n.replace(/^  /gm,"~0"),n=n.replace(/~0/g,"")}),q("<blockquote>\n"+n+"\n</blockquote>")})},z=function(e){e=e.replace(/^\n+/g,""),e=e.replace(/\n+$/g,"");for(var r=e.split(/\n{2,}/g),n=[],t=r.length,a=0;a<t;a++){var o=r[a];o.search(/~K(\d+)K/g)>=0?n.push(o):o.search(/\S/)>=0&&(o=v(o),o=o.replace(/^([ \t]*)/g,"<p>"),o+="</p>",n.push(o))}t=n.length;for(var a=0;a<t;a++)for(;n[a].search(/~K(\d+)K/)>=0;){var l=c[RegExp.$1];l=l.replace(/\$/g,"$$$$"),n[a]=n[a].replace(/~K\d+K/,l)}return n.join("\n\n")},A=function(e){return e=e.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),e=e.replace(/<(?![a-z\/?\$!])/gi,"&lt;")},B=function(e){return e=e.replace(/\\(\\)/g,O),e=e.replace(/\\([`*_{}\[\]()>#+-.!])/g,O)},M=function(e){return e=e.replace(/<((https?|ftp|dict):[^'">\s]+)>/gi,'<a href="$1">$1</a>'),e=e.replace(/<(?:mailto:)?([-.\w]+\@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,function(e,r){return R(j(r))})},R=function(e){var r=[function(e){return"&#"+e.charCodeAt(0)+";"},function(e){return"&#x"+e.charCodeAt(0).toString(16)+";"},function(e){return e}];return e="mailto:"+e,e=e.replace(/./g,function(e){if("@"==e)e=r[Math.floor(2*Math.random())](e);else if(":"!=e){var n=Math.random();e=n>.9?r[2](e):n>.45?r[1](e):r[0](e)}return e}),e='<a href="'+e+'">'+e+"</a>",e=e.replace(/">.+:/g,'">')},j=function(e){return e=e.replace(/~E(\d+)E/g,function(e,r){var n=parseInt(r);return String.fromCharCode(n)})},H=function(e){return e=e.replace(/^(\t|[ ]{1,4})/gm,"~0"),e=e.replace(/~0/g,"")},D=function(e){return e=e.replace(/\t(?=\t)/g,"    "),e=e.replace(/\t/g,"~A~B"),e=e.replace(/~B(.+?)~A/g,function(e,r,n){for(var t=r,a=4-t.length%4,c=0;c<a;c++)t+=" ";return t}),e=e.replace(/~A/g,"    "),e=e.replace(/~B/g,"")},I=function(e,r,n){var t="(["+r.replace(/([\[\]\\])/g,"\\$1")+"])";n&&(t="\\\\"+t);var a=new RegExp(t,"g");return e=e.replace(a,O)},O=function(e,r){var n=r.charCodeAt(0);return"~E"+n+"E"}},"undefined"!=typeof module&&(module.exports=t),"function"==typeof define&&define.amd&&define("showdown",function(){return t})}).call(this),function(){if(Package.templating){var e=Package.templating.Template,r=Package.blaze.Blaze,n=Package.htmljs.HTML;r.Template.registerHelper("markdown",new e("markdown",function(){var e=this,a="";e.templateContentBlock&&(a=r._toText(e.templateContentBlock,n.TEXTMODE.STRING));var c=new t.converter;return n.Raw(c.makeHtml(a))}))}}.call(this),"undefined"==typeof Package&&(Package={}),function(e,r){for(var n in r)n in e||(e[n]=r[n])}(Package.markdown={},{Showdown:t})}();

!function(){var n=Package.meteor.Meteor,t=Package.meteor.global,e=Package.meteor.meteorEnv;(function(){(function(){!function(){function n(n){return n&&(n.ownerDocument||n.document||n).documentElement}function t(n){return n&&(n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView)}function e(n,t){return n<t?-1:n>t?1:n>=t?0:NaN}function r(n){return null===n?NaN:+n}function i(n){return!isNaN(n)}function u(n){return{left:function(t,e,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);r<i;){var u=r+i>>>1;n(t[u],e)<0?r=u+1:i=u}return r},right:function(t,e,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);r<i;){var u=r+i>>>1;n(t[u],e)>0?i=u:r=u+1}return r}}}function o(n){return n.length}function a(n){for(var t=1;n*t%1;)t*=10;return t}function l(n,t){for(var e in t)Object.defineProperty(n.prototype,e,{value:t[e],enumerable:!1})}function c(){this._=Object.create(null)}function f(n){return(n+="")===Mo||n[0]===xo?xo+n:n}function s(n){return(n+="")[0]===xo?n.slice(1):n}function h(n){return f(n)in this._}function p(n){return(n=f(n))in this._&&delete this._[n]}function g(){var n=[];for(var t in this._)n.push(s(t));return n}function v(){var n=0;for(var t in this._)++n;return n}function d(){for(var n in this._)return!1;return!0}function y(){this._=Object.create(null)}function m(n){return n}function M(n,t,e){return function(){var r=e.apply(t,arguments);return r===t?n:r}}function x(n,t){if(t in n)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var e=0,r=bo.length;e<r;++e){var i=bo[e]+t;if(i in n)return i}}function b(){}function _(){}function w(n){function t(){for(var t=e,r=-1,i=t.length,u;++r<i;)(u=t[r].on)&&u.apply(this,arguments);return n}var e=[],r=new c;return t.on=function(t,i){var u=r.get(t),o;return arguments.length<2?u&&u.on:(u&&(u.on=null,e=e.slice(0,o=e.indexOf(u)).concat(e.slice(o+1)),r.remove(t)),i&&e.push(r.set(t,{on:i})),n)},t}function k(){ao.event.preventDefault()}function S(){for(var n=ao.event,t;t=n.sourceEvent;)n=t;return n}function N(n){for(var t=new _,e=0,r=arguments.length;++e<r;)t[arguments[e]]=w(t);return t.of=function(e,r){return function(i){try{var u=i.sourceEvent=ao.event;i.target=n,ao.event=i,t[i.type].apply(e,r)}finally{ao.event=u}}},t}function E(n){return wo(n,Eo),n}function A(n){return"function"==typeof n?n:function(){return ko(n,this)}}function C(n){return"function"==typeof n?n:function(){return So(n,this)}}function z(n,t){function e(){this.removeAttribute(n)}function r(){this.removeAttributeNS(n.space,n.local)}function i(){this.setAttribute(n,t)}function u(){this.setAttributeNS(n.space,n.local,t)}function o(){var e=t.apply(this,arguments);null==e?this.removeAttribute(n):this.setAttribute(n,e)}function a(){var e=t.apply(this,arguments);null==e?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,e)}return n=ao.ns.qualify(n),null==t?n.local?r:e:"function"==typeof t?n.local?a:o:n.local?u:i}function L(n){return n.trim().replace(/\s+/g," ")}function q(n){return new RegExp("(?:^|\\s+)"+ao.requote(n)+"(?:\\s+|$)","g")}function T(n){return(n+"").trim().split(/^|\s+/)}function R(n,t){function e(){for(var e=-1;++e<i;)n[e](this,t)}function r(){for(var e=-1,r=t.apply(this,arguments);++e<i;)n[e](this,r)}n=T(n).map(D);var i=n.length;return"function"==typeof t?r:e}function D(n){var t=q(n);return function(e,r){if(i=e.classList)return r?i.add(n):i.remove(n);var i=e.getAttribute("class")||"";r?(t.lastIndex=0,t.test(i)||e.setAttribute("class",L(i+" "+n))):e.setAttribute("class",L(i.replace(t," ")))}}function P(n,t,e){function r(){this.style.removeProperty(n)}function i(){this.style.setProperty(n,t,e)}function u(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(n):this.style.setProperty(n,r,e)}return null==t?r:"function"==typeof t?u:i}function j(n,t){function e(){delete this[n]}function r(){this[n]=t}function i(){var e=t.apply(this,arguments);null==e?delete this[n]:this[n]=e}return null==t?e:"function"==typeof t?i:r}function U(n){function t(){var t=this.ownerDocument,e=this.namespaceURI;return e?t.createElementNS(e,n):t.createElement(n)}function e(){return this.ownerDocument.createElementNS(n.space,n.local)}return"function"==typeof n?n:(n=ao.ns.qualify(n)).local?e:t}function F(){var n=this.parentNode;n&&n.removeChild(this)}function H(n){return{__data__:n}}function O(n){return function(){return No(this,n)}}function I(n){return arguments.length||(n=e),function(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}}function Y(n,t){for(var e=0,r=n.length;e<r;e++)for(var i=n[e],u=0,o=i.length,a;u<o;u++)(a=i[u])&&t(a,u,e);return n}function Z(n){return wo(n,Co),n}function V(n){var t,e;return function(r,i,u){var o=n[u].update,a=o.length,l;for(u!=e&&(e=u,t=0),i>=t&&(t=i+1);!(l=o[t])&&++t<a;);return l}}function X(n,t,e){function r(){var t=this[o];t&&(this.removeEventListener(n,t,t.$),delete this[o])}function i(){var i=l(t,co(arguments));r.call(this),this.addEventListener(n,this[o]=i,i.$=e),i._=t}function u(){var t=new RegExp("^__on([^.]+)"+ao.requote(n)+"$"),e;for(var r in this)if(e=r.match(t)){var i=this[r];this.removeEventListener(e[1],i,i.$),delete this[r]}}var o="__on"+n,a=n.indexOf("."),l=$;a>0&&(n=n.slice(0,a));var c=zo.get(n);return c&&(n=c,l=B),a?t?i:r:t?b:u}function $(n,t){return function(e){var r=ao.event;ao.event=e,t[0]=this.__data__;try{n.apply(this,t)}finally{ao.event=r}}}function B(n,t){var e=$(n,t);return function(n){var t=this,r=n.relatedTarget;r&&(r===t||8&r.compareDocumentPosition(t))||e.call(t,n)}}function W(e){var r=".dragsuppress-"+ ++qo,i="click"+r,u=ao.select(t(e)).on("touchmove"+r,k).on("dragstart"+r,k).on("selectstart"+r,k);if(null==Lo&&(Lo=!("onselectstart"in e)&&x(e.style,"userSelect")),Lo){var o=n(e).style,a=o[Lo];o[Lo]="none"}return function(n){if(u.on(r,null),Lo&&(o[Lo]=a),n){var t=function(){u.on(i,null)};u.on(i,function(){k(),t()},!0),setTimeout(t,0)}}}function J(n,e){e.changedTouches&&(e=e.changedTouches[0]);var r=n.ownerSVGElement||n;if(r.createSVGPoint){var i=r.createSVGPoint();if(To<0){var u=t(n);if(u.scrollX||u.scrollY){r=ao.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var o=r[0][0].getScreenCTM();To=!(o.f||o.e),r.remove()}}return To?(i.x=e.pageX,i.y=e.pageY):(i.x=e.clientX,i.y=e.clientY),i=i.matrixTransform(n.getScreenCTM().inverse()),[i.x,i.y]}var a=n.getBoundingClientRect();return[e.clientX-a.left-n.clientLeft,e.clientY-a.top-n.clientTop]}function G(){return ao.event.changedTouches[0].identifier}function K(n){return n>0?1:n<0?-1:0}function Q(n,t,e){return(t[0]-n[0])*(e[1]-n[1])-(t[1]-n[1])*(e[0]-n[0])}function nn(n){return n>1?0:n<-1?Po:Math.acos(n)}function tn(n){return n>1?Fo:n<-1?-Fo:Math.asin(n)}function en(n){return((n=Math.exp(n))-1/n)/2}function rn(n){return((n=Math.exp(n))+1/n)/2}function un(n){return((n=Math.exp(2*n))-1)/(n+1)}function on(n){return(n=Math.sin(n/2))*n}function an(){}function ln(n,t,e){return this instanceof ln?(this.h=+n,this.s=+t,void(this.l=+e)):arguments.length<2?n instanceof ln?new ln(n.h,n.s,n.l):_n(""+n,wn,ln):new ln(n,t,e)}function cn(n,t,e){function r(n){return n>360?n-=360:n<0&&(n+=360),n<60?u+(o-u)*n/60:n<180?o:n<240?u+(o-u)*(240-n)/60:u}function i(n){return Math.round(255*r(n))}var u,o;return n=isNaN(n)?0:(n%=360)<0?n+360:n,t=isNaN(t)?0:t<0?0:t>1?1:t,e=e<0?0:e>1?1:e,o=e<=.5?e*(1+t):e+t-e*t,u=2*e-o,new mn(i(n+120),i(n),i(n-120))}function fn(n,t,e){return this instanceof fn?(this.h=+n,this.c=+t,void(this.l=+e)):arguments.length<2?n instanceof fn?new fn(n.h,n.c,n.l):n instanceof hn?gn(n.l,n.a,n.b):gn((n=kn((n=ao.rgb(n)).r,n.g,n.b)).l,n.a,n.b):new fn(n,t,e)}function sn(n,t,e){return isNaN(n)&&(n=0),isNaN(t)&&(t=0),new hn(e,Math.cos(n*=Ho)*t,Math.sin(n)*t)}function hn(n,t,e){return this instanceof hn?(this.l=+n,this.a=+t,void(this.b=+e)):arguments.length<2?n instanceof hn?new hn(n.l,n.a,n.b):n instanceof fn?sn(n.h,n.c,n.l):kn((n=mn(n)).r,n.g,n.b):new hn(n,t,e)}function pn(n,t,e){var r=(n+16)/116,i=r+t/500,u=r-e/200;return i=vn(i)*Go,r=vn(r)*Ko,u=vn(u)*Qo,new mn(yn(3.2404542*i-1.5371385*r-.4985314*u),yn(-.969266*i+1.8760108*r+.041556*u),yn(.0556434*i-.2040259*r+1.0572252*u))}function gn(n,t,e){return n>0?new fn(Math.atan2(e,t)*Oo,Math.sqrt(t*t+e*e),n):new fn(NaN,NaN,n)}function vn(n){return n>.206893034?n*n*n:(n-4/29)/7.787037}function dn(n){return n>.008856?Math.pow(n,1/3):7.787037*n+4/29}function yn(n){return Math.round(255*(n<=.00304?12.92*n:1.055*Math.pow(n,1/2.4)-.055))}function mn(n,t,e){return this instanceof mn?(this.r=~~n,this.g=~~t,void(this.b=~~e)):arguments.length<2?n instanceof mn?new mn(n.r,n.g,n.b):_n(""+n,mn,cn):new mn(n,t,e)}function Mn(n){return new mn(n>>16,n>>8&255,255&n)}function xn(n){return Mn(n)+""}function bn(n){return n<16?"0"+Math.max(0,n).toString(16):Math.min(255,n).toString(16)}function _n(n,t,e){var r=0,i=0,u=0,o,a,l;if(o=/([a-z]+)\((.*)\)/.exec(n=n.toLowerCase()))switch(a=o[2].split(","),o[1]){case"hsl":return e(parseFloat(a[0]),parseFloat(a[1])/100,parseFloat(a[2])/100);case"rgb":return t(Nn(a[0]),Nn(a[1]),Nn(a[2]))}return(l=ea.get(n))?t(l.r,l.g,l.b):(null==n||"#"!==n.charAt(0)||isNaN(l=parseInt(n.slice(1),16))||(4===n.length?(r=(3840&l)>>4,r=r>>4|r,i=240&l,i=i>>4|i,u=15&l,u=u<<4|u):7===n.length&&(r=(16711680&l)>>16,i=(65280&l)>>8,u=255&l)),t(r,i,u))}function wn(n,t,e){var r=Math.min(n/=255,t/=255,e/=255),i=Math.max(n,t,e),u=i-r,o,a,l=(i+r)/2;return u?(a=l<.5?u/(i+r):u/(2-i-r),o=n==i?(t-e)/u+(t<e?6:0):t==i?(e-n)/u+2:(n-t)/u+4,o*=60):(o=NaN,a=l>0&&l<1?0:o),new ln(o,a,l)}function kn(n,t,e){n=Sn(n),t=Sn(t),e=Sn(e);var r=dn((.4124564*n+.3575761*t+.1804375*e)/Go),i=dn((.2126729*n+.7151522*t+.072175*e)/Ko),u=dn((.0193339*n+.119192*t+.9503041*e)/Qo);return hn(116*i-16,500*(r-i),200*(i-u))}function Sn(n){return(n/=255)<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4)}function Nn(n){var t=parseFloat(n);return"%"===n.charAt(n.length-1)?Math.round(2.55*t):t}function En(n){return"function"==typeof n?n:function(){return n}}function An(n){return function(t,e,r){return 2===arguments.length&&"function"==typeof e&&(r=e,e=null),Cn(t,e,n,r)}}function Cn(n,t,e,r){function i(){var n=l.status,t;if(!n&&Ln(l)||n>=200&&n<300||304===n){try{t=e.call(u,l)}catch(n){return void o.error.call(u,n)}o.load.call(u,t)}else o.error.call(u,l)}var u={},o=ao.dispatch("beforesend","progress","load","error"),a={},l=new XMLHttpRequest,c=null;return!this.XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(n)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=i:l.onreadystatechange=function(){l.readyState>3&&i()},l.onprogress=function(n){var t=ao.event;ao.event=n;try{o.progress.call(u,l)}finally{ao.event=t}},u.header=function(n,t){return n=(n+"").toLowerCase(),arguments.length<2?a[n]:(null==t?delete a[n]:a[n]=t+"",u)},u.mimeType=function(n){return arguments.length?(t=null==n?null:n+"",u):t},u.responseType=function(n){return arguments.length?(c=n,u):c},u.response=function(n){return e=n,u},["get","post"].forEach(function(n){u[n]=function(){return u.send.apply(u,[n].concat(co(arguments)))}}),u.send=function(e,r,i){if(2===arguments.length&&"function"==typeof r&&(i=r,r=null),l.open(e,n,!0),null==t||"accept"in a||(a.accept=t+",*/*"),l.setRequestHeader)for(var f in a)l.setRequestHeader(f,a[f]);return null!=t&&l.overrideMimeType&&l.overrideMimeType(t),null!=c&&(l.responseType=c),null!=i&&u.on("error",i).on("load",function(n){i(null,n)}),o.beforesend.call(u,l),l.send(null==r?null:r),u},u.abort=function(){return l.abort(),u},ao.rebind(u,o,"on"),null==r?u:u.get(zn(r))}function zn(n){return 1===n.length?function(t,e){n(null==t?e:null)}:n}function Ln(n){var t=n.responseType;return t&&"text"!==t?n.response:n.responseText}function qn(n,t,e){var r=arguments.length;r<2&&(t=0),r<3&&(e=Date.now());var i=e+t,u={c:n,t:i,n:null};return ia?ia.n=u:ra=u,ia=u,ua||(oa=clearTimeout(oa),ua=1,aa(Tn)),u}function Tn(){var n=Rn(),t=Dn()-n;t>24?(isFinite(t)&&(clearTimeout(oa),oa=setTimeout(Tn,t)),ua=0):(ua=1,aa(Tn))}function Rn(){for(var n=Date.now(),t=ra;t;)n>=t.t&&t.c(n-t.t)&&(t.c=null),t=t.n;return n}function Dn(){for(var n,t=ra,e=1/0;t;)t.c?(t.t<e&&(e=t.t),t=(n=t).n):t=n?n.n=t.n:ra=t.n;return ia=n,e}function Pn(n,t){return t-(n?Math.ceil(Math.log(n)/Math.LN10):1)}function jn(n,t){var e=Math.pow(10,3*mo(8-t));return{scale:t>8?function(n){return n/e}:function(n){return n*e},symbol:n}}function Un(n){var t=n.decimal,e=n.thousands,r=n.grouping,i=n.currency,u=r&&e?function(n,t){for(var i=n.length,u=[],o=0,a=r[0],l=0;i>0&&a>0&&(l+a+1>t&&(a=Math.max(1,t-l)),u.push(n.substring(i-=a,i+a)),!((l+=a+1)>t));)a=r[o=(o+1)%r.length];return u.reverse().join(e)}:m;return function(n){var e=ca.exec(n),r=e[1]||" ",o=e[2]||">",a=e[3]||"-",l=e[4]||"",c=e[5],f=+e[6],s=e[7],h=e[8],p=e[9],g=1,v="",d="",y=!1,m=!0;switch(h&&(h=+h.substring(1)),(c||"0"===r&&"="===o)&&(c=r="0",o="="),p){case"n":s=!0,p="g";break;case"%":g=100,d="%",p="f";break;case"p":g=100,d="%",p="r";break;case"b":case"o":case"x":case"X":"#"===l&&(v="0"+p.toLowerCase());case"c":m=!1;case"d":y=!0,h=0;break;case"s":g=-1,p="r"}"$"===l&&(v=i[0],d=i[1]),"r"!=p||h||(p="g"),null!=h&&("g"==p?h=Math.max(1,Math.min(21,h)):"e"!=p&&"f"!=p||(h=Math.max(0,Math.min(20,h)))),p=fa.get(p)||Fn;var M=c&&s;return function(n){var e=d;if(y&&n%1)return"";var i=n<0||0===n&&1/n<0?(n=-n,"-"):"-"===a?"":a;if(g<0){var l=ao.formatPrefix(n,h);n=l.scale(n),e=l.symbol+d}else n*=g;n=p(n,h);var x=n.lastIndexOf("."),b,_;if(x<0){var w=m?n.lastIndexOf("e"):-1;w<0?(b=n,_=""):(b=n.substring(0,w),_=n.substring(w))}else b=n.substring(0,x),_=t+n.substring(x+1);!c&&s&&(b=u(b,1/0));var k=v.length+b.length+_.length+(M?0:i.length),S=k<f?new Array(k=f-k+1).join(r):"";return M&&(b=u(S+b,S.length?f-_.length:1/0)),i+=v,n=b+_,("<"===o?i+n+S:">"===o?S+i+n:"^"===o?S.substring(0,k>>=1)+i+n+S.substring(k):i+(M?n:S+n))+e}}}function Fn(n){return n+""}function Hn(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function On(n,t,e){function r(t){var e=n(t),r=u(e,1);return t-e<r-t?e:r}function i(e){return t(e=n(new ha(e-1)),1),e}function u(n,e){return t(n=new ha((+n)),e),n}function o(n,r,u){var o=i(n),a=[];if(u>1)for(;o<r;)e(o)%u||a.push(new Date((+o))),t(o,1);else for(;o<r;)a.push(new Date((+o))),t(o,1);return a}function a(n,t,e){try{ha=Hn;var r=new Hn;return r._=n,o(r,t,e)}finally{ha=Date}}n.floor=n,n.round=r,n.ceil=i,n.offset=u,n.range=o;var l=n.utc=In(n);return l.floor=l,l.round=In(r),l.ceil=In(i),l.offset=In(u),l.range=a,n}function In(n){return function(t,e){try{ha=Hn;var r=new Hn;return r._=t,n(r,e)._}finally{ha=Date}}}function Yn(n){function t(n){function t(t){for(var e=[],i=-1,u=0,o,a,l;++i<r;)37===n.charCodeAt(i)&&(e.push(n.slice(u,i)),null!=(a=ga[o=n.charAt(++i)])&&(o=n.charAt(++i)),(l=A[o])&&(o=l(t,null==a?"e"===o?" ":"0":a)),e.push(o),u=i+1);return e.push(n.slice(u,i)),e.join("")}var r=n.length;return t.parse=function(t){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},i=e(r,n,t,0);if(i!=t.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var u=null!=r.Z&&ha!==Hn,o=new(u?Hn:ha);return"j"in r?o.setFullYear(r.y,0,r.j):"W"in r||"U"in r?("w"in r||(r.w="W"in r?1:0),o.setFullYear(r.y,0,1),o.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(o.getDay()+5)%7:r.w+7*r.U-(o.getDay()+6)%7)):o.setFullYear(r.y,r.m,r.d),o.setHours(r.H+(r.Z/100|0),r.M+r.Z%100,r.S,r.L),u?o._:o},t.toString=function(){return n},t}function e(n,t,e,r){for(var i,u,o,a=0,l=t.length,c=e.length;a<l;){if(r>=c)return-1;if(i=t.charCodeAt(a++),37===i){if(o=t.charAt(a++),u=C[o in ga?t.charAt(a++):o],!u||(r=u(n,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}function r(n,t,e){_.lastIndex=0;var r=_.exec(t.slice(e));return r?(n.w=w.get(r[0].toLowerCase()),e+r[0].length):-1}function i(n,t,e){x.lastIndex=0;var r=x.exec(t.slice(e));return r?(n.w=b.get(r[0].toLowerCase()),e+r[0].length):-1}function u(n,t,e){N.lastIndex=0;var r=N.exec(t.slice(e));return r?(n.m=E.get(r[0].toLowerCase()),e+r[0].length):-1}function o(n,t,e){k.lastIndex=0;var r=k.exec(t.slice(e));return r?(n.m=S.get(r[0].toLowerCase()),e+r[0].length):-1}function a(n,t,r){return e(n,A.c.toString(),t,r)}function l(n,t,r){return e(n,A.x.toString(),t,r)}function c(n,t,r){return e(n,A.X.toString(),t,r)}function f(n,t,e){var r=M.get(t.slice(e,e+=2).toLowerCase());return null==r?-1:(n.p=r,e)}var s=n.dateTime,h=n.date,p=n.time,g=n.periods,v=n.days,d=n.shortDays,y=n.months,m=n.shortMonths;t.utc=function(n){function e(n){try{ha=Hn;var t=new ha;return t._=n,r(t)}finally{ha=Date}}var r=t(n);return e.parse=function(n){try{ha=Hn;var t=r.parse(n);return t&&t._}finally{ha=Date}},e.toString=r.toString,e},t.multi=t.utc.multi=ct;var M=ao.map(),x=Vn(v),b=Xn(v),_=Vn(d),w=Xn(d),k=Vn(y),S=Xn(y),N=Vn(m),E=Xn(m);g.forEach(function(n,t){M.set(n.toLowerCase(),t)});var A={a:function(n){return d[n.getDay()]},A:function(n){return v[n.getDay()]},b:function(n){return m[n.getMonth()]},B:function(n){return y[n.getMonth()]},c:t(s),d:function(n,t){return Zn(n.getDate(),t,2)},e:function(n,t){return Zn(n.getDate(),t,2)},H:function(n,t){return Zn(n.getHours(),t,2)},I:function(n,t){return Zn(n.getHours()%12||12,t,2)},j:function(n,t){return Zn(1+sa.dayOfYear(n),t,3)},L:function(n,t){return Zn(n.getMilliseconds(),t,3)},m:function(n,t){return Zn(n.getMonth()+1,t,2)},M:function(n,t){return Zn(n.getMinutes(),t,2)},p:function(n){return g[+(n.getHours()>=12)]},S:function(n,t){return Zn(n.getSeconds(),t,2)},U:function(n,t){return Zn(sa.sundayOfYear(n),t,2)},w:function(n){return n.getDay()},W:function(n,t){return Zn(sa.mondayOfYear(n),t,2)},x:t(h),X:t(p),y:function(n,t){return Zn(n.getFullYear()%100,t,2)},Y:function(n,t){return Zn(n.getFullYear()%1e4,t,4)},Z:at,"%":function(){return"%"}},C={a:r,A:i,b:u,B:o,c:a,d:tt,e:tt,H:rt,I:rt,j:et,L:ot,m:nt,M:it,p:f,S:ut,U:Bn,w:$n,W:Wn,x:l,X:c,y:Gn,Y:Jn,Z:Kn,"%":lt};return t}function Zn(n,t,e){var r=n<0?"-":"",i=(r?-n:n)+"",u=i.length;return r+(u<e?new Array(e-u+1).join(t)+i:i)}function Vn(n){return new RegExp("^(?:"+n.map(ao.requote).join("|")+")","i")}function Xn(n){for(var t=new c,e=-1,r=n.length;++e<r;)t.set(n[e].toLowerCase(),e);return t}function $n(n,t,e){va.lastIndex=0;var r=va.exec(t.slice(e,e+1));return r?(n.w=+r[0],e+r[0].length):-1}function Bn(n,t,e){va.lastIndex=0;var r=va.exec(t.slice(e));return r?(n.U=+r[0],e+r[0].length):-1}function Wn(n,t,e){va.lastIndex=0;var r=va.exec(t.slice(e));return r?(n.W=+r[0],e+r[0].length):-1}function Jn(n,t,e){va.lastIndex=0;var r=va.exec(t.slice(e,e+4));return r?(n.y=+r[0],e+r[0].length):-1}function Gn(n,t,e){va.lastIndex=0;var r=va.exec(t.slice(e,e+2));return r?(n.y=Qn(+r[0]),e+r[0].length):-1}function Kn(n,t,e){return/^[+-]\d{4}$/.test(t=t.slice(e,e+5))?(n.Z=-t,e+5):-1}function Qn(n){return n+(n>68?1900:2e3)}function nt(n,t,e){va.lastIndex=0;var r=va.exec(t.slice(e,e+2));return r?(n.m=r[0]-1,e+r[0].length):-1}function tt(n,t,e){va.lastIndex=0;var r=va.exec(t.slice(e,e+2));return r?(n.d=+r[0],e+r[0].length):-1}function et(n,t,e){va.lastIndex=0;var r=va.exec(t.slice(e,e+3));return r?(n.j=+r[0],e+r[0].length):-1}function rt(n,t,e){va.lastIndex=0;var r=va.exec(t.slice(e,e+2));return r?(n.H=+r[0],e+r[0].length):-1}function it(n,t,e){va.lastIndex=0;var r=va.exec(t.slice(e,e+2));return r?(n.M=+r[0],e+r[0].length):-1}function ut(n,t,e){va.lastIndex=0;var r=va.exec(t.slice(e,e+2));return r?(n.S=+r[0],e+r[0].length):-1}function ot(n,t,e){va.lastIndex=0;var r=va.exec(t.slice(e,e+3));return r?(n.L=+r[0],e+r[0].length):-1}function at(n){var t=n.getTimezoneOffset(),e=t>0?"-":"+",r=mo(t)/60|0,i=mo(t)%60;return e+Zn(r,"0",2)+Zn(i,"0",2)}function lt(n,t,e){da.lastIndex=0;var r=da.exec(t.slice(e,e+1));return r?e+r[0].length:-1}function ct(n){for(var t=n.length,e=-1;++e<t;)n[e][0]=this(n[e][0]);return function(t){for(var e=0,r=n[e];!r[1](t);)r=n[++e];return r[0](t)}}function ft(){}function st(n,t,e){var r=e.s=n+t,i=r-n,u=r-i;e.t=n-u+(t-i)}function ht(n,t){n&&xa.hasOwnProperty(n.type)&&xa[n.type](n,t)}function pt(n,t,e){var r=-1,i=n.length-e,u;for(t.lineStart();++r<i;)u=n[r],t.point(u[0],u[1],u[2]);t.lineEnd()}function gt(n,t){var e=-1,r=n.length;for(t.polygonStart();++e<r;)pt(n[e],t,1);t.polygonEnd()}function vt(){function n(n,t){n*=Ho,t=t*Ho/2+Po/4;var e=n-r,o=e>=0?1:-1,a=o*e,l=Math.cos(t),c=Math.sin(t),f=u*c,s=i*l+f*Math.cos(a),h=f*o*Math.sin(a);_a.add(Math.atan2(h,s)),r=n,i=l,u=c}var t,e,r,i,u;wa.point=function(o,a){wa.point=n,r=(t=o)*Ho,i=Math.cos(a=(e=a)*Ho/2+Po/4),u=Math.sin(a)},wa.lineEnd=function(){n(t,e)}}function dt(n){var t=n[0],e=n[1],r=Math.cos(e);return[r*Math.cos(t),r*Math.sin(t),Math.sin(e)]}function yt(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function mt(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function Mt(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function xt(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function bt(n){var t=Math.sqrt(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}function _t(n){return[Math.atan2(n[1],n[0]),tn(n[2])]}function wt(n,t){return mo(n[0]-t[0])<Ro&&mo(n[1]-t[1])<Ro}function kt(n,t){n*=Ho;var e=Math.cos(t*=Ho);St(e*Math.cos(n),e*Math.sin(n),Math.sin(t))}function St(n,t,e){++ka,Na+=(n-Na)/ka,Ea+=(t-Ea)/ka,Aa+=(e-Aa)/ka}function Nt(){function n(n,i){n*=Ho;var u=Math.cos(i*=Ho),o=u*Math.cos(n),a=u*Math.sin(n),l=Math.sin(i),c=Math.atan2(Math.sqrt((c=e*l-r*a)*c+(c=r*o-t*l)*c+(c=t*a-e*o)*c),t*o+e*a+r*l);Sa+=c,Ca+=c*(t+(t=o)),za+=c*(e+(e=a)),La+=c*(r+(r=l)),St(t,e,r)}var t,e,r;Da.point=function(i,u){i*=Ho;var o=Math.cos(u*=Ho);t=o*Math.cos(i),e=o*Math.sin(i),r=Math.sin(u),Da.point=n,St(t,e,r)}}function Et(){Da.point=kt}function At(){function n(n,t){n*=Ho;var e=Math.cos(t*=Ho),o=e*Math.cos(n),a=e*Math.sin(n),l=Math.sin(t),c=i*l-u*a,f=u*o-r*l,s=r*a-i*o,h=Math.sqrt(c*c+f*f+s*s),p=r*o+i*a+u*l,g=h&&-nn(p)/h,v=Math.atan2(h,p);qa+=g*c,Ta+=g*f,Ra+=g*s,Sa+=v,Ca+=v*(r+(r=o)),za+=v*(i+(i=a)),La+=v*(u+(u=l)),St(r,i,u)}var t,e,r,i,u;Da.point=function(o,a){t=o,e=a,Da.point=n,o*=Ho;var l=Math.cos(a*=Ho);r=l*Math.cos(o),i=l*Math.sin(o),u=Math.sin(a),St(r,i,u)},Da.lineEnd=function(){n(t,e),Da.lineEnd=Et,Da.point=kt}}function Ct(n,t){function e(e,r){return e=n(e,r),t(e[0],e[1])}return n.invert&&t.invert&&(e.invert=function(e,r){return e=t.invert(e,r),e&&n.invert(e[0],e[1])}),e}function zt(){return!0}function Lt(n,t,e,r,i){var u=[],o=[];if(n.forEach(function(n){if(!((t=n.length-1)<=0)){var t,e=n[0],r=n[t];if(wt(e,r)){i.lineStart();for(var a=0;a<t;++a)i.point((e=n[a])[0],e[1]);return void i.lineEnd()}var l=new Tt(e,n,null,(!0)),c=new Tt(e,null,l,(!1));l.o=c,u.push(l),o.push(c),l=new Tt(r,n,null,(!1)),c=new Tt(r,null,l,(!0)),l.o=c,u.push(l),o.push(c)}}),o.sort(t),qt(u),qt(o),u.length){for(var a=0,l=e,c=o.length;a<c;++a)o[a].e=l=!l;for(var f=u[0],s,h;;){for(var p=f,g=!0;p.v;)if((p=p.n)===f)return;s=p.z,i.lineStart();do{if(p.v=p.o.v=!0,p.e){if(g)for(var a=0,c=s.length;a<c;++a)i.point((h=s[a])[0],h[1]);else r(p.x,p.n.x,1,i);p=p.n}else{if(g){s=p.p.z;for(var a=s.length-1;a>=0;--a)i.point((h=s[a])[0],h[1])}else r(p.x,p.p.x,-1,i);p=p.p}p=p.o,s=p.z,g=!g}while(!p.v);i.lineEnd()}}}function qt(n){if(t=n.length){for(var t,e=0,r=n[0],i;++e<t;)r.n=i=n[e],i.p=r,r=i;r.n=i=n[0],i.p=r}}function Tt(n,t,e,r){this.x=n,this.z=t,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function Rt(n,t,e,r){return function(i,u){function o(t,e){var r=i(t,e);n(t=r[0],e=r[1])&&u.point(t,e)}function a(n,t){var e=i(n,t);p.point(e[0],e[1])}function l(){v.point=a,p.lineStart()}function c(){v.point=o,p.lineEnd()}function f(n,t){b.push([n,t]);var e=i(n,t);m.point(e[0],e[1])}function s(){m.lineStart(),b=[]}function h(){f(b[0][0],b[0][1]),m.lineEnd();var n=m.clean(),t=y.buffer(),e,r=t.length;if(b.pop(),x.push(b),b=null,r)if(1&n){e=t[0];var r=e.length-1,i=-1,o;if(r>0){for(M||(u.polygonStart(),M=!0),u.lineStart();++i<r;)u.point((o=e[i])[0],o[1]);u.lineEnd()}}else r>1&&2&n&&t.push(t.pop().concat(t.shift())),d.push(t.filter(Dt))}var p=t(u),g=i.invert(r[0],r[1]),v={point:o,lineStart:l,lineEnd:c,polygonStart:function(){v.point=f,v.lineStart=s,v.lineEnd=h,d=[],x=[]},polygonEnd:function(){v.point=o,v.lineStart=l,v.lineEnd=c,d=ao.merge(d);var n=Ot(g,x);d.length?(M||(u.polygonStart(),M=!0),Lt(d,jt,n,e,u)):n&&(M||(u.polygonStart(),M=!0),u.lineStart(),e(null,null,1,u),u.lineEnd()),M&&(u.polygonEnd(),M=!1),d=x=null},sphere:function(){u.polygonStart(),u.lineStart(),e(null,null,1,u),u.lineEnd(),u.polygonEnd()}},d,y=Pt(),m=t(y),M=!1,x,b;return v}}function Dt(n){return n.length>1}function Pt(){var n=[],t;return{lineStart:function(){n.push(t=[])},point:function(n,e){t.push([n,e])},lineEnd:b,buffer:function(){var e=n;return n=[],t=null,e},rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))}}}function jt(n,t){return((n=n.x)[0]<0?n[1]-Fo-Ro:Fo-n[1])-((t=t.x)[0]<0?t[1]-Fo-Ro:Fo-t[1])}function Ut(n){var t=NaN,e=NaN,r=NaN,i;return{lineStart:function(){n.lineStart(),i=1},point:function(u,o){var a=u>0?Po:-Po,l=mo(u-t);mo(l-Po)<Ro?(n.point(t,e=(e+o)/2>0?Fo:-Fo),n.point(r,e),n.lineEnd(),n.lineStart(),n.point(a,e),n.point(u,e),i=0):r!==a&&l>=Po&&(mo(t-r)<Ro&&(t-=r*Ro),mo(u-a)<Ro&&(u-=a*Ro),e=Ft(t,e,u,o),n.point(r,e),n.lineEnd(),n.lineStart(),n.point(a,e),i=0),n.point(t=u,e=o),r=a},lineEnd:function(){n.lineEnd(),t=e=NaN},clean:function(){return 2-i}}}function Ft(n,t,e,r){var i,u,o=Math.sin(n-e);return mo(o)>Ro?Math.atan((Math.sin(t)*(u=Math.cos(r))*Math.sin(e)-Math.sin(r)*(i=Math.cos(t))*Math.sin(n))/(i*u*o)):(t+r)/2}function Ht(n,t,e,r){var i;if(null==n)i=e*Fo,r.point(-Po,i),r.point(0,i),r.point(Po,i),r.point(Po,0),r.point(Po,-i),r.point(0,-i),r.point(-Po,-i),r.point(-Po,0),r.point(-Po,i);else if(mo(n[0]-t[0])>Ro){var u=n[0]<t[0]?Po:-Po;i=e*u/2,r.point(-u,i),r.point(0,i),r.point(u,i)}else r.point(t[0],t[1])}function Ot(n,t){var e=n[0],r=n[1],i=[Math.sin(e),-Math.cos(e),0],u=0,o=0;_a.reset();for(var a=0,l=t.length;a<l;++a){var c=t[a],f=c.length;if(f)for(var s=c[0],h=s[0],p=s[1]/2+Po/4,g=Math.sin(p),v=Math.cos(p),d=1;;){d===f&&(d=0),n=c[d];var y=n[0],m=n[1]/2+Po/4,M=Math.sin(m),x=Math.cos(m),b=y-h,_=b>=0?1:-1,w=_*b,k=w>Po,S=g*M;if(_a.add(Math.atan2(S*_*Math.sin(w),v*x+S*Math.cos(w))),u+=k?b+_*jo:b,k^h>=e^y>=e){var N=mt(dt(s),dt(n));bt(N);var E=mt(i,N);bt(E);var A=(k^b>=0?-1:1)*tn(E[2]);(r>A||r===A&&(N[0]||N[1]))&&(o+=k^b>=0?1:-1)}if(!d++)break;h=y,g=M,v=x,s=n}}return(u<-Ro||u<Ro&&_a<0)^1&o}function It(n){function t(n,t){return Math.cos(n)*Math.cos(t)>u}function e(n){var e,u,l,c,f;return{lineStart:function(){c=l=!1,f=1},point:function(s,h){var p=[s,h],g,v=t(s,h),d=o?v?0:i(s,h):v?i(s+(s<0?Po:-Po),h):0;if(!e&&(c=l=v)&&n.lineStart(),v!==l&&(g=r(e,p),(wt(e,g)||wt(p,g))&&(p[0]+=Ro,p[1]+=Ro,v=t(p[0],p[1]))),v!==l)f=0,v?(n.lineStart(),g=r(p,e),n.point(g[0],g[1])):(g=r(e,p),n.point(g[0],g[1]),n.lineEnd()),e=g;else if(a&&e&&o^v){var y;d&u||!(y=r(p,e,!0))||(f=0,o?(n.lineStart(),n.point(y[0][0],y[0][1]),n.point(y[1][0],y[1][1]),n.lineEnd()):(n.point(y[1][0],y[1][1]),n.lineEnd(),n.lineStart(),n.point(y[0][0],y[0][1])))}!v||e&&wt(e,p)||n.point(p[0],p[1]),e=p,l=v,u=d},lineEnd:function(){l&&n.lineEnd(),e=null},clean:function(){return f|(c&&l)<<1}}}function r(n,t,e){var r=dt(n),i=dt(t),o=[1,0,0],a=mt(r,i),l=yt(a,a),c=a[0],f=l-c*c;if(!f)return!e&&n;var s=u*l/f,h=-u*c/f,p=mt(o,a),g=xt(o,s),v=xt(a,h);Mt(g,v);var d=p,y=yt(g,d),m=yt(d,d),M=y*y-m*(yt(g,g)-1);if(!(M<0)){var x=Math.sqrt(M),b=xt(d,(-y-x)/m);if(Mt(b,g),b=_t(b),!e)return b;var _=n[0],w=t[0],k=n[1],S=t[1],N;w<_&&(N=_,_=w,w=N);var E=w-_,A=mo(E-Po)<Ro,C=A||E<Ro;if(!A&&S<k&&(N=k,k=S,S=N),C?A?k+S>0^b[1]<(mo(b[0]-_)<Ro?k:S):k<=b[1]&&b[1]<=S:E>Po^(_<=b[0]&&b[0]<=w)){var z=xt(d,(-y+x)/m);return Mt(z,g),[b,_t(z)]}}}function i(t,e){var r=o?n:Po-n,i=0;return t<-r?i|=1:t>r&&(i|=2),e<-r?i|=4:e>r&&(i|=8),i}var u=Math.cos(n),o=u>0,a=mo(u)>Ro,l=ve(n,6*Ho);return Rt(t,e,l,o?[0,-n]:[-Po,n-Po])}function Yt(n,t,e,r){return function(i){var u=i.a,o=i.b,a=u.x,l=u.y,c=o.x,f=o.y,s=0,h=1,p=c-a,g=f-l,v;if(v=n-a,p||!(v>0)){if(v/=p,p<0){if(v<s)return;v<h&&(h=v)}else if(p>0){if(v>h)return;v>s&&(s=v)}if(v=e-a,p||!(v<0)){if(v/=p,p<0){if(v>h)return;v>s&&(s=v)}else if(p>0){if(v<s)return;v<h&&(h=v)}if(v=t-l,g||!(v>0)){if(v/=g,g<0){if(v<s)return;v<h&&(h=v)}else if(g>0){if(v>h)return;v>s&&(s=v)}if(v=r-l,g||!(v<0)){if(v/=g,g<0){if(v>h)return;v>s&&(s=v)}else if(g>0){if(v<s)return;v<h&&(h=v)}return s>0&&(i.a={x:a+s*p,y:l+s*g}),h<1&&(i.b={x:a+h*p,y:l+h*g}),i}}}}}}function Zt(n,t,e,r){function i(r,i){return mo(r[0]-n)<Ro?i>0?0:3:mo(r[0]-e)<Ro?i>0?2:1:mo(r[1]-t)<Ro?i>0?1:0:i>0?3:2}function u(n,t){return o(n.x,t.x)}function o(n,t){var e=i(n,1),r=i(t,1);return e!==r?e-r:0===e?t[1]-n[1]:1===e?n[0]-t[0]:2===e?n[1]-t[1]:t[0]-n[0]}return function(a){function l(n){for(var t=0,e=M.length,r=n[1],i=0;i<e;++i)for(var u=1,o=M[i],a=o.length,l=o[0],c;u<a;++u)c=o[u],l[1]<=r?c[1]>r&&Q(l,c,n)>0&&++t:c[1]<=r&&Q(l,c,n)<0&&--t,l=c;return 0!==t}function c(u,a,l,c){var f=0,s=0;if(null==u||(f=i(u,l))!==(s=i(a,l))||o(u,a)<0^l>0){do c.point(0===f||3===f?n:e,f>1?r:t);while((f=(f+l+4)%4)!==s)}else c.point(a[0],a[1])}function f(i,u){return n<=i&&i<=e&&t<=u&&u<=r}function s(n,t){f(n,t)&&a.point(n,t)}function h(){b.point=g,M&&M.push(x=[]),A=!0,E=!1,S=N=NaN}function p(){m&&(g(_,w),k&&E&&d.rejoin(),m.push(d.buffer())),b.point=s,E&&a.lineEnd()}function g(n,t){n=Math.max(-ja,Math.min(ja,n)),t=Math.max(-ja,Math.min(ja,t));var e=f(n,t);if(M&&x.push([n,t]),A)_=n,w=t,k=e,A=!1,e&&(a.lineStart(),a.point(n,t));else if(e&&E)a.point(n,t);else{var r={a:{x:S,y:N},b:{x:n,y:t}};y(r)?(E||(a.lineStart(),a.point(r.a.x,r.a.y)),a.point(r.b.x,r.b.y),e||a.lineEnd(),C=!1):e&&(a.lineStart(),a.point(n,t),C=!1)}S=n,N=t,E=e}var v=a,d=Pt(),y=Yt(n,t,e,r),m,M,x,b={point:s,lineStart:h,lineEnd:p,polygonStart:function(){a=d,m=[],M=[],C=!0},polygonEnd:function(){a=v,m=ao.merge(m);var t=l([n,r]),e=C&&t,i=m.length;(e||i)&&(a.polygonStart(),e&&(a.lineStart(),c(null,null,1,a),a.lineEnd()),i&&Lt(m,u,t,c,a),a.polygonEnd()),m=M=x=null}},_,w,k,S,N,E,A,C;return b}}function Vt(n){var t=0,e=Po/3,r=ae(n),i=r(t,e);return i.parallels=function(n){return arguments.length?r(t=n[0]*Po/180,e=n[1]*Po/180):[t/Po*180,e/Po*180]},i}function Xt(n,t){function e(n,t){var e=Math.sqrt(u-2*i*Math.sin(t))/i;return[e*Math.sin(n*=i),o-e*Math.cos(n)]}var r=Math.sin(n),i=(r+Math.sin(t))/2,u=1+r*(2*i-r),o=Math.sqrt(u)/i;return e.invert=function(n,t){var e=o-t;return[Math.atan2(n,e)/i,tn((u-(n*n+e*e)*i*i)/(2*i))]},e}function $t(){function n(n,t){Fa+=i*n-r*t,r=n,i=t}var t,e,r,i;Ha.point=function(u,o){Ha.point=n,t=r=u,e=i=o},Ha.lineEnd=function(){n(t,e)}}function Bt(n,t){n<Oa&&(Oa=n),n>Ya&&(Ya=n),t<Ia&&(Ia=t),t>Za&&(Za=t)}function Wt(){function n(n,t){o.push("M",n,",",t,u)}function t(n,t){o.push("M",n,",",t),a.point=e}function e(n,t){o.push("L",n,",",t)}function r(){a.point=n}function i(){o.push("Z")}var u=Jt(4.5),o=[],a={point:n,lineStart:function(){a.point=t},lineEnd:r,polygonStart:function(){a.lineEnd=i},polygonEnd:function(){a.lineEnd=r,a.point=n},pointRadius:function(n){return u=Jt(n),a},result:function(){if(o.length){var n=o.join("");return o=[],n}}};return a}function Jt(n){return"m0,"+n+"a"+n+","+n+" 0 1,1 0,"+-2*n+"a"+n+","+n+" 0 1,1 0,"+2*n+"z"}function Gt(n,t){Na+=n,Ea+=t,++Aa}function Kt(){function n(n,r){var i=n-t,u=r-e,o=Math.sqrt(i*i+u*u);Ca+=o*(t+n)/2,za+=o*(e+r)/2,La+=o,Gt(t=n,e=r)}var t,e;Xa.point=function(r,i){Xa.point=n,Gt(t=r,e=i)}}function Qt(){Xa.point=Gt}function ne(){function n(n,t){var e=n-r,u=t-i,o=Math.sqrt(e*e+u*u);Ca+=o*(r+n)/2,za+=o*(i+t)/2,La+=o,o=i*n-r*t,qa+=o*(r+n),Ta+=o*(i+t),Ra+=3*o,Gt(r=n,i=t)}var t,e,r,i;Xa.point=function(u,o){Xa.point=n,Gt(t=r=u,e=i=o)},Xa.lineEnd=function(){n(t,e)}}function te(n){function t(t,e){n.moveTo(t+o,e),n.arc(t,e,o,0,jo)}function e(t,e){n.moveTo(t,e),a.point=r}function r(t,e){n.lineTo(t,e)}function i(){a.point=t}function u(){n.closePath()}var o=4.5,a={point:t,lineStart:function(){a.point=e},lineEnd:i,polygonStart:function(){a.lineEnd=u},polygonEnd:function(){a.lineEnd=i,a.point=t},pointRadius:function(n){return o=n,a},result:b};return a}function ee(n){function t(n){return(a?r:e)(n)}function e(t){return ue(t,function(e,r){e=n(e,r),t.point(e[0],e[1])})}function r(t){function e(e,r){e=n(e,r),t.point(e[0],e[1])}function r(){M=NaN,k.point=u,t.lineStart()}function u(e,r){var u=dt([e,r]),o=n(e,r);i(M,x,m,b,_,w,M=o[0],x=o[1],m=e,b=u[0],_=u[1],w=u[2],a,t),
t.point(M,x)}function o(){k.point=e,t.lineEnd()}function l(){r(),k.point=c,k.lineEnd=f}function c(n,t){u(s=n,h=t),p=M,g=x,v=b,d=_,y=w,k.point=u}function f(){i(M,x,m,b,_,w,p,g,s,v,d,y,a,t),k.lineEnd=o,o()}var s,h,p,g,v,d,y,m,M,x,b,_,w,k={point:e,lineStart:r,lineEnd:o,polygonStart:function(){t.polygonStart(),k.lineStart=l},polygonEnd:function(){t.polygonEnd(),k.lineStart=r}};return k}function i(t,e,r,a,l,c,f,s,h,p,g,v,d,y){var m=f-t,M=s-e,x=m*m+M*M;if(x>4*u&&d--){var b=a+p,_=l+g,w=c+v,k=Math.sqrt(b*b+_*_+w*w),S=Math.asin(w/=k),N=mo(mo(w)-1)<Ro||mo(r-h)<Ro?(r+h)/2:Math.atan2(_,b),E=n(N,S),A=E[0],C=E[1],z=A-t,L=C-e,q=M*z-m*L;(q*q/x>u||mo((m*z+M*L)/x-.5)>.3||a*p+l*g+c*v<o)&&(i(t,e,r,a,l,c,A,C,N,b/=k,_/=k,w,d,y),y.point(A,C),i(A,C,N,b,_,w,f,s,h,p,g,v,d,y))}}var u=.5,o=Math.cos(30*Ho),a=16;return t.precision=function(n){return arguments.length?(a=(u=n*n)>0&&16,t):Math.sqrt(u)},t}function re(n){var t=ee(function(t,e){return n([t*Oo,e*Oo])});return function(n){return le(t(n))}}function ie(n){this.stream=n}function ue(n,t){return{point:t,sphere:function(){n.sphere()},lineStart:function(){n.lineStart()},lineEnd:function(){n.lineEnd()},polygonStart:function(){n.polygonStart()},polygonEnd:function(){n.polygonEnd()}}}function oe(n){return ae(function(){return n})()}function ae(n){function t(n){return n=a(n[0]*Ho,n[1]*Ho),[n[0]*c+y,M-n[1]*c]}function e(n){return n=a.invert((n[0]-y)/c,(M-n[1])/c),n&&[n[0]*Oo,n[1]*Oo]}function r(){a=Ct(o=se(g,v,d),u);var n=u(h,p);return y=f-n[0]*c,M=s+n[1]*c,i()}function i(){return k&&(k.valid=!1,k=null),t}var u,o,a,l=ee(function(n,t){return n=u(n,t),[n[0]*c+y,M-n[1]*c]}),c=150,f=480,s=250,h=0,p=0,g=0,v=0,d=0,y,M,x=Pa,b=m,_=null,w=null,k;return t.stream=function(n){return k&&(k.valid=!1),k=le(x(o,l(b(n)))),k.valid=!0,k},t.clipAngle=function(n){return arguments.length?(x=null==n?(_=n,Pa):It((_=+n)*Ho),i()):_},t.clipExtent=function(n){return arguments.length?(w=n,b=n?Zt(n[0][0],n[0][1],n[1][0],n[1][1]):m,i()):w},t.scale=function(n){return arguments.length?(c=+n,r()):c},t.translate=function(n){return arguments.length?(f=+n[0],s=+n[1],r()):[f,s]},t.center=function(n){return arguments.length?(h=n[0]%360*Ho,p=n[1]%360*Ho,r()):[h*Oo,p*Oo]},t.rotate=function(n){return arguments.length?(g=n[0]%360*Ho,v=n[1]%360*Ho,d=n.length>2?n[2]%360*Ho:0,r()):[g*Oo,v*Oo,d*Oo]},ao.rebind(t,l,"precision"),function(){return u=n.apply(this,arguments),t.invert=u.invert&&e,r()}}function le(n){return ue(n,function(t,e){n.point(t*Ho,e*Ho)})}function ce(n,t){return[n,t]}function fe(n,t){return[n>Po?n-jo:n<-Po?n+jo:n,t]}function se(n,t,e){return n?t||e?Ct(pe(n),ge(t,e)):pe(n):t||e?ge(t,e):fe}function he(n){return function(t,e){return t+=n,[t>Po?t-jo:t<-Po?t+jo:t,e]}}function pe(n){var t=he(n);return t.invert=he(-n),t}function ge(n,t){function e(n,t){var e=Math.cos(t),a=Math.cos(n)*e,l=Math.sin(n)*e,c=Math.sin(t),f=c*r+a*i;return[Math.atan2(l*u-f*o,a*r-c*i),tn(f*u+l*o)]}var r=Math.cos(n),i=Math.sin(n),u=Math.cos(t),o=Math.sin(t);return e.invert=function(n,t){var e=Math.cos(t),a=Math.cos(n)*e,l=Math.sin(n)*e,c=Math.sin(t),f=c*u-l*o;return[Math.atan2(l*u+c*o,a*r+f*i),tn(f*r-a*i)]},e}function ve(n,t){var e=Math.cos(n),r=Math.sin(n);return function(i,u,o,a){var l=o*t;null!=i?(i=de(e,i),u=de(e,u),(o>0?i<u:i>u)&&(i+=o*jo)):(i=n+o*jo,u=n-.5*l);for(var c,f=i;o>0?f>u:f<u;f-=l)a.point((c=_t([e,-r*Math.cos(f),-r*Math.sin(f)]))[0],c[1])}}function de(n,t){var e=dt(t);e[0]-=n,bt(e);var r=nn(-e[1]);return((-e[2]<0?-r:r)+2*Math.PI-Ro)%(2*Math.PI)}function ye(n,t,e){var r=ao.range(n,t-Ro,e).concat(t);return function(n){return r.map(function(t){return[n,t]})}}function me(n,t,e){var r=ao.range(n,t-Ro,e).concat(t);return function(n){return r.map(function(t){return[t,n]})}}function Me(n){return n.source}function xe(n){return n.target}function be(n,t,e,r){var i=Math.cos(t),u=Math.sin(t),o=Math.cos(r),a=Math.sin(r),l=i*Math.cos(n),c=i*Math.sin(n),f=o*Math.cos(e),s=o*Math.sin(e),h=2*Math.asin(Math.sqrt(on(r-t)+i*o*on(e-n))),p=1/Math.sin(h),g=h?function(n){var t=Math.sin(n*=h)*p,e=Math.sin(h-n)*p,r=e*l+t*f,i=e*c+t*s,o=e*u+t*a;return[Math.atan2(i,r)*Oo,Math.atan2(o,Math.sqrt(r*r+i*i))*Oo]}:function(){return[n*Oo,t*Oo]};return g.distance=h,g}function _e(){function n(n,i){var u=Math.sin(i*=Ho),o=Math.cos(i),a=mo((n*=Ho)-t),l=Math.cos(a);$a+=Math.atan2(Math.sqrt((a=o*Math.sin(a))*a+(a=r*u-e*o*l)*a),e*u+r*o*l),t=n,e=u,r=o}var t,e,r;Ba.point=function(i,u){t=i*Ho,e=Math.sin(u*=Ho),r=Math.cos(u),Ba.point=n},Ba.lineEnd=function(){Ba.point=Ba.lineEnd=b}}function we(n,t){function e(t,e){var r=Math.cos(t),i=Math.cos(e),u=n(r*i);return[u*i*Math.sin(t),u*Math.sin(e)]}return e.invert=function(n,e){var r=Math.sqrt(n*n+e*e),i=t(r),u=Math.sin(i),o=Math.cos(i);return[Math.atan2(n*u,r*o),Math.asin(r&&e*u/r)]},e}function ke(n,t){function e(n,t){o>0?t<-Fo+Ro&&(t=-Fo+Ro):t>Fo-Ro&&(t=Fo-Ro);var e=o/Math.pow(i(t),u);return[e*Math.sin(u*n),o-e*Math.cos(u*n)]}var r=Math.cos(n),i=function(n){return Math.tan(Po/4+n/2)},u=n===t?Math.sin(n):Math.log(r/Math.cos(t))/Math.log(i(t)/i(n)),o=r*Math.pow(i(n),u)/u;return u?(e.invert=function(n,t){var e=o-t,r=K(u)*Math.sqrt(n*n+e*e);return[Math.atan2(n,e)/u,2*Math.atan(Math.pow(o/r,1/u))-Fo]},e):Ne}function Se(n,t){function e(n,t){var e=u-t;return[e*Math.sin(i*n),u-e*Math.cos(i*n)]}var r=Math.cos(n),i=n===t?Math.sin(n):(r-Math.cos(t))/(t-n),u=r/i+n;return mo(i)<Ro?ce:(e.invert=function(n,t){var e=u-t;return[Math.atan2(n,e)/i,u-K(i)*Math.sqrt(n*n+e*e)]},e)}function Ne(n,t){return[n,Math.log(Math.tan(Po/4+t/2))]}function Ee(n){var t=oe(n),e=t.scale,r=t.translate,i=t.clipExtent,u;return t.scale=function(){var n=e.apply(t,arguments);return n===t?u?t.clipExtent(null):t:n},t.translate=function(){var n=r.apply(t,arguments);return n===t?u?t.clipExtent(null):t:n},t.clipExtent=function(n){var o=i.apply(t,arguments);if(o===t){if(u=null==n){var a=Po*e(),l=r();i([[l[0]-a,l[1]-a],[l[0]+a,l[1]+a]])}}else u&&(o=null);return o},t.clipExtent(null)}function Ae(n,t){return[Math.log(Math.tan(Po/4+t/2)),-n]}function Ce(n){return n[0]}function ze(n){return n[1]}function Le(n){for(var t=n.length,e=[0,1],r=2,i=2;i<t;i++){for(;r>1&&Q(n[e[r-2]],n[e[r-1]],n[i])<=0;)--r;e[r++]=i}return e.slice(0,r)}function qe(n,t){return n[0]-t[0]||n[1]-t[1]}function Te(n,t,e){return(e[0]-t[0])*(n[1]-t[1])<(e[1]-t[1])*(n[0]-t[0])}function Re(n,t,e,r){var i=n[0],u=e[0],o=t[0]-i,a=r[0]-u,l=n[1],c=e[1],f=t[1]-l,s=r[1]-c,h=(a*(l-c)-s*(i-u))/(s*o-a*f);return[i+h*o,l+h*f]}function De(n){var t=n[0],e=n[n.length-1];return!(t[0]-e[0]||t[1]-e[1])}function Pe(){rr(this),this.edge=this.site=this.circle=null}function je(n){var t=il.pop()||new Pe;return t.site=n,t}function Ue(n){Be(n),rl.remove(n),il.push(n),rr(n)}function Fe(n){var t=n.circle,e=t.x,r=t.cy,i={x:e,y:r},u=n.P,o=n.N,a=[n];Ue(n);for(var l=u;l.circle&&mo(e-l.circle.x)<Ro&&mo(r-l.circle.cy)<Ro;)u=l.P,a.unshift(l),Ue(l),l=u;a.unshift(l),Be(l);for(var c=o;c.circle&&mo(e-c.circle.x)<Ro&&mo(r-c.circle.cy)<Ro;)o=c.N,a.push(c),Ue(c),c=o;a.push(c),Be(c);var f=a.length,s;for(s=1;s<f;++s)c=a[s],l=a[s-1],nr(c.edge,l.site,c.site,i);l=a[0],c=a[f-1],c.edge=Ke(l.site,c.site,null,i),$e(l),$e(c)}function He(n){for(var t=n.x,e=n.y,r,i,u,o,a=rl._;a;)if(u=Oe(a,e)-t,u>Ro)a=a.L;else{if(o=t-Ie(a,e),!(o>Ro)){u>-Ro?(r=a.P,i=a):o>-Ro?(r=a,i=a.N):r=i=a;break}if(!a.R){r=a;break}a=a.R}var l=je(n);if(rl.insert(r,l),r||i){if(r===i)return Be(r),i=je(r.site),rl.insert(l,i),l.edge=i.edge=Ke(r.site,l.site),$e(r),void $e(i);if(!i)return void(l.edge=Ke(r.site,l.site));Be(r),Be(i);var c=r.site,f=c.x,s=c.y,h=n.x-f,p=n.y-s,g=i.site,v=g.x-f,d=g.y-s,y=2*(h*d-p*v),m=h*h+p*p,M=v*v+d*d,x={x:(d*m-p*M)/y+f,y:(h*M-v*m)/y+s};nr(i.edge,c,g,x),l.edge=Ke(c,n,null,x),i.edge=Ke(n,g,null,x),$e(r),$e(i)}}function Oe(n,t){var e=n.site,r=e.x,i=e.y,u=i-t;if(!u)return r;var o=n.P;if(!o)return-(1/0);e=o.site;var a=e.x,l=e.y,c=l-t;if(!c)return a;var f=a-r,s=1/u-1/c,h=f/c;return s?(-h+Math.sqrt(h*h-2*s*(f*f/(-2*c)-l+c/2+i-u/2)))/s+r:(r+a)/2}function Ie(n,t){var e=n.N;if(e)return Oe(e,t);var r=n.site;return r.y===t?r.x:1/0}function Ye(n){this.site=n,this.edges=[]}function Ze(n){for(var t=n[0][0],e=n[1][0],r=n[0][1],i=n[1][1],u,o,a,l,c=el,f=c.length,s,h,p,g,v,d;f--;)if(s=c[f],s&&s.prepare())for(p=s.edges,g=p.length,h=0;h<g;)d=p[h].end(),a=d.x,l=d.y,v=p[++h%g].start(),u=v.x,o=v.y,(mo(a-u)>Ro||mo(l-o)>Ro)&&(p.splice(h,0,new tr(Qe(s.site,d,mo(a-t)<Ro&&i-l>Ro?{x:t,y:mo(u-t)<Ro?o:i}:mo(l-i)<Ro&&e-a>Ro?{x:mo(o-i)<Ro?u:e,y:i}:mo(a-e)<Ro&&l-r>Ro?{x:e,y:mo(u-e)<Ro?o:r}:mo(l-r)<Ro&&a-t>Ro?{x:mo(o-r)<Ro?u:t,y:r}:null),s.site,null)),++g)}function Ve(n,t){return t.angle-n.angle}function Xe(){rr(this),this.x=this.y=this.arc=this.site=this.cy=null}function $e(n){var t=n.P,e=n.N;if(t&&e){var r=t.site,i=n.site,u=e.site;if(r!==u){var o=i.x,a=i.y,l=r.x-o,c=r.y-a,f=u.x-o,s=u.y-a,h=2*(l*s-c*f);if(!(h>=-Do)){var p=l*l+c*c,g=f*f+s*s,v=(s*p-c*g)/h,d=(l*g-f*p)/h,s=d+a,y=al.pop()||new Xe;y.arc=n,y.site=i,y.x=v+o,y.y=s+Math.sqrt(v*v+d*d),y.cy=s,n.circle=y;for(var m=null,M=ol._;M;)if(y.y<M.y||y.y===M.y&&y.x<=M.x){if(!M.L){m=M.P;break}M=M.L}else{if(!M.R){m=M;break}M=M.R}ol.insert(m,y),m||(ul=y)}}}}function Be(n){var t=n.circle;t&&(t.P||(ul=t.N),ol.remove(t),al.push(t),rr(t),n.circle=null)}function We(n){for(var t=tl,e=Yt(n[0][0],n[0][1],n[1][0],n[1][1]),r=t.length,i;r--;)i=t[r],(!Je(i,n)||!e(i)||mo(i.a.x-i.b.x)<Ro&&mo(i.a.y-i.b.y)<Ro)&&(i.a=i.b=null,t.splice(r,1))}function Je(n,t){var e=n.b;if(e)return!0;var r=n.a,i=t[0][0],u=t[1][0],o=t[0][1],a=t[1][1],l=n.l,c=n.r,f=l.x,s=l.y,h=c.x,p=c.y,g=(f+h)/2,v=(s+p)/2,d,y;if(p===s){if(g<i||g>=u)return;if(f>h){if(r){if(r.y>=a)return}else r={x:g,y:o};e={x:g,y:a}}else{if(r){if(r.y<o)return}else r={x:g,y:a};e={x:g,y:o}}}else if(d=(f-h)/(p-s),y=v-d*g,d<-1||d>1)if(f>h){if(r){if(r.y>=a)return}else r={x:(o-y)/d,y:o};e={x:(a-y)/d,y:a}}else{if(r){if(r.y<o)return}else r={x:(a-y)/d,y:a};e={x:(o-y)/d,y:o}}else if(s<p){if(r){if(r.x>=u)return}else r={x:i,y:d*i+y};e={x:u,y:d*u+y}}else{if(r){if(r.x<i)return}else r={x:u,y:d*u+y};e={x:i,y:d*i+y}}return n.a=r,n.b=e,!0}function Ge(n,t){this.l=n,this.r=t,this.a=this.b=null}function Ke(n,t,e,r){var i=new Ge(n,t);return tl.push(i),e&&nr(i,n,t,e),r&&nr(i,t,n,r),el[n.i].edges.push(new tr(i,n,t)),el[t.i].edges.push(new tr(i,t,n)),i}function Qe(n,t,e){var r=new Ge(n,null);return r.a=t,r.b=e,tl.push(r),r}function nr(n,t,e,r){n.a||n.b?n.l===e?n.b=r:n.a=r:(n.a=r,n.l=t,n.r=e)}function tr(n,t,e){var r=n.a,i=n.b;this.edge=n,this.site=t,this.angle=e?Math.atan2(e.y-t.y,e.x-t.x):n.l===t?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function er(){this._=null}function rr(n){n.U=n.C=n.L=n.R=n.P=n.N=null}function ir(n,t){var e=t,r=t.R,i=e.U;i?i.L===e?i.L=r:i.R=r:n._=r,r.U=i,e.U=r,e.R=r.L,e.R&&(e.R.U=e),r.L=e}function ur(n,t){var e=t,r=t.L,i=e.U;i?i.L===e?i.L=r:i.R=r:n._=r,r.U=i,e.U=r,e.L=r.R,e.L&&(e.L.U=e),r.R=e}function or(n){for(;n.L;)n=n.L;return n}function ar(n,t){var e=n.sort(lr).pop(),r,i,u;for(tl=[],el=new Array(n.length),rl=new er,ol=new er;;)if(u=ul,e&&(!u||e.y<u.y||e.y===u.y&&e.x<u.x))e.x===r&&e.y===i||(el[e.i]=new Ye(e),He(e),r=e.x,i=e.y),e=n.pop();else{if(!u)break;Fe(u.arc)}t&&(We(t),Ze(t));var o={cells:el,edges:tl};return rl=ol=tl=el=null,o}function lr(n,t){return t.y-n.y||t.x-n.x}function cr(n,t,e){return(n.x-e.x)*(t.y-n.y)-(n.x-t.x)*(e.y-n.y)}function fr(n){return n.x}function sr(n){return n.y}function hr(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function pr(n,t,e,r,i,u){if(!n(t,e,r,i,u)){var o=.5*(e+i),a=.5*(r+u),l=t.nodes;l[0]&&pr(n,l[0],e,r,o,a),l[1]&&pr(n,l[1],o,r,i,a),l[2]&&pr(n,l[2],e,a,o,u),l[3]&&pr(n,l[3],o,a,i,u)}}function gr(n,t,e,r,i,u,o){var a=1/0,l;return function n(c,f,s,h,p){if(!(f>u||s>o||h<r||p<i)){if(g=c.point){var g,v=t-c.x,d=e-c.y,y=v*v+d*d;if(y<a){var m=Math.sqrt(a=y);r=t-m,i=e-m,u=t+m,o=e+m,l=g}}for(var M=c.nodes,x=.5*(f+h),b=.5*(s+p),_=t>=x,w=e>=b,k=w<<1|_,S=k+4;k<S;++k)if(c=M[3&k])switch(3&k){case 0:n(c,f,s,x,b);break;case 1:n(c,x,s,h,b);break;case 2:n(c,f,b,x,p);break;case 3:n(c,x,b,h,p)}}}(n,r,i,u,o),l}function vr(n,t){n=ao.rgb(n),t=ao.rgb(t);var e=n.r,r=n.g,i=n.b,u=t.r-e,o=t.g-r,a=t.b-i;return function(n){return"#"+bn(Math.round(e+u*n))+bn(Math.round(r+o*n))+bn(Math.round(i+a*n))}}function dr(n,t){var e={},r={},i;for(i in n)i in t?e[i]=Mr(n[i],t[i]):r[i]=n[i];for(i in t)i in n||(r[i]=t[i]);return function(n){for(i in e)r[i]=e[i](n);return r}}function yr(n,t){return n=+n,t=+t,function(e){return n*(1-e)+t*e}}function mr(n,t){var e=cl.lastIndex=fl.lastIndex=0,r,i,u,o=-1,a=[],l=[];for(n+="",t+="";(r=cl.exec(n))&&(i=fl.exec(t));)(u=i.index)>e&&(u=t.slice(e,u),a[o]?a[o]+=u:a[++o]=u),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,l.push({i:o,x:yr(r,i)})),e=fl.lastIndex;return e<t.length&&(u=t.slice(e),a[o]?a[o]+=u:a[++o]=u),a.length<2?l[0]?(t=l[0].x,function(n){return t(n)+""}):function(){return t}:(t=l.length,function(n){for(var e=0,r;e<t;++e)a[(r=l[e]).i]=r.x(n);return a.join("")})}function Mr(n,t){for(var e=ao.interpolators.length,r;--e>=0&&!(r=ao.interpolators[e](n,t)););return r}function xr(n,t){var e=[],r=[],i=n.length,u=t.length,o=Math.min(n.length,t.length),a;for(a=0;a<o;++a)e.push(Mr(n[a],t[a]));for(;a<i;++a)r[a]=n[a];for(;a<u;++a)r[a]=t[a];return function(n){for(a=0;a<o;++a)r[a]=e[a](n);return r}}function br(n){return function(t){return t<=0?0:t>=1?1:n(t)}}function _r(n){return function(t){return 1-n(1-t)}}function wr(n){return function(t){return.5*(t<.5?n(2*t):2-n(2-2*t))}}function kr(n){return n*n}function Sr(n){return n*n*n}function Nr(n){if(n<=0)return 0;if(n>=1)return 1;var t=n*n,e=t*n;return 4*(n<.5?e:3*(n-t)+e-.75)}function Er(n){return function(t){return Math.pow(t,n)}}function Ar(n){return 1-Math.cos(n*Fo)}function Cr(n){return Math.pow(2,10*(n-1))}function zr(n){return 1-Math.sqrt(1-n*n)}function Lr(n,t){var e;return arguments.length<2&&(t=.45),arguments.length?e=t/jo*Math.asin(1/n):(n=1,e=t/4),function(r){return 1+n*Math.pow(2,-10*r)*Math.sin((r-e)*jo/t)}}function qr(n){return n||(n=1.70158),function(t){return t*t*((n+1)*t-n)}}function Tr(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375}function Rr(n,t){n=ao.hcl(n),t=ao.hcl(t);var e=n.h,r=n.c,i=n.l,u=t.h-e,o=t.c-r,a=t.l-i;return isNaN(o)&&(o=0,r=isNaN(r)?t.c:r),isNaN(u)?(u=0,e=isNaN(e)?t.h:e):u>180?u-=360:u<-180&&(u+=360),function(n){return sn(e+u*n,r+o*n,i+a*n)+""}}function Dr(n,t){n=ao.hsl(n),t=ao.hsl(t);var e=n.h,r=n.s,i=n.l,u=t.h-e,o=t.s-r,a=t.l-i;return isNaN(o)&&(o=0,r=isNaN(r)?t.s:r),isNaN(u)?(u=0,e=isNaN(e)?t.h:e):u>180?u-=360:u<-180&&(u+=360),function(n){return cn(e+u*n,r+o*n,i+a*n)+""}}function Pr(n,t){n=ao.lab(n),t=ao.lab(t);var e=n.l,r=n.a,i=n.b,u=t.l-e,o=t.a-r,a=t.b-i;return function(n){return pn(e+u*n,r+o*n,i+a*n)+""}}function jr(n,t){return t-=n,function(e){return Math.round(n+t*e)}}function Ur(n){var t=[n.a,n.b],e=[n.c,n.d],r=Hr(t),i=Fr(t,e),u=Hr(Or(e,t,-i))||0;t[0]*e[1]<e[0]*t[1]&&(t[0]*=-1,t[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(t[1],t[0]):Math.atan2(-e[0],e[1]))*Oo,this.translate=[n.e,n.f],this.scale=[r,u],this.skew=u?Math.atan2(i,u)*Oo:0}function Fr(n,t){return n[0]*t[0]+n[1]*t[1]}function Hr(n){var t=Math.sqrt(Fr(n,n));return t&&(n[0]/=t,n[1]/=t),t}function Or(n,t,e){return n[0]+=e*t[0],n[1]+=e*t[1],n}function Ir(n){return n.length?n.pop()+",":""}function Yr(n,t,e,r){if(n[0]!==t[0]||n[1]!==t[1]){var i=e.push("translate(",null,",",null,")");r.push({i:i-4,x:yr(n[0],t[0])},{i:i-2,x:yr(n[1],t[1])})}else(t[0]||t[1])&&e.push("translate("+t+")")}function Zr(n,t,e,r){n!==t?(n-t>180?t+=360:t-n>180&&(n+=360),r.push({i:e.push(Ir(e)+"rotate(",null,")")-2,x:yr(n,t)})):t&&e.push(Ir(e)+"rotate("+t+")")}function Vr(n,t,e,r){n!==t?r.push({i:e.push(Ir(e)+"skewX(",null,")")-2,x:yr(n,t)}):t&&e.push(Ir(e)+"skewX("+t+")")}function Xr(n,t,e,r){if(n[0]!==t[0]||n[1]!==t[1]){var i=e.push(Ir(e)+"scale(",null,",",null,")");r.push({i:i-4,x:yr(n[0],t[0])},{i:i-2,x:yr(n[1],t[1])})}else 1===t[0]&&1===t[1]||e.push(Ir(e)+"scale("+t+")")}function $r(n,t){var e=[],r=[];return n=ao.transform(n),t=ao.transform(t),Yr(n.translate,t.translate,e,r),Zr(n.rotate,t.rotate,e,r),Vr(n.skew,t.skew,e,r),Xr(n.scale,t.scale,e,r),n=t=null,function(n){for(var t=-1,i=r.length,u;++t<i;)e[(u=r[t]).i]=u.x(n);return e.join("")}}function Br(n,t){return t=(t-=n=+n)||1/t,function(e){return(e-n)/t}}function Wr(n,t){return t=(t-=n=+n)||1/t,function(e){return Math.max(0,Math.min(1,(e-n)/t))}}function Jr(n){for(var t=n.source,e=n.target,r=Kr(t,e),i=[t];t!==r;)t=t.parent,i.push(t);for(var u=i.length;e!==r;)i.splice(u,0,e),e=e.parent;return i}function Gr(n){for(var t=[],e=n.parent;null!=e;)t.push(n),n=e,e=e.parent;return t.push(n),t}function Kr(n,t){if(n===t)return n;for(var e=Gr(n),r=Gr(t),i=e.pop(),u=r.pop(),o=null;i===u;)o=i,i=e.pop(),u=r.pop();return o}function Qr(n){n.fixed|=2}function ni(n){n.fixed&=-7}function ti(n){n.fixed|=4,n.px=n.x,n.py=n.y}function ei(n){n.fixed&=-5}function ri(n,t,e){var r=0,i=0;if(n.charge=0,!n.leaf)for(var u=n.nodes,o=u.length,a=-1,l;++a<o;)l=u[a],null!=l&&(ri(l,t,e),n.charge+=l.charge,r+=l.charge*l.cx,i+=l.charge*l.cy);if(n.point){n.leaf||(n.point.x+=Math.random()-.5,n.point.y+=Math.random()-.5);var c=t*e[n.point.index];n.charge+=n.pointCharge=c,r+=c*n.point.x,i+=c*n.point.y}n.cx=r/n.charge,n.cy=i/n.charge}function ii(n,t){return ao.rebind(n,t,"sort","children","value"),n.nodes=n,n.links=fi,n}function ui(n,t){for(var e=[n];null!=(n=e.pop());)if(t(n),(i=n.children)&&(r=i.length))for(var r,i;--r>=0;)e.push(i[r])}function oi(n,t){for(var e=[n],r=[];null!=(n=e.pop());)if(r.push(n),(o=n.children)&&(u=o.length))for(var i=-1,u,o;++i<u;)e.push(o[i]);for(;null!=(n=r.pop());)t(n)}function ai(n){return n.children}function li(n){return n.value}function ci(n,t){return t.value-n.value}function fi(n){return ao.merge(n.map(function(n){return(n.children||[]).map(function(t){return{source:n,target:t}})}))}function si(n){return n.x}function hi(n){return n.y}function pi(n,t,e){n.y0=t,n.y=e}function gi(n){return ao.range(n.length)}function vi(n){for(var t=-1,e=n[0].length,r=[];++t<e;)r[t]=0;return r}function di(n){for(var t=1,e=0,r=n[0][1],i,u=n.length;t<u;++t)(i=n[t][1])>r&&(e=t,r=i);return e}function yi(n){return n.reduce(mi,0)}function mi(n,t){return n+t[1]}function Mi(n,t){return xi(n,Math.ceil(Math.log(t.length)/Math.LN2+1))}function xi(n,t){for(var e=-1,r=+n[0],i=(n[1]-r)/t,u=[];++e<=t;)u[e]=i*e+r;return u}function bi(n){return[ao.min(n),ao.max(n)]}function _i(n,t){return n.value-t.value}function wi(n,t){var e=n._pack_next;n._pack_next=t,t._pack_prev=n,t._pack_next=e,e._pack_prev=t}function ki(n,t){n._pack_next=t,t._pack_prev=n}function Si(n,t){var e=t.x-n.x,r=t.y-n.y,i=n.r+t.r;return.999*i*i>e*e+r*r}function Ni(n){function t(n){r=Math.min(n.x-n.r,r),i=Math.max(n.x+n.r,i),u=Math.min(n.y-n.r,u),o=Math.max(n.y+n.r,o)}if((e=n.children)&&(p=e.length)){var e,r=1/0,i=-(1/0),u=1/0,o=-(1/0),a,l,c,f,s,h,p;if(e.forEach(Ei),a=e[0],a.x=-a.r,a.y=0,t(a),p>1&&(l=e[1],l.x=l.r,l.y=0,t(l),p>2))for(c=e[2],zi(a,l,c),t(c),wi(a,c),a._pack_prev=c,wi(c,l),l=a._pack_next,f=3;f<p;f++){zi(a,l,c=e[f]);var g=0,v=1,d=1;for(s=l._pack_next;s!==l;s=s._pack_next,v++)if(Si(s,c)){g=1;break}if(1==g)for(h=a._pack_prev;h!==s._pack_prev&&!Si(h,c);h=h._pack_prev,d++);g?(v<d||v==d&&l.r<a.r?ki(a,l=s):ki(a=h,l),f--):(wi(a,c),l=c,t(c))}var y=(r+i)/2,m=(u+o)/2,M=0;for(f=0;f<p;f++)c=e[f],c.x-=y,c.y-=m,M=Math.max(M,c.r+Math.sqrt(c.x*c.x+c.y*c.y));n.r=M,e.forEach(Ai)}}function Ei(n){n._pack_next=n._pack_prev=n}function Ai(n){delete n._pack_next,delete n._pack_prev}function Ci(n,t,e,r){var i=n.children;if(n.x=t+=r*n.x,n.y=e+=r*n.y,n.r*=r,i)for(var u=-1,o=i.length;++u<o;)Ci(i[u],t,e,r)}function zi(n,t,e){var r=n.r+e.r,i=t.x-n.x,u=t.y-n.y;if(r&&(i||u)){var o=t.r+e.r,a=i*i+u*u;o*=o,r*=r;var l=.5+(r-o)/(2*a),c=Math.sqrt(Math.max(0,2*o*(r+a)-(r-=a)*r-o*o))/(2*a);e.x=n.x+l*i+c*u,e.y=n.y+l*u-c*i}else e.x=n.x+r,e.y=n.y}function Li(n,t){return n.parent==t.parent?1:2}function qi(n){var t=n.children;return t.length?t[0]:n.t}function Ti(n){var t=n.children,e;return(e=t.length)?t[e-1]:n.t}function Ri(n,t,e){var r=e/(t.i-n.i);t.c-=r,t.s+=e,n.c+=r,t.z+=e,t.m+=e}function Di(n){for(var t=0,e=0,r=n.children,i=r.length,u;--i>=0;)u=r[i],u.z+=t,u.m+=t,t+=u.s+(e+=u.c)}function Pi(n,t,e){return n.a.parent===t.parent?n.a:e}function ji(n){return 1+ao.max(n,function(n){return n.y})}function Ui(n){return n.reduce(function(n,t){return n+t.x},0)/n.length}function Fi(n){var t=n.children;return t&&t.length?Fi(t[0]):n}function Hi(n){var t=n.children,e;return t&&(e=t.length)?Hi(t[e-1]):n}function Oi(n){return{x:n.x,y:n.y,dx:n.dx,dy:n.dy}}function Ii(n,t){var e=n.x+t[3],r=n.y+t[0],i=n.dx-t[1]-t[3],u=n.dy-t[0]-t[2];return i<0&&(e+=i/2,i=0),u<0&&(r+=u/2,u=0),{x:e,y:r,dx:i,dy:u}}function Yi(n){var t=n[0],e=n[n.length-1];return t<e?[t,e]:[e,t]}function Zi(n){return n.rangeExtent?n.rangeExtent():Yi(n.range())}function Vi(n,t,e,r){var i=e(n[0],n[1]),u=r(t[0],t[1]);return function(n){return u(i(n))}}function Xi(n,t){var e=0,r=n.length-1,i=n[e],u=n[r],o;return u<i&&(o=e,e=r,r=o,o=i,i=u,u=o),n[e]=t.floor(i),n[r]=t.ceil(u),n}function $i(n){return n?{floor:function(t){return Math.floor(t/n)*n},ceil:function(t){return Math.ceil(t/n)*n}}:bl}function Bi(n,t,e,r){var i=[],u=[],o=0,a=Math.min(n.length,t.length)-1;for(n[a]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++o<=a;)i.push(e(n[o-1],n[o])),u.push(r(t[o-1],t[o]));return function(t){var e=ao.bisect(n,t,1,a)-1;return u[e](i[e](t))}}function Wi(n,t,e,r){function i(){var i=Math.min(n.length,t.length)>2?Bi:Vi,l=r?Wr:Br;return o=i(n,t,l,e),a=i(t,n,l,Mr),u}function u(n){return o(n)}var o,a;return u.invert=function(n){return a(n)},u.domain=function(t){return arguments.length?(n=t.map(Number),i()):n},u.range=function(n){return arguments.length?(t=n,i()):t},u.rangeRound=function(n){return u.range(n).interpolate(jr)},u.clamp=function(n){return arguments.length?(r=n,i()):r},u.interpolate=function(n){return arguments.length?(e=n,i()):e},u.ticks=function(t){return Qi(n,t)},u.tickFormat=function(t,e){return nu(n,t,e)},u.nice=function(t){return Gi(n,t),i()},u.copy=function(){return Wi(n,t,e,r)},i()}function Ji(n,t){return ao.rebind(n,t,"range","rangeRound","interpolate","clamp")}function Gi(n,t){return Xi(n,$i(Ki(n,t)[2]))}function Ki(n,t){null==t&&(t=10);var e=Yi(n),r=e[1]-e[0],i=Math.pow(10,Math.floor(Math.log(r/t)/Math.LN10)),u=t/r*i;return u<=.15?i*=10:u<=.35?i*=5:u<=.75&&(i*=2),e[0]=Math.ceil(e[0]/i)*i,e[1]=Math.floor(e[1]/i)*i+.5*i,e[2]=i,e}function Qi(n,t){return ao.range.apply(ao,Ki(n,t))}function nu(n,t,e){var r=Ki(n,t);if(e){var i=ca.exec(e);if(i.shift(),"s"===i[8]){var u=ao.formatPrefix(Math.max(mo(r[0]),mo(r[1])));return i[7]||(i[7]="."+tu(u.scale(r[2]))),i[8]="f",e=ao.format(i.join("")),function(n){return e(u.scale(n))+u.symbol}}i[7]||(i[7]="."+eu(i[8],r)),e=i.join("")}else e=",."+tu(r[2])+"f";return ao.format(e)}function tu(n){return-Math.floor(Math.log(n)/Math.LN10+.01)}function eu(n,t){var e=tu(t[2]);return n in _l?Math.abs(e-tu(Math.max(mo(t[0]),mo(t[1]))))+ +("e"!==n):e-2*("%"===n)}function ru(n,t,e,r){function i(n){return(e?Math.log(n<0?0:n):-Math.log(n>0?0:-n))/Math.log(t)}function u(n){return e?Math.pow(t,n):-Math.pow(t,-n)}function o(t){return n(i(t))}return o.invert=function(t){return u(n.invert(t))},o.domain=function(t){return arguments.length?(e=t[0]>=0,n.domain((r=t.map(Number)).map(i)),o):r},o.base=function(e){return arguments.length?(t=+e,n.domain(r.map(i)),o):t},o.nice=function(){var t=Xi(r.map(i),e?Math:kl);return n.domain(t),r=t.map(u),o},o.ticks=function(){var n=Yi(r),o=[],a=n[0],l=n[1],c=Math.floor(i(a)),f=Math.ceil(i(l)),s=t%1?2:t;if(isFinite(f-c)){if(e){for(;c<f;c++)for(var h=1;h<s;h++)o.push(u(c)*h);o.push(u(c))}else for(o.push(u(c));c++<f;)for(var h=s-1;h>0;h--)o.push(u(c)*h);for(c=0;o[c]<a;c++);for(f=o.length;o[f-1]>l;f--);o=o.slice(c,f)}return o},o.tickFormat=function(n,t){if(!arguments.length)return wl;arguments.length<2?t=wl:"function"!=typeof t&&(t=ao.format(t));var r=Math.max(.1,n/o.ticks().length),a=e?(l=1e-12,Math.ceil):(l=-1e-12,Math.floor),l;return function(n){return n/u(a(i(n)+l))<=r?t(n):""}},o.copy=function(){return ru(n.copy(),t,e,r)},Ji(o,n)}function iu(n,t,e){function r(t){return n(i(t))}var i=uu(t),u=uu(1/t);return r.invert=function(t){return u(n.invert(t))},r.domain=function(t){return arguments.length?(n.domain((e=t.map(Number)).map(i)),r):e},r.ticks=function(n){return Qi(e,n)},r.tickFormat=function(n,t){return nu(e,n,t)},r.nice=function(n){return r.domain(Gi(e,n))},r.exponent=function(o){return arguments.length?(i=uu(t=o),u=uu(1/t),n.domain(e.map(i)),r):t},r.copy=function(){return iu(n.copy(),t,e)},Ji(r,n)}function uu(n){return function(t){return t<0?-Math.pow(-t,n):Math.pow(t,n)}}function ou(n,t){function e(e){return u[((i.get(e)||("range"===t.t?i.set(e,n.push(e)):NaN))-1)%u.length]}function r(t,e){return ao.range(n.length).map(function(n){return t+e*n})}var i,u,o;return e.domain=function(r){if(!arguments.length)return n;n=[],i=new c;for(var u=-1,o=r.length,a;++u<o;)i.has(a=r[u])||i.set(a,n.push(a));return e[t.t].apply(e,t.a)},e.range=function(n){return arguments.length?(u=n,o=0,t={t:"range",a:arguments},e):u},e.rangePoints=function(i,a){arguments.length<2&&(a=0);var l=i[0],c=i[1],f=n.length<2?(l=(l+c)/2,0):(c-l)/(n.length-1+a);return u=r(l+f*a/2,f),o=0,t={t:"rangePoints",a:arguments},e},e.rangeRoundPoints=function(i,a){arguments.length<2&&(a=0);var l=i[0],c=i[1],f=n.length<2?(l=c=Math.round((l+c)/2),0):(c-l)/(n.length-1+a)|0;return u=r(l+Math.round(f*a/2+(c-l-(n.length-1+a)*f)/2),f),o=0,t={t:"rangeRoundPoints",a:arguments},e},e.rangeBands=function(i,a,l){arguments.length<2&&(a=0),arguments.length<3&&(l=a);var c=i[1]<i[0],f=i[c-0],s=i[1-c],h=(s-f)/(n.length-a+2*l);return u=r(f+h*l,h),c&&u.reverse(),o=h*(1-a),t={t:"rangeBands",a:arguments},e},e.rangeRoundBands=function(i,a,l){arguments.length<2&&(a=0),arguments.length<3&&(l=a);var c=i[1]<i[0],f=i[c-0],s=i[1-c],h=Math.floor((s-f)/(n.length-a+2*l));return u=r(f+Math.round((s-f-(n.length-a)*h)/2),h),c&&u.reverse(),o=Math.round(h*(1-a)),t={t:"rangeRoundBands",a:arguments},e},e.rangeBand=function(){return o},e.rangeExtent=function(){return Yi(t.a[0])},e.copy=function(){return ou(n,t)},e.domain(n)}function au(n,t){function u(){var e=0,r=t.length;for(a=[];++e<r;)a[e-1]=ao.quantile(n,e/r);return o}function o(n){if(!isNaN(n=+n))return t[ao.bisect(a,n)]}var a;return o.domain=function(t){return arguments.length?(n=t.map(r).filter(i).sort(e),u()):n},o.range=function(n){return arguments.length?(t=n,u()):t},o.quantiles=function(){return a},o.invertExtent=function(e){return e=t.indexOf(e),e<0?[NaN,NaN]:[e>0?a[e-1]:n[0],e<a.length?a[e]:n[n.length-1]]},o.copy=function(){return au(n,t)},u()}function lu(n,t,e){function r(t){return e[Math.max(0,Math.min(o,Math.floor(u*(t-n))))]}function i(){return u=e.length/(t-n),o=e.length-1,r}var u,o;return r.domain=function(e){return arguments.length?(n=+e[0],t=+e[e.length-1],i()):[n,t]},r.range=function(n){return arguments.length?(e=n,i()):e},r.invertExtent=function(t){return t=e.indexOf(t),t=t<0?NaN:t/u+n,[t,t+1/u]},r.copy=function(){return lu(n,t,e)},i()}function cu(n,t){function e(e){if(e<=e)return t[ao.bisect(n,e)]}return e.domain=function(t){return arguments.length?(n=t,e):n},e.range=function(n){return arguments.length?(t=n,e):t},e.invertExtent=function(e){return e=t.indexOf(e),[n[e-1],n[e]]},e.copy=function(){return cu(n,t)},e}function fu(n){function t(n){return+n}return t.invert=t,t.domain=t.range=function(e){return arguments.length?(n=e.map(t),t):n},t.ticks=function(t){return Qi(n,t)},t.tickFormat=function(t,e){return nu(n,t,e)},t.copy=function(){return fu(n)},t}function su(){return 0}function hu(n){return n.innerRadius}function pu(n){return n.outerRadius}function gu(n){return n.startAngle}function vu(n){return n.endAngle}function du(n){return n&&n.padAngle}function yu(n,t,e,r){return(n-e)*t-(t-r)*n>0?0:1}function mu(n,t,e,r,i){var u=n[0]-t[0],o=n[1]-t[1],a=(i?r:-r)/Math.sqrt(u*u+o*o),l=a*o,c=-a*u,f=n[0]+l,s=n[1]+c,h=t[0]+l,p=t[1]+c,g=(f+h)/2,v=(s+p)/2,d=h-f,y=p-s,m=d*d+y*y,M=e-r,x=f*p-h*s,b=(y<0?-1:1)*Math.sqrt(Math.max(0,M*M*m-x*x)),_=(x*y-d*b)/m,w=(-x*d-y*b)/m,k=(x*y+d*b)/m,S=(-x*d+y*b)/m,N=_-g,E=w-v,A=k-g,C=S-v;return N*N+E*E>A*A+C*C&&(_=k,w=S),[[_-l,w-c],[_*e/M,w*e/M]]}function Mu(n){function t(t){function o(){l.push("M",u(n(c),a))}for(var l=[],c=[],f=-1,s=t.length,h,p=En(e),g=En(r);++f<s;)i.call(this,h=t[f],f)?c.push([+p.call(this,h,f),+g.call(this,h,f)]):c.length&&(o(),c=[]);return c.length&&o(),l.length?l.join(""):null}var e=Ce,r=ze,i=zt,u=xu,o=u.key,a=.7;return t.x=function(n){return arguments.length?(e=n,t):e},t.y=function(n){return arguments.length?(r=n,t):r},t.defined=function(n){return arguments.length?(i=n,t):i},t.interpolate=function(n){return arguments.length?(o="function"==typeof n?u=n:(u=zl.get(n)||xu).key,t):o},t.tension=function(n){return arguments.length?(a=n,t):a},t}function xu(n){return n.length>1?n.join("L"):n+"Z"}function bu(n){return n.join("L")+"Z"}function _u(n){for(var t=0,e=n.length,r=n[0],i=[r[0],",",r[1]];++t<e;)i.push("H",(r[0]+(r=n[t])[0])/2,"V",r[1]);return e>1&&i.push("H",r[0]),i.join("")}function wu(n){for(var t=0,e=n.length,r=n[0],i=[r[0],",",r[1]];++t<e;)i.push("V",(r=n[t])[1],"H",r[0]);return i.join("")}function ku(n){for(var t=0,e=n.length,r=n[0],i=[r[0],",",r[1]];++t<e;)i.push("H",(r=n[t])[0],"V",r[1]);return i.join("")}function Su(n,t){return n.length<4?xu(n):n[1]+Au(n.slice(1,-1),Cu(n,t))}function Nu(n,t){return n.length<3?bu(n):n[0]+Au((n.push(n[0]),n),Cu([n[n.length-2]].concat(n,[n[1]]),t))}function Eu(n,t){return n.length<3?xu(n):n[0]+Au(n,Cu(n,t))}function Au(n,t){if(t.length<1||n.length!=t.length&&n.length!=t.length+2)return xu(n);var e=n.length!=t.length,r="",i=n[0],u=n[1],o=t[0],a=o,l=1;if(e&&(r+="Q"+(u[0]-2*o[0]/3)+","+(u[1]-2*o[1]/3)+","+u[0]+","+u[1],i=n[1],l=2),t.length>1){a=t[1],u=n[l],l++,r+="C"+(i[0]+o[0])+","+(i[1]+o[1])+","+(u[0]-a[0])+","+(u[1]-a[1])+","+u[0]+","+u[1];for(var c=2;c<t.length;c++,l++)u=n[l],a=t[c],r+="S"+(u[0]-a[0])+","+(u[1]-a[1])+","+u[0]+","+u[1]}if(e){var f=n[l];r+="Q"+(u[0]+2*a[0]/3)+","+(u[1]+2*a[1]/3)+","+f[0]+","+f[1]}return r}function Cu(n,t){for(var e=[],r=(1-t)/2,i,u=n[0],o=n[1],a=1,l=n.length;++a<l;)i=u,u=o,o=n[a],e.push([r*(o[0]-i[0]),r*(o[1]-i[1])]);return e}function zu(n){if(n.length<3)return xu(n);var t=1,e=n.length,r=n[0],i=r[0],u=r[1],o=[i,i,i,(r=n[1])[0]],a=[u,u,u,r[1]],l=[i,",",u,"L",Ru(Tl,o),",",Ru(Tl,a)];for(n.push(n[e-1]);++t<=e;)r=n[t],o.shift(),o.push(r[0]),a.shift(),a.push(r[1]),Du(l,o,a);return n.pop(),l.push("L",r),l.join("")}function Lu(n){if(n.length<4)return xu(n);for(var t=[],e=-1,r=n.length,i,u=[0],o=[0];++e<3;)i=n[e],u.push(i[0]),o.push(i[1]);for(t.push(Ru(Tl,u)+","+Ru(Tl,o)),--e;++e<r;)i=n[e],u.shift(),u.push(i[0]),o.shift(),o.push(i[1]),Du(t,u,o);return t.join("")}function qu(n){for(var t,e=-1,r=n.length,i=r+4,u,o=[],a=[];++e<4;)u=n[e%r],o.push(u[0]),a.push(u[1]);for(t=[Ru(Tl,o),",",Ru(Tl,a)],--e;++e<i;)u=n[e%r],o.shift(),o.push(u[0]),a.shift(),a.push(u[1]),Du(t,o,a);return t.join("")}function Tu(n,t){var e=n.length-1;if(e)for(var r=n[0][0],i=n[0][1],u=n[e][0]-r,o=n[e][1]-i,a=-1,l,c;++a<=e;)l=n[a],c=a/e,l[0]=t*l[0]+(1-t)*(r+c*u),l[1]=t*l[1]+(1-t)*(i+c*o);return zu(n)}function Ru(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]+n[3]*t[3]}function Du(n,t,e){n.push("C",Ru(Ll,t),",",Ru(Ll,e),",",Ru(ql,t),",",Ru(ql,e),",",Ru(Tl,t),",",Ru(Tl,e))}function Pu(n,t){return(t[1]-n[1])/(t[0]-n[0])}function ju(n){for(var t=0,e=n.length-1,r=[],i=n[0],u=n[1],o=r[0]=Pu(i,u);++t<e;)r[t]=(o+(o=Pu(i=u,u=n[t+1])))/2;return r[t]=o,r}function Uu(n){for(var t=[],e,r,i,u,o=ju(n),a=-1,l=n.length-1;++a<l;)e=Pu(n[a],n[a+1]),mo(e)<Ro?o[a]=o[a+1]=0:(r=o[a]/e,i=o[a+1]/e,u=r*r+i*i,u>9&&(u=3*e/Math.sqrt(u),o[a]=u*r,o[a+1]=u*i));for(a=-1;++a<=l;)u=(n[Math.min(l,a+1)][0]-n[Math.max(0,a-1)][0])/(6*(1+o[a]*o[a])),t.push([u||0,o[a]*u||0]);return t}function Fu(n){return n.length<3?xu(n):n[0]+Au(n,Uu(n))}function Hu(n){for(var t,e=-1,r=n.length,i,u;++e<r;)t=n[e],i=t[0],u=t[1]-Fo,t[0]=i*Math.cos(u),t[1]=i*Math.sin(u);return n}function Ou(n){function t(t){function l(){h.push("M",a(n(g),s),f,c(n(p.reverse()),s),"Z");
}for(var h=[],p=[],g=[],v=-1,d=t.length,y,m=En(e),M=En(i),x=e===r?function(){return _}:En(r),b=i===u?function(){return w}:En(u),_,w;++v<d;)o.call(this,y=t[v],v)?(p.push([_=+m.call(this,y,v),w=+M.call(this,y,v)]),g.push([+x.call(this,y,v),+b.call(this,y,v)])):p.length&&(l(),p=[],g=[]);return p.length&&l(),h.length?h.join(""):null}var e=Ce,r=Ce,i=0,u=ze,o=zt,a=xu,l=a.key,c=a,f="L",s=.7;return t.x=function(n){return arguments.length?(e=r=n,t):r},t.x0=function(n){return arguments.length?(e=n,t):e},t.x1=function(n){return arguments.length?(r=n,t):r},t.y=function(n){return arguments.length?(i=u=n,t):u},t.y0=function(n){return arguments.length?(i=n,t):i},t.y1=function(n){return arguments.length?(u=n,t):u},t.defined=function(n){return arguments.length?(o=n,t):o},t.interpolate=function(n){return arguments.length?(l="function"==typeof n?a=n:(a=zl.get(n)||xu).key,c=a.reverse||a,f=a.closed?"M":"L",t):l},t.tension=function(n){return arguments.length?(s=n,t):s},t}function Iu(n){return n.radius}function Yu(n){return[n.x,n.y]}function Zu(n){return function(){var t=n.apply(this,arguments),e=t[0],r=t[1]-Fo;return[e*Math.cos(r),e*Math.sin(r)]}}function Vu(){return 64}function Xu(){return"circle"}function $u(n){var t=Math.sqrt(n/Po);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}function Bu(n){return function(){var t,e,r;(t=this[n])&&(r=t[e=t.active])&&(r.timer.c=null,r.timer.t=NaN,--t.count?delete t[e]:delete this[n],t.active+=.5,r.event&&r.event.interrupt.call(this,this.__data__,r.index))}}function Wu(n,t,e){return wo(n,Ul),n.namespace=t,n.id=e,n}function Ju(n,t,e,r){var i=n.id,u=n.namespace;return Y(n,"function"==typeof e?function(n,o,a){n[u][i].tween.set(t,r(e.call(n,n.__data__,o,a)))}:(e=r(e),function(n){n[u][i].tween.set(t,e)}))}function Gu(n){return null==n&&(n=""),function(){this.textContent=n}}function Ku(n){return null==n?"__transition__":"__transition_"+n+"__"}function Qu(n,t,e,r,i){function u(n){var t=f.delay;return h.t=t+s,t<=n?o(n-t):void(h.c=o)}function o(e){var i=l.active,u=l[i];u&&(u.timer.c=null,u.timer.t=NaN,--l.count,delete l[i],u.event&&u.event.interrupt.call(n,n.__data__,u.index));for(var o in l)if(+o<r){var c=l[o];c.timer.c=null,c.timer.t=NaN,--l.count,delete l[o]}l.active=r,f.event&&f.event.start.call(n,n.__data__,t),v=[],f.tween.forEach(function(e,r){(r=r.call(n,n.__data__,t))&&v.push(r)}),g=f.ease,p=f.duration,h.c=a,qn(function(){return h.c&&a(e||1)&&(h.c=null,h.t=NaN),1},0,s)}function a(i){for(var u=i/p,o=g(u),a=v.length;a>0;)v[--a].call(n,o);if(u>=1)return f.event&&f.event.end.call(n,n.__data__,t),--l.count?delete l[r]:delete n[e],1}var l=n[e]||(n[e]={active:0,count:0}),f=l[r],s,h,p,g,v;f||(s=i.time,h=qn(u,0,s),f=l[r]={tween:new c,time:s,timer:h,delay:i.delay,duration:i.duration,ease:i.ease,index:t},i=null,++l.count)}function no(n,t,e){n.attr("transform",function(n){var r=t(n);return"translate("+(isFinite(r)?r:e(n))+",0)"})}function to(n,t,e){n.attr("transform",function(n){var r=t(n);return"translate(0,"+(isFinite(r)?r:e(n))+")"})}function eo(n){return n.toISOString()}function ro(n,t,e){function r(t){return n(t)}function i(n,e){var r=n[1]-n[0],i=r/e,u=ao.bisect(Wl,i);return u==Wl.length?[t.year,Ki(n.map(function(n){return n/31536e6}),e)[2]]:u?t[i/Wl[u-1]<Wl[u]/i?u-1:u]:[Kl,Ki(n,e)[2]]}return r.invert=function(t){return io(n.invert(t))},r.domain=function(t){return arguments.length?(n.domain(t),r):n.domain().map(io)},r.nice=function(n,t){function e(e){return!isNaN(e)&&!n.range(e,io(+e+1),t).length}var u=r.domain(),o=Yi(u),a=null==n?i(o,10):"number"==typeof n&&i(o,n);return a&&(n=a[0],t=a[1]),r.domain(Xi(u,t>1?{floor:function(t){for(;e(t=n.floor(t));)t=io(t-1);return t},ceil:function(t){for(;e(t=n.ceil(t));)t=io(+t+1);return t}}:n))},r.ticks=function(n,t){var e=Yi(r.domain()),u=null==n?i(e,10):"number"==typeof n?i(e,n):!n.range&&[{range:n},t];return u&&(n=u[0],t=u[1]),n.range(e[0],io(+e[1]+1),t<1?1:t)},r.tickFormat=function(){return e},r.copy=function(){return ro(n.copy(),t,e)},Ji(r,n)}function io(n){return new Date(n)}function uo(n){return JSON.parse(n.responseText)}function oo(n){var t=fo.createRange();return t.selectNode(fo.body),t.createContextualFragment(n.responseText)}var ao={version:"3.5.8"},lo=[].slice,co=function(n){return lo.call(n)},fo=this.document;if(fo)try{co(fo.documentElement.childNodes)[0].nodeType}catch(n){co=function(n){for(var t=n.length,e=new Array(t);t--;)e[t]=n[t];return e}}if(Date.now||(Date.now=function(){return+new Date}),fo)try{fo.createElement("DIV").style.setProperty("opacity",0,"")}catch(n){var so=this.Element.prototype,ho=so.setAttribute,po=so.setAttributeNS,go=this.CSSStyleDeclaration.prototype,vo=go.setProperty;so.setAttribute=function(n,t){ho.call(this,n,t+"")},so.setAttributeNS=function(n,t,e){po.call(this,n,t,e+"")},go.setProperty=function(n,t,e){vo.call(this,n,t+"",e)}}ao.ascending=e,ao.descending=function(n,t){return t<n?-1:t>n?1:t>=n?0:NaN},ao.min=function(n,t){var e=-1,r=n.length,i,u;if(1===arguments.length){for(;++e<r;)if(null!=(u=n[e])&&u>=u){i=u;break}for(;++e<r;)null!=(u=n[e])&&i>u&&(i=u)}else{for(;++e<r;)if(null!=(u=t.call(n,n[e],e))&&u>=u){i=u;break}for(;++e<r;)null!=(u=t.call(n,n[e],e))&&i>u&&(i=u)}return i},ao.max=function(n,t){var e=-1,r=n.length,i,u;if(1===arguments.length){for(;++e<r;)if(null!=(u=n[e])&&u>=u){i=u;break}for(;++e<r;)null!=(u=n[e])&&u>i&&(i=u)}else{for(;++e<r;)if(null!=(u=t.call(n,n[e],e))&&u>=u){i=u;break}for(;++e<r;)null!=(u=t.call(n,n[e],e))&&u>i&&(i=u)}return i},ao.extent=function(n,t){var e=-1,r=n.length,i,u,o;if(1===arguments.length){for(;++e<r;)if(null!=(u=n[e])&&u>=u){i=o=u;break}for(;++e<r;)null!=(u=n[e])&&(i>u&&(i=u),o<u&&(o=u))}else{for(;++e<r;)if(null!=(u=t.call(n,n[e],e))&&u>=u){i=o=u;break}for(;++e<r;)null!=(u=t.call(n,n[e],e))&&(i>u&&(i=u),o<u&&(o=u))}return[i,o]},ao.sum=function(n,t){var e=0,r=n.length,u,o=-1;if(1===arguments.length)for(;++o<r;)i(u=+n[o])&&(e+=u);else for(;++o<r;)i(u=+t.call(n,n[o],o))&&(e+=u);return e},ao.mean=function(n,t){var e=0,u=n.length,o,a=-1,l=u;if(1===arguments.length)for(;++a<u;)i(o=r(n[a]))?e+=o:--l;else for(;++a<u;)i(o=r(t.call(n,n[a],a)))?e+=o:--l;if(l)return e/l},ao.quantile=function(n,t){var e=(n.length-1)*t+1,r=Math.floor(e),i=+n[r-1],u=e-r;return u?i+u*(n[r]-i):i},ao.median=function(n,t){var u=[],o=n.length,a,l=-1;if(1===arguments.length)for(;++l<o;)i(a=r(n[l]))&&u.push(a);else for(;++l<o;)i(a=r(t.call(n,n[l],l)))&&u.push(a);if(u.length)return ao.quantile(u.sort(e),.5)},ao.variance=function(n,t){var e=n.length,u=0,o,a,l=0,c=-1,f=0;if(1===arguments.length)for(;++c<e;)i(o=r(n[c]))&&(a=o-u,u+=a/++f,l+=a*(o-u));else for(;++c<e;)i(o=r(t.call(n,n[c],c)))&&(a=o-u,u+=a/++f,l+=a*(o-u));if(f>1)return l/(f-1)},ao.deviation=function(){var n=ao.variance.apply(this,arguments);return n?Math.sqrt(n):n};var yo=u(e);ao.bisectLeft=yo.left,ao.bisect=ao.bisectRight=yo.right,ao.bisector=function(n){return u(1===n.length?function(t,r){return e(n(t),r)}:n)},ao.shuffle=function(n,t,e){(r=arguments.length)<3&&(e=n.length,r<2&&(t=0));for(var r=e-t,i,u;r;)u=Math.random()*r--|0,i=n[r+t],n[r+t]=n[u+t],n[u+t]=i;return n},ao.permute=function(n,t){for(var e=t.length,r=new Array(e);e--;)r[e]=n[t[e]];return r},ao.pairs=function(n){for(var t=0,e=n.length-1,r,i=n[0],u=new Array(e<0?0:e);t<e;)u[t]=[r=i,i=n[++t]];return u},ao.zip=function(){if(!(i=arguments.length))return[];for(var n=-1,t=ao.min(arguments,o),e=new Array(t);++n<t;)for(var r=-1,i,u=e[n]=new Array(i);++r<i;)u[r]=arguments[r][n];return e},ao.transpose=function(n){return ao.zip.apply(ao,n)},ao.keys=function(n){var t=[];for(var e in n)t.push(e);return t},ao.values=function(n){var t=[];for(var e in n)t.push(n[e]);return t},ao.entries=function(n){var t=[];for(var e in n)t.push({key:e,value:n[e]});return t},ao.merge=function(n){for(var t=n.length,e,r=-1,i=0,u,o;++r<t;)i+=n[r].length;for(u=new Array(i);--t>=0;)for(o=n[t],e=o.length;--e>=0;)u[--i]=o[e];return u};var mo=Math.abs;ao.range=function(n,t,e){if(arguments.length<3&&(e=1,arguments.length<2&&(t=n,n=0)),(t-n)/e===1/0)throw new Error("infinite range");var r=[],i=a(mo(e)),u=-1,o;if(n*=i,t*=i,e*=i,e<0)for(;(o=n+e*++u)>t;)r.push(o/i);else for(;(o=n+e*++u)<t;)r.push(o/i);return r},ao.map=function(n,t){var e=new c;if(n instanceof c)n.forEach(function(n,t){e.set(n,t)});else if(Array.isArray(n)){var r=-1,i=n.length,u;if(1===arguments.length)for(;++r<i;)e.set(r,n[r]);else for(;++r<i;)e.set(t.call(n,u=n[r],r),u)}else for(var o in n)e.set(o,n[o]);return e};var Mo="__proto__",xo="\0";l(c,{has:h,get:function(n){return this._[f(n)]},set:function(n,t){return this._[f(n)]=t},remove:p,keys:g,values:function(){var n=[];for(var t in this._)n.push(this._[t]);return n},entries:function(){var n=[];for(var t in this._)n.push({key:s(t),value:this._[t]});return n},size:v,empty:d,forEach:function(n){for(var t in this._)n.call(this,s(t),this._[t])}}),ao.nest=function(){function n(t,i,a){if(a>=r.length)return o?o.call(e,i):u?i.sort(u):i;for(var l=-1,f=i.length,s=r[a++],h,p,g,v=new c,d;++l<f;)(d=v.get(h=s(p=i[l])))?d.push(p):v.set(h,[p]);return t?(p=t(),g=function(e,r){p.set(e,n(t,r,a))}):(p={},g=function(e,r){p[e]=n(t,r,a)}),v.forEach(g),p}function t(n,e){if(e>=r.length)return n;var u=[],o=i[e++];return n.forEach(function(n,r){u.push({key:n,values:t(r,e)})}),o?u.sort(function(n,t){return o(n.key,t.key)}):u}var e={},r=[],i=[],u,o;return e.map=function(t,e){return n(e,t,0)},e.entries=function(e){return t(n(ao.map,e,0),0)},e.key=function(n){return r.push(n),e},e.sortKeys=function(n){return i[r.length-1]=n,e},e.sortValues=function(n){return u=n,e},e.rollup=function(n){return o=n,e},e},ao.set=function(n){var t=new y;if(n)for(var e=0,r=n.length;e<r;++e)t.add(n[e]);return t},l(y,{has:h,add:function(n){return this._[f(n+="")]=!0,n},remove:p,values:g,size:v,empty:d,forEach:function(n){for(var t in this._)n.call(this,s(t))}}),ao.behavior={},ao.rebind=function(n,t){for(var e=1,r=arguments.length,i;++e<r;)n[i=arguments[e]]=M(n,t,t[i]);return n};var bo=["webkit","ms","moz","Moz","o","O"];ao.dispatch=function(){for(var n=new _,t=-1,e=arguments.length;++t<e;)n[arguments[t]]=w(n);return n},_.prototype.on=function(n,t){var e=n.indexOf("."),r="";if(e>=0&&(r=n.slice(e+1),n=n.slice(0,e)),n)return arguments.length<2?this[n].on(r):this[n].on(r,t);if(2===arguments.length){if(null==t)for(n in this)this.hasOwnProperty(n)&&this[n].on(r,null);return this}},ao.event=null,ao.requote=function(n){return n.replace(_o,"\\$&")};var _o=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,wo={}.__proto__?function(n,t){n.__proto__=t}:function(n,t){for(var e in t)n[e]=t[e]},ko=function(n,t){return t.querySelector(n)},So=function(n,t){return t.querySelectorAll(n)},No=function(n,t){var e=n.matches||n[x(n,"matchesSelector")];return(No=function(n,t){return e.call(n,t)})(n,t)};"function"==typeof Sizzle&&(ko=function(n,t){return Sizzle(n,t)[0]||null},So=Sizzle,No=Sizzle.matchesSelector),ao.selection=function(){return ao.select(fo.documentElement)};var Eo=ao.selection.prototype=[];Eo.select=function(n){var t=[],e,r,i,u;n=A(n);for(var o=-1,a=this.length;++o<a;){t.push(e=[]),e.parentNode=(i=this[o]).parentNode;for(var l=-1,c=i.length;++l<c;)(u=i[l])?(e.push(r=n.call(u,u.__data__,l,o)),r&&"__data__"in u&&(r.__data__=u.__data__)):e.push(null)}return E(t)},Eo.selectAll=function(n){var t=[],e,r;n=C(n);for(var i=-1,u=this.length;++i<u;)for(var o=this[i],a=-1,l=o.length;++a<l;)(r=o[a])&&(t.push(e=co(n.call(r,r.__data__,a,i))),e.parentNode=r);return E(t)};var Ao={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};ao.ns={prefix:Ao,qualify:function(n){var t=n.indexOf(":"),e=n;return t>=0&&"xmlns"!==(e=n.slice(0,t))&&(n=n.slice(t+1)),Ao.hasOwnProperty(e)?{space:Ao[e],local:n}:n}},Eo.attr=function(n,t){if(arguments.length<2){if("string"==typeof n){var e=this.node();return n=ao.ns.qualify(n),n.local?e.getAttributeNS(n.space,n.local):e.getAttribute(n)}for(t in n)this.each(z(t,n[t]));return this}return this.each(z(n,t))},Eo.classed=function(n,t){if(arguments.length<2){if("string"==typeof n){var e=this.node(),r=(n=T(n)).length,i=-1;if(t=e.classList){for(;++i<r;)if(!t.contains(n[i]))return!1}else for(t=e.getAttribute("class");++i<r;)if(!q(n[i]).test(t))return!1;return!0}for(t in n)this.each(R(t,n[t]));return this}return this.each(R(n,t))},Eo.style=function(n,e,r){var i=arguments.length;if(i<3){if("string"!=typeof n){i<2&&(e="");for(r in n)this.each(P(r,n[r],e));return this}if(i<2){var u=this.node();return t(u).getComputedStyle(u,null).getPropertyValue(n)}r=""}return this.each(P(n,e,r))},Eo.property=function(n,t){if(arguments.length<2){if("string"==typeof n)return this.node()[n];for(t in n)this.each(j(t,n[t]));return this}return this.each(j(n,t))},Eo.text=function(n){return arguments.length?this.each("function"==typeof n?function(){var t=n.apply(this,arguments);this.textContent=null==t?"":t}:null==n?function(){this.textContent=""}:function(){this.textContent=n}):this.node().textContent},Eo.html=function(n){return arguments.length?this.each("function"==typeof n?function(){var t=n.apply(this,arguments);this.innerHTML=null==t?"":t}:null==n?function(){this.innerHTML=""}:function(){this.innerHTML=n}):this.node().innerHTML},Eo.append=function(n){return n=U(n),this.select(function(){return this.appendChild(n.apply(this,arguments))})},Eo.insert=function(n,t){return n=U(n),t=A(t),this.select(function(){return this.insertBefore(n.apply(this,arguments),t.apply(this,arguments)||null)})},Eo.remove=function(){return this.each(F)},Eo.data=function(n,t){function e(n,e){var r,i=n.length,u=e.length,o=Math.min(i,u),s=new Array(u),h=new Array(u),p=new Array(i),g,v;if(t){var d=new c,y=new Array(i),m;for(r=-1;++r<i;)(g=n[r])&&(d.has(m=t.call(g,g.__data__,r))?p[r]=g:d.set(m,g),y[r]=m);for(r=-1;++r<u;)(g=d.get(m=t.call(e,v=e[r],r)))?g!==!0&&(s[r]=g,g.__data__=v):h[r]=H(v),d.set(m,!0);for(r=-1;++r<i;)r in y&&d.get(y[r])!==!0&&(p[r]=n[r])}else{for(r=-1;++r<o;)g=n[r],v=e[r],g?(g.__data__=v,s[r]=g):h[r]=H(v);for(;r<u;++r)h[r]=H(e[r]);for(;r<i;++r)p[r]=n[r]}h.update=s,h.parentNode=s.parentNode=p.parentNode=n.parentNode,a.push(h),l.push(s),f.push(p)}var r=-1,i=this.length,u,o;if(!arguments.length){for(n=new Array(i=(u=this[0]).length);++r<i;)(o=u[r])&&(n[r]=o.__data__);return n}var a=Z([]),l=E([]),f=E([]);if("function"==typeof n)for(;++r<i;)e(u=this[r],n.call(u,u.parentNode.__data__,r));else for(;++r<i;)e(u=this[r],n);return l.enter=function(){return a},l.exit=function(){return f},l},Eo.datum=function(n){return arguments.length?this.property("__data__",n):this.property("__data__")},Eo.filter=function(n){var t=[],e,r,i;"function"!=typeof n&&(n=O(n));for(var u=0,o=this.length;u<o;u++){t.push(e=[]),e.parentNode=(r=this[u]).parentNode;for(var a=0,l=r.length;a<l;a++)(i=r[a])&&n.call(i,i.__data__,a,u)&&e.push(i)}return E(t)},Eo.order=function(){for(var n=-1,t=this.length;++n<t;)for(var e=this[n],r=e.length-1,i=e[r],u;--r>=0;)(u=e[r])&&(i&&i!==u.nextSibling&&i.parentNode.insertBefore(u,i),i=u);return this},Eo.sort=function(n){n=I.apply(this,arguments);for(var t=-1,e=this.length;++t<e;)this[t].sort(n);return this.order()},Eo.each=function(n){return Y(this,function(t,e,r){n.call(t,t.__data__,e,r)})},Eo.call=function(n){var t=co(arguments);return n.apply(t[0]=this,t),this},Eo.empty=function(){return!this.node()},Eo.node=function(){for(var n=0,t=this.length;n<t;n++)for(var e=this[n],r=0,i=e.length;r<i;r++){var u=e[r];if(u)return u}return null},Eo.size=function(){var n=0;return Y(this,function(){++n}),n};var Co=[];ao.selection.enter=Z,ao.selection.enter.prototype=Co,Co.append=Eo.append,Co.empty=Eo.empty,Co.node=Eo.node,Co.call=Eo.call,Co.size=Eo.size,Co.select=function(n){for(var t=[],e,r,i,u,o,a=-1,l=this.length;++a<l;){i=(u=this[a]).update,t.push(e=[]),e.parentNode=u.parentNode;for(var c=-1,f=u.length;++c<f;)(o=u[c])?(e.push(i[c]=r=n.call(u.parentNode,o.__data__,c,a)),r.__data__=o.__data__):e.push(null)}return E(t)},Co.insert=function(n,t){return arguments.length<2&&(t=V(this)),Eo.insert.call(this,n,t)},ao.select=function(t){var e;return"string"==typeof t?(e=[ko(t,fo)],e.parentNode=fo.documentElement):(e=[t],e.parentNode=n(t)),E([e])},ao.selectAll=function(n){var t;return"string"==typeof n?(t=co(So(n,fo)),t.parentNode=fo.documentElement):(t=co(n),t.parentNode=null),E([t])},Eo.on=function(n,t,e){var r=arguments.length;if(r<3){if("string"!=typeof n){r<2&&(t=!1);for(e in n)this.each(X(e,n[e],t));return this}if(r<2)return(r=this.node()["__on"+n])&&r._;e=!1}return this.each(X(n,t,e))};var zo=ao.map({mouseenter:"mouseover",mouseleave:"mouseout"});fo&&zo.forEach(function(n){"on"+n in fo&&zo.remove(n)});var Lo,qo=0;ao.mouse=function(n){return J(n,S())};var To=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;ao.touch=function(n,t,e){if(arguments.length<3&&(e=t,t=S().changedTouches),t)for(var r=0,i=t.length,u;r<i;++r)if((u=t[r]).identifier===e)return J(n,u)},ao.behavior.drag=function(){function n(){this.on("mousedown.drag",u).on("touchstart.drag",o)}function e(n,t,e,u,o){return function(){function a(){var n=t(s,g),e,r;n&&(e=n[0]-M[0],r=n[1]-M[1],p|=e|r,M=n,h({type:"drag",x:n[0]+d[0],y:n[1]+d[1],dx:e,dy:r}))}function l(){t(s,g)&&(y.on(u+v,null).on(o+v,null),m(p&&ao.event.target===f),h({type:"dragend"}))}var c=this,f=ao.event.target,s=c.parentNode,h=r.of(c,arguments),p=0,g=n(),v=".drag"+(null==g?"":"-"+g),d,y=ao.select(e(f)).on(u+v,a).on(o+v,l),m=W(f),M=t(s,g);i?(d=i.apply(c,arguments),d=[d.x-M[0],d.y-M[1]]):d=[0,0],h({type:"dragstart"})}}var r=N(n,"drag","dragstart","dragend"),i=null,u=e(b,ao.mouse,t,"mousemove","mouseup"),o=e(G,ao.touch,m,"touchmove","touchend");return n.origin=function(t){return arguments.length?(i=t,n):i},ao.rebind(n,r,"on")},ao.touches=function(n,t){return arguments.length<2&&(t=S().touches),t?co(t).map(function(t){var e=J(n,t);return e.identifier=t.identifier,e}):[]};var Ro=1e-6,Do=Ro*Ro,Po=Math.PI,jo=2*Po,Uo=jo-Ro,Fo=Po/2,Ho=Po/180,Oo=180/Po,Io=Math.SQRT2,Yo=2,Zo=4;ao.interpolateZoom=function(n,t){var e=n[0],r=n[1],i=n[2],u=t[0],o=t[1],a=t[2],l=u-e,c=o-r,f=l*l+c*c,s,h;if(f<Do)h=Math.log(a/i)/Io,s=function(n){return[e+n*l,r+n*c,i*Math.exp(Io*n*h)]};else{var p=Math.sqrt(f),g=(a*a-i*i+Zo*f)/(2*i*Yo*p),v=(a*a-i*i-Zo*f)/(2*a*Yo*p),d=Math.log(Math.sqrt(g*g+1)-g),y=Math.log(Math.sqrt(v*v+1)-v);h=(y-d)/Io,s=function(n){var t=n*h,u=rn(d),o=i/(Yo*p)*(u*un(Io*t+d)-en(d));return[e+o*l,r+o*c,i*u/rn(Io*t+d)]}}return s.duration=1e3*h,s},ao.behavior.zoom=function(){function n(n){n.on(w,s).on($o+".zoom",p).on("dblclick.zoom",g).on(C,h)}function e(n){return[(n[0]-v.x)/v.k,(n[1]-v.y)/v.k]}function r(n){return[n[0]*v.k+v.x,n[1]*v.k+v.y]}function i(n){v.k=Math.max(x[0],Math.min(x[1],n))}function u(n,t){t=r(t),v.x+=n[0]-t[0],v.y+=n[1]-t[1]}function o(t,e,r,o){t.__chart__={x:v.x,y:v.y,k:v.k},i(Math.pow(2,o)),u(y=e,r),t=ao.select(t),b>0&&(t=t.transition().duration(b)),t.call(n.event)}function a(){T&&T.domain(q.range().map(function(n){return(n-v.x)/v.k}).map(q.invert)),D&&D.domain(R.range().map(function(n){return(n-v.y)/v.k}).map(R.invert))}function l(n){_++||n({type:"zoomstart"})}function c(n){a(),n({type:"zoom",scale:v.k,translate:[v.x,v.y]})}function f(n){--_||(n({type:"zoomend"}),y=null)}function s(){function n(){s=1,u(ao.mouse(i),p),c(a)}function r(){h.on(S,null).on(E,null),g(s&&ao.event.target===o),f(a)}var i=this,o=ao.event.target,a=L.of(i,arguments),s=0,h=ao.select(t(i)).on(S,n).on(E,r),p=e(ao.mouse(i)),g=W(i);jl.call(i),l(a)}function h(){function n(){var n=ao.touches(p);return m=v.k,n.forEach(function(n){n.identifier in d&&(d[n.identifier]=e(n))}),n}function t(){var t=ao.event.target;ao.select(t).on(x,r).on(b,a),_.push(t);for(var e=ao.event.changedTouches,i=0,u=e.length;i<u;++i)d[e[i].identifier]=null;var l=n(),c=Date.now();if(1===l.length){if(c-z<500){var f=l[0];o(p,f,d[f.identifier],Math.floor(Math.log(v.k)/Math.LN2)+1),k()}z=c}else if(l.length>1){var f=l[0],s=l[1],h=f[0]-s[0],g=f[1]-s[1];y=h*h+g*g}}function r(){var n=ao.touches(p),t,e,r,o;jl.call(p);for(var a=0,l=n.length;a<l;++a,o=null)if(r=n[a],o=d[r.identifier]){if(e)break;t=r,e=o}if(o){var f=(f=r[0]-t[0])*f+(f=r[1]-t[1])*f,s=y&&Math.sqrt(f/y);t=[(t[0]+r[0])/2,(t[1]+r[1])/2],e=[(e[0]+o[0])/2,(e[1]+o[1])/2],i(s*m)}z=null,u(t,e),c(g)}function a(){if(ao.event.touches.length){for(var t=ao.event.changedTouches,e=0,r=t.length;e<r;++e)delete d[t[e].identifier];for(var i in d)return void n()}ao.selectAll(_).on(M,null),S.on(w,s).on(C,h),N(),f(g)}var p=this,g=L.of(p,arguments),d={},y=0,m,M=".zoom-"+ao.event.changedTouches[0].identifier,x="touchmove"+M,b="touchend"+M,_=[],S=ao.select(p),N=W(p);t(),l(g),S.on(w,null).on(C,t)}function p(){var n=L.of(this,arguments);A?clearTimeout(A):(jl.call(this),d=e(y=m||ao.mouse(this)),l(n)),A=setTimeout(function(){A=null,f(n)},50),k(),i(Math.pow(2,.002*Xo())*v.k),u(y,d),c(n)}function g(){var n=ao.mouse(this),t=Math.log(v.k)/Math.LN2;o(this,n,e(n),ao.event.shiftKey?Math.ceil(t)-1:Math.floor(t)+1)}var v={x:0,y:0,k:1},d,y,m,M=[960,500],x=Vo,b=250,_=0,w="mousedown.zoom",S="mousemove.zoom",E="mouseup.zoom",A,C="touchstart.zoom",z,L=N(n,"zoomstart","zoom","zoomend"),q,T,R,D;return $o||($o="onwheel"in fo?(Xo=function(){return-ao.event.deltaY*(ao.event.deltaMode?120:1)},"wheel"):"onmousewheel"in fo?(Xo=function(){return ao.event.wheelDelta},"mousewheel"):(Xo=function(){return-ao.event.detail},"MozMousePixelScroll")),n.event=function(n){n.each(function(){var n=L.of(this,arguments),t=v;Hl?ao.select(this).transition().each("start.zoom",function(){v=this.__chart__||{x:0,y:0,k:1},l(n)}).tween("zoom:zoom",function(){var e=M[0],r=M[1],i=y?y[0]:e/2,u=y?y[1]:r/2,o=ao.interpolateZoom([(i-v.x)/v.k,(u-v.y)/v.k,e/v.k],[(i-t.x)/t.k,(u-t.y)/t.k,e/t.k]);return function(t){var r=o(t),a=e/r[2];this.__chart__=v={x:i-r[0]*a,y:u-r[1]*a,k:a},c(n)}}).each("interrupt.zoom",function(){f(n)}).each("end.zoom",function(){f(n)}):(this.__chart__=v,l(n),c(n),f(n))})},n.translate=function(t){return arguments.length?(v={x:+t[0],y:+t[1],k:v.k},a(),n):[v.x,v.y]},n.scale=function(t){return arguments.length?(v={x:v.x,y:v.y,k:null},i(+t),a(),n):v.k},n.scaleExtent=function(t){return arguments.length?(x=null==t?Vo:[+t[0],+t[1]],n):x},n.center=function(t){return arguments.length?(m=t&&[+t[0],+t[1]],n):m},n.size=function(t){return arguments.length?(M=t&&[+t[0],+t[1]],n):M},n.duration=function(t){return arguments.length?(b=+t,n):b},n.x=function(t){return arguments.length?(T=t,q=t.copy(),v={x:0,y:0,k:1},n):T},n.y=function(t){return arguments.length?(D=t,R=t.copy(),v={x:0,y:0,k:1},n):D},ao.rebind(n,L,"on")};var Vo=[0,1/0],Xo,$o;ao.color=an,an.prototype.toString=function(){return this.rgb()+""},ao.hsl=ln;var Bo=ln.prototype=new an;Bo.brighter=function(n){return n=Math.pow(.7,arguments.length?n:1),new ln(this.h,this.s,this.l/n)},Bo.darker=function(n){return n=Math.pow(.7,arguments.length?n:1),new ln(this.h,this.s,n*this.l)},Bo.rgb=function(){return cn(this.h,this.s,this.l)},ao.hcl=fn;var Wo=fn.prototype=new an;Wo.brighter=function(n){return new fn(this.h,this.c,Math.min(100,this.l+Jo*(arguments.length?n:1)))},Wo.darker=function(n){return new fn(this.h,this.c,Math.max(0,this.l-Jo*(arguments.length?n:1)))},Wo.rgb=function(){return sn(this.h,this.c,this.l).rgb()},ao.lab=hn;var Jo=18,Go=.95047,Ko=1,Qo=1.08883,na=hn.prototype=new an;na.brighter=function(n){return new hn(Math.min(100,this.l+Jo*(arguments.length?n:1)),this.a,this.b)},na.darker=function(n){return new hn(Math.max(0,this.l-Jo*(arguments.length?n:1)),this.a,this.b)},na.rgb=function(){return pn(this.l,this.a,this.b)},ao.rgb=mn;var ta=mn.prototype=new an;ta.brighter=function(n){n=Math.pow(.7,arguments.length?n:1);var t=this.r,e=this.g,r=this.b,i=30;return t||e||r?(t&&t<i&&(t=i),e&&e<i&&(e=i),r&&r<i&&(r=i),new mn(Math.min(255,t/n),Math.min(255,e/n),Math.min(255,r/n))):new mn(i,i,i)},ta.darker=function(n){return n=Math.pow(.7,arguments.length?n:1),new mn(n*this.r,n*this.g,n*this.b)},ta.hsl=function(){return wn(this.r,this.g,this.b)},ta.toString=function(){return"#"+bn(this.r)+bn(this.g)+bn(this.b)};var ea=ao.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});ea.forEach(function(n,t){ea.set(n,Mn(t))}),ao.functor=En,ao.xhr=An(m),ao.dsv=function(n,t){function e(n,e,u){arguments.length<3&&(u=e,e=null);var o=Cn(n,t,null==e?r:i(e),u);return o.row=function(n){return arguments.length?o.response(null==(e=n)?r:i(n)):e},o}function r(n){return e.parse(n.responseText)}function i(n){return function(t){return e.parse(t.responseText,n)}}function u(t){return t.map(o).join(n)}function o(n){return a.test(n)?'"'+n.replace(/\"/g,'""')+'"':n}var a=new RegExp('["'+n+"\n]"),l=n.charCodeAt(0);return e.parse=function(n,t){var r;return e.parseRows(n,function(n,e){if(r)return r(n,e-1);var i=new Function("d","return {"+n.map(function(n,t){return JSON.stringify(n)+": d["+t+"]"}).join(",")+"}");r=t?function(n,e){return t(i(n),e)}:i})},e.parseRows=function(n,t){function e(){if(a>=o)return i;if(s)return s=!1,r;var t=a;if(34===n.charCodeAt(t)){for(var e=t;e++<o;)if(34===n.charCodeAt(e)){if(34!==n.charCodeAt(e+1))break;++e}a=e+2;var u=n.charCodeAt(e+1);return 13===u?(s=!0,10===n.charCodeAt(e+2)&&++a):10===u&&(s=!0),n.slice(t+1,e).replace(/""/g,'"')}for(;a<o;){var u=n.charCodeAt(a++),c=1;if(10===u)s=!0;else if(13===u)s=!0,10===n.charCodeAt(a)&&(++a,++c);else if(u!==l)continue;return n.slice(t,a-c)}return n.slice(t)}for(var r={},i={},u=[],o=n.length,a=0,c=0,f,s;(f=e())!==i;){for(var h=[];f!==r&&f!==i;)h.push(f),f=e();t&&null==(h=t(h,c++))||u.push(h)}return u},e.format=function(t){if(Array.isArray(t[0]))return e.formatRows(t);var r=new y,i=[];return t.forEach(function(n){for(var t in n)r.has(t)||i.push(r.add(t))}),[i.map(o).join(n)].concat(t.map(function(t){return i.map(function(n){return o(t[n])}).join(n)})).join("\n")},e.formatRows=function(n){return n.map(u).join("\n")},e},ao.csv=ao.dsv(",","text/csv"),ao.tsv=ao.dsv("\t","text/tab-separated-values");var ra,ia,ua,oa,aa=this[x(this,"requestAnimationFrame")]||function(n){setTimeout(n,17)};ao.timer=function(){qn.apply(this,arguments)},ao.timer.flush=function(){Rn(),Dn()},ao.round=function(n,t){return t?Math.round(n*(t=Math.pow(10,t)))/t:Math.round(n)};var la=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(jn);ao.formatPrefix=function(n,t){var e=0;return(n=+n)&&(n<0&&(n*=-1),t&&(n=ao.round(n,Pn(n,t))),e=1+Math.floor(1e-12+Math.log(n)/Math.LN10),e=Math.max(-24,Math.min(24,3*Math.floor((e-1)/3)))),la[8+e/3]};var ca=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,fa=ao.map({b:function(n){return n.toString(2)},c:function(n){return String.fromCharCode(n)},o:function(n){return n.toString(8)},x:function(n){return n.toString(16)},X:function(n){return n.toString(16).toUpperCase()},g:function(n,t){return n.toPrecision(t)},e:function(n,t){return n.toExponential(t)},f:function(n,t){return n.toFixed(t)},r:function(n,t){return(n=ao.round(n,Pn(n,t))).toFixed(Math.max(0,Math.min(20,Pn(n*(1+1e-15),t))))}}),sa=ao.time={},ha=Date;Hn.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){pa.setUTCDate.apply(this._,arguments)},setDay:function(){pa.setUTCDay.apply(this._,arguments)},setFullYear:function(){pa.setUTCFullYear.apply(this._,arguments)},setHours:function(){pa.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){pa.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){pa.setUTCMinutes.apply(this._,arguments)},setMonth:function(){pa.setUTCMonth.apply(this._,arguments)},setSeconds:function(){pa.setUTCSeconds.apply(this._,arguments)},setTime:function(){pa.setTime.apply(this._,arguments)}};var pa=Date.prototype;sa.year=On(function(n){return n=sa.day(n),n.setMonth(0,1),n},function(n,t){n.setFullYear(n.getFullYear()+t)},function(n){return n.getFullYear()}),sa.years=sa.year.range,sa.years.utc=sa.year.utc.range,sa.day=On(function(n){var t=new ha(2e3,0);return t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),t},function(n,t){n.setDate(n.getDate()+t)},function(n){return n.getDate()-1}),sa.days=sa.day.range,sa.days.utc=sa.day.utc.range,sa.dayOfYear=function(n){var t=sa.year(n);return Math.floor((n-t-6e4*(n.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(n,t){t=7-t;var e=sa[n]=On(function(n){return(n=sa.day(n)).setDate(n.getDate()-(n.getDay()+t)%7),n},function(n,t){n.setDate(n.getDate()+7*Math.floor(t))},function(n){var e=sa.year(n).getDay();return Math.floor((sa.dayOfYear(n)+(e+t)%7)/7)-(e!==t)});sa[n+"s"]=e.range,sa[n+"s"].utc=e.utc.range,sa[n+"OfYear"]=function(n){var e=sa.year(n).getDay();return Math.floor((sa.dayOfYear(n)+(e+t)%7)/7)}}),sa.week=sa.sunday,sa.weeks=sa.sunday.range,sa.weeks.utc=sa.sunday.utc.range,sa.weekOfYear=sa.sundayOfYear;var ga={"-":"",_:" ",0:"0"},va=/^\s*\d+/,da=/^%/;ao.locale=function(n){return{numberFormat:Un(n),timeFormat:Yn(n)}};var ya=ao.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],
dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});ao.format=ya.numberFormat,ao.geo={},ft.prototype={s:0,t:0,add:function(n){st(n,this.t,ma),st(ma.s,this.s,this),this.s?this.t+=ma.t:this.s=ma.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var ma=new ft;ao.geo.stream=function(n,t){n&&Ma.hasOwnProperty(n.type)?Ma[n.type](n,t):ht(n,t)};var Ma={Feature:function(n,t){ht(n.geometry,t)},FeatureCollection:function(n,t){for(var e=n.features,r=-1,i=e.length;++r<i;)ht(e[r].geometry,t)}},xa={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)n=e[r],t.point(n[0],n[1],n[2])},LineString:function(n,t){pt(n.coordinates,t,0)},MultiLineString:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)pt(e[r],t,0)},Polygon:function(n,t){gt(n.coordinates,t)},MultiPolygon:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)gt(e[r],t)},GeometryCollection:function(n,t){for(var e=n.geometries,r=-1,i=e.length;++r<i;)ht(e[r],t)}};ao.geo.area=function(n){return ba=0,ao.geo.stream(n,wa),ba};var ba,_a=new ft,wa={sphere:function(){ba+=4*Po},point:b,lineStart:b,lineEnd:b,polygonStart:function(){_a.reset(),wa.lineStart=vt},polygonEnd:function(){var n=2*_a;ba+=n<0?4*Po+n:n,wa.lineStart=wa.lineEnd=wa.point=b}};ao.geo.bounds=function(){function n(n,t){M.push(x=[f=n,h=n]),t<s&&(s=t),t>p&&(p=t)}function t(t,e){var r=dt([t*Ho,e*Ho]);if(y){var i=mt(y,r),u=[i[1],-i[0],0],o=mt(u,i);bt(o),o=_t(o);var l=t-g,c=l>0?1:-1,v=o[0]*Oo*c,d=mo(l)>180;if(d^(c*g<v&&v<c*t)){var m=o[1]*Oo;m>p&&(p=m)}else if(v=(v+360)%360-180,d^(c*g<v&&v<c*t)){var m=-o[1]*Oo;m<s&&(s=m)}else e<s&&(s=e),e>p&&(p=e);d?t<g?a(f,t)>a(f,h)&&(h=t):a(t,h)>a(f,h)&&(f=t):h>=f?(t<f&&(f=t),t>h&&(h=t)):t>g?a(f,t)>a(f,h)&&(h=t):a(t,h)>a(f,h)&&(f=t)}else n(t,e);y=r,g=t}function e(){b.point=t}function r(){x[0]=f,x[1]=h,b.point=n,y=null}function i(n,e){if(y){var r=n-g;m+=mo(r)>180?r+(r>0?360:-360):r}else v=n,d=e;wa.point(n,e),t(n,e)}function u(){wa.lineStart()}function o(){i(v,d),wa.lineEnd(),mo(m)>Ro&&(f=-(h=180)),x[0]=f,x[1]=h,y=null}function a(n,t){return(t-=n)<0?t+360:t}function l(n,t){return n[0]-t[0]}function c(n,t){return t[0]<=t[1]?t[0]<=n&&n<=t[1]:n<t[0]||t[1]<n}var f,s,h,p,g,v,d,y,m,M,x,b={point:n,lineStart:e,lineEnd:r,polygonStart:function(){b.point=i,b.lineStart=u,b.lineEnd=o,m=0,wa.polygonStart()},polygonEnd:function(){wa.polygonEnd(),b.point=n,b.lineStart=e,b.lineEnd=r,_a<0?(f=-(h=180),s=-(p=90)):m>Ro?p=90:m<-Ro&&(s=-90),x[0]=f,x[1]=h}};return function(n){p=h=-(f=s=1/0),M=[],ao.geo.stream(n,b);var t=M.length;if(t){M.sort(l);for(var e=1,r=M[0],i,u=[r];e<t;++e)i=M[e],c(i[0],r)||c(i[1],r)?(a(r[0],i[1])>a(r[0],r[1])&&(r[1]=i[1]),a(i[0],r[1])>a(r[0],r[1])&&(r[0]=i[0])):u.push(r=i);for(var o=-(1/0),g,t=u.length-1,e=0,r=u[t],i;e<=t;r=i,++e)i=u[e],(g=a(r[1],i[0]))>o&&(o=g,f=i[0],h=r[1])}return M=x=null,f===1/0||s===1/0?[[NaN,NaN],[NaN,NaN]]:[[f,s],[h,p]]}}(),ao.geo.centroid=function(n){ka=Sa=Na=Ea=Aa=Ca=za=La=qa=Ta=Ra=0,ao.geo.stream(n,Da);var t=qa,e=Ta,r=Ra,i=t*t+e*e+r*r;return i<Do&&(t=Ca,e=za,r=La,Sa<Ro&&(t=Na,e=Ea,r=Aa),i=t*t+e*e+r*r,i<Do)?[NaN,NaN]:[Math.atan2(e,t)*Oo,tn(r/Math.sqrt(i))*Oo]};var ka,Sa,Na,Ea,Aa,Ca,za,La,qa,Ta,Ra,Da={sphere:b,point:kt,lineStart:Nt,lineEnd:Et,polygonStart:function(){Da.lineStart=At},polygonEnd:function(){Da.lineStart=Nt}},Pa=Rt(zt,Ut,Ht,[-Po,-Po/2]),ja=1e9;ao.geo.clipExtent=function(){var n,t,e,r,i,u,o={stream:function(n){return i&&(i.valid=!1),i=u(n),i.valid=!0,i},extent:function(a){return arguments.length?(u=Zt(n=+a[0][0],t=+a[0][1],e=+a[1][0],r=+a[1][1]),i&&(i.valid=!1,i=null),o):[[n,t],[e,r]]}};return o.extent([[0,0],[960,500]])},(ao.geo.conicEqualArea=function(){return Vt(Xt)}).raw=Xt,ao.geo.albers=function(){return ao.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},ao.geo.albersUsa=function(){function n(n){var t=n[0],e=n[1];return i=null,o(t,e),i||(a(t,e),i)||l(t,e),i}var t=ao.geo.albers(),e=ao.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),r=ao.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),i,u={point:function(n,t){i=[n,t]}},o,a,l;return n.invert=function(n){var i=t.scale(),u=t.translate(),o=(n[0]-u[0])/i,a=(n[1]-u[1])/i;return(a>=.12&&a<.234&&o>=-.425&&o<-.214?e:a>=.166&&a<.234&&o>=-.214&&o<-.115?r:t).invert(n)},n.stream=function(n){var i=t.stream(n),u=e.stream(n),o=r.stream(n);return{point:function(n,t){i.point(n,t),u.point(n,t),o.point(n,t)},sphere:function(){i.sphere(),u.sphere(),o.sphere()},lineStart:function(){i.lineStart(),u.lineStart(),o.lineStart()},lineEnd:function(){i.lineEnd(),u.lineEnd(),o.lineEnd()},polygonStart:function(){i.polygonStart(),u.polygonStart(),o.polygonStart()},polygonEnd:function(){i.polygonEnd(),u.polygonEnd(),o.polygonEnd()}}},n.precision=function(i){return arguments.length?(t.precision(i),e.precision(i),r.precision(i),n):t.precision()},n.scale=function(i){return arguments.length?(t.scale(i),e.scale(.35*i),r.scale(i),n.translate(t.translate())):t.scale()},n.translate=function(i){if(!arguments.length)return t.translate();var c=t.scale(),f=+i[0],s=+i[1];return o=t.translate(i).clipExtent([[f-.455*c,s-.238*c],[f+.455*c,s+.238*c]]).stream(u).point,a=e.translate([f-.307*c,s+.201*c]).clipExtent([[f-.425*c+Ro,s+.12*c+Ro],[f-.214*c-Ro,s+.234*c-Ro]]).stream(u).point,l=r.translate([f-.205*c,s+.212*c]).clipExtent([[f-.214*c+Ro,s+.166*c+Ro],[f-.115*c-Ro,s+.234*c-Ro]]).stream(u).point,n},n.scale(1070)};var Ua,Fa,Ha={point:b,lineStart:b,lineEnd:b,polygonStart:function(){Fa=0,Ha.lineStart=$t},polygonEnd:function(){Ha.lineStart=Ha.lineEnd=Ha.point=b,Ua+=mo(Fa/2)}},Oa,Ia,Ya,Za,Va={point:Bt,lineStart:b,lineEnd:b,polygonStart:b,polygonEnd:b},Xa={point:Gt,lineStart:Kt,lineEnd:Qt,polygonStart:function(){Xa.lineStart=ne},polygonEnd:function(){Xa.point=Gt,Xa.lineStart=Kt,Xa.lineEnd=Qt}};ao.geo.path=function(){function n(n){return n&&("function"==typeof e&&o.pointRadius(+e.apply(this,arguments)),a&&a.valid||(a=u(o)),ao.geo.stream(n,a)),o.result()}function t(){return a=null,n}var e=4.5,r,i,u,o,a;return n.area=function(n){return Ua=0,ao.geo.stream(n,u(Ha)),Ua},n.centroid=function(n){return Na=Ea=Aa=Ca=za=La=qa=Ta=Ra=0,ao.geo.stream(n,u(Xa)),Ra?[qa/Ra,Ta/Ra]:La?[Ca/La,za/La]:Aa?[Na/Aa,Ea/Aa]:[NaN,NaN]},n.bounds=function(n){return Ya=Za=-(Oa=Ia=1/0),ao.geo.stream(n,u(Va)),[[Oa,Ia],[Ya,Za]]},n.projection=function(n){return arguments.length?(u=(r=n)?n.stream||re(n):m,t()):r},n.context=function(n){return arguments.length?(o=null==(i=n)?new Wt:new te(n),"function"!=typeof e&&o.pointRadius(e),t()):i},n.pointRadius=function(t){return arguments.length?(e="function"==typeof t?t:(o.pointRadius(+t),+t),n):e},n.projection(ao.geo.albersUsa()).context(null)},ao.geo.transform=function(n){return{stream:function(t){var e=new ie(t);for(var r in n)e[r]=n[r];return e}}},ie.prototype={point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},ao.geo.projection=oe,ao.geo.projectionMutator=ae,(ao.geo.equirectangular=function(){return oe(ce)}).raw=ce.invert=ce,ao.geo.rotation=function(n){function t(t){return t=n(t[0]*Ho,t[1]*Ho),t[0]*=Oo,t[1]*=Oo,t}return n=se(n[0]%360*Ho,n[1]*Ho,n.length>2?n[2]*Ho:0),t.invert=function(t){return t=n.invert(t[0]*Ho,t[1]*Ho),t[0]*=Oo,t[1]*=Oo,t},t},fe.invert=ce,ao.geo.circle=function(){function n(){var n="function"==typeof t?t.apply(this,arguments):t,e=se(-n[0]*Ho,-n[1]*Ho,0).invert,r=[];return i(null,null,1,{point:function(n,t){r.push(n=e(n,t)),n[0]*=Oo,n[1]*=Oo}}),{type:"Polygon",coordinates:[r]}}var t=[0,0],e,r=6,i;return n.origin=function(e){return arguments.length?(t=e,n):t},n.angle=function(t){return arguments.length?(i=ve((e=+t)*Ho,r*Ho),n):e},n.precision=function(t){return arguments.length?(i=ve(e*Ho,(r=+t)*Ho),n):r},n.angle(90)},ao.geo.distance=function(n,t){var e=(t[0]-n[0])*Ho,r=n[1]*Ho,i=t[1]*Ho,u=Math.sin(e),o=Math.cos(e),a=Math.sin(r),l=Math.cos(r),c=Math.sin(i),f=Math.cos(i),s;return Math.atan2(Math.sqrt((s=f*u)*s+(s=l*c-a*f*o)*s),a*c+l*f*o)},ao.geo.graticule=function(){function n(){return{type:"MultiLineString",coordinates:t()}}function t(){return ao.range(Math.ceil(u/h)*h,i,h).map(d).concat(ao.range(Math.ceil(c/p)*p,l,p).map(y)).concat(ao.range(Math.ceil(r/f)*f,e,f).filter(function(n){return mo(n%h)>Ro}).map(g)).concat(ao.range(Math.ceil(a/s)*s,o,s).filter(function(n){return mo(n%p)>Ro}).map(v))}var e,r,i,u,o,a,l,c,f=10,s=f,h=90,p=360,g,v,d,y,m=2.5;return n.lines=function(){return t().map(function(n){return{type:"LineString",coordinates:n}})},n.outline=function(){return{type:"Polygon",coordinates:[d(u).concat(y(l).slice(1),d(i).reverse().slice(1),y(c).reverse().slice(1))]}},n.extent=function(t){return arguments.length?n.majorExtent(t).minorExtent(t):n.minorExtent()},n.majorExtent=function(t){return arguments.length?(u=+t[0][0],i=+t[1][0],c=+t[0][1],l=+t[1][1],u>i&&(t=u,u=i,i=t),c>l&&(t=c,c=l,l=t),n.precision(m)):[[u,c],[i,l]]},n.minorExtent=function(t){return arguments.length?(r=+t[0][0],e=+t[1][0],a=+t[0][1],o=+t[1][1],r>e&&(t=r,r=e,e=t),a>o&&(t=a,a=o,o=t),n.precision(m)):[[r,a],[e,o]]},n.step=function(t){return arguments.length?n.majorStep(t).minorStep(t):n.minorStep()},n.majorStep=function(t){return arguments.length?(h=+t[0],p=+t[1],n):[h,p]},n.minorStep=function(t){return arguments.length?(f=+t[0],s=+t[1],n):[f,s]},n.precision=function(t){return arguments.length?(m=+t,g=ye(a,o,90),v=me(r,e,m),d=ye(c,l,90),y=me(u,i,m),n):m},n.majorExtent([[-180,-90+Ro],[180,90-Ro]]).minorExtent([[-180,-80-Ro],[180,80+Ro]])},ao.geo.greatArc=function(){function n(){return{type:"LineString",coordinates:[e||t.apply(this,arguments),i||r.apply(this,arguments)]}}var t=Me,e,r=xe,i;return n.distance=function(){return ao.geo.distance(e||t.apply(this,arguments),i||r.apply(this,arguments))},n.source=function(r){return arguments.length?(t=r,e="function"==typeof r?null:r,n):t},n.target=function(t){return arguments.length?(r=t,i="function"==typeof t?null:t,n):r},n.precision=function(){return arguments.length?n:0},n},ao.geo.interpolate=function(n,t){return be(n[0]*Ho,n[1]*Ho,t[0]*Ho,t[1]*Ho)},ao.geo.length=function(n){return $a=0,ao.geo.stream(n,Ba),$a};var $a,Ba={sphere:b,point:b,lineStart:_e,lineEnd:b,polygonStart:b,polygonEnd:b},Wa=we(function(n){return Math.sqrt(2/(1+n))},function(n){return 2*Math.asin(n/2)});(ao.geo.azimuthalEqualArea=function(){return oe(Wa)}).raw=Wa;var Ja=we(function(n){var t=Math.acos(n);return t&&t/Math.sin(t)},m);(ao.geo.azimuthalEquidistant=function(){return oe(Ja)}).raw=Ja,(ao.geo.conicConformal=function(){return Vt(ke)}).raw=ke,(ao.geo.conicEquidistant=function(){return Vt(Se)}).raw=Se;var Ga=we(function(n){return 1/n},Math.atan);(ao.geo.gnomonic=function(){return oe(Ga)}).raw=Ga,Ne.invert=function(n,t){return[n,2*Math.atan(Math.exp(t))-Fo]},(ao.geo.mercator=function(){return Ee(Ne)}).raw=Ne;var Ka=we(function(){return 1},Math.asin);(ao.geo.orthographic=function(){return oe(Ka)}).raw=Ka;var Qa=we(function(n){return 1/(1+n)},function(n){return 2*Math.atan(n)});(ao.geo.stereographic=function(){return oe(Qa)}).raw=Qa,Ae.invert=function(n,t){return[-t,2*Math.atan(Math.exp(n))-Fo]},(ao.geo.transverseMercator=function(){var n=Ee(Ae),t=n.center,e=n.rotate;return n.center=function(n){return n?t([-n[1],n[0]]):(n=t(),[n[1],-n[0]])},n.rotate=function(n){return n?e([n[0],n[1],n.length>2?n[2]+90:90]):(n=e(),[n[0],n[1],n[2]-90])},e([0,0,90])}).raw=Ae,ao.geom={},ao.geom.hull=function(n){function t(n){if(n.length<3)return[];var t=En(e),i=En(r),u,o=n.length,a=[],l=[];for(u=0;u<o;u++)a.push([+t.call(this,n[u],u),+i.call(this,n[u],u),u]);for(a.sort(qe),u=0;u<o;u++)l.push([a[u][0],-a[u][1]]);var c=Le(a),f=Le(l),s=f[0]===c[0],h=f[f.length-1]===c[c.length-1],p=[];for(u=c.length-1;u>=0;--u)p.push(n[a[c[u]][2]]);for(u=+s;u<f.length-h;++u)p.push(n[a[f[u]][2]]);return p}var e=Ce,r=ze;return arguments.length?t(n):(t.x=function(n){return arguments.length?(e=n,t):e},t.y=function(n){return arguments.length?(r=n,t):r},t)},ao.geom.polygon=function(n){return wo(n,nl),n};var nl=ao.geom.polygon.prototype=[];nl.area=function(){for(var n=-1,t=this.length,e,r=this[t-1],i=0;++n<t;)e=r,r=this[n],i+=e[1]*r[0]-e[0]*r[1];return.5*i},nl.centroid=function(n){var t=-1,e=this.length,r=0,i=0,u,o=this[e-1],a;for(arguments.length||(n=-1/(6*this.area()));++t<e;)u=o,o=this[t],a=u[0]*o[1]-o[0]*u[1],r+=(u[0]+o[0])*a,i+=(u[1]+o[1])*a;return[r*n,i*n]},nl.clip=function(n){for(var t,e=De(n),r=-1,i=this.length-De(this),u,o,a=this[i-1],l,c,f;++r<i;){for(t=n.slice(),n.length=0,l=this[r],c=t[(o=t.length-e)-1],u=-1;++u<o;)f=t[u],Te(f,a,l)?(Te(c,a,l)||n.push(Re(c,f,a,l)),n.push(f)):Te(c,a,l)&&n.push(Re(c,f,a,l)),c=f;e&&n.push(n[0]),a=l}return n};var tl,el,rl,il=[],ul,ol,al=[];Ye.prototype.prepare=function(){for(var n=this.edges,t=n.length,e;t--;)e=n[t].edge,e.b&&e.a||n.splice(t,1);return n.sort(Ve),n.length},tr.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},er.prototype={insert:function(n,t){var e,r,i;if(n){if(t.P=n,t.N=n.N,n.N&&(n.N.P=t),n.N=t,n.R){for(n=n.R;n.L;)n=n.L;n.L=t}else n.R=t;e=n}else this._?(n=or(this._),t.P=null,t.N=n,n.P=n.L=t,e=n):(t.P=t.N=null,this._=t,e=null);for(t.L=t.R=null,t.U=e,t.C=!0,n=t;e&&e.C;)r=e.U,e===r.L?(i=r.R,i&&i.C?(e.C=i.C=!1,r.C=!0,n=r):(n===e.R&&(ir(this,e),n=e,e=n.U),e.C=!1,r.C=!0,ur(this,r))):(i=r.L,i&&i.C?(e.C=i.C=!1,r.C=!0,n=r):(n===e.L&&(ur(this,e),n=e,e=n.U),e.C=!1,r.C=!0,ir(this,r))),e=n.U;this._.C=!1},remove:function(n){n.N&&(n.N.P=n.P),n.P&&(n.P.N=n.N),n.N=n.P=null;var t=n.U,e,r=n.L,i=n.R,u,o;if(u=r?i?or(i):r:i,t?t.L===n?t.L=u:t.R=u:this._=u,r&&i?(o=u.C,u.C=n.C,u.L=r,r.U=u,u!==i?(t=u.U,u.U=n.U,n=u.R,t.L=n,u.R=i,i.U=u):(u.U=t,t=u,n=u.R)):(o=n.C,n=u),n&&(n.U=t),!o){if(n&&n.C)return void(n.C=!1);do{if(n===this._)break;if(n===t.L){if(e=t.R,e.C&&(e.C=!1,t.C=!0,ir(this,t),e=t.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,ur(this,e),e=t.R),e.C=t.C,t.C=e.R.C=!1,ir(this,t),n=this._;break}}else if(e=t.L,e.C&&(e.C=!1,t.C=!0,ur(this,t),e=t.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,ir(this,e),e=t.L),e.C=t.C,t.C=e.L.C=!1,ur(this,t),n=this._;break}e.C=!0,n=t,t=t.U}while(!n.C);n&&(n.C=!1)}}},ao.geom.voronoi=function(n){function t(n){var t=new Array(n.length),r=a[0][0],i=a[0][1],u=a[1][0],o=a[1][1];return ar(e(n),a).cells.forEach(function(e,a){var l=e.edges,c=e.site,f=t[a]=l.length?l.map(function(n){var t=n.start();return[t.x,t.y]}):c.x>=r&&c.x<=u&&c.y>=i&&c.y<=o?[[r,o],[u,o],[u,i],[r,i]]:[];f.point=n[a]}),t}function e(n){return n.map(function(n,t){return{x:Math.round(u(n,t)/Ro)*Ro,y:Math.round(o(n,t)/Ro)*Ro,i:t}})}var r=Ce,i=ze,u=r,o=i,a=ll;return n?t(n):(t.links=function(n){return ar(e(n)).edges.filter(function(n){return n.l&&n.r}).map(function(t){return{source:n[t.l.i],target:n[t.r.i]}})},t.triangles=function(n){var t=[];return ar(e(n)).cells.forEach(function(e,r){for(var i=e.site,u=e.edges.sort(Ve),o=-1,a=u.length,l,c,f=u[a-1].edge,s=f.l===i?f.r:f.l;++o<a;)l=f,c=s,f=u[o].edge,s=f.l===i?f.r:f.l,r<c.i&&r<s.i&&cr(i,c,s)<0&&t.push([n[r],n[c.i],n[s.i]])}),t},t.x=function(n){return arguments.length?(u=En(r=n),t):r},t.y=function(n){return arguments.length?(o=En(i=n),t):i},t.clipExtent=function(n){return arguments.length?(a=null==n?ll:n,t):a===ll?null:a},t.size=function(n){return arguments.length?t.clipExtent(n&&[[0,0],n]):a===ll?null:a&&a[1]},t)};var ll=[[-1e6,-1e6],[1e6,1e6]];ao.geom.delaunay=function(n){return ao.geom.voronoi().triangles(n)},ao.geom.quadtree=function(n,t,e,r,i){function u(n){function u(n,t,e,r,i,u,o,a){if(!isNaN(e)&&!isNaN(r))if(n.leaf){var l=n.x,f=n.y;if(null!=l)if(mo(l-e)+mo(f-r)<.01)c(n,t,e,r,i,u,o,a);else{var s=n.point;n.x=n.y=n.point=null,c(n,s,l,f,i,u,o,a),c(n,t,e,r,i,u,o,a)}else n.x=e,n.y=r,n.point=t}else c(n,t,e,r,i,u,o,a)}function c(n,t,e,r,i,o,a,l){var c=.5*(i+a),f=.5*(o+l),s=e>=c,h=r>=f,p=h<<1|s;n.leaf=!1,n=n.nodes[p]||(n.nodes[p]=hr()),s?i=c:a=c,h?o=f:l=f,u(n,t,e,r,i,o,a,l)}var f,s=En(o),h=En(a),p,g,v,d,y,m,M,x;if(null!=t)y=t,m=e,M=r,x=i;else if(M=x=-(y=m=1/0),p=[],g=[],d=n.length,l)for(v=0;v<d;++v)f=n[v],f.x<y&&(y=f.x),f.y<m&&(m=f.y),f.x>M&&(M=f.x),f.y>x&&(x=f.y),p.push(f.x),g.push(f.y);else for(v=0;v<d;++v){var b=+s(f=n[v],v),_=+h(f,v);b<y&&(y=b),_<m&&(m=_),b>M&&(M=b),_>x&&(x=_),p.push(b),g.push(_)}var w=M-y,k=x-m;w>k?x=m+w:M=y+k;var S=hr();if(S.add=function(n){u(S,n,+s(n,++v),+h(n,v),y,m,M,x)},S.visit=function(n){pr(n,S,y,m,M,x)},S.find=function(n){return gr(S,n[0],n[1],y,m,M,x)},v=-1,null==t){for(;++v<d;)u(S,n[v],p[v],g[v],y,m,M,x);--v}else n.forEach(S.add);return p=g=n=f=null,S}var o=Ce,a=ze,l;return(l=arguments.length)?(o=fr,a=sr,3===l&&(i=e,r=t,e=t=0),u(n)):(u.x=function(n){return arguments.length?(o=n,u):o},u.y=function(n){return arguments.length?(a=n,u):a},u.extent=function(n){return arguments.length?(null==n?t=e=r=i=null:(t=+n[0][0],e=+n[0][1],r=+n[1][0],i=+n[1][1]),u):null==t?null:[[t,e],[r,i]]},u.size=function(n){return arguments.length?(null==n?t=e=r=i=null:(t=e=0,r=+n[0],i=+n[1]),u):null==t?null:[r-t,i-e]},u)},ao.interpolateRgb=vr,ao.interpolateObject=dr,ao.interpolateNumber=yr,ao.interpolateString=mr;var cl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fl=new RegExp(cl.source,"g");ao.interpolate=Mr,ao.interpolators=[function(n,t){var e=typeof t;return("string"===e?ea.has(t.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(t)?vr:mr:t instanceof an?vr:Array.isArray(t)?xr:"object"===e&&isNaN(t)?dr:yr)(n,t)}],ao.interpolateArray=xr;var sl=function(){return m},hl=ao.map({linear:sl,poly:Er,quad:function(){return kr},cubic:function(){return Sr},sin:function(){return Ar},exp:function(){return Cr},circle:function(){return zr},elastic:Lr,back:qr,bounce:function(){return Tr}}),pl=ao.map({in:m,out:_r,"in-out":wr,"out-in":function(n){return wr(_r(n))}});ao.ease=function(n){var t=n.indexOf("-"),e=t>=0?n.slice(0,t):n,r=t>=0?n.slice(t+1):"in";return e=hl.get(e)||sl,r=pl.get(r)||m,br(r(e.apply(null,lo.call(arguments,1))))},ao.interpolateHcl=Rr,ao.interpolateHsl=Dr,ao.interpolateLab=Pr,ao.interpolateRound=jr,ao.transform=function(n){var t=fo.createElementNS(ao.ns.prefix.svg,"g");return(ao.transform=function(n){if(null!=n){t.setAttribute("transform",n);var e=t.transform.baseVal.consolidate()}return new Ur(e?e.matrix:gl)})(n)},Ur.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var gl={a:1,b:0,c:0,d:1,e:0,f:0};ao.interpolateTransform=$r,ao.layout={},ao.layout.bundle=function(){return function(n){for(var t=[],e=-1,r=n.length;++e<r;)t.push(Jr(n[e]));return t}},ao.layout.chord=function(){function n(){var n={},e=[],s=ao.range(o),h=[],p,g,v,d,y;for(r=[],i=[],p=0,d=-1;++d<o;){for(g=0,y=-1;++y<o;)g+=u[d][y];e.push(g),h.push(ao.range(o)),p+=g}for(l&&s.sort(function(n,t){return l(e[n],e[t])}),c&&h.forEach(function(n,t){n.sort(function(n,e){return c(u[t][n],u[t][e])})}),p=(jo-a*o)/p,g=0,d=-1;++d<o;){for(v=g,y=-1;++y<o;){var m=s[d],M=h[m][y],x=u[m][M],b=g,_=g+=x*p;n[m+"-"+M]={index:m,subindex:M,startAngle:b,endAngle:_,value:x}}i[m]={index:m,startAngle:v,endAngle:g,value:(g-v)/p},g+=a}for(d=-1;++d<o;)for(y=d-1;++y<o;){var w=n[d+"-"+y],k=n[y+"-"+d];(w.value||k.value)&&r.push(w.value<k.value?{source:k,target:w}:{source:w,target:k})}f&&t()}function t(){r.sort(function(n,t){return f((n.source.value+n.target.value)/2,(t.source.value+t.target.value)/2)})}var e={},r,i,u,o,a=0,l,c,f;return e.matrix=function(n){return arguments.length?(o=(u=n)&&u.length,r=i=null,e):u},e.padding=function(n){return arguments.length?(a=n,r=i=null,e):a},e.sortGroups=function(n){return arguments.length?(l=n,r=i=null,e):l},e.sortSubgroups=function(n){return arguments.length?(c=n,r=null,e):c},e.sortChords=function(n){return arguments.length?(f=n,r&&t(),e):f},e.chords=function(){return r||n(),r},e.groups=function(){return i||n(),i},e},ao.layout.force=function(){function n(n){return function(t,e,r,i){if(t.point!==n){var u=t.cx-n.x,o=t.cy-n.y,a=i-e,l=u*u+o*o;if(a*a/g<l){if(l<h){var c=t.charge/l;n.px-=u*c,n.py-=o*c}return!0}if(t.point&&l&&l<h){var c=t.pointCharge/l;n.px-=u*c,n.py-=o*c}}return!t.charge}}function t(n){n.px=ao.event.x,n.py=ao.event.y,e.resume()}var e={},r=ao.dispatch("start","tick","end"),i,u=[1,1],o,a,l=.9,c=vl,f=dl,s=-30,h=yl,p=.1,g=.64,v=[],d=[],y,M,x;return e.tick=function(){if((a*=.99)<.005)return i=null,r.end({type:"end",alpha:a=0}),!0;var t=v.length,e=d.length,o,c,f,h,g,m,b,_,w;for(c=0;c<e;++c)f=d[c],h=f.source,g=f.target,_=g.x-h.x,w=g.y-h.y,(m=_*_+w*w)&&(m=a*M[c]*((m=Math.sqrt(m))-y[c])/m,_*=m,w*=m,g.x-=_*(b=h.weight+g.weight?h.weight/(h.weight+g.weight):.5),g.y-=w*b,h.x+=_*(b=1-b),h.y+=w*b);if((b=a*p)&&(_=u[0]/2,w=u[1]/2,c=-1,b))for(;++c<t;)f=v[c],f.x+=(_-f.x)*b,f.y+=(w-f.y)*b;if(s)for(ri(o=ao.geom.quadtree(v),a,x),c=-1;++c<t;)(f=v[c]).fixed||o.visit(n(f));for(c=-1;++c<t;)f=v[c],f.fixed?(f.x=f.px,f.y=f.py):(f.x-=(f.px-(f.px=f.x))*l,f.y-=(f.py-(f.py=f.y))*l);r.tick({type:"tick",alpha:a})},e.nodes=function(n){return arguments.length?(v=n,e):v},e.links=function(n){return arguments.length?(d=n,e):d},e.size=function(n){return arguments.length?(u=n,e):u},e.linkDistance=function(n){return arguments.length?(c="function"==typeof n?n:+n,e):c},e.distance=e.linkDistance,e.linkStrength=function(n){return arguments.length?(f="function"==typeof n?n:+n,e):f},e.friction=function(n){return arguments.length?(l=+n,e):l},e.charge=function(n){return arguments.length?(s="function"==typeof n?n:+n,e):s},e.chargeDistance=function(n){return arguments.length?(h=n*n,e):Math.sqrt(h)},e.gravity=function(n){return arguments.length?(p=+n,e):p},e.theta=function(n){return arguments.length?(g=n*n,e):Math.sqrt(g)},e.alpha=function(n){return arguments.length?(n=+n,a?n>0?a=n:(i.c=null,i.t=NaN,i=null,r.start({type:"end",alpha:a=0})):n>0&&(r.start({type:"start",alpha:a=n}),i=qn(e.tick)),e):a},e.start=function(){function n(n,e){if(!l){for(l=new Array(r),a=0;a<r;++a)l[a]=[];for(a=0;a<i;++a){var u=d[a];l[u.source.index].push(u.target),l[u.target.index].push(u.source)}}for(var o=l[t],a=-1,c=o.length,f;++a<c;)if(!isNaN(f=o[a][n]))return f;return Math.random()*e}var t,r=v.length,i=d.length,o=u[0],a=u[1],l,h;for(t=0;t<r;++t)(h=v[t]).index=t,h.weight=0;for(t=0;t<i;++t)h=d[t],"number"==typeof h.source&&(h.source=v[h.source]),"number"==typeof h.target&&(h.target=v[h.target]),++h.source.weight,++h.target.weight;for(t=0;t<r;++t)h=v[t],isNaN(h.x)&&(h.x=n("x",o)),isNaN(h.y)&&(h.y=n("y",a)),isNaN(h.px)&&(h.px=h.x),isNaN(h.py)&&(h.py=h.y);if(y=[],"function"==typeof c)for(t=0;t<i;++t)y[t]=+c.call(this,d[t],t);else for(t=0;t<i;++t)y[t]=c;if(M=[],"function"==typeof f)for(t=0;t<i;++t)M[t]=+f.call(this,d[t],t);else for(t=0;t<i;++t)M[t]=f;if(x=[],"function"==typeof s)for(t=0;t<r;++t)x[t]=+s.call(this,v[t],t);else for(t=0;t<r;++t)x[t]=s;return e.resume()},e.resume=function(){return e.alpha(.1)},e.stop=function(){return e.alpha(0)},e.drag=function(){return o||(o=ao.behavior.drag().origin(m).on("dragstart.force",Qr).on("drag.force",t).on("dragend.force",ni)),arguments.length?void this.on("mouseover.force",ti).on("mouseout.force",ei).call(o):o},ao.rebind(e,r,"on")};var vl=20,dl=1,yl=1/0;ao.layout.hierarchy=function(){function n(i){var u=[i],o=[],a;for(i.depth=0;null!=(a=u.pop());)if(o.push(a),(c=e.call(n,a,a.depth))&&(l=c.length)){for(var l,c,f;--l>=0;)u.push(f=c[l]),f.parent=a,f.depth=a.depth+1;r&&(a.value=0),a.children=c}else r&&(a.value=+r.call(n,a,a.depth)||0),delete a.children;return oi(i,function(n){var e,i;t&&(e=n.children)&&e.sort(t),r&&(i=n.parent)&&(i.value+=n.value)}),o}var t=ci,e=ai,r=li;return n.sort=function(e){return arguments.length?(t=e,n):t},n.children=function(t){return arguments.length?(e=t,n):e},n.value=function(t){return arguments.length?(r=t,n):r},n.revalue=function(t){return r&&(ui(t,function(n){n.children&&(n.value=0)}),oi(t,function(t){var e;t.children||(t.value=+r.call(n,t,t.depth)||0),(e=t.parent)&&(e.value+=t.value)})),t},n},ao.layout.partition=function(){function n(t,e,r,i){var u=t.children;if(t.x=e,t.y=t.depth*i,t.dx=r,t.dy=i,u&&(a=u.length)){var o=-1,a,l,c;for(r=t.value?r/t.value:0;++o<a;)n(l=u[o],e,c=l.value*r,i),e+=c}}function t(n){var e=n.children,r=0;if(e&&(u=e.length))for(var i=-1,u;++i<u;)r=Math.max(r,t(e[i]));return 1+r}function e(e,u){var o=r.call(this,e,u);return n(o[0],0,i[0],i[1]/t(o[0])),o}var r=ao.layout.hierarchy(),i=[1,1];return e.size=function(n){return arguments.length?(i=n,e):i},ii(e,r)},ao.layout.pie=function(){function n(o){var a=o.length,l=o.map(function(e,r){return+t.call(n,e,r)}),c=+("function"==typeof r?r.apply(this,arguments):r),f=("function"==typeof i?i.apply(this,arguments):i)-c,s=Math.min(Math.abs(f)/a,+("function"==typeof u?u.apply(this,arguments):u)),h=s*(f<0?-1:1),p=ao.sum(l),g=p?(f-a*h)/p:0,v=ao.range(a),d=[],y;return null!=e&&v.sort(e===ml?function(n,t){return l[t]-l[n]}:function(n,t){return e(o[n],o[t])}),v.forEach(function(n){d[n]={data:o[n],value:y=l[n],startAngle:c,endAngle:c+=y*g+h,padAngle:s}}),d}var t=Number,e=ml,r=0,i=jo,u=0;return n.value=function(e){return arguments.length?(t=e,n):t},n.sort=function(t){return arguments.length?(e=t,n):e},n.startAngle=function(t){return arguments.length?(r=t,n):r},n.endAngle=function(t){return arguments.length?(i=t,n):i},n.padAngle=function(t){return arguments.length?(u=t,n):u},n};var ml={};ao.layout.stack=function(){function n(a,l){if(!(g=a.length))return a;var c=a.map(function(e,r){return t.call(n,e,r)}),f=c.map(function(t){return t.map(function(t,e){return[u.call(n,t,e),o.call(n,t,e)]})}),s=e.call(n,f,l);c=ao.permute(c,s),f=ao.permute(f,s);var h=r.call(n,f,l),p=c[0].length,g,v,d,y;for(d=0;d<p;++d)for(i.call(n,c[0][d],y=h[d],f[0][d][1]),v=1;v<g;++v)i.call(n,c[v][d],y+=f[v-1][d][1],f[v][d][1]);return a}var t=m,e=gi,r=vi,i=pi,u=si,o=hi;return n.values=function(e){return arguments.length?(t=e,n):t},n.order=function(t){return arguments.length?(e="function"==typeof t?t:Ml.get(t)||gi,n):e},n.offset=function(t){return arguments.length?(r="function"==typeof t?t:xl.get(t)||vi,n):r},n.x=function(t){return arguments.length?(u=t,n):u},n.y=function(t){return arguments.length?(o=t,n):o},n.out=function(t){return arguments.length?(i=t,n):i},n};var Ml=ao.map({"inside-out":function(n){var t=n.length,e,r,i=n.map(di),u=n.map(yi),o=ao.range(t).sort(function(n,t){return i[n]-i[t]}),a=0,l=0,c=[],f=[];for(e=0;e<t;++e)r=o[e],a<l?(a+=u[r],c.push(r)):(l+=u[r],f.push(r));return f.reverse().concat(c)},reverse:function(n){return ao.range(n.length).reverse()},default:gi}),xl=ao.map({silhouette:function(n){var t=n.length,e=n[0].length,r=[],i=0,u,o,a,l=[];for(o=0;o<e;++o){for(u=0,a=0;u<t;u++)a+=n[u][o][1];a>i&&(i=a),r.push(a)}for(o=0;o<e;++o)l[o]=(i-r[o])/2;return l},wiggle:function(n){var t=n.length,e=n[0],r=e.length,i,u,o,a,l,c,f,s,h,p=[];for(p[0]=s=h=0,u=1;u<r;++u){for(i=0,a=0;i<t;++i)a+=n[i][u][1];for(i=0,l=0,f=e[u][0]-e[u-1][0];i<t;++i){for(o=0,c=(n[i][u][1]-n[i][u-1][1])/(2*f);o<i;++o)c+=(n[o][u][1]-n[o][u-1][1])/f;l+=c*n[i][u][1]}p[u]=s-=a?l/a*f:0,s<h&&(h=s)}for(u=0;u<r;++u)p[u]-=h;return p},expand:function(n){var t=n.length,e=n[0].length,r=1/t,i,u,o,a=[];for(u=0;u<e;++u){for(i=0,o=0;i<t;i++)o+=n[i][u][1];if(o)for(i=0;i<t;i++)n[i][u][1]/=o;else for(i=0;i<t;i++)n[i][u][1]=r}for(u=0;u<e;++u)a[u]=0;return a},zero:vi});ao.layout.histogram=function(){function n(n,u){for(var o=[],a=n.map(e,this),l=r.call(this,a,u),c=i.call(this,l,a,u),f,u=-1,s=a.length,h=c.length-1,p=t?1:1/s,g;++u<h;)f=o[u]=[],f.dx=c[u+1]-(f.x=c[u]),f.y=0;if(h>0)for(u=-1;++u<s;)g=a[u],g>=l[0]&&g<=l[1]&&(f=o[ao.bisect(c,g,1,h)-1],f.y+=p,f.push(n[u]));return o}var t=!0,e=Number,r=bi,i=Mi;return n.value=function(t){return arguments.length?(e=t,n):e},n.range=function(t){return arguments.length?(r=En(t),n):r},n.bins=function(t){return arguments.length?(i="number"==typeof t?function(n){return xi(n,t)}:En(t),n):i},n.frequency=function(e){return arguments.length?(t=!!e,n):t},n},ao.layout.pack=function(){function n(n,u){var o=t.call(this,n,u),a=o[0],l=r[0],c=r[1],f=null==i?Math.sqrt:"function"==typeof i?i:function(){return i};if(a.x=a.y=0,oi(a,function(n){n.r=+f(n.value)}),oi(a,Ni),e){var s=e*(i?1:Math.max(2*a.r/l,2*a.r/c))/2;oi(a,function(n){n.r+=s}),oi(a,Ni),oi(a,function(n){n.r-=s})}return Ci(a,l/2,c/2,i?1:1/Math.max(2*a.r/l,2*a.r/c)),o}var t=ao.layout.hierarchy().sort(_i),e=0,r=[1,1],i;return n.size=function(t){return arguments.length?(r=t,n):r},n.radius=function(t){return arguments.length?(i=null==t||"function"==typeof t?t:+t,n):i},n.padding=function(t){return arguments.length?(e=+t,n):e},ii(n,t)},ao.layout.tree=function(){function n(n,i){var f=o.call(this,n,i),s=f[0],h=t(s);if(oi(h,e),h.parent.m=-h.z,ui(h,r),c)ui(s,u);else{var p=s,g=s,v=s;ui(s,function(n){n.x<p.x&&(p=n),n.x>g.x&&(g=n),n.depth>v.depth&&(v=n)});var d=a(p,g)/2-p.x,y=l[0]/(g.x+a(g,p)/2+d),m=l[1]/(v.depth||1);ui(s,function(n){n.x=(n.x+d)*y,n.y=n.depth*m})}return f}function t(n){for(var t={A:null,children:[n]},e=[t],r;null!=(r=e.pop());)for(var i=r.children,u,o=0,a=i.length;o<a;++o)e.push((i[o]=u={_:i[o],parent:r,children:(u=i[o].children)&&u.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:o}).a=u);return t.children[0]}function e(n){var t=n.children,e=n.parent.children,r=n.i?e[n.i-1]:null;if(t.length){Di(n);var u=(t[0].z+t[t.length-1].z)/2;r?(n.z=r.z+a(n._,r._),n.m=n.z-u):n.z=u}else r&&(n.z=r.z+a(n._,r._));n.parent.A=i(n,r,n.parent.A||e[0])}function r(n){n._.x=n.z+n.parent.m,n.m+=n.parent.m}function i(n,t,e){if(t){for(var r=n,i=n,u=t,o=r.parent.children[0],l=r.m,c=i.m,f=u.m,s=o.m,h;u=Ti(u),r=qi(r),u&&r;)o=qi(o),i=Ti(i),i.a=n,h=u.z+f-r.z-l+a(u._,r._),h>0&&(Ri(Pi(u,n,e),n,h),l+=h,c+=h),f+=u.m,l+=r.m,s+=o.m,c+=i.m;u&&!Ti(i)&&(i.t=u,i.m+=f-c),r&&!qi(o)&&(o.t=r,o.m+=l-s,e=n)}return e}function u(n){n.x*=l[0],n.y=n.depth*l[1]}var o=ao.layout.hierarchy().sort(null).value(null),a=Li,l=[1,1],c=null;return n.separation=function(t){return arguments.length?(a=t,n):a},n.size=function(t){return arguments.length?(c=null==(l=t)?u:null,n):c?null:l},n.nodeSize=function(t){return arguments.length?(c=null==(l=t)?null:u,n):c?l:null},ii(n,o)},ao.layout.cluster=function(){function n(n,u){var o=t.call(this,n,u),a=o[0],l,c=0;oi(a,function(n){var t=n.children;t&&t.length?(n.x=Ui(t),n.y=ji(t)):(n.x=l?c+=e(n,l):0,n.y=0,l=n)});var f=Fi(a),s=Hi(a),h=f.x-e(f,s)/2,p=s.x+e(s,f)/2;return oi(a,i?function(n){n.x=(n.x-a.x)*r[0],n.y=(a.y-n.y)*r[1]}:function(n){n.x=(n.x-h)/(p-h)*r[0],n.y=(1-(a.y?n.y/a.y:1))*r[1]}),o}var t=ao.layout.hierarchy().sort(null).value(null),e=Li,r=[1,1],i=!1;return n.separation=function(t){return arguments.length?(e=t,n):e},n.size=function(t){return arguments.length?(i=null==(r=t),n):i?null:r},n.nodeSize=function(t){return arguments.length?(i=null!=(r=t),n):i?r:null},ii(n,t)},ao.layout.treemap=function(){function n(n,t){for(var e=-1,r=n.length,i,u;++e<r;)u=(i=n[e]).value*(t<0?0:t),i.area=isNaN(u)||u<=0?0:u}function t(e){var u=e.children;if(u&&u.length){var o=f(e),a=[],l=u.slice(),c,s=1/0,h,g="slice"===p?o.dx:"dice"===p?o.dy:"slice-dice"===p?1&e.depth?o.dy:o.dx:Math.min(o.dx,o.dy),v;for(n(l,o.dx*o.dy/e.value),a.area=0;(v=l.length)>0;)a.push(c=l[v-1]),a.area+=c.area,"squarify"!==p||(h=r(a,g))<=s?(l.pop(),s=h):(a.area-=a.pop().area,i(a,g,o,!1),g=Math.min(o.dx,o.dy),a.length=a.area=0,s=1/0);a.length&&(i(a,g,o,!0),a.length=a.area=0),u.forEach(t)}}function e(t){var r=t.children;if(r&&r.length){var u=f(t),o=r.slice(),a,l=[];for(n(o,u.dx*u.dy/t.value),l.area=0;a=o.pop();)l.push(a),l.area+=a.area,null!=a.z&&(i(l,a.z?u.dx:u.dy,u,!o.length),l.length=l.area=0);r.forEach(e)}}function r(n,t){for(var e=n.area,r,i=0,u=1/0,o=-1,a=n.length;++o<a;)(r=n[o].area)&&(r<u&&(u=r),
r>i&&(i=r));return e*=e,t*=t,e?Math.max(t*i*g/e,e/(t*u*g)):1/0}function i(n,t,e,r){var i=-1,u=n.length,o=e.x,l=e.y,c=t?a(n.area/t):0,f;if(t==e.dx){for((r||c>e.dy)&&(c=e.dy);++i<u;)f=n[i],f.x=o,f.y=l,f.dy=c,o+=f.dx=Math.min(e.x+e.dx-o,c?a(f.area/c):0);f.z=!0,f.dx+=e.x+e.dx-o,e.y+=c,e.dy-=c}else{for((r||c>e.dx)&&(c=e.dx);++i<u;)f=n[i],f.x=o,f.y=l,f.dx=c,l+=f.dy=Math.min(e.y+e.dy-l,c?a(f.area/c):0);f.z=!1,f.dy+=e.y+e.dy-l,e.x+=c,e.dx-=c}}function u(r){var i=h||o(r),u=i[0];return u.x=u.y=0,u.value?(u.dx=l[0],u.dy=l[1]):u.dx=u.dy=0,h&&o.revalue(u),n([u],u.dx*u.dy/u.value),(h?e:t)(u),s&&(h=i),i}var o=ao.layout.hierarchy(),a=Math.round,l=[1,1],c=null,f=Oi,s=!1,h,p="squarify",g=.5*(1+Math.sqrt(5));return u.size=function(n){return arguments.length?(l=n,u):l},u.padding=function(n){function t(t){var e=n.call(u,t,t.depth);return null==e?Oi(t):Ii(t,"number"==typeof e?[e,e,e,e]:e)}function e(t){return Ii(t,n)}if(!arguments.length)return c;var r;return f=null==(c=n)?Oi:"function"==(r=typeof n)?t:"number"===r?(n=[n,n,n,n],e):e,u},u.round=function(n){return arguments.length?(a=n?Math.round:Number,u):a!=Number},u.sticky=function(n){return arguments.length?(s=n,h=null,u):s},u.ratio=function(n){return arguments.length?(g=n,u):g},u.mode=function(n){return arguments.length?(p=n+"",u):p},ii(u,o)},ao.random={normal:function(n,t){var e=arguments.length;return e<2&&(t=1),e<1&&(n=0),function(){var e,r,i;do e=2*Math.random()-1,r=2*Math.random()-1,i=e*e+r*r;while(!i||i>1);return n+t*e*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var n=ao.random.normal.apply(ao,arguments);return function(){return Math.exp(n())}},bates:function(n){var t=ao.random.irwinHall(n);return function(){return t()/n}},irwinHall:function(n){return function(){for(var t=0,e=0;e<n;e++)t+=Math.random();return t}}},ao.scale={};var bl={floor:m,ceil:m};ao.scale.linear=function(){return Wi([0,1],[0,1],Mr,!1)};var _l={s:1,g:1,p:1,r:1,e:1};ao.scale.log=function(){return ru(ao.scale.linear().domain([0,1]),10,!0,[1,10])};var wl=ao.format(".0e"),kl={floor:function(n){return-Math.ceil(-n)},ceil:function(n){return-Math.floor(-n)}};ao.scale.pow=function(){return iu(ao.scale.linear(),1,[0,1])},ao.scale.sqrt=function(){return ao.scale.pow().exponent(.5)},ao.scale.ordinal=function(){return ou([],{t:"range",a:[[]]})},ao.scale.category10=function(){return ao.scale.ordinal().range(Sl)},ao.scale.category20=function(){return ao.scale.ordinal().range(Nl)},ao.scale.category20b=function(){return ao.scale.ordinal().range(El)},ao.scale.category20c=function(){return ao.scale.ordinal().range(Al)};var Sl=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(xn),Nl=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(xn),El=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(xn),Al=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(xn);ao.scale.quantile=function(){return au([],[])},ao.scale.quantize=function(){return lu(0,1,[0,1])},ao.scale.threshold=function(){return cu([.5],[0,1])},ao.scale.identity=function(){return fu([0,1])},ao.svg={},ao.svg.arc=function(){function n(){var n=Math.max(0,+e.apply(this,arguments)),c=Math.max(0,+r.apply(this,arguments)),f=o.apply(this,arguments)-Fo,s=a.apply(this,arguments)-Fo,h=Math.abs(s-f),p=f>s?0:1;if(c<n&&(g=c,c=n,n=g),h>=Uo)return t(c,p)+(n?t(n,1-p):"")+"Z";var g,v,d,y,m=0,M=0,x,b,_,w,k,S,N,E,A=[];if((y=(+l.apply(this,arguments)||0)/2)&&(d=u===Cl?Math.sqrt(n*n+c*c):+u.apply(this,arguments),p||(M*=-1),c&&(M=tn(d/c*Math.sin(y))),n&&(m=tn(d/n*Math.sin(y)))),c){x=c*Math.cos(f+M),b=c*Math.sin(f+M),_=c*Math.cos(s-M),w=c*Math.sin(s-M);var C=Math.abs(s-f-2*M)<=Po?0:1;if(M&&yu(x,b,_,w)===p^C){var z=(f+s)/2;x=c*Math.cos(z),b=c*Math.sin(z),_=w=null}}else x=b=0;if(n){k=n*Math.cos(s-m),S=n*Math.sin(s-m),N=n*Math.cos(f+m),E=n*Math.sin(f+m);var L=Math.abs(f-s+2*m)<=Po?0:1;if(m&&yu(k,S,N,E)===1-p^L){var q=(f+s)/2;k=n*Math.cos(q),S=n*Math.sin(q),N=E=null}}else k=S=0;if(h>Ro&&(g=Math.min(Math.abs(c-n)/2,+i.apply(this,arguments)))>.001){v=n<c^p?0:1;var T=g,R=g;if(h<Po){var D=null==N?[k,S]:null==_?[x,b]:Re([x,b],[N,E],[_,w],[k,S]),P=x-D[0],j=b-D[1],U=_-D[0],F=w-D[1],H=1/Math.sin(Math.acos((P*U+j*F)/(Math.sqrt(P*P+j*j)*Math.sqrt(U*U+F*F)))/2),O=Math.sqrt(D[0]*D[0]+D[1]*D[1]);R=Math.min(g,(n-O)/(H-1)),T=Math.min(g,(c-O)/(H+1))}if(null!=_){var I=mu(null==N?[k,S]:[N,E],[x,b],c,T,p),Y=mu([_,w],[k,S],c,T,p);g===T?A.push("M",I[0],"A",T,",",T," 0 0,",v," ",I[1],"A",c,",",c," 0 ",1-p^yu(I[1][0],I[1][1],Y[1][0],Y[1][1]),",",p," ",Y[1],"A",T,",",T," 0 0,",v," ",Y[0]):A.push("M",I[0],"A",T,",",T," 0 1,",v," ",Y[0])}else A.push("M",x,",",b);if(null!=N){var Z=mu([x,b],[N,E],n,-R,p),V=mu([k,S],null==_?[x,b]:[_,w],n,-R,p);g===R?A.push("L",V[0],"A",R,",",R," 0 0,",v," ",V[1],"A",n,",",n," 0 ",p^yu(V[1][0],V[1][1],Z[1][0],Z[1][1]),",",1-p," ",Z[1],"A",R,",",R," 0 0,",v," ",Z[0]):A.push("L",V[0],"A",R,",",R," 0 0,",v," ",Z[0])}else A.push("L",k,",",S)}else A.push("M",x,",",b),null!=_&&A.push("A",c,",",c," 0 ",C,",",p," ",_,",",w),A.push("L",k,",",S),null!=N&&A.push("A",n,",",n," 0 ",L,",",1-p," ",N,",",E);return A.push("Z"),A.join("")}function t(n,t){return"M0,"+n+"A"+n+","+n+" 0 1,"+t+" 0,"+-n+"A"+n+","+n+" 0 1,"+t+" 0,"+n}var e=hu,r=pu,i=su,u=Cl,o=gu,a=vu,l=du;return n.innerRadius=function(t){return arguments.length?(e=En(t),n):e},n.outerRadius=function(t){return arguments.length?(r=En(t),n):r},n.cornerRadius=function(t){return arguments.length?(i=En(t),n):i},n.padRadius=function(t){return arguments.length?(u=t==Cl?Cl:En(t),n):u},n.startAngle=function(t){return arguments.length?(o=En(t),n):o},n.endAngle=function(t){return arguments.length?(a=En(t),n):a},n.padAngle=function(t){return arguments.length?(l=En(t),n):l},n.centroid=function(){var n=(+e.apply(this,arguments)+ +r.apply(this,arguments))/2,t=(+o.apply(this,arguments)+ +a.apply(this,arguments))/2-Fo;return[Math.cos(t)*n,Math.sin(t)*n]},n};var Cl="auto";ao.svg.line=function(){return Mu(m)};var zl=ao.map({linear:xu,"linear-closed":bu,step:_u,"step-before":wu,"step-after":ku,basis:zu,"basis-open":Lu,"basis-closed":qu,bundle:Tu,cardinal:Eu,"cardinal-open":Su,"cardinal-closed":Nu,monotone:Fu});zl.forEach(function(n,t){t.key=n,t.closed=/-closed$/.test(n)});var Ll=[0,2/3,1/3,0],ql=[0,1/3,2/3,0],Tl=[0,1/6,2/3,1/6];ao.svg.line.radial=function(){var n=Mu(Hu);return n.radius=n.x,delete n.x,n.angle=n.y,delete n.y,n},wu.reverse=ku,ku.reverse=wu,ao.svg.area=function(){return Ou(m)},ao.svg.area.radial=function(){var n=Ou(Hu);return n.radius=n.x,delete n.x,n.innerRadius=n.x0,delete n.x0,n.outerRadius=n.x1,delete n.x1,n.angle=n.y,delete n.y,n.startAngle=n.y0,delete n.y0,n.endAngle=n.y1,delete n.y1,n},ao.svg.chord=function(){function n(n,a){var l=t(this,u,n,a),c=t(this,o,n,a);return"M"+l.p0+r(l.r,l.p1,l.a1-l.a0)+(e(l,c)?i(l.r,l.p1,l.r,l.p0):i(l.r,l.p1,c.r,c.p0)+r(c.r,c.p1,c.a1-c.a0)+i(c.r,c.p1,l.r,l.p0))+"Z"}function t(n,t,e,r){var i=t.call(n,e,r),u=a.call(n,i,r),o=l.call(n,i,r)-Fo,f=c.call(n,i,r)-Fo;return{r:u,a0:o,a1:f,p0:[u*Math.cos(o),u*Math.sin(o)],p1:[u*Math.cos(f),u*Math.sin(f)]}}function e(n,t){return n.a0==t.a0&&n.a1==t.a1}function r(n,t,e){return"A"+n+","+n+" 0 "+ +(e>Po)+",1 "+t}function i(n,t,e,r){return"Q 0,0 "+r}var u=Me,o=xe,a=Iu,l=gu,c=vu;return n.radius=function(t){return arguments.length?(a=En(t),n):a},n.source=function(t){return arguments.length?(u=En(t),n):u},n.target=function(t){return arguments.length?(o=En(t),n):o},n.startAngle=function(t){return arguments.length?(l=En(t),n):l},n.endAngle=function(t){return arguments.length?(c=En(t),n):c},n},ao.svg.diagonal=function(){function n(n,i){var u=t.call(this,n,i),o=e.call(this,n,i),a=(u.y+o.y)/2,l=[u,{x:u.x,y:a},{x:o.x,y:a},o];return l=l.map(r),"M"+l[0]+"C"+l[1]+" "+l[2]+" "+l[3]}var t=Me,e=xe,r=Yu;return n.source=function(e){return arguments.length?(t=En(e),n):t},n.target=function(t){return arguments.length?(e=En(t),n):e},n.projection=function(t){return arguments.length?(r=t,n):r},n},ao.svg.diagonal.radial=function(){var n=ao.svg.diagonal(),t=Yu,e=n.projection;return n.projection=function(n){return arguments.length?e(Zu(t=n)):t},n},ao.svg.symbol=function(){function n(n,r){return(Rl.get(t.call(this,n,r))||$u)(e.call(this,n,r))}var t=Xu,e=Vu;return n.type=function(e){return arguments.length?(t=En(e),n):t},n.size=function(t){return arguments.length?(e=En(t),n):e},n};var Rl=ao.map({circle:$u,cross:function(n){var t=Math.sqrt(n/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(n){var t=Math.sqrt(n/(2*Pl)),e=t*Pl;return"M0,"+-t+"L"+e+",0 0,"+t+" "+-e+",0Z"},square:function(n){var t=Math.sqrt(n)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(n){var t=Math.sqrt(n/Dl),e=t*Dl/2;return"M0,"+e+"L"+t+","+-e+" "+-t+","+-e+"Z"},"triangle-up":function(n){var t=Math.sqrt(n/Dl),e=t*Dl/2;return"M0,"+-e+"L"+t+","+e+" "+-t+","+e+"Z"}});ao.svg.symbolTypes=Rl.keys();var Dl=Math.sqrt(3),Pl=Math.tan(30*Ho);Eo.transition=function(n){for(var t=Hl||++Fl,e=Ku(n),r=[],i,u,o=Ol||{time:Date.now(),ease:Nr,delay:0,duration:250},a=-1,l=this.length;++a<l;){r.push(i=[]);for(var c=this[a],f=-1,s=c.length;++f<s;)(u=c[f])&&Qu(u,f,e,t,o),i.push(u)}return Wu(r,e,t)},Eo.interrupt=function(n){return this.each(null==n?jl:Bu(Ku(n)))};var jl=Bu(Ku()),Ul=[],Fl=0,Hl,Ol;Ul.call=Eo.call,Ul.empty=Eo.empty,Ul.node=Eo.node,Ul.size=Eo.size,ao.transition=function(n,t){return n&&n.transition?Hl?n.transition(t):n:ao.selection().transition(n)},ao.transition.prototype=Ul,Ul.select=function(n){var t=this.id,e=this.namespace,r=[],i,u,o;n=A(n);for(var a=-1,l=this.length;++a<l;){r.push(i=[]);for(var c=this[a],f=-1,s=c.length;++f<s;)(o=c[f])&&(u=n.call(o,o.__data__,f,a))?("__data__"in o&&(u.__data__=o.__data__),Qu(u,f,e,t,o[e][t]),i.push(u)):i.push(null)}return Wu(r,e,t)},Ul.selectAll=function(n){var t=this.id,e=this.namespace,r=[],i,u,o,a,l;n=C(n);for(var c=-1,f=this.length;++c<f;)for(var s=this[c],h=-1,p=s.length;++h<p;)if(o=s[h]){l=o[e][t],u=n.call(o,o.__data__,h,c),r.push(i=[]);for(var g=-1,v=u.length;++g<v;)(a=u[g])&&Qu(a,g,e,t,l),i.push(a)}return Wu(r,e,t)},Ul.filter=function(n){var t=[],e,r,i;"function"!=typeof n&&(n=O(n));for(var u=0,o=this.length;u<o;u++){t.push(e=[]);for(var r=this[u],a=0,l=r.length;a<l;a++)(i=r[a])&&n.call(i,i.__data__,a,u)&&e.push(i)}return Wu(t,this.namespace,this.id)},Ul.tween=function(n,t){var e=this.id,r=this.namespace;return arguments.length<2?this.node()[r][e].tween.get(n):Y(this,null==t?function(t){t[r][e].tween.remove(n)}:function(i){i[r][e].tween.set(n,t)})},Ul.attr=function(n,t){function e(){this.removeAttribute(a)}function r(){this.removeAttributeNS(a.space,a.local)}function i(n){return null==n?e:(n+="",function(){var t=this.getAttribute(a),e;return t!==n&&(e=o(t,n),function(n){this.setAttribute(a,e(n))})})}function u(n){return null==n?r:(n+="",function(){var t=this.getAttributeNS(a.space,a.local),e;return t!==n&&(e=o(t,n),function(n){this.setAttributeNS(a.space,a.local,e(n))})})}if(arguments.length<2){for(t in n)this.attr(t,n[t]);return this}var o="transform"==n?$r:Mr,a=ao.ns.qualify(n);return Ju(this,"attr."+n,t,a.local?u:i)},Ul.attrTween=function(n,t){function e(n,e){var r=t.call(this,n,e,this.getAttribute(i));return r&&function(n){this.setAttribute(i,r(n))}}function r(n,e){var r=t.call(this,n,e,this.getAttributeNS(i.space,i.local));return r&&function(n){this.setAttributeNS(i.space,i.local,r(n))}}var i=ao.ns.qualify(n);return this.tween("attr."+n,i.local?r:e)},Ul.style=function(n,e,r){function i(){this.style.removeProperty(n)}function u(e){return null==e?i:(e+="",function(){var i=t(this).getComputedStyle(this,null).getPropertyValue(n),u;return i!==e&&(u=Mr(i,e),function(t){this.style.setProperty(n,u(t),r)})})}var o=arguments.length;if(o<3){if("string"!=typeof n){o<2&&(e="");for(r in n)this.style(r,n[r],e);return this}r=""}return Ju(this,"style."+n,e,u)},Ul.styleTween=function(n,e,r){function i(i,u){var o=e.call(this,i,u,t(this).getComputedStyle(this,null).getPropertyValue(n));return o&&function(t){this.style.setProperty(n,o(t),r)}}return arguments.length<3&&(r=""),this.tween("style."+n,i)},Ul.text=function(n){return Ju(this,"text",n,Gu)},Ul.remove=function(){var n=this.namespace;return this.each("end.transition",function(){var t;this[n].count<2&&(t=this.parentNode)&&t.removeChild(this)})},Ul.ease=function(n){var t=this.id,e=this.namespace;return arguments.length<1?this.node()[e][t].ease:("function"!=typeof n&&(n=ao.ease.apply(ao,arguments)),Y(this,function(r){r[e][t].ease=n}))},Ul.delay=function(n){var t=this.id,e=this.namespace;return arguments.length<1?this.node()[e][t].delay:Y(this,"function"==typeof n?function(r,i,u){r[e][t].delay=+n.call(r,r.__data__,i,u)}:(n=+n,function(r){r[e][t].delay=n}))},Ul.duration=function(n){var t=this.id,e=this.namespace;return arguments.length<1?this.node()[e][t].duration:Y(this,"function"==typeof n?function(r,i,u){r[e][t].duration=Math.max(1,n.call(r,r.__data__,i,u))}:(n=Math.max(1,n),function(r){r[e][t].duration=n}))},Ul.each=function(n,t){var e=this.id,r=this.namespace;if(arguments.length<2){var i=Ol,u=Hl;try{Hl=e,Y(this,function(t,i,u){Ol=t[r][e],n.call(t,t.__data__,i,u)})}finally{Ol=i,Hl=u}}else Y(this,function(i){var u=i[r][e];(u.event||(u.event=ao.dispatch("start","end","interrupt"))).on(n,t)});return this},Ul.transition=function(){for(var n=this.id,t=++Fl,e=this.namespace,r=[],i,u,o,a,l=0,c=this.length;l<c;l++){r.push(i=[]);for(var u=this[l],f=0,s=u.length;f<s;f++)(o=u[f])&&(a=o[e][n],Qu(o,f,e,t,{time:a.time,ease:a.ease,delay:a.delay+a.duration,duration:a.duration})),i.push(o)}return Wu(r,e,t)},ao.svg.axis=function(){function n(n){n.each(function(){var n=ao.select(this),c=this.__chart__||t,f=this.__chart__=t.copy(),s=null==a?f.ticks?f.ticks.apply(f,o):f.domain():a,h=null==l?f.tickFormat?f.tickFormat.apply(f,o):m:l,p=n.selectAll(".tick").data(s,f),g=p.enter().insert("g",".domain").attr("class","tick").style("opacity",Ro),v=ao.transition(p.exit()).style("opacity",Ro).remove(),d=ao.transition(p.order()).style("opacity",1),y=Math.max(r,0)+u,M,x=Zi(f),b=n.selectAll(".domain").data([0]),_=(b.enter().append("path").attr("class","domain"),ao.transition(b));g.append("line"),g.append("text");var w=g.select("line"),k=d.select("line"),S=p.select("text").text(h),N=g.select("text"),E=d.select("text"),A="top"===e||"left"===e?-1:1,C,z,L,q;if("bottom"===e||"top"===e?(M=no,C="x",L="y",z="x2",q="y2",S.attr("dy",A<0?"0em":".71em").style("text-anchor","middle"),_.attr("d","M"+x[0]+","+A*i+"V0H"+x[1]+"V"+A*i)):(M=to,C="y",L="x",z="y2",q="x2",S.attr("dy",".32em").style("text-anchor",A<0?"end":"start"),_.attr("d","M"+A*i+","+x[0]+"H0V"+x[1]+"H"+A*i)),w.attr(q,A*r),N.attr(L,A*y),k.attr(z,0).attr(q,A*r),E.attr(C,0).attr(L,A*y),f.rangeBand){var T=f,R=T.rangeBand()/2;c=f=function(n){return T(n)+R}}else c.rangeBand?c=f:v.call(M,f,c);g.call(M,c,f),d.call(M,f,f)})}var t=ao.scale.linear(),e=Il,r=6,i=6,u=3,o=[10],a=null,l;return n.scale=function(e){return arguments.length?(t=e,n):t},n.orient=function(t){return arguments.length?(e=t in Yl?t+"":Il,n):e},n.ticks=function(){return arguments.length?(o=co(arguments),n):o},n.tickValues=function(t){return arguments.length?(a=t,n):a},n.tickFormat=function(t){return arguments.length?(l=t,n):l},n.tickSize=function(t){var e=arguments.length;return e?(r=+t,i=+arguments[e-1],n):r},n.innerTickSize=function(t){return arguments.length?(r=+t,n):r},n.outerTickSize=function(t){return arguments.length?(i=+t,n):i},n.tickPadding=function(t){return arguments.length?(u=+t,n):u},n.tickSubdivide=function(){return arguments.length&&n},n};var Il="bottom",Yl={top:1,right:1,bottom:1,left:1};ao.svg.brush=function(){function n(t){t.each(function(){var t=ao.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",u).on("touchstart.brush",u),o=t.selectAll(".background").data([0]);o.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var c=t.selectAll(".resize").data(v,m);c.exit().remove(),c.enter().append("g").attr("class",function(n){return"resize "+n}).style("cursor",function(n){return Zl[n]}).append("rect").attr("x",function(n){return/[ew]$/.test(n)?-3:null}).attr("y",function(n){return/^[ns]/.test(n)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),c.style("display",n.empty()?"none":null);var f=ao.transition(t),s=ao.transition(o),h;a&&(h=Zi(a),s.attr("x",h[0]).attr("width",h[1]-h[0]),r(f)),l&&(h=Zi(l),s.attr("y",h[0]).attr("height",h[1]-h[0]),i(f)),e(f)})}function e(n){n.selectAll(".resize").attr("transform",function(n){return"translate("+c[+/e$/.test(n)]+","+f[+/^s/.test(n)]+")"})}function r(n){n.select(".extent").attr("x",c[0]),n.selectAll(".extent,.n>rect,.s>rect").attr("width",c[1]-c[0])}function i(n){n.select(".extent").attr("y",f[0]),n.selectAll(".extent,.e>rect,.w>rect").attr("height",f[1]-f[0])}function u(){function u(){32==ao.event.keyCode&&(E||(C=null,z[0]-=c[1],z[1]-=f[1],E=2),k())}function v(){32==ao.event.keyCode&&2==E&&(z[0]+=c[1],z[1]+=f[1],E=0,k())}function d(){var n=ao.mouse(M),t=!1;L&&(n[0]+=L[0],n[1]+=L[1]),E||(ao.event.altKey?(C||(C=[(c[0]+c[1])/2,(f[0]+f[1])/2]),z[0]=c[+(n[0]<C[0])],z[1]=f[+(n[1]<C[1])]):C=null),S&&y(n,a,0)&&(r(_),t=!0),N&&y(n,l,1)&&(i(_),t=!0),t&&(e(_),b({type:"brush",mode:E?"move":"resize"}))}function y(n,t,e){var r=Zi(t),i=r[0],u=r[1],o=z[e],a=e?f:c,l=a[1]-a[0],v,d;if(E&&(i-=o,u-=l+o),v=(e?g:p)?Math.max(i,Math.min(u,n[e])):n[e],E?d=(v+=o)+l:(C&&(o=Math.max(i,Math.min(u,2*C[e]-v))),o<v?(d=v,v=o):d=o),a[0]!=v||a[1]!=d)return e?h=null:s=null,a[0]=v,a[1]=d,!0}function m(){d(),_.style("pointer-events","all").selectAll(".resize").style("display",n.empty()?"none":null),ao.select("body").style("cursor",null),q.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),A(),b({type:"brushend"})}var M=this,x=ao.select(ao.event.target),b=o.of(M,arguments),_=ao.select(M),w=x.datum(),S=!/^(n|s)$/.test(w)&&a,N=!/^(e|w)$/.test(w)&&l,E=x.classed("extent"),A=W(M),C,z=ao.mouse(M),L,q=ao.select(t(M)).on("keydown.brush",u).on("keyup.brush",v);if(ao.event.changedTouches?q.on("touchmove.brush",d).on("touchend.brush",m):q.on("mousemove.brush",d).on("mouseup.brush",m),_.interrupt().selectAll("*").interrupt(),E)z[0]=c[0]-z[0],z[1]=f[0]-z[1];else if(w){var T=+/w$/.test(w),R=+/^n/.test(w);L=[c[1-T]-z[0],f[1-R]-z[1]],z[0]=c[T],z[1]=f[R]}else ao.event.altKey&&(C=z.slice());_.style("pointer-events","none").selectAll(".resize").style("display",null),ao.select("body").style("cursor",x.style("cursor")),b({type:"brushstart"}),d()}var o=N(n,"brushstart","brush","brushend"),a=null,l=null,c=[0,0],f=[0,0],s,h,p=!0,g=!0,v=Vl[0];return n.event=function(n){n.each(function(){var n=o.of(this,arguments),t={x:c,y:f,i:s,j:h},e=this.__chart__||t;this.__chart__=t,Hl?ao.select(this).transition().each("start.brush",function(){s=e.i,h=e.j,c=e.x,f=e.y,n({type:"brushstart"})}).tween("brush:brush",function(){var e=xr(c,t.x),r=xr(f,t.y);return s=h=null,function(i){c=t.x=e(i),f=t.y=r(i),n({type:"brush",mode:"resize"})}}).each("end.brush",function(){s=t.i,h=t.j,n({type:"brush",mode:"resize"}),n({type:"brushend"})}):(n({type:"brushstart"}),n({type:"brush",mode:"resize"}),n({type:"brushend"}))})},n.x=function(t){return arguments.length?(a=t,v=Vl[!a<<1|!l],n):a},n.y=function(t){return arguments.length?(l=t,v=Vl[!a<<1|!l],n):l},n.clamp=function(t){return arguments.length?(a&&l?(p=!!t[0],g=!!t[1]):a?p=!!t:l&&(g=!!t),n):a&&l?[p,g]:a?p:l?g:null},n.extent=function(t){var e,r,i,u,o;return arguments.length?(a&&(e=t[0],r=t[1],l&&(e=e[0],r=r[0]),s=[e,r],a.invert&&(e=a(e),r=a(r)),r<e&&(o=e,e=r,r=o),e==c[0]&&r==c[1]||(c=[e,r])),l&&(i=t[0],u=t[1],a&&(i=i[1],u=u[1]),h=[i,u],l.invert&&(i=l(i),u=l(u)),u<i&&(o=i,i=u,u=o),i==f[0]&&u==f[1]||(f=[i,u])),n):(a&&(s?(e=s[0],r=s[1]):(e=c[0],r=c[1],a.invert&&(e=a.invert(e),r=a.invert(r)),r<e&&(o=e,e=r,r=o))),l&&(h?(i=h[0],u=h[1]):(i=f[0],u=f[1],l.invert&&(i=l.invert(i),u=l.invert(u)),u<i&&(o=i,i=u,u=o))),a&&l?[[e,i],[r,u]]:a?[e,r]:l&&[i,u])},n.clear=function(){return n.empty()||(c=[0,0],f=[0,0],s=h=null),n},n.empty=function(){return!!a&&c[0]==c[1]||!!l&&f[0]==f[1]},ao.rebind(n,o,"on")};var Zl={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Vl=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Xl=sa.format=ya.timeFormat,$l=Xl.utc,Bl=$l("%Y-%m-%dT%H:%M:%S.%LZ");Xl.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?eo:Bl,eo.parse=function(n){var t=new Date(n);return isNaN(t)?null:t},eo.toString=Bl.toString,sa.second=On(function(n){return new ha(1e3*Math.floor(n/1e3))},function(n,t){n.setTime(n.getTime()+1e3*Math.floor(t))},function(n){return n.getSeconds()}),sa.seconds=sa.second.range,sa.seconds.utc=sa.second.utc.range,sa.minute=On(function(n){return new ha(6e4*Math.floor(n/6e4))},function(n,t){n.setTime(n.getTime()+6e4*Math.floor(t))},function(n){return n.getMinutes()}),sa.minutes=sa.minute.range,sa.minutes.utc=sa.minute.utc.range,sa.hour=On(function(n){var t=n.getTimezoneOffset()/60;return new ha(36e5*(Math.floor(n/36e5-t)+t))},function(n,t){n.setTime(n.getTime()+36e5*Math.floor(t))},function(n){return n.getHours()}),sa.hours=sa.hour.range,sa.hours.utc=sa.hour.utc.range,sa.month=On(function(n){return n=sa.day(n),n.setDate(1),n},function(n,t){n.setMonth(n.getMonth()+t)},function(n){return n.getMonth()}),sa.months=sa.month.range,sa.months.utc=sa.month.utc.range;var Wl=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Jl=[[sa.second,1],[sa.second,5],[sa.second,15],[sa.second,30],[sa.minute,1],[sa.minute,5],[sa.minute,15],[sa.minute,30],[sa.hour,1],[sa.hour,3],[sa.hour,6],[sa.hour,12],[sa.day,1],[sa.day,2],[sa.week,1],[sa.month,1],[sa.month,3],[sa.year,1]],Gl=Xl.multi([[".%L",function(n){return n.getMilliseconds()}],[":%S",function(n){return n.getSeconds()}],["%I:%M",function(n){return n.getMinutes()}],["%I %p",function(n){return n.getHours()}],["%a %d",function(n){return n.getDay()&&1!=n.getDate()}],["%b %d",function(n){return 1!=n.getDate()}],["%B",function(n){return n.getMonth()}],["%Y",zt]]),Kl={range:function(n,t,e){return ao.range(Math.ceil(n/e)*e,+t,e).map(io)},floor:m,ceil:m};Jl.year=sa.year,sa.scale=function(){return ro(ao.scale.linear(),Jl,Gl)};var Ql=Jl.map(function(n){return[n[0].utc,n[1]]}),nc=$l.multi([[".%L",function(n){return n.getUTCMilliseconds()}],[":%S",function(n){return n.getUTCSeconds()}],["%I:%M",function(n){return n.getUTCMinutes()}],["%I %p",function(n){return n.getUTCHours()}],["%a %d",function(n){return n.getUTCDay()&&1!=n.getUTCDate()}],["%b %d",function(n){return 1!=n.getUTCDate()}],["%B",function(n){return n.getUTCMonth()}],["%Y",zt]]);Ql.year=sa.year.utc,sa.scale.utc=function(){return ro(ao.scale.linear(),Ql,nc)},ao.text=An(function(n){return n.responseText}),ao.json=function(n,t){return Cn(n,"application/json",uo,t)},ao.html=function(n,t){return Cn(n,"text/html",oo,t)},ao.xml=An(function(n){return n.responseXML}),"function"==typeof define&&define.amd?define(this.d3=ao):"object"==typeof module&&module.exports?module.exports=ao:this.d3=ao}()}).call(this)}).call(this),"undefined"==typeof Package&&(Package={}),Package["d3js:d3"]={}}();

!function(){var e=Package.meteor.Meteor,a=Package.meteor.global,o=Package.meteor.meteorEnv;(function(){}).call(this),"undefined"==typeof Package&&(Package={}),Package["bozhao:later-js"]={}}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,a;(function(){(function(){(function(e){function n(e,t,n){switch(arguments.length){case 2:return null!=e?e:t;case 3:return null!=e?e:null!=t?t:n;default:throw new Error("Implement me")}}function a(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function s(e){De.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function r(e,t){var n=!0;return h(function(){return n&&(s(e),n=!1),t.apply(this,arguments)},t)}function i(e,t){mt[e]||(s(t),mt[e]=!0)}function o(e,t){return function(n){return m(e.call(this,n),t)}}function u(e,t){return function(n){return this.localeData().ordinal(e.call(this,n),t)}}function c(){}function l(e,t){t!==!1&&F(e),f(this,e),this._d=new Date((+e._d))}function d(e){var t=v(e),n=t.year||0,a=t.quarter||0,s=t.month||0,r=t.week||0,i=t.day||0,o=t.hour||0,u=t.minute||0,c=t.second||0,l=t.millisecond||0;this._milliseconds=+l+1e3*c+6e4*u+36e5*o,this._days=+i+7*r,this._months=+s+3*a+12*n,this._data={},this._locale=De.localeData(),this._bubble()}function h(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return t.hasOwnProperty("toString")&&(e.toString=t.toString),t.hasOwnProperty("valueOf")&&(e.valueOf=t.valueOf),e}function f(e,t){var n,a,s;if("undefined"!=typeof t._isAMomentObject&&(e._isAMomentObject=t._isAMomentObject),"undefined"!=typeof t._i&&(e._i=t._i),"undefined"!=typeof t._f&&(e._f=t._f),"undefined"!=typeof t._l&&(e._l=t._l),"undefined"!=typeof t._strict&&(e._strict=t._strict),"undefined"!=typeof t._tzm&&(e._tzm=t._tzm),"undefined"!=typeof t._isUTC&&(e._isUTC=t._isUTC),"undefined"!=typeof t._offset&&(e._offset=t._offset),"undefined"!=typeof t._pf&&(e._pf=t._pf),"undefined"!=typeof t._locale&&(e._locale=t._locale),Pe.length>0)for(n in Pe)a=Pe[n],s=t[a],"undefined"!=typeof s&&(e[a]=s);return e}function _(e){return e<0?Math.ceil(e):Math.floor(e)}function m(e,t,n){for(var a=""+Math.abs(e),s=e>=0;a.length<t;)a="0"+a;return(s?n?"+":"":"-")+a}function y(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function p(e,t){var n;return t=L(t,e),e.isBefore(t)?n=y(e,t):(n=y(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function D(e,t){return function(n,a){var s,r;return null===a||isNaN(+a)||(i(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),r=n,n=a,a=r),n="string"==typeof n?+n:n,s=De.duration(n,a),g(this,s,e),this}}function g(e,t,n,a){var s=t._milliseconds,r=t._days,i=t._months;a=null==a||a,s&&e._d.setTime(+e._d+s*n),r&&he(e,"Date",de(e,"Date")+r*n),i&&le(e,de(e,"Month")+i*n),a&&De.updateOffset(e,r||i)}function M(e){return"[object Array]"===Object.prototype.toString.call(e)}function w(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date}function Y(e,t,n){var a=Math.min(e.length,t.length),s=Math.abs(e.length-t.length),r=0,i;for(i=0;i<a;i++)(n&&e[i]!==t[i]||!n&&S(e[i])!==S(t[i]))&&r++;return r+s}function k(e){if(e){var t=e.toLowerCase().replace(/(.)s$/,"$1");e=ut[e]||ct[t]||t}return e}function v(e){var t={},n,a;for(a in e)e.hasOwnProperty(a)&&(n=k(a),n&&(t[n]=e[a]));return t}function b(t){var n,a;if(0===t.indexOf("week"))n=7,a="day";else{if(0!==t.indexOf("month"))return;n=12,a="month"}De[t]=function(s,r){var i,o,u=De._locale[t],c=[];if("number"==typeof s&&(r=s,s=e),o=function(e){var t=De().utc().set(a,e);return u.call(De._locale,t,s||"")},null!=r)return o(r);for(i=0;i<n;i++)c.push(o(i));return c}}function S(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=t>=0?Math.floor(t):Math.ceil(t)),n}function T(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function O(e,t,n){return ie(De([e,11,31+t-n]),t,n).week}function W(e){return G(e)?366:365}function G(e){return e%4===0&&e%100!==0||e%400===0}function F(e){var t;e._a&&e._pf.overflow===-2&&(t=e._a[be]<0||e._a[be]>11?be:e._a[Se]<1||e._a[Se]>T(e._a[ve],e._a[be])?Se:e._a[Te]<0||e._a[Te]>23?Te:e._a[Oe]<0||e._a[Oe]>59?Oe:e._a[We]<0||e._a[We]>59?We:e._a[Ge]<0||e._a[Ge]>999?Ge:-1,e._pf._overflowDayOfYear&&(t<ve||t>Se)&&(t=Se),e._pf.overflow=t)}function P(e){return null==e._isValid&&(e._isValid=!isNaN(e._d.getTime())&&e._pf.overflow<0&&!e._pf.empty&&!e._pf.invalidMonth&&!e._pf.nullInput&&!e._pf.invalidFormat&&!e._pf.userInvalidated,e._strict&&(e._isValid=e._isValid&&0===e._pf.charsLeftOver&&0===e._pf.unusedTokens.length)),e._isValid}function U(e){return e?e.toLowerCase().replace("_","-"):e}function C(e){for(var t=0,n,a,s,r;t<e.length;){for(r=U(e[t]).split("-"),n=r.length,a=U(e[t+1]),a=a?a.split("-"):null;n>0;){if(s=z(r.slice(0,n).join("-")))return s;if(a&&a.length>=n&&Y(r,a,!0)>=n-1)break;n--}t++}return null}function z(e){var t=null;if(!Fe[e]&&Ue)try{t=De.locale(),require("./locale/"+e),De.locale(t)}catch(e){}return Fe[e]}function L(e,t){return t._isUTC?De(e).zone(t._offset||0):De(e).local()}function I(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function H(e){var t=e.match(Ie),n,a;for(n=0,a=t.length;n<a;n++)_t[t[n]]?t[n]=_t[t[n]]:t[n]=I(t[n]);return function(s){var r="";for(n=0;n<a;n++)r+=t[n]instanceof Function?t[n].call(s,e):t[n];return r}}function A(e,t){return e.isValid()?(t=x(t,e.localeData()),lt[t]||(lt[t]=H(t)),lt[t](e)):e.localeData().invalidDate()}function x(e,t){function n(e){return t.longDateFormat(e)||e}var a=5;for(He.lastIndex=0;a>=0&&He.test(e);)e=e.replace(He,n),He.lastIndex=0,a-=1;return e}function Z(e,t){var n,a=t._strict;switch(e){case"Q":return Qe;case"DDDD":return Be;case"YYYY":case"GGGG":case"gggg":return a?Re:Ze;case"Y":case"G":case"g":return et;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return a?Ke:Ee;case"S":if(a)return Qe;case"SS":if(a)return Xe;case"SSS":if(a)return Be;case"DDD":return xe;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return je;case"a":case"A":return t._locale._meridiemParse;case"X":return $e;case"Z":case"ZZ":return Ve;case"T":return qe;case"SSSS":return Ne;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return a?Xe:Ae;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return Ae;case"Do":return Je;default:return n=new RegExp(X(Q(e.replace("\\","")),"i"))}}function E(e){e=e||"";var t=e.match(Ve)||[],n=t[t.length-1]||[],a=(n+"").match(rt)||["-",0,0],s=+(60*a[1])+S(a[2]);return"+"===a[0]?-s:s}function N(e,t,n){var a,s=n._a;switch(e){case"Q":null!=t&&(s[be]=3*(S(t)-1));break;case"M":case"MM":null!=t&&(s[be]=S(t)-1);break;case"MMM":case"MMMM":a=n._locale.monthsParse(t),null!=a?s[be]=a:n._pf.invalidMonth=t;break;case"D":case"DD":null!=t&&(s[Se]=S(t));break;case"Do":null!=t&&(s[Se]=S(parseInt(t,10)));break;case"DDD":case"DDDD":null!=t&&(n._dayOfYear=S(t));break;case"YY":s[ve]=De.parseTwoDigitYear(t);break;case"YYYY":case"YYYYY":case"YYYYYY":s[ve]=S(t);break;case"a":case"A":n._isPm=n._locale.isPM(t);break;case"H":case"HH":case"h":case"hh":s[Te]=S(t);break;case"m":case"mm":s[Oe]=S(t);break;case"s":case"ss":s[We]=S(t);break;case"S":case"SS":case"SSS":case"SSSS":s[Ge]=S(1e3*("0."+t));break;case"X":n._d=new Date(1e3*parseFloat(t));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=E(t);break;case"dd":case"ddd":case"dddd":a=n._locale.weekdaysParse(t),null!=a?(n._w=n._w||{},n._w.d=a):n._pf.invalidWeekday=t;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":e=e.substr(0,1);case"gggg":case"GGGG":case"GGGGG":e=e.substr(0,2),t&&(n._w=n._w||{},n._w[e]=S(t));break;case"gg":case"GG":n._w=n._w||{},n._w[e]=De.parseTwoDigitYear(t)}}function j(e){var t,a,s,r,i,o,u;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(i=1,o=4,a=n(t.GG,e._a[ve],ie(De(),1,4).year),s=n(t.W,1),r=n(t.E,1)):(i=e._locale._week.dow,o=e._locale._week.doy,a=n(t.gg,e._a[ve],ie(De(),i,o).year),s=n(t.w,1),null!=t.d?(r=t.d,r<i&&++s):r=null!=t.e?t.e+i:i),u=oe(a,s,r,o,i),e._a[ve]=u.year,e._dayOfYear=u.dayOfYear}function V(e){var t,a,s=[],r,i;if(!e._d){for(r=$(e),e._w&&null==e._a[Se]&&null==e._a[be]&&j(e),e._dayOfYear&&(i=n(e._a[ve],r[ve]),e._dayOfYear>W(i)&&(e._pf._overflowDayOfYear=!0),a=ne(i,0,e._dayOfYear),e._a[be]=a.getUTCMonth(),e._a[Se]=a.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=s[t]=r[t];for(;t<7;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];e._d=(e._useUTC?ne:te).apply(null,s),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()+e._tzm)}}function q(e){var t;e._d||(t=v(e._i),e._a=[t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond],V(e))}function $(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function J(e){if(e._f===De.ISO_8601)return void R(e);e._a=[],e._pf.empty=!0;var t=""+e._i,n,a,s,r,i,o=t.length,u=0;for(s=x(e._f,e._locale).match(Ie)||[],n=0;n<s.length;n++)r=s[n],a=(t.match(Z(r,e))||[])[0],a&&(i=t.substr(0,t.indexOf(a)),i.length>0&&e._pf.unusedInput.push(i),t=t.slice(t.indexOf(a)+a.length),u+=a.length),_t[r]?(a?e._pf.empty=!1:e._pf.unusedTokens.push(r),N(r,a,e)):e._strict&&!a&&e._pf.unusedTokens.push(r);e._pf.charsLeftOver=o-u,t.length>0&&e._pf.unusedInput.push(t),e._isPm&&e._a[Te]<12&&(e._a[Te]+=12),e._isPm===!1&&12===e._a[Te]&&(e._a[Te]=0),V(e),F(e)}function Q(e){return e.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,a,s){return t||n||a||s})}function X(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function B(e){var t,n,s,r,i;if(0===e._f.length)return e._pf.invalidFormat=!0,void(e._d=new Date(NaN));for(r=0;r<e._f.length;r++)i=0,t=f({},e),t._pf=a(),t._f=e._f[r],J(t),P(t)&&(i+=t._pf.charsLeftOver,i+=10*t._pf.unusedTokens.length,t._pf.score=i,(null==s||i<s)&&(s=i,n=t));h(e,n||t)}function R(e){var t,n,a=e._i,s=tt.exec(a);if(s){for(e._pf.iso=!0,t=0,n=at.length;t<n;t++)if(at[t][1].exec(a)){e._f=at[t][0]+(s[6]||" ");break}for(t=0,n=st.length;t<n;t++)if(st[t][1].exec(a)){e._f+=st[t][0];break}a.match(Ve)&&(e._f+="Z"),J(e)}else e._isValid=!1}function K(e){R(e),e._isValid===!1&&(delete e._isValid,De.createFromInputFallback(e))}function ee(t){var n=t._i,a;n===e?t._d=new Date:w(n)?t._d=new Date((+n)):null!==(a=Ce.exec(n))?t._d=new Date((+a[1])):"string"==typeof n?K(t):M(n)?(t._a=n.slice(0),V(t)):"object"==typeof n?q(t):"number"==typeof n?t._d=new Date(n):De.createFromInputFallback(t)}function te(e,t,n,a,s,r,i){var o=new Date(e,t,n,a,s,r,i);return e<1970&&o.setFullYear(e),o}function ne(e){var t=new Date(Date.UTC.apply(null,arguments));return e<1970&&t.setUTCFullYear(e),t}function ae(e,t){if("string"==typeof e)if(isNaN(e)){if(e=t.weekdaysParse(e),"number"!=typeof e)return null}else e=parseInt(e,10);return e}function se(e,t,n,a,s){return s.relativeTime(t||1,!!n,e,a)}function re(e,t,n){var a=De.duration(e).abs(),s=Ye(a.as("s")),r=Ye(a.as("m")),i=Ye(a.as("h")),o=Ye(a.as("d")),u=Ye(a.as("M")),c=Ye(a.as("y")),l=s<dt.s&&["s",s]||1===r&&["m"]||r<dt.m&&["mm",r]||1===i&&["h"]||i<dt.h&&["hh",i]||1===o&&["d"]||o<dt.d&&["dd",o]||1===u&&["M"]||u<dt.M&&["MM",u]||1===c&&["y"]||["yy",c];return l[2]=t,l[3]=+e>0,l[4]=n,se.apply({},l)}function ie(e,t,n){var a=n-t,s=n-e.day(),r;return s>a&&(s-=7),s<a-7&&(s+=7),r=De(e).add(s,"d"),{week:Math.ceil(r.dayOfYear()/7),year:r.year()}}function oe(e,t,n,a,s){var r=ne(e,0,1).getUTCDay(),i,o;return r=0===r?7:r,n=null!=n?n:s,i=s-r+(r>a?7:0)-(r<s?7:0),o=7*(t-1)+(n-s)+i+1,{year:o>0?e:e-1,dayOfYear:o>0?o:W(e-1)+o}}function ue(t){var n=t._i,a=t._f;return t._locale=t._locale||De.localeData(t._l),null===n||a===e&&""===n?De.invalid({nullInput:!0}):("string"==typeof n&&(t._i=n=t._locale.preparse(n)),De.isMoment(n)?new l(n,(!0)):(a?M(a)?B(t):J(t):ee(t),new l(t)))}function ce(e,t){var n,a;if(1===t.length&&M(t[0])&&(t=t[0]),!t.length)return De();for(n=t[0],a=1;a<t.length;++a)t[a][e](n)&&(n=t[a]);return n}function le(e,t){var n;return"string"==typeof t&&(t=e.localeData().monthsParse(t),"number"!=typeof t)?e:(n=Math.min(e.date(),T(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e)}function de(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function he(e,t,n){return"Month"===t?le(e,n):e._d["set"+(e._isUTC?"UTC":"")+t](n)}function fe(e,t){return function(n){return null!=n?(he(this,e,n),De.updateOffset(this,t),this):de(this,e)}}function _e(e){return 400*e/146097}function me(e){return 146097*e/400}function ye(e){De.duration.fn[e]=function(){return this._data[e]}}function pe(e){"undefined"==typeof ender&&(we=Me.moment,e?Me.moment=r("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",De):Me.moment=De)}for(var De,ge="2.8.1",Me="undefined"!=typeof t?t:this,we,Ye=Math.round,ke,ve=0,be=1,Se=2,Te=3,Oe=4,We=5,Ge=6,Fe={},Pe=[],Ue="undefined"!=typeof module&&module.exports,Ce=/^\/?Date\((\-?\d+)/i,ze=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Le=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,Ie=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,He=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,Ae=/\d\d?/,xe=/\d{1,3}/,Ze=/\d{1,4}/,Ee=/[+\-]?\d{1,6}/,Ne=/\d+/,je=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Ve=/Z|[\+\-]\d\d:?\d\d/gi,qe=/T/i,$e=/[\+\-]?\d+(\.\d{1,3})?/,Je=/\d{1,2}/,Qe=/\d/,Xe=/\d\d/,Be=/\d{3}/,Re=/\d{4}/,Ke=/[+-]?\d{6}/,et=/[+-]?\d+/,tt=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,nt="YYYY-MM-DDTHH:mm:ssZ",at=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],st=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],rt=/([\+\-]|\d\d)/gi,it="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),ot={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},ut={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},ct={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},lt={},dt={s:45,m:45,h:22,d:26,M:11},ht="DDD w W M D d".split(" "),ft="M D H h m s w W".split(" "),_t={M:function(){return this.month()+1},MMM:function(e){return this.localeData().monthsShort(this,e)},MMMM:function(e){return this.localeData().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.localeData().weekdaysMin(this,e)},ddd:function(e){return this.localeData().weekdaysShort(this,e)},dddd:function(e){return this.localeData().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return m(this.year()%100,2)},YYYY:function(){return m(this.year(),4)},YYYYY:function(){return m(this.year(),5)},YYYYYY:function(){var e=this.year(),t=e>=0?"+":"-";return t+m(Math.abs(e),6)},gg:function(){return m(this.weekYear()%100,2)},gggg:function(){return m(this.weekYear(),4)},ggggg:function(){return m(this.weekYear(),5)},GG:function(){return m(this.isoWeekYear()%100,2)},GGGG:function(){return m(this.isoWeekYear(),4)},GGGGG:function(){return m(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return S(this.milliseconds()/100)},SS:function(){return m(S(this.milliseconds()/10),2)},SSS:function(){return m(this.milliseconds(),3)},SSSS:function(){return m(this.milliseconds(),3)},Z:function(){var e=-this.zone(),t="+";return e<0&&(e=-e,t="-"),t+m(S(e/60),2)+":"+m(S(e)%60,2)},ZZ:function(){var e=-this.zone(),t="+";return e<0&&(e=-e,t="-"),t+m(S(e/60),2)+m(S(e)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},mt={},yt=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];ht.length;)ke=ht.pop(),_t[ke+"o"]=u(_t[ke],ke);for(;ft.length;)ke=ft.pop(),_t[ke+ke]=o(_t[ke],2);_t.DDDD=o(_t.DDD,3),h(c.prototype,{set:function(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e){var t,n,a;for(this._monthsParse||(this._monthsParse=[]),t=0;t<12;t++)if(this._monthsParse[t]||(n=De.utc([2e3,t]),a="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[t]=new RegExp(a.replace(".",""),"i")),this._monthsParse[t].test(e))return t},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},weekdaysParse:function(e){var t,n,a;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;t<7;t++)if(this._weekdaysParse[t]||(n=De([2e3,1]).day(t),a="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(a.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t},isPM:function(e){return"p"===(e+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(e,t){var n=this._calendar[e];return"function"==typeof n?n.apply(t):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,n,a){var s=this._relativeTime[n];return"function"==typeof s?s(e,t,n,a):s.replace(/%d/i,e)},pastFuture:function(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",preparse:function(e){return e},postformat:function(e){return e},week:function(e){return ie(e,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),De=function(t,n,s,r){var i;return"boolean"==typeof s&&(r=s,s=e),i={},i._isAMomentObject=!0,i._i=t,i._f=n,i._l=s,i._strict=r,i._isUTC=!1,i._pf=a(),ue(i)},De.suppressDeprecationWarnings=!1,De.createFromInputFallback=r("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i)}),De.min=function(){var e=[].slice.call(arguments,0);return ce("isBefore",e)},De.max=function(){var e=[].slice.call(arguments,0);return ce("isAfter",e)},De.utc=function(t,n,s,r){var i;return"boolean"==typeof s&&(r=s,s=e),i={},i._isAMomentObject=!0,i._useUTC=!0,i._isUTC=!0,i._l=s,i._i=t,i._f=n,i._strict=r,i._pf=a(),ue(i).utc()},De.unix=function(e){return De(1e3*e)},De.duration=function(e,t){var n=e,a=null,s,r,i,o;return De.isDuration(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(n={},t?n[t]=e:n.milliseconds=e):(a=ze.exec(e))?(s="-"===a[1]?-1:1,n={y:0,d:S(a[Se])*s,h:S(a[Te])*s,m:S(a[Oe])*s,s:S(a[We])*s,ms:S(a[Ge])*s}):(a=Le.exec(e))?(s="-"===a[1]?-1:1,i=function(e){var t=e&&parseFloat(e.replace(",","."));return(isNaN(t)?0:t)*s},n={y:i(a[2]),M:i(a[3]),d:i(a[4]),h:i(a[5]),m:i(a[6]),s:i(a[7]),w:i(a[8])}):"object"==typeof n&&("from"in n||"to"in n)&&(o=p(De(n.from),De(n.to)),n={},n.ms=o.milliseconds,n.M=o.months),r=new d(n),De.isDuration(e)&&e.hasOwnProperty("_locale")&&(r._locale=e._locale),r},De.version=ge,De.defaultFormat=nt,De.ISO_8601=function(){},De.momentProperties=Pe,De.updateOffset=function(){},De.relativeTimeThreshold=function(t,n){return dt[t]!==e&&(n===e?dt[t]:(dt[t]=n,!0))},De.lang=r("moment.lang is deprecated. Use moment.locale instead.",function(e,t){return De.locale(e,t)}),De.locale=function(e,t){var n;return e&&(n="undefined"!=typeof t?De.defineLocale(e,t):De.localeData(e),n&&(De.duration._locale=De._locale=n)),De._locale._abbr},De.defineLocale=function(e,t){return null!==t?(t.abbr=e,Fe[e]||(Fe[e]=new c),Fe[e].set(t),De.locale(e),Fe[e]):(delete Fe[e],null)},De.langData=r("moment.langData is deprecated. Use moment.localeData instead.",function(e){return De.localeData(e)}),De.localeData=function(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return De._locale;if(!M(e)){if(t=z(e))return t;e=[e]}return C(e)},De.isMoment=function(e){return e instanceof l||null!=e&&e.hasOwnProperty("_isAMomentObject")},De.isDuration=function(e){return e instanceof d};for(ke=yt.length-1;ke>=0;--ke)b(yt[ke]);De.normalizeUnits=function(e){return k(e)},De.invalid=function(e){var t=De.utc(NaN);return null!=e?h(t._pf,e):t._pf.userInvalidated=!0,t},De.parseZone=function(){return De.apply(null,arguments).parseZone()},De.parseTwoDigitYear=function(e){return S(e)+(S(e)>68?1900:2e3)},h(De.fn=l.prototype,{clone:function(){return De(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date((+this)):this._d},toISOString:function(){var e=De(this).utc();return 0<e.year()&&e.year()<=9999?A(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):A(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return P(this)},isDSTShifted:function(){return!!this._a&&(this.isValid()&&Y(this._a,(this._isUTC?De.utc(this._a):De(this._a)).toArray())>0)},parsingFlags:function(){return h({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(e){return this.zone(0,e)},local:function(e){return this._isUTC&&(this.zone(0,e),this._isUTC=!1,e&&this.add(this._d.getTimezoneOffset(),"m")),this},format:function(e){var t=A(this,e||De.defaultFormat);return this.localeData().postformat(t)},add:D(1,"add"),subtract:D(-1,"subtract"),diff:function(e,t,n){var a=L(e,this),s=6e4*(this.zone()-a.zone()),r,i;return t=k(t),"year"===t||"month"===t?(r=432e5*(this.daysInMonth()+a.daysInMonth()),i=12*(this.year()-a.year())+(this.month()-a.month()),i+=(this-De(this).startOf("month")-(a-De(a).startOf("month")))/r,i-=6e4*(this.zone()-De(this).startOf("month").zone()-(a.zone()-De(a).startOf("month").zone()))/r,"year"===t&&(i/=12)):(r=this-a,i="second"===t?r/1e3:"minute"===t?r/6e4:"hour"===t?r/36e5:"day"===t?(r-s)/864e5:"week"===t?(r-s)/6048e5:r),n?i:_(i)},from:function(e,t){return De.duration({to:this,from:e}).locale(this.locale()).humanize(!t)},fromNow:function(e){return this.from(De(),e)},calendar:function(e){var t=e||De(),n=L(t,this).startOf("day"),a=this.diff(n,"days",!0),s=a<-6?"sameElse":a<-1?"lastWeek":a<0?"lastDay":a<1?"sameDay":a<2?"nextDay":a<7?"nextWeek":"sameElse";return this.format(this.localeData().calendar(s,this))},isLeapYear:function(){return G(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=ae(e,this.localeData()),this.add(e-t,"d")):t},month:fe("Month",!0),startOf:function(e){switch(e=k(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e?this.weekday(0):"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(e){return e=k(e),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")},isAfter:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)>+De(e).startOf(t)},isBefore:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)<+De(e).startOf(t)},isSame:function(e,t){return t=t||"ms",+this.clone().startOf(t)===+L(e,this).startOf(t)},min:r("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(e){return e=De.apply(null,arguments),e<this?this:e}),max:r("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(e){return e=De.apply(null,arguments),e>this?this:e}),zone:function(e,t){var n=this._offset||0,a;return null==e?this._isUTC?n:this._d.getTimezoneOffset():("string"==typeof e&&(e=E(e)),Math.abs(e)<16&&(e=60*e),!this._isUTC&&t&&(a=this._d.getTimezoneOffset()),this._offset=e,this._isUTC=!0,null!=a&&this.subtract(a,"m"),n!==e&&(!t||this._changeInProgress?g(this,De.duration(n-e,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,De.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(e){return e=e?De(e).zone():0,(this.zone()-e)%60===0},daysInMonth:function(){return T(this.year(),this.month())},dayOfYear:function(e){var t=Ye((De(this).startOf("day")-De(this).startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},quarter:function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},weekYear:function(e){var t=ie(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==e?t:this.add(e-t,"y")},isoWeekYear:function(e){var t=ie(this,1,4).year;return null==e?t:this.add(e-t,"y")},week:function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},isoWeek:function(e){var t=ie(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},weekday:function(e){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},isoWeekday:function(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)},isoWeeksInYear:function(){return O(this.year(),1,4)},weeksInYear:function(){var e=this.localeData()._week;return O(this.year(),e.dow,e.doy)},get:function(e){return e=k(e),this[e]()},set:function(e,t){return e=k(e),"function"==typeof this[e]&&this[e](t),this},locale:function(t){return t===e?this._locale._abbr:(this._locale=De.localeData(t),this)},lang:r("moment().lang() is deprecated. Use moment().localeData() instead.",function(t){return t===e?this.localeData():(this._locale=De.localeData(t),this)}),localeData:function(){return this._locale}}),De.fn.millisecond=De.fn.milliseconds=fe("Milliseconds",!1),De.fn.second=De.fn.seconds=fe("Seconds",!1),De.fn.minute=De.fn.minutes=fe("Minutes",!1),De.fn.hour=De.fn.hours=fe("Hours",!0),De.fn.date=fe("Date",!0),De.fn.dates=r("dates accessor is deprecated. Use date instead.",fe("Date",!0)),De.fn.year=fe("FullYear",!0),De.fn.years=r("years accessor is deprecated. Use year instead.",fe("FullYear",!0)),De.fn.days=De.fn.day,De.fn.months=De.fn.month,De.fn.weeks=De.fn.week,De.fn.isoWeeks=De.fn.isoWeek,De.fn.quarters=De.fn.quarter,De.fn.toJSON=De.fn.toISOString,h(De.duration.fn=d.prototype,{_bubble:function(){var e=this._milliseconds,t=this._days,n=this._months,a=this._data,s,r,i,o=0;a.milliseconds=e%1e3,s=_(e/1e3),a.seconds=s%60,r=_(s/60),a.minutes=r%60,i=_(r/60),a.hours=i%24,t+=_(i/24),o=_(_e(t)),t-=_(me(o)),n+=_(t/30),t%=30,o+=_(n/12),n%=12,a.days=t,a.months=n,a.years=o},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return _(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*S(this._months/12)},humanize:function(e){var t=re(this,!e,this.localeData());return e&&(t=this.localeData().pastFuture(+this,t)),this.localeData().postformat(t)},add:function(e,t){var n=De.duration(e,t);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(e,t){var n=De.duration(e,t);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(e){return e=k(e),this[e.toLowerCase()+"s"]()},as:function(e){var t,n;if(e=k(e),t=this._days+this._milliseconds/864e5,"month"===e||"year"===e)return n=this._months+12*_e(t),"month"===e?n:n/12;switch(t+=me(this._months/12),e){case"week":return t/7;case"day":return t;case"hour":return 24*t;case"minute":return 24*t*60;case"second":return 24*t*60*60;case"millisecond":return 24*t*60*60*1e3;default:throw new Error("Unknown unit "+e)}},lang:De.fn.lang,locale:De.fn.locale,toIsoString:r("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var e=Math.abs(this.years()),t=Math.abs(this.months()),n=Math.abs(this.days()),a=Math.abs(this.hours()),s=Math.abs(this.minutes()),r=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(n?n+"D":"")+(a||s||r?"T":"")+(a?a+"H":"")+(s?s+"M":"")+(r?r+"S":""):"P0D"},localeData:function(){return this._locale}});for(ke in ot)ot.hasOwnProperty(ke)&&ye(ke.toLowerCase());De.duration.fn.asMilliseconds=function(){return this.as("ms")},De.duration.fn.asSeconds=function(){return this.as("s")},De.duration.fn.asMinutes=function(){return this.as("m")},De.duration.fn.asHours=function(){return this.as("h")},De.duration.fn.asDays=function(){return this.as("d")},De.duration.fn.asWeeks=function(){return this.as("weeks")},De.duration.fn.asMonths=function(){return this.as("M")},De.duration.fn.asYears=function(){return this.as("y")},De.locale("en",{ordinal:function(e){var t=e%10,n=1===S(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),Ue?module.exports=De:"function"==typeof define&&define.amd?(define("moment",function(e,t,n){return n.config&&n.config()&&n.config().noGlobal===!0&&(Me.moment=we),De}),pe(!0)):pe()}).call(this)}).call(this),function(){"undefined"!=typeof Package&&(a=this.moment)}.call(this)}).call(this),"undefined"==typeof Package&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package["mrt:moment"]={},{moment:a})}();

!function(){var e=Package.meteor.Meteor,a=Package.meteor.global,c=Package.meteor.meteorEnv;(function(){}).call(this),"undefined"==typeof Package&&(Package={}),Package["cfs:standard-packages"]={}}();

!function(){var t=Package.meteor.Meteor,e=Package.meteor.global,n=Package.meteor.meteorEnv,i=Package.tracker.Tracker,o=Package.tracker.Deps,r=Package.underscore._,a=Package.ejson.EJSON,c,l;(function(){(function(){c={},c.Store={GridFS:function(){throw new Error('To use FS.Store.GridFS, you must add the "cfs-gridfs" package.')},FileSystem:function(){throw new Error('To use FS.Store.FileSystem, you must add the "cfs-filesystem" package.')},S3:function(){throw new Error('To use FS.Store.S3, you must add the "cfs-s3" package.')}},c.AccessPoint={},c.Utility={},c.config={},c._collections={},l={},l.defaultZero=function(t){return+(t||0)},c.Utility.cloneFileRecord=function(t,e){e=e||{};var n={},i=e.full?[]:["collectionName","collection","data","createdByTransform"];for(var o in t)t.hasOwnProperty(o)&&!r.contains(i,o)&&(n[o]=t[o]);return n},c.Utility.defaultCallback=function e(n){if(n){if(!(n instanceof t.Error))throw n;console.error(n.message)}},c.Utility.handleError=function(t,e,n){var i="function"==typeof t?t:c.Utility.defaultCallback,o=e===""+e?new Error(e):e;return i(o,n)},c.Utility.noop=function(){},c.Utility.validateAction=function e(n,i,o){var a=n.deny,c=n.allow;if("object"!=typeof Package||!Package.insecure||a.length+c.length!==0){if(i.isMounted()&&i.getFileRecord(),r.any(a,function(t){return t(o,i)}))throw new t.Error(403,"Access denied");if(r.all(c,function(t){return!t(o,i)}))throw new t.Error(403,"Access denied")}},c.Utility.getFileName=function t(e){e=e.split("?")[0];var n=e.lastIndexOf("/");return n!==-1&&(e=e.slice(n+1)),e},c.Utility.getFileExtension=function t(e){e=c.Utility.getFileName(e);var n=e.lastIndexOf(".");return n>0?e.slice(n+1).toLowerCase():""},c.Utility.setFileExtension=function t(e,n){if(!e||!e.length)return e;var i=c.Utility.getFileExtension(e);return e=i.length?e.slice(0,i.length*-1)+n:e+"."+n},c.Utility.encodeParams=function t(e){var n=[];return r.each(e,function(t,e){n.length&&n.push("&"),n.push(c.Utility.encodeString(e),"=",c.Utility.encodeString(t))}),n.join("").replace(/%20/g,"+")},c.Utility.encodeString=function t(e){return encodeURIComponent(e).replace(/[!'()]/g,escape).replace(/\*/g,"%2A")},c.Utility._btoa=function t(e){var n;return n=e instanceof Buffer?e:new Buffer(e.toString(),"binary"),n.toString("base64")},c.Utility.btoa=function t(e){if("function"==typeof btoa)return btoa(e);if("undefined"!=typeof Buffer)return c.Utility._btoa(e);throw new Error("FS.Utility.btoa: Cannot base64 encode on your system")},c.Utility._atob=function t(e){return new Buffer(e,"base64").toString("binary")},c.Utility.atob=function t(e){if("function"==typeof atob)return atob(e);if("undefined"!=typeof Buffer)return c.Utility._atob(e);throw new Error("FS.Utility.atob: Cannot base64 encode on your system")},c.Utility.extend=r.extend,c.Utility.each=r.each,c.Utility.isEmpty=r.isEmpty,c.Utility.indexOf=r.indexOf,c.Utility.isArray=r.isArray,c.Utility.map=r.map,c.Utility.once=r.once,c.Utility.include=r.include,c.Utility.size=r.size}).call(this),function(){c.Utility.connectionLogin=function(e){"undefined"!=typeof Accounts&&t.startup(function(){i.autorun(function(){var n=t.userId();n?e.onReconnect=function(){var t=Accounts._storedLoginToken();e.apply("login",[{resume:t}],function(t,n){!t&&n&&e.setUserId(n.id)})}:(e.onReconnect=null,e.setUserId(null))})})},c.Utility.eachFile=function(t,e){var n=t.originalEvent||t,i=n.target.files;i&&0!==i.length||(i=n.dataTransfer?n.dataTransfer.files:[]);for(var o=0;o<i.length;o++)e(i[o],o)}}.call(this)}).call(this),"undefined"==typeof Package&&(Package={}),function(t,e){for(var n in e)n in t||(t[n]=e[n])}(Package["cfs:base-package"]={},{FS:c,_Utility:l})}();

!function(){var a=Package["ddp-client"].DDP,e;"undefined"==typeof Package&&(Package={}),function(a,e){for(var n in e)n in a||(a[n]=e[n])}(Package.livedata={},{DDP:a,LivedataTest:e})}();

!function(){"undefined"==typeof Package&&(Package={}),Package["mongo-livedata"]={}}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package.underscore._,i;(function(){(function(){i=function(e){var t=this;if(!(t instanceof i))throw new Error('use "new" to construct an EventEmitter');e=e||{},t._eventEmitter={onListeners:{},onceListeners:{},maxListeners:e.maxListeners||10}};var e=function(e,t){var n=this;if(n._eventEmitter.maxListeners&&t>n._eventEmitter.maxListeners)return"warning: possible EventEmitter memory leak detected. "+t+' listeners added on event "'+e+'". Use emitter.setMaxListeners() to increase limit. ('+n._eventEmitter.maxListeners+")"};i.prototype.setMaxListeners=function(e){this._eventEmitter.maxListeners=e};var t=function(t,n,r){return"undefined"==typeof t[n]&&(t[n]=[]),e.apply(this,[n,t[n].push(r)])};i.prototype.on=function(e,n){var r=t.apply(this,[this._eventEmitter.onListeners,e,n]);return r&&console.warn(new Error(r).stack),this},i.prototype.once=function(e,n){var r=t.apply(this,[this._eventEmitter.onceListeners,e,n]);return r&&console.warn(new Error(r).stack),this};var n=function(e,t){var n=this,i=0;return"undefined"!=typeof e&&r.each(e,function(e){i++,e.apply(n,t)}),i};i.prototype.emit=function(e){var t=this,i=r.rest(arguments),o=0,s=t._eventEmitter.onceListeners[e];return t._eventEmitter.onceListeners[e]=[],o+=n.call(t,t._eventEmitter.onListeners[e],i),o+=n.call(t,s,i),o>0};var o=function(e,t){for(var n=!1,r=[],i=0;i<e.length;i++)n||e[i]!==t?r.push(e[i]):n=!0;return r};i.prototype.off=function(e,t){var n=this;e?"function"==typeof t?("undefined"!=typeof n._eventEmitter.onListeners[e]&&(n._eventEmitter.onListeners[e]=o(n._eventEmitter.onListeners[e],t)),"undefined"!=typeof n._eventEmitter.onceListeners[e]&&(n._eventEmitter.onceListeners[e]=o(n._eventEmitter.onceListeners[e],t))):(n._eventEmitter.onListeners[e]=[],n._eventEmitter.onceListeners[e]=[]):(n._eventEmitter.onListeners={},n._eventEmitter.onceListeners={})},i.prototype.addListener=i.prototype.on,i.prototype.removeListener=i.prototype.off,i.prototype.removeAllListeners=i.prototype.off,i.prototype.one=i.prototype.once,i.prototype.trigger=i.prototype.emit}).call(this)}).call(this),"undefined"==typeof Package&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package["raix:eventemitter"]={},{EventEmitter:i})}();

!function(){var e=Package.meteor.Meteor,a=Package.meteor.global,t=Package.meteor.meteorEnv,c=Package["cfs:base-package"].FS,r=Package.tracker.Tracker,n=Package.tracker.Deps,o=Package.check.check,g=Package.check.Match,i=Package["ddp-client"].DDP,k=Package.ejson.EJSON,P=Package["raix:eventemitter"].EventEmitter,d=Package.mongo.Mongo,f;(function(){(function(){f={},c.StorageAdapter=function(e,a,t){var r=this;if("undefined"==typeof t)throw new Error("FS.StorageAdapter please define an api");if("undefined"!=typeof f[e])throw new Error('Storage name already exists: "'+e+'"');f[e]=r,c.Utility.extend(this,a||{},{name:e})},c.StorageAdapter.prototype=new P}).call(this)}).call(this),"undefined"==typeof Package&&(Package={}),Package["cfs:storage-adapter"]={}}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,a=Package.meteor.meteorEnv,o=Package["cfs:base-package"].FS;(function(){(function(){o.Store.FileSystem=function(e,t){var a=this;if(!(a instanceof o.Store.FileSystem))throw new Error('FS.Store.FileSystem missing keyword "new"');return new o.StorageAdapter(e,t,{typeName:"storage.filesystem"})}}).call(this)}).call(this),"undefined"==typeof Package&&(Package={}),Package["cfs:filesystem"]={}}();

!function(){"undefined"==typeof Package&&(Package={}),Package["fourseven:scss"]={}}();

!function(){var t=Package.meteor.Meteor,e=Package.meteor.global,i=Package.meteor.meteorEnv,n,s,r;(function(){n={},s={}}).call(this),function(){!function(t,e){"function"==typeof define&&define.amd?define([],function(){return t.Chartist=e()}):"object"==typeof n?s.exports=e():t.Chartist=e()}(this,function(){var t={version:"0.9.8"};return function(t,e,i){"use strict";i.namespaces={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",ct:"http://gionkunz.github.com/chartist-js/ct"},i.noop=function(t){return t},i.alphaNumerate=function(t){return String.fromCharCode(97+t%26)},i.extend=function(t){t=t||{};var e=Array.prototype.slice.call(arguments,1);return e.forEach(function(e){for(var n in e)"object"!=typeof e[n]||null===e[n]||e[n]instanceof Array?t[n]=e[n]:t[n]=i.extend({},t[n],e[n])}),t},i.replaceAll=function(t,e,i){return t.replace(new RegExp(e,"g"),i)},i.ensureUnit=function(t,e){return"number"==typeof t&&(t+=e),t},i.quantity=function(t){if("string"==typeof t){var e=/^(\d+)\s*(.*)$/g.exec(t);return{value:+e[1],unit:e[2]||void 0}}return{value:t}},i.querySelector=function(t){return t instanceof Node?t:e.querySelector(t)},i.times=function(t){return Array.apply(null,new Array(t))},i.sum=function(t,e){return t+(e?e:0)},i.mapMultiply=function(t){return function(e){return e*t}},i.mapAdd=function(t){return function(e){return e+t}},i.serialMap=function(t,e){var n=[],s=Math.max.apply(null,t.map(function(t){return t.length}));return i.times(s).forEach(function(i,s){var r=t.map(function(t){return t[s]});n[s]=e.apply(null,r)}),n},i.roundWithPrecision=function(t,e){var n=Math.pow(10,e||i.precision);return Math.round(t*n)/n},i.precision=8,i.escapingMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"},i.serialize=function(t){return null===t||void 0===t?t:("number"==typeof t?t=""+t:"object"==typeof t&&(t=JSON.stringify({data:t})),Object.keys(i.escapingMap).reduce(function(t,e){return i.replaceAll(t,e,i.escapingMap[e])},t))},i.deserialize=function(t){if("string"!=typeof t)return t;t=Object.keys(i.escapingMap).reduce(function(t,e){return i.replaceAll(t,i.escapingMap[e],e)},t);try{t=JSON.parse(t),t=void 0!==t.data?t.data:t}catch(t){}return t},i.createSvg=function(t,e,n,s){var r;return e=e||"100%",n=n||"100%",Array.prototype.slice.call(t.querySelectorAll("svg")).filter(function t(e){return e.getAttributeNS(i.namespaces.xmlns,"ct")}).forEach(function e(i){t.removeChild(i)}),r=new i.Svg("svg").attr({width:e,height:n}).addClass(s).attr({style:"width: "+e+"; height: "+n+";"}),t.appendChild(r._node),r},i.normalizeData=function(t){if(t=t||{series:[],labels:[]},t.series=t.series||[],t.labels=t.labels||[],t.series.length>0&&0===t.labels.length){var e=i.getDataArray(t),n;n=e.every(function(t){return t instanceof Array})?Math.max.apply(null,e.map(function(t){return t.length})):e.length,t.labels=i.times(n).map(function(){return""})}return t},i.reverseData=function(t){t.labels.reverse(),t.series.reverse();for(var e=0;e<t.series.length;e++)"object"==typeof t.series[e]&&void 0!==t.series[e].data?t.series[e].data.reverse():t.series[e]instanceof Array&&t.series[e].reverse()},i.getDataArray=function(t,e,n){function s(t){if(!i.isFalseyButZero(t)){if((t.data||t)instanceof Array)return(t.data||t).map(s);if(t.hasOwnProperty("value"))return s(t.value);if(n){var e={};return"string"==typeof n?e[n]=i.getNumberOrUndefined(t):e.y=i.getNumberOrUndefined(t),e.x=t.hasOwnProperty("x")?i.getNumberOrUndefined(t.x):e.x,e.y=t.hasOwnProperty("y")?i.getNumberOrUndefined(t.y):e.y,e}return i.getNumberOrUndefined(t)}}return(e&&!t.reversed||!e&&t.reversed)&&(i.reverseData(t),t.reversed=!t.reversed),t.series.map(s)},i.normalizePadding=function(t,e){return e=e||0,"number"==typeof t?{top:t,right:t,bottom:t,left:t}:{top:"number"==typeof t.top?t.top:e,right:"number"==typeof t.right?t.right:e,bottom:"number"==typeof t.bottom?t.bottom:e,left:"number"==typeof t.left?t.left:e}},i.getMetaData=function(t,e){var n=t.data?t.data[e]:t[e];return n?i.serialize(n.meta):void 0},i.orderOfMagnitude=function(t){return Math.floor(Math.log(Math.abs(t))/Math.LN10)},i.projectLength=function(t,e,i){return e/i.range*t},i.getAvailableHeight=function(t,e){return Math.max((i.quantity(e.height).value||t.height())-(e.chartPadding.top+e.chartPadding.bottom)-e.axisX.offset,0)},i.getHighLow=function(t,e,n){function s(t){if(void 0!==t)if(t instanceof Array)for(var e=0;e<t.length;e++)s(t[e]);else{var i=n?+t[n]:+t;a&&i>r.high&&(r.high=i),o&&i<r.low&&(r.low=i)}}e=i.extend({},e,n?e["axis"+n.toUpperCase()]:{});var r={high:void 0===e.high?-Number.MAX_VALUE:+e.high,low:void 0===e.low?Number.MAX_VALUE:+e.low},a=void 0===e.high,o=void 0===e.low;return(a||o)&&s(t),(e.referenceValue||0===e.referenceValue)&&(r.high=Math.max(e.referenceValue,r.high),r.low=Math.min(e.referenceValue,r.low)),r.high<=r.low&&(0===r.low?r.high=1:r.low<0?r.high=0:r.high>0?r.low=0:(r.high=1,r.low=0)),r},i.isNum=function(t){return!isNaN(t)&&isFinite(t)},i.isFalseyButZero=function(t){return!t&&0!==t},i.getNumberOrUndefined=function(t){return isNaN(+t)?void 0:+t},i.getMultiValue=function(t,e){return i.isNum(t)?+t:t?t[e||"y"]||0:0},i.rho=function(t){function e(t,i){return t%i===0?i:e(i,t%i)}function i(t){return t*t+1}if(1===t)return t;var n=2,s=2,r;if(t%2===0)return 2;do n=i(n)%t,s=i(i(s))%t,r=e(Math.abs(n-s),t);while(1===r);return r},i.getBounds=function(t,e,n,s){var r,a=0,o,l,h={high:e.high,low:e.low};h.valueRange=h.high-h.low,h.oom=i.orderOfMagnitude(h.valueRange),h.step=Math.pow(10,h.oom),h.min=Math.floor(h.low/h.step)*h.step,h.max=Math.ceil(h.high/h.step)*h.step,h.range=h.max-h.min,h.numberOfSteps=Math.round(h.range/h.step);var c=i.projectLength(t,h.step,h),u=c<n,d=s?i.rho(h.range):0;if(s&&i.projectLength(t,1,h)>=n)h.step=1;else if(s&&d<h.step&&i.projectLength(t,d,h)>=n)h.step=d;else for(;;){if(u&&i.projectLength(t,h.step,h)<=n)h.step*=2;else{if(u||!(i.projectLength(t,h.step/2,h)>=n))break;if(h.step/=2,s&&h.step%1!==0){h.step*=2;break}}if(a++>1e3)throw new Error("Exceeded maximum number of iterations while optimizing scale step!")}var p=2.221e-16;for(h.step=Math.max(h.step,p),o=h.min,l=h.max;o+h.step<=h.low;)o+=h.step;for(;l-h.step>=h.high;)l-=h.step;h.min=o,h.max=l,h.range=h.max-h.min;var f=[];for(r=h.min;r<=h.max;r+=h.step){var m=i.roundWithPrecision(r);m!==f[f.length-1]&&f.push(r)}return h.values=f,h},i.polarToCartesian=function(t,e,i,n){var s=(n-90)*Math.PI/180;return{x:t+i*Math.cos(s),y:e+i*Math.sin(s)}},i.createChartRect=function(t,e,n){var s=!(!e.axisX&&!e.axisY),r=s?e.axisY.offset:0,a=s?e.axisX.offset:0,o=t.width()||i.quantity(e.width).value||0,l=t.height()||i.quantity(e.height).value||0,h=i.normalizePadding(e.chartPadding,n);o=Math.max(o,r+h.left+h.right),l=Math.max(l,a+h.top+h.bottom);var c={padding:h,width:function(){return this.x2-this.x1},height:function(){return this.y1-this.y2}};return s?("start"===e.axisX.position?(c.y2=h.top+a,c.y1=Math.max(l-h.bottom,c.y2+1)):(c.y2=h.top,c.y1=Math.max(l-h.bottom-a,c.y2+1)),"start"===e.axisY.position?(c.x1=h.left+r,c.x2=Math.max(o-h.right,c.x1+1)):(c.x1=h.left,c.x2=Math.max(o-h.right-r,c.x1+1))):(c.x1=h.left,c.x2=Math.max(o-h.right,c.x1+1),c.y2=h.top,c.y1=Math.max(l-h.bottom,c.y2+1)),c},i.createGrid=function(t,e,n,s,r,a,o,l){var h={};h[n.units.pos+"1"]=t,h[n.units.pos+"2"]=t,h[n.counterUnits.pos+"1"]=s,h[n.counterUnits.pos+"2"]=s+r;var c=a.elem("line",h,o.join(" "));l.emit("draw",i.extend({type:"grid",axis:n,index:e,group:a,element:c},h))},i.createLabel=function(t,e,n,s,r,a,o,l,h,c,u){var d,p={};if(p[r.units.pos]=t+o[r.units.pos],p[r.counterUnits.pos]=o[r.counterUnits.pos],p[r.units.len]=e,p[r.counterUnits.len]=Math.max(0,a-10),c){var f='<span class="'+h.join(" ")+'" style="'+r.units.len+": "+Math.round(p[r.units.len])+"px; "+r.counterUnits.len+": "+Math.round(p[r.counterUnits.len])+'px">'+s[n]+"</span>";d=l.foreignObject(f,i.extend({style:"overflow: visible;"},p))}else d=l.elem("text",p,h.join(" ")).text(s[n]);u.emit("draw",i.extend({type:"label",axis:r,index:n,group:l,element:d,text:s[n]},p))},i.getSeriesOption=function(t,e,i){if(t.name&&e.series&&e.series[t.name]){var n=e.series[t.name];return n.hasOwnProperty(i)?n[i]:e[i]}return e[i]},i.optionsProvider=function(e,n,s){function r(e){var r=l;if(l=i.extend({},o),n)for(c=0;c<n.length;c++){var a=t.matchMedia(n[c][0]);a.matches&&(l=i.extend(l,n[c][1]))}s&&e&&s.emit("optionsChanged",{previousOptions:r,currentOptions:l})}function a(){h.forEach(function(t){t.removeListener(r)})}var o=i.extend({},e),l,h=[],c;if(!t.matchMedia)throw"window.matchMedia not found! Make sure you're using a polyfill.";if(n)for(c=0;c<n.length;c++){var u=t.matchMedia(n[c][0]);u.addListener(r),h.push(u)}return r(),{removeMediaQueryListeners:a,getCurrentOptions:function t(){return i.extend({},l)}}},i.splitIntoSegments=function(t,e,n){var s={increasingX:!1,fillHoles:!1};n=i.extend({},s,n);for(var r=[],a=!0,o=0;o<t.length;o+=2)void 0===e[o/2].value?n.fillHoles||(a=!0):(n.increasingX&&o>=2&&t[o]<=t[o-2]&&(a=!0),a&&(r.push({pathCoordinates:[],valueData:[]}),a=!1),r[r.length-1].pathCoordinates.push(t[o],t[o+1]),r[r.length-1].valueData.push(e[o/2]));return r}}(window,document,t),function(t,e,i){"use strict";i.Interpolation={},i.Interpolation.none=function(t){var e={fillHoles:!1};return t=i.extend({},e,t),function e(n,s){for(var r=new i.Svg.Path,a=!0,o=0;o<n.length;o+=2){var l=n[o],h=n[o+1],c=s[o/2];void 0!==c.value?(a?r.move(l,h,!1,c):r.line(l,h,!1,c),a=!1):t.fillHoles||(a=!0)}return r}},i.Interpolation.simple=function(t){var e={divisor:2,fillHoles:!1};t=i.extend({},e,t);var n=1/Math.max(1,t.divisor);return function e(s,r){for(var a=new i.Svg.Path,o,l,h,c=0;c<s.length;c+=2){var u=s[c],d=s[c+1],p=(u-o)*n,f=r[c/2];void 0!==f.value?(void 0===h?a.move(u,d,!1,f):a.curve(o+p,l,u-p,d,u,d,!1,f),o=u,l=d,h=f):t.fillHoles||(o=u=h=void 0)}return a}},i.Interpolation.cardinal=function(t){var e={tension:1,fillHoles:!1};t=i.extend({},e,t);var n=Math.min(1,Math.max(0,t.tension)),s=1-n;return function e(r,a){var o=i.splitIntoSegments(r,a,{fillHoles:t.fillHoles});if(o.length){if(o.length>1){var l=[];return o.forEach(function(t){l.push(e(t.pathCoordinates,t.valueData))}),i.Svg.Path.join(l)}if(r=o[0].pathCoordinates,a=o[0].valueData,r.length<=4)return i.Interpolation.none()(r,a);for(var h=(new i.Svg.Path).move(r[0],r[1],!1,a[0]),c,u=0,d=r.length;d-2*!c>u;u+=2){var p=[{x:+r[u-2],y:+r[u-1]},{x:+r[u],y:+r[u+1]},{x:+r[u+2],y:+r[u+3]},{x:+r[u+4],y:+r[u+5]}];c?u?d-4===u?p[3]={x:+r[0],y:+r[1]}:d-2===u&&(p[2]={x:+r[0],y:+r[1]},p[3]={x:+r[2],y:+r[3]}):p[0]={x:+r[d-2],y:+r[d-1]}:d-4===u?p[3]=p[2]:u||(p[0]={x:+r[u],y:+r[u+1]}),h.curve(n*(-p[0].x+6*p[1].x+p[2].x)/6+s*p[2].x,n*(-p[0].y+6*p[1].y+p[2].y)/6+s*p[2].y,n*(p[1].x+6*p[2].x-p[3].x)/6+s*p[2].x,n*(p[1].y+6*p[2].y-p[3].y)/6+s*p[2].y,p[2].x,p[2].y,!1,a[(u+2)/2])}return h}return i.Interpolation.none()([])}},i.Interpolation.monotoneCubic=function(t){var e={fillHoles:!1};return t=i.extend({},e,t),function e(n,s){var r=i.splitIntoSegments(n,s,{fillHoles:t.fillHoles,increasingX:!0});if(r.length){if(r.length>1){var a=[];return r.forEach(function(t){a.push(e(t.pathCoordinates,t.valueData))}),i.Svg.Path.join(a)}if(n=r[0].pathCoordinates,s=r[0].valueData,n.length<=4)return i.Interpolation.none()(n,s);var o=[],l=[],h,c=n.length/2,u=[],d=[],p=[],f=[],m;for(h=0;h<c;h++)o[h]=n[2*h],l[h]=n[2*h+1];for(h=0;h<c-1;h++)p[h]=l[h+1]-l[h],f[h]=o[h+1]-o[h],d[h]=p[h]/f[h];for(u[0]=d[0],u[c-1]=d[c-2],h=1;h<c-1;h++)0===d[h]||0===d[h-1]||d[h-1]>0!=d[h]>0?u[h]=0:(u[h]=3*(f[h-1]+f[h])/((2*f[h]+f[h-1])/d[h-1]+(f[h]+2*f[h-1])/d[h]),isFinite(u[h])||(u[h]=0));for(m=(new i.Svg.Path).move(o[0],l[0],!1,s[0]),h=0;h<c-1;h++)m.curve(o[h]+f[h]/3,l[h]+u[h]*f[h]/3,o[h+1]-f[h]/3,l[h+1]-u[h+1]*f[h]/3,o[h+1],l[h+1],!1,s[h+1]);return m}return i.Interpolation.none()([])}},i.Interpolation.step=function(t){var e={postpone:!0,fillHoles:!1};return t=i.extend({},e,t),function e(n,s){for(var r=new i.Svg.Path,a,o,l,h=0;h<n.length;h+=2){var c=n[h],u=n[h+1],d=s[h/2];void 0!==d.value?(void 0===l?r.move(c,u,!1,d):(t.postpone?r.line(c,o,!1,l):r.line(a,u,!1,d),r.line(c,u,!1,d)),a=c,o=u,l=d):t.fillHoles||(a=o=l=void 0)}return r}}}(window,document,t),function(t,e,i){"use strict";i.EventEmitter=function(){function t(t,e){n[t]=n[t]||[],n[t].push(e)}function e(t,e){n[t]&&(e?(n[t].splice(n[t].indexOf(e),1),0===n[t].length&&delete n[t]):delete n[t])}function i(t,e){n[t]&&n[t].forEach(function(t){t(e)}),n["*"]&&n["*"].forEach(function(i){i(t,e)})}var n=[];return{addEventHandler:t,removeEventHandler:e,emit:i}}}(window,document,t),function(t,e,i){"use strict";function n(t){var e=[];if(t.length)for(var i=0;i<t.length;i++)e.push(t[i]);return e}function s(t,e){var n=e||this.prototype||i.Class,s=Object.create(n);i.Class.cloneDefinitions(s,t);var r=function(){var t=s.constructor||function(){},e;return e=this===i?Object.create(s):this,t.apply(e,Array.prototype.slice.call(arguments,0)),e};return r.prototype=s,r.super=n,r.extend=this.extend,r}function r(){var t=n(arguments),e=t[0];return t.splice(1,t.length-1).forEach(function(t){Object.getOwnPropertyNames(t).forEach(function(i){delete e[i],Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))})}),e}i.Class={extend:s,cloneDefinitions:r}}(window,document,t),function(t,e,i){"use strict";function n(t,e,n){return t&&(this.data=t,this.eventEmitter.emit("data",{type:"update",data:this.data})),e&&(this.options=i.extend({},n?this.options:this.defaultOptions,e),this.initializeTimeoutId||(this.optionsProvider.removeMediaQueryListeners(),this.optionsProvider=i.optionsProvider(this.options,this.responsiveOptions,this.eventEmitter))),this.initializeTimeoutId||this.createChart(this.optionsProvider.getCurrentOptions()),this}function s(){return this.initializeTimeoutId?t.clearTimeout(this.initializeTimeoutId):(t.removeEventListener("resize",this.resizeListener),this.optionsProvider.removeMediaQueryListeners()),this}function r(t,e){return this.eventEmitter.addEventHandler(t,e),this}function a(t,e){return this.eventEmitter.removeEventHandler(t,e),this}function o(){t.addEventListener("resize",this.resizeListener),this.optionsProvider=i.optionsProvider(this.options,this.responsiveOptions,this.eventEmitter),this.eventEmitter.addEventHandler("optionsChanged",function(){this.update()}.bind(this)),this.options.plugins&&this.options.plugins.forEach(function(t){t instanceof Array?t[0](this,t[1]):t(this)}.bind(this)),this.eventEmitter.emit("data",{type:"initial",data:this.data}),this.createChart(this.optionsProvider.getCurrentOptions()),this.initializeTimeoutId=void 0}function l(t,e,n,s,r){this.container=i.querySelector(t),this.data=e,this.defaultOptions=n,this.options=s,this.responsiveOptions=r,this.eventEmitter=i.EventEmitter(),this.supportsForeignObject=i.Svg.isSupported("Extensibility"),this.supportsAnimations=i.Svg.isSupported("AnimationEventsAttribute"),this.resizeListener=function t(){this.update()}.bind(this),this.container&&(this.container.__chartist__&&this.container.__chartist__.detach(),this.container.__chartist__=this),this.initializeTimeoutId=setTimeout(o.bind(this),0)}i.Base=i.Class.extend({constructor:l,optionsProvider:void 0,container:void 0,svg:void 0,eventEmitter:void 0,createChart:function(){throw new Error("Base chart type can't be instantiated!")},update:n,detach:s,on:r,off:a,version:i.version,supportsForeignObject:!1})}(window,document,t),function(t,e,i){"use strict";function n(t,n,s,r,a){t instanceof Element?this._node=t:(this._node=e.createElementNS(i.namespaces.svg,t),"svg"===t&&this.attr({"xmlns:ct":i.namespaces.ct})),n&&this.attr(n),s&&this.addClass(s),r&&(a&&r._node.firstChild?r._node.insertBefore(this._node,r._node.firstChild):r._node.appendChild(this._node))}function s(t,e){return"string"==typeof t?e?this._node.getAttributeNS(e,t):this._node.getAttribute(t):(Object.keys(t).forEach(function(e){if(void 0!==t[e])if(e.indexOf(":")!==-1){var n=e.split(":");this._node.setAttributeNS(i.namespaces[n[0]],e,t[e])}else this._node.setAttribute(e,t[e])}.bind(this)),this)}function r(t,e,n,s){return new i.Svg(t,e,n,this,s)}function a(){return this._node.parentNode instanceof SVGElement?new i.Svg(this._node.parentNode):null}function o(){for(var t=this._node;"svg"!==t.nodeName;)t=t.parentNode;return new i.Svg(t)}function l(t){var e=this._node.querySelector(t);return e?new i.Svg(e):null}function h(t){var e=this._node.querySelectorAll(t);return e.length?new i.Svg.List(e):null}function c(t,n,s,r){if("string"==typeof t){var a=e.createElement("div");a.innerHTML=t,t=a.firstChild}t.setAttribute("xmlns",i.namespaces.xmlns);var o=this.elem("foreignObject",n,s,r);return o._node.appendChild(t),o}function u(t){return this._node.appendChild(e.createTextNode(t)),this}function d(){for(;this._node.firstChild;)this._node.removeChild(this._node.firstChild);return this}function p(){return this._node.parentNode.removeChild(this._node),this.parent()}function f(t){return this._node.parentNode.replaceChild(t._node,this._node),t}function m(t,e){return e&&this._node.firstChild?this._node.insertBefore(t._node,this._node.firstChild):this._node.appendChild(t._node),this}function g(){return this._node.getAttribute("class")?this._node.getAttribute("class").trim().split(/\s+/):[]}function v(t){return this._node.setAttribute("class",this.classes(this._node).concat(t.trim().split(/\s+/)).filter(function(t,e,i){return i.indexOf(t)===e}).join(" ")),this}function x(t){var e=t.trim().split(/\s+/);return this._node.setAttribute("class",this.classes(this._node).filter(function(t){return e.indexOf(t)===-1}).join(" ")),this}function y(){return this._node.setAttribute("class",""),this}function b(){return this._node.getBoundingClientRect().height}function w(){return this._node.getBoundingClientRect().width}function E(t,e,n){return void 0===e&&(e=!0),Object.keys(t).forEach(function s(r){function a(t,e){var s={},a,o,l;t.easing&&(l=t.easing instanceof Array?t.easing:i.Svg.Easing[t.easing],delete t.easing),t.begin=i.ensureUnit(t.begin,"ms"),t.dur=i.ensureUnit(t.dur,"ms"),l&&(t.calcMode="spline",t.keySplines=l.join(" "),t.keyTimes="0;1"),e&&(t.fill="freeze",s[r]=t.from,this.attr(s),o=i.quantity(t.begin||0).value,t.begin="indefinite"),a=this.elem("animate",i.extend({attributeName:r},t)),e&&setTimeout(function(){try{a._node.beginElement()}catch(e){s[r]=t.to,this.attr(s),a.remove()}}.bind(this),o),n&&a._node.addEventListener("beginEvent",function e(){n.emit("animationBegin",{element:this,animate:a._node,params:t})}.bind(this)),a._node.addEventListener("endEvent",function i(){n&&n.emit("animationEnd",{element:this,animate:a._node,params:t}),e&&(s[r]=t.to,this.attr(s),a.remove())}.bind(this))}t[r]instanceof Array?t[r].forEach(function(t){a.bind(this)(t,!1)}.bind(this)):a.bind(this)(t[r],e)}.bind(this)),this}function A(t){var e=this;this.svgElements=[];for(var n=0;n<t.length;n++)this.svgElements.push(new i.Svg(t[n]));Object.keys(i.Svg.prototype).filter(function(t){return["constructor","parent","querySelector","querySelectorAll","replace","append","classes","height","width"].indexOf(t)===-1}).forEach(function(t){e[t]=function(){var n=Array.prototype.slice.call(arguments,0);return e.svgElements.forEach(function(e){i.Svg.prototype[t].apply(e,n)}),e}})}i.Svg=i.Class.extend({constructor:n,attr:s,elem:r,parent:a,root:o,querySelector:l,querySelectorAll:h,foreignObject:c,text:u,empty:d,remove:p,replace:f,append:m,classes:g,addClass:v,removeClass:x,removeAllClasses:y,height:b,width:w,animate:E}),i.Svg.isSupported=function(t){return e.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#"+t,"1.1")};var S={easeInSine:[.47,0,.745,.715],easeOutSine:[.39,.575,.565,1],easeInOutSine:[.445,.05,.55,.95],easeInQuad:[.55,.085,.68,.53],easeOutQuad:[.25,.46,.45,.94],easeInOutQuad:[.455,.03,.515,.955],easeInCubic:[.55,.055,.675,.19],easeOutCubic:[.215,.61,.355,1],easeInOutCubic:[.645,.045,.355,1],easeInQuart:[.895,.03,.685,.22],easeOutQuart:[.165,.84,.44,1],easeInOutQuart:[.77,0,.175,1],easeInQuint:[.755,.05,.855,.06],easeOutQuint:[.23,1,.32,1],easeInOutQuint:[.86,0,.07,1],easeInExpo:[.95,.05,.795,.035],easeOutExpo:[.19,1,.22,1],easeInOutExpo:[1,0,0,1],easeInCirc:[.6,.04,.98,.335],easeOutCirc:[.075,.82,.165,1],easeInOutCirc:[.785,.135,.15,.86],easeInBack:[.6,-.28,.735,.045],easeOutBack:[.175,.885,.32,1.275],easeInOutBack:[.68,-.55,.265,1.55]};i.Svg.Easing=S,i.Svg.List=i.Class.extend({constructor:A})}(window,document,t),function(t,e,i){"use strict";function n(t,e,n,s,r,a){var o=i.extend({command:r?t.toLowerCase():t.toUpperCase()},e,a?{data:a}:{});n.splice(s,0,o)}function s(t,e){t.forEach(function(i,n){b[i.command.toLowerCase()].forEach(function(s,r){e(i,s,n,r,t)})})}function r(t,e){this.pathElements=[],this.pos=0,this.close=t,this.options=i.extend({},w,e)}function a(t){return void 0!==t?(this.pos=Math.max(0,Math.min(this.pathElements.length,t)),this):this.pos}function o(t){return this.pathElements.splice(this.pos,t),this}function l(t,e,i,s){return n("M",{x:+t,y:+e},this.pathElements,this.pos++,i,s),this}function h(t,e,i,s){return n("L",{x:+t,y:+e},this.pathElements,this.pos++,i,s),this}function c(t,e,i,s,r,a,o,l){return n("C",{x1:+t,y1:+e,x2:+i,y2:+s,x:+r,y:+a},this.pathElements,this.pos++,o,l),this}function u(t,e,i,s,r,a,o,l,h){return n("A",{rx:+t,ry:+e,xAr:+i,lAf:+s,sf:+r,x:+a,y:+o},this.pathElements,this.pos++,l,h),this}function d(t){var e=t.replace(/([A-Za-z])([0-9])/g,"$1 $2").replace(/([0-9])([A-Za-z])/g,"$1 $2").split(/[\s,]+/).reduce(function(t,e){return e.match(/[A-Za-z]/)&&t.push([]),t[t.length-1].push(e),t},[]);"Z"===e[e.length-1][0].toUpperCase()&&e.pop();var n=e.map(function(t){var e=t.shift(),n=b[e.toLowerCase()];return i.extend({command:e},n.reduce(function(e,i,n){return e[i]=+t[n],e},{}))}),s=[this.pos,0];return Array.prototype.push.apply(s,n),Array.prototype.splice.apply(this.pathElements,s),this.pos+=n.length,this}function p(){var t=Math.pow(10,this.options.accuracy);return this.pathElements.reduce(function(e,i){var n=b[i.command.toLowerCase()].map(function(e){return this.options.accuracy?Math.round(i[e]*t)/t:i[e]}.bind(this));return e+i.command+n.join(",")}.bind(this),"")+(this.close?"Z":"")}function f(t,e){return s(this.pathElements,function(i,n){i[n]*="x"===n[0]?t:e}),this}function m(t,e){return s(this.pathElements,function(i,n){i[n]+="x"===n[0]?t:e}),this}function g(t){return s(this.pathElements,function(e,i,n,s,r){var a=t(e,i,n,s,r);(a||0===a)&&(e[i]=a)}),this}function v(t){var e=new i.Svg.Path(t||this.close);return e.pos=this.pos,e.pathElements=this.pathElements.slice().map(function t(e){return i.extend({},e)}),e.options=i.extend({},this.options),e}function x(t){var e=[new i.Svg.Path];return this.pathElements.forEach(function(n){n.command===t.toUpperCase()&&0!==e[e.length-1].pathElements.length&&e.push(new i.Svg.Path),e[e.length-1].pathElements.push(n)}),e}function y(t,e,n){for(var s=new i.Svg.Path(e,n),r=0;r<t.length;r++)for(var a=t[r],o=0;o<a.pathElements.length;o++)s.pathElements.push(a.pathElements[o]);return s}var b={m:["x","y"],l:["x","y"],c:["x1","y1","x2","y2","x","y"],a:["rx","ry","xAr","lAf","sf","x","y"]},w={accuracy:3};i.Svg.Path=i.Class.extend({constructor:r,position:a,remove:o,move:l,line:h,curve:c,arc:u,scale:f,translate:m,transform:g,parse:d,stringify:p,clone:v,splitByCommand:x}),i.Svg.Path.elementDescriptions=b,i.Svg.Path.join=y}(window,document,t),function(t,e,i){"use strict";function n(t,e,i,n){this.units=t,this.counterUnits=t===r.x?r.y:r.x,this.chartRect=e,this.axisLength=e[t.rectEnd]-e[t.rectStart],this.gridOffset=e[t.rectOffset],this.ticks=i,this.options=n}function s(t,e,n,s,r){var a=s["axis"+this.units.pos.toUpperCase()],o=this.ticks.map(this.projectValue.bind(this)),l=this.ticks.map(a.labelInterpolationFnc);o.forEach(function(h,c){var u={x:0,y:0},d;d=o[c+1]?o[c+1]-h:Math.max(this.axisLength-h,30),i.isFalseyButZero(l[c])&&""!==l[c]||("x"===this.units.pos?(h=this.chartRect.x1+h,u.x=s.axisX.labelOffset.x,"start"===s.axisX.position?u.y=this.chartRect.padding.top+s.axisX.labelOffset.y+(n?5:20):u.y=this.chartRect.y1+s.axisX.labelOffset.y+(n?5:20)):(h=this.chartRect.y1-h,u.y=s.axisY.labelOffset.y-(n?d:0),"start"===s.axisY.position?u.x=n?this.chartRect.padding.left+s.axisY.labelOffset.x:this.chartRect.x1-10:u.x=this.chartRect.x2+s.axisY.labelOffset.x+10),a.showGrid&&i.createGrid(h,c,this,this.gridOffset,this.chartRect[this.counterUnits.len](),t,[s.classNames.grid,s.classNames[this.units.dir]],r),a.showLabel&&i.createLabel(h,d,c,l,this,a.offset,u,e,[s.classNames.label,s.classNames[this.units.dir],s.classNames[a.position]],n,r))}.bind(this))}var r={x:{pos:"x",len:"width",dir:"horizontal",rectStart:"x1",rectEnd:"x2",rectOffset:"y2"},y:{pos:"y",len:"height",dir:"vertical",rectStart:"y2",rectEnd:"y1",rectOffset:"x1"}};i.Axis=i.Class.extend({constructor:n,createGridAndLabels:s,projectValue:function(t,e,i){throw new Error("Base axis can't be instantiated!")}}),i.Axis.units=r}(window,document,t),function(t,e,i){"use strict";function n(t,e,n,s){var r=s.highLow||i.getHighLow(e.normalized,s,t.pos);this.bounds=i.getBounds(n[t.rectEnd]-n[t.rectStart],r,s.scaleMinSpace||20,s.onlyInteger),this.range={min:this.bounds.min,max:this.bounds.max},i.AutoScaleAxis.super.constructor.call(this,t,n,this.bounds.values,s)}function s(t){return this.axisLength*(+i.getMultiValue(t,this.units.pos)-this.bounds.min)/this.bounds.range}i.AutoScaleAxis=i.Axis.extend({constructor:n,projectValue:s})}(window,document,t),function(t,e,i){"use strict";function n(t,e,n,s){var r=s.highLow||i.getHighLow(e.normalized,s,t.pos);this.divisor=s.divisor||1,this.ticks=s.ticks||i.times(this.divisor).map(function(t,e){return r.low+(r.high-r.low)/this.divisor*e}.bind(this)),this.ticks.sort(function(t,e){return t-e}),this.range={min:r.low,max:r.high},i.FixedScaleAxis.super.constructor.call(this,t,n,this.ticks,s),this.stepLength=this.axisLength/this.divisor}function s(t){return this.axisLength*(+i.getMultiValue(t,this.units.pos)-this.range.min)/(this.range.max-this.range.min)}i.FixedScaleAxis=i.Axis.extend({constructor:n,projectValue:s})}(window,document,t),function(t,e,i){"use strict";function n(t,e,n,s){i.StepAxis.super.constructor.call(this,t,n,s.ticks,s),this.stepLength=this.axisLength/(s.ticks.length-(s.stretch?1:0))}function s(t,e){return this.stepLength*e}i.StepAxis=i.Axis.extend({constructor:n,projectValue:s})}(window,document,t),function(t,e,i){"use strict";function n(t){this.data=i.normalizeData(this.data);var e={raw:this.data,normalized:i.getDataArray(this.data,t.reverseData,!0)};this.svg=i.createSvg(this.container,t.width,t.height,t.classNames.chart);var n=this.svg.elem("g").addClass(t.classNames.gridGroup),s=this.svg.elem("g"),a=this.svg.elem("g").addClass(t.classNames.labelGroup),o=i.createChartRect(this.svg,t,r.padding),l,h;l=void 0===t.axisX.type?new i.StepAxis(i.Axis.units.x,e,o,i.extend({},t.axisX,{ticks:e.raw.labels,stretch:t.fullWidth})):t.axisX.type.call(i,i.Axis.units.x,e,o,t.axisX),h=void 0===t.axisY.type?new i.AutoScaleAxis(i.Axis.units.y,e,o,i.extend({},t.axisY,{high:i.isNum(t.high)?t.high:t.axisY.high,low:i.isNum(t.low)?t.low:t.axisY.low})):t.axisY.type.call(i,i.Axis.units.y,e,o,t.axisY),l.createGridAndLabels(n,a,this.supportsForeignObject,t,this.eventEmitter),h.createGridAndLabels(n,a,this.supportsForeignObject,t,this.eventEmitter),e.raw.series.forEach(function(n,r){var a=s.elem("g");a.attr({"ct:series-name":n.name,"ct:meta":i.serialize(n.meta)}),a.addClass([t.classNames.series,n.className||t.classNames.series+"-"+i.alphaNumerate(r)].join(" "));var c=[],u=[];e.normalized[r].forEach(function(t,s){var a={x:o.x1+l.projectValue(t,s,e.normalized[r]),y:o.y1-h.projectValue(t,s,e.normalized[r])};c.push(a.x,a.y),u.push({value:t,valueIndex:s,meta:i.getMetaData(n,s)})}.bind(this));var d={lineSmooth:i.getSeriesOption(n,t,"lineSmooth"),showPoint:i.getSeriesOption(n,t,"showPoint"),showLine:i.getSeriesOption(n,t,"showLine"),showArea:i.getSeriesOption(n,t,"showArea"),areaBase:i.getSeriesOption(n,t,"areaBase")},p="function"==typeof d.lineSmooth?d.lineSmooth:d.lineSmooth?i.Interpolation.monotoneCubic():i.Interpolation.none(),f=p(c,u);if(d.showPoint&&f.pathElements.forEach(function(e){var s=a.elem("line",{x1:e.x,y1:e.y,x2:e.x+.01,y2:e.y},t.classNames.point).attr({"ct:value":[e.data.value.x,e.data.value.y].filter(i.isNum).join(","),"ct:meta":e.data.meta});this.eventEmitter.emit("draw",{type:"point",value:e.data.value,index:e.data.valueIndex,meta:e.data.meta,series:n,seriesIndex:r,axisX:l,axisY:h,group:a,element:s,x:e.x,y:e.y})}.bind(this)),d.showLine){var m=a.elem("path",{d:f.stringify()},t.classNames.line,!0);this.eventEmitter.emit("draw",{type:"line",values:e.normalized[r],path:f.clone(),chartRect:o,index:r,series:n,seriesIndex:r,axisX:l,axisY:h,group:a,element:m})}if(d.showArea&&h.range){var g=Math.max(Math.min(d.areaBase,h.range.max),h.range.min),v=o.y1-h.projectValue(g);f.splitByCommand("M").filter(function t(e){return e.pathElements.length>1}).map(function t(e){var i=e.pathElements[0],n=e.pathElements[e.pathElements.length-1];return e.clone(!0).position(0).remove(1).move(i.x,v).line(i.x,i.y).position(e.pathElements.length+1).line(n.x,v)}).forEach(function i(s){var c=a.elem("path",{d:s.stringify()},t.classNames.area,!0);this.eventEmitter.emit("draw",{type:"area",values:e.normalized[r],path:s.clone(),series:n,seriesIndex:r,axisX:l,axisY:h,chartRect:o,index:r,group:a,element:c})}.bind(this))}}.bind(this)),this.eventEmitter.emit("created",{bounds:h.bounds,chartRect:o,axisX:l,axisY:h,svg:this.svg,options:t})}function s(t,e,n,s){i.Line.super.constructor.call(this,t,e,r,i.extend({},r,n),s)}var r={axisX:{offset:30,position:"end",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:i.noop,type:void 0},axisY:{offset:40,position:"start",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:i.noop,type:void 0,scaleMinSpace:20,onlyInteger:!1},width:void 0,height:void 0,showLine:!0,showPoint:!0,showArea:!1,areaBase:0,lineSmooth:!0,low:void 0,high:void 0,chartPadding:{top:15,right:15,bottom:5,left:10},fullWidth:!1,reverseData:!1,classNames:{chart:"ct-chart-line",label:"ct-label",labelGroup:"ct-labels",series:"ct-series",line:"ct-line",point:"ct-point",area:"ct-area",grid:"ct-grid",gridGroup:"ct-grids",vertical:"ct-vertical",horizontal:"ct-horizontal",start:"ct-start",end:"ct-end"}};i.Line=i.Base.extend({constructor:s,createChart:n})}(window,document,t),function(t,e,i){"use strict";function n(t){this.data=i.normalizeData(this.data);var e={raw:this.data,normalized:t.distributeSeries?i.getDataArray(this.data,t.reverseData,t.horizontalBars?"x":"y").map(function(t){return[t]}):i.getDataArray(this.data,t.reverseData,t.horizontalBars?"x":"y")},n;this.svg=i.createSvg(this.container,t.width,t.height,t.classNames.chart+(t.horizontalBars?" "+t.classNames.horizontalBars:""));var s=this.svg.elem("g").addClass(t.classNames.gridGroup),a=this.svg.elem("g"),o=this.svg.elem("g").addClass(t.classNames.labelGroup);if(t.stackBars&&0!==e.normalized.length){var l=i.serialMap(e.normalized,function t(){return Array.prototype.slice.call(arguments).map(function(t){return t}).reduce(function(t,e){return{x:t.x+(e&&e.x)||0,y:t.y+(e&&e.y)||0}},{x:0,y:0})});n=i.getHighLow([l],i.extend({},t,{referenceValue:0}),t.horizontalBars?"x":"y")}else n=i.getHighLow(e.normalized,i.extend({},t,{referenceValue:0}),t.horizontalBars?"x":"y");n.high=+t.high||(0===t.high?0:n.high),n.low=+t.low||(0===t.low?0:n.low);var h=i.createChartRect(this.svg,t,r.padding),c,u,d,p,f;u=t.distributeSeries&&t.stackBars?e.raw.labels.slice(0,1):e.raw.labels,t.horizontalBars?(c=p=void 0===t.axisX.type?new i.AutoScaleAxis(i.Axis.units.x,e,h,i.extend({},t.axisX,{highLow:n,referenceValue:0})):t.axisX.type.call(i,i.Axis.units.x,e,h,i.extend({},t.axisX,{highLow:n,referenceValue:0})),d=f=void 0===t.axisY.type?new i.StepAxis(i.Axis.units.y,e,h,{ticks:u}):t.axisY.type.call(i,i.Axis.units.y,e,h,t.axisY)):(d=p=void 0===t.axisX.type?new i.StepAxis(i.Axis.units.x,e,h,{ticks:u}):t.axisX.type.call(i,i.Axis.units.x,e,h,t.axisX),c=f=void 0===t.axisY.type?new i.AutoScaleAxis(i.Axis.units.y,e,h,i.extend({},t.axisY,{
highLow:n,referenceValue:0})):t.axisY.type.call(i,i.Axis.units.y,e,h,i.extend({},t.axisY,{highLow:n,referenceValue:0})));var m=t.horizontalBars?h.x1+c.projectValue(0):h.y1-c.projectValue(0),g=[];d.createGridAndLabels(s,o,this.supportsForeignObject,t,this.eventEmitter),c.createGridAndLabels(s,o,this.supportsForeignObject,t,this.eventEmitter),e.raw.series.forEach(function(n,s){var r=s-(e.raw.series.length-1)/2,o,l;o=t.distributeSeries&&!t.stackBars?d.axisLength/e.normalized.length/2:t.distributeSeries&&t.stackBars?d.axisLength/2:d.axisLength/e.normalized[s].length/2,l=a.elem("g"),l.attr({"ct:series-name":n.name,"ct:meta":i.serialize(n.meta)}),l.addClass([t.classNames.series,n.className||t.classNames.series+"-"+i.alphaNumerate(s)].join(" ")),e.normalized[s].forEach(function(a,u){var v,x,y,b;if(b=t.distributeSeries&&!t.stackBars?s:t.distributeSeries&&t.stackBars?0:u,v=t.horizontalBars?{x:h.x1+c.projectValue(a&&a.x?a.x:0,u,e.normalized[s]),y:h.y1-d.projectValue(a&&a.y?a.y:0,b,e.normalized[s])}:{x:h.x1+d.projectValue(a&&a.x?a.x:0,b,e.normalized[s]),y:h.y1-c.projectValue(a&&a.y?a.y:0,u,e.normalized[s])},d instanceof i.StepAxis&&(d.options.stretch||(v[d.units.pos]+=o*(t.horizontalBars?-1:1)),v[d.units.pos]+=t.stackBars||t.distributeSeries?0:r*t.seriesBarDistance*(t.horizontalBars?-1:1)),y=g[u]||m,g[u]=y-(m-v[d.counterUnits.pos]),void 0!==a){var w={};w[d.units.pos+"1"]=v[d.units.pos],w[d.units.pos+"2"]=v[d.units.pos],!t.stackBars||"accumulate"!==t.stackMode&&t.stackMode?(w[d.counterUnits.pos+"1"]=m,w[d.counterUnits.pos+"2"]=v[d.counterUnits.pos]):(w[d.counterUnits.pos+"1"]=y,w[d.counterUnits.pos+"2"]=g[u]),w.x1=Math.min(Math.max(w.x1,h.x1),h.x2),w.x2=Math.min(Math.max(w.x2,h.x1),h.x2),w.y1=Math.min(Math.max(w.y1,h.y2),h.y1),w.y2=Math.min(Math.max(w.y2,h.y2),h.y1),x=l.elem("line",w,t.classNames.bar).attr({"ct:value":[a.x,a.y].filter(i.isNum).join(","),"ct:meta":i.getMetaData(n,u)}),this.eventEmitter.emit("draw",i.extend({type:"bar",value:a,index:u,meta:i.getMetaData(n,u),series:n,seriesIndex:s,axisX:p,axisY:f,chartRect:h,group:l,element:x},w))}}.bind(this))}.bind(this)),this.eventEmitter.emit("created",{bounds:c.bounds,chartRect:h,axisX:p,axisY:f,svg:this.svg,options:t})}function s(t,e,n,s){i.Bar.super.constructor.call(this,t,e,r,i.extend({},r,n),s)}var r={axisX:{offset:30,position:"end",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:i.noop,scaleMinSpace:30,onlyInteger:!1},axisY:{offset:40,position:"start",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:i.noop,scaleMinSpace:20,onlyInteger:!1},width:void 0,height:void 0,high:void 0,low:void 0,chartPadding:{top:15,right:15,bottom:5,left:10},seriesBarDistance:15,stackBars:!1,stackMode:"accumulate",horizontalBars:!1,distributeSeries:!1,reverseData:!1,classNames:{chart:"ct-chart-bar",horizontalBars:"ct-horizontal-bars",label:"ct-label",labelGroup:"ct-labels",series:"ct-series",bar:"ct-bar",grid:"ct-grid",gridGroup:"ct-grids",vertical:"ct-vertical",horizontal:"ct-horizontal",start:"ct-start",end:"ct-end"}};i.Bar=i.Base.extend({constructor:s,createChart:n})}(window,document,t),function(t,e,i){"use strict";function n(t,e,i){var n=e.x>t.x;return n&&"explode"===i||!n&&"implode"===i?"start":n&&"implode"===i||!n&&"explode"===i?"end":"middle"}function s(t){this.data=i.normalizeData(this.data);var e=[],s,r,o,l,h,c=t.startAngle,u=i.getDataArray(this.data,t.reverseData);this.svg=i.createSvg(this.container,t.width,t.height,t.donut?t.classNames.chartDonut:t.classNames.chartPie),r=i.createChartRect(this.svg,t,a.padding),o=Math.min(r.width()/2,r.height()/2),h=t.total||u.reduce(function(t,e){return t+e},0);var d=i.quantity(t.donutWidth);"%"===d.unit&&(d.value*=o/100),o-=t.donut?d.value/2:0,l="outside"===t.labelPosition||t.donut?o:"center"===t.labelPosition?0:o/2,l+=t.labelOffset;var p={x:r.x1+r.width()/2,y:r.y2+r.height()/2},f=1===this.data.series.filter(function(t){return t.hasOwnProperty("value")?0!==t.value:0!==t}).length;t.showLabel&&(s=this.svg.elem("g",null,null,!0));for(var m=0;m<this.data.series.length;m++)if(0!==u[m]||!t.ignoreEmptyValues){var g=this.data.series[m];e[m]=this.svg.elem("g",null,null,!0),e[m].attr({"ct:series-name":g.name}),e[m].addClass([t.classNames.series,g.className||t.classNames.series+"-"+i.alphaNumerate(m)].join(" "));var v=c+u[m]/h*360,x=Math.max(0,c-(0===m||f?0:.2));v-x>=359.99&&(v=x+359.99);var y=i.polarToCartesian(p.x,p.y,o,x),b=i.polarToCartesian(p.x,p.y,o,v),w=new i.Svg.Path((!t.donut)).move(b.x,b.y).arc(o,o,0,v-c>180,0,y.x,y.y);t.donut||w.line(p.x,p.y);var E=e[m].elem("path",{d:w.stringify()},t.donut?t.classNames.sliceDonut:t.classNames.slicePie);if(E.attr({"ct:value":u[m],"ct:meta":i.serialize(g.meta)}),t.donut&&E.attr({style:"stroke-width: "+d.value+"px"}),this.eventEmitter.emit("draw",{type:"slice",value:u[m],totalDataSum:h,index:m,meta:g.meta,series:g,group:e[m],element:E,path:w.clone(),center:p,radius:o,startAngle:c,endAngle:v}),t.showLabel){var A=i.polarToCartesian(p.x,p.y,l,c+(v-c)/2),S=t.labelInterpolationFnc(this.data.labels&&!i.isFalseyButZero(this.data.labels[m])?this.data.labels[m]:u[m],m);if(S||0===S){var O=s.elem("text",{dx:A.x,dy:A.y,"text-anchor":n(p,A,t.labelDirection)},t.classNames.label).text(""+S);this.eventEmitter.emit("draw",{type:"label",index:m,group:s,element:O,text:""+S,x:A.x,y:A.y})}}c=v}this.eventEmitter.emit("created",{chartRect:r,svg:this.svg,options:t})}function r(t,e,n,s){i.Pie.super.constructor.call(this,t,e,a,i.extend({},a,n),s)}var a={width:void 0,height:void 0,chartPadding:5,classNames:{chartPie:"ct-chart-pie",chartDonut:"ct-chart-donut",series:"ct-series",slicePie:"ct-slice-pie",sliceDonut:"ct-slice-donut",label:"ct-label"},startAngle:0,total:void 0,donut:!1,donutWidth:60,showLabel:!0,labelOffset:0,labelPosition:"inside",labelInterpolationFnc:i.noop,labelDirection:"neutral",reverseData:!1,ignoreEmptyValues:!1};i.Pie=i.Base.extend({constructor:r,createChart:s,determineAnchorPosition:n})}(window,document,t),t})}.call(this),function(){r=s.exports}.call(this),"undefined"==typeof Package&&(Package={}),function(t,e){for(var i in e)i in t||(t[i]=e[i])}(Package["mfpierre:chartist-js"]={},{Chartist:r})}();

!function(){"undefined"==typeof Package&&(Package={}),Package["shell-server"]={}}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,i=Package.tracker.Tracker,r=Package.tracker.Deps,o=Package.underscore._,a=Package.check.check,s=Package.check.Match,u=Package.random.Random,l,c,f,d,p,m,y;(function(){String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.indexOf(e,t)===t}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")})}).call(this),function(){function e(e){return e=e||"",e=e.trim(),e[0]&&(e=e[0].toUpperCase()+e.substr(1).toLowerCase()),e}function t(e){return e=e||"",e=e.toString(),e=e.trim(),e=e.replace(/([a-z\d])([A-Z]+)/g,"$1_$2"),e=e.replace(/[-\s]+/g,"_").toLowerCase()}function n(e){var t=e.lastIndexOf("."),n=e.substring(t,e.length);return t===-1?"":n}l=function i(r){return r=r||"",r=r.toString(),r=r.trim(),r=r.replace(n(r),""),r=t(r),r=r.replace(/[\W_]+/g," "),e(r)}}.call(this),function(){var e=function(e){return e===Object(e)};"function"!=typeof Object.getPrototypeOf&&("object"==typeof"".__proto__?Object.getPrototypeOf=function(e){return e.__proto__}:Object.getPrototypeOf=function(e){return e.constructor.prototype});var t=function(t){return e(t)&&Object.getPrototypeOf(t)===Object.prototype},n=function e(t){return"string"!=typeof t?null:t.replace(/\.[0-9]+\./g,".$.").replace(/\.[0-9]+$/g,".$")},i=function e(t,n){return"$each"===n?t:t?t+"."+n:n},r=function e(t){var n=t.slice(0,t.indexOf("["));return"$"===n.substring(0,1)?n:null};c=function(e,a){function s(e,r,u,c,f,d){!c&&u&&"$"===u.substring(0,1)&&(c=u,u=null);var p=!1,m,y=!1;u&&(f||("$push"===c||"$addToSet"===c||"$pop"===c?(t(e)&&"$each"in e?(e=e.$each,r+="[$each]"):u+=".0",f=!0):"$pull"===c&&(u+=".0",t(e)&&(y=!0),f=!0)),m=n(u),p=o.contains(a,m),r&&(l._affectedKeys[r]=u,l._genericAffectedKeys[r]=m,d&&l._positionsInsideArrays.push(r))),y||(o.isArray(e)&&!o.isEmpty(e)?(r&&l._parentPositions.push(r),o.each(e,function(e,t){s(e,r?r+"["+t+"]":t,u+"."+t,c,f,!0)})):(t(e)&&!p||!r)&&(r&&!o.isEmpty(e)&&(l._parentPositions.push(r),l._objectPositions.push(r)),o.each(e,function(t,n){void 0===t?delete e[n]:"$slice"!==n&&s(t,r?r+"["+n+"]":n,i(u,n),c,f,d)})))}function u(){l._affectedKeys={},l._genericAffectedKeys={},l._parentPositions=[],l._positionsInsideArrays=[],l._objectPositions=[],s(l._obj)}var l=this;l._obj=e,l._affectedKeys={},l._genericAffectedKeys={},l._parentPositions=[],l._positionsInsideArrays=[],l._objectPositions=[],s(l._obj),l.forEachNode=function(e,t){if("function"!=typeof e)throw new Error("filter requires a loop function");t=o.extend({endPointsOnly:!0},t);var n={};o.each(l._affectedKeys,function(i,a){t.endPointsOnly&&o.contains(l._parentPositions,a)||e.call({value:l.getValueForPosition(a),operator:r(a),position:a,key:i,genericKey:l._genericAffectedKeys[a],updateValue:function(e){n[a]=e},remove:function(){n[a]=void 0}})}),o.each(n,function(e,t){l.setValueForPosition(t,e)})},l.getValueForPosition=function(e){for(var n,i=e.split("["),r=l._obj,a=0,s=i.length;a<s;a++)if(n=i[a],"]"===n.slice(-1)&&(n=n.slice(0,-1)),r=r[n],!o.isArray(r)&&!t(r)&&a<s-1)return;return r},l.setValueForPosition=function(e,n){for(var i,r,a=e.split("["),s=l._obj,c=0,f=a.length;c<f;c++)if(r=a[c],"]"===r.slice(-1)&&(r=r.slice(0,-1)),c===f-1)s[r]=n,void 0===n&&delete s[r];else if(void 0===s[r]&&void 0!==n&&(i=a[c+1],i=parseInt(i,10),s[r]=isNaN(i)?{}:[]),s=s[r],!o.isArray(s)&&!t(s)&&c<f-1)return;u()},l.removeValueForPosition=function(e){l.setValueForPosition(e,void 0)},l.getKeyForPosition=function(e){return l._affectedKeys[e]},l.getGenericKeyForPosition=function(e){return l._genericAffectedKeys[e]},l.getInfoForKey=function(e){var t=l.getPositionForKey(e);if(t)return{value:l.getValueForPosition(t),operator:r(t)};for(var n=l.getPositionsForGenericKey(e+".$"),i,o,a=0,s=n.length;a<s;a++)if(i=n[a],o=l.getValueForPosition(i)||l.getValueForPosition(i.slice(0,i.lastIndexOf("["))))return{value:o,operator:r(i)}},l.getPositionForKey=function(e){for(var t in l._affectedKeys)if(l._affectedKeys.hasOwnProperty(t)&&l._affectedKeys[t]===e)return t},l.getPositionsForGenericKey=function(e){var t=[];for(var n in l._genericAffectedKeys)l._genericAffectedKeys.hasOwnProperty(n)&&l._genericAffectedKeys[n]===e&&t.push(n);return t},l.getValueForKey=function(e){var t=l.getPositionForKey(e);if(t)return l.getValueForPosition(t)},l.addKey=function(e,t,n){var i=n?n+"["+e+"]":c._keyToPosition(e);l.setValueForPosition(i,t)},l.removeGenericKeys=function(e){for(var t in l._genericAffectedKeys)l._genericAffectedKeys.hasOwnProperty(t)&&o.contains(e,l._genericAffectedKeys[t])&&l.removeValueForPosition(t)},l.removeGenericKey=function(e){for(var t in l._genericAffectedKeys)l._genericAffectedKeys.hasOwnProperty(t)&&l._genericAffectedKeys[t]===e&&l.removeValueForPosition(t)},l.removeKey=function(e){for(var t in l._affectedKeys)l._affectedKeys.hasOwnProperty(t)&&l._affectedKeys[t]===e&&l.removeValueForPosition(t)},l.removeKeys=function(e){for(var t=0,n=e.length;t<n;t++)l.removeKey(e[t])},l.filterGenericKeys=function(e){var t,n=[],i=[];for(var r in l._genericAffectedKeys)l._genericAffectedKeys.hasOwnProperty(r)&&(t=l._genericAffectedKeys[r],o.contains(n,t)||(n.push(t),t&&!e(t)&&i.push(t)));o.each(i,function(e){l.removeGenericKey(e)})},l.setValueForKey=function(e,t){for(var n in l._affectedKeys)l._affectedKeys.hasOwnProperty(n)&&l._affectedKeys[n]===e&&l.setValueForPosition(n,t)},l.setValueForGenericKey=function(e,t){for(var n in l._genericAffectedKeys)l._genericAffectedKeys.hasOwnProperty(n)&&l._genericAffectedKeys[n]===e&&l.setValueForPosition(n,t)},l.getObject=function(){return l._obj},l.getFlatObject=function(e){e=e||{};var t={};return o.each(l._affectedKeys,function(n,i){("string"!=typeof n||e.keepArrays!==!0||o.contains(l._positionsInsideArrays,i)||o.contains(l._objectPositions,i))&&(e.keepArrays||o.contains(l._parentPositions,i))||(t[n]=l.getValueForPosition(i))}),t},l.affectsKey=function(e){return!!l.getPositionForKey(e)},l.affectsGenericKey=function(e){for(var t in l._genericAffectedKeys)if(l._genericAffectedKeys.hasOwnProperty(t)&&l._genericAffectedKeys[t]===e)return!0;return!1},l.affectsGenericKeyImplicit=function(e){for(var t in l._genericAffectedKeys)if(l._genericAffectedKeys.hasOwnProperty(t)){var n=l._genericAffectedKeys[t];if(n===e)return!0;if(n.substring(0,e.length+1)===e+".")return!0;var i=e.slice(-2);if(".$"===i&&e.slice(0,-2)===n)return!0}return!1}},c.expandKey=function(e,t,n){for(var i,r,o=t.split("["),a=n,s=0,u=o.length;s<u;s++)r=o[s],"]"===r.slice(-1)&&(r=r.slice(0,-1)),s===u-1?(a[r]=e,void 0===e&&delete a[r]):(i=o[s+1],i=parseInt(i,10),a[r]||(a[r]=isNaN(i)?{}:[])),a=a[r]},c._keyToPosition=function e(t,n){var i="";return o.each(t.split("."),function(e,t){i+=0!==t||n?"["+e+"]":e}),i},c._positionToKey=function e(t){var n=new c({});n.setValueForPosition(t,1);var i=n.getKeyForPosition(t);return n=null,i}}.call(this),function(){f={appendAffectedKey:function e(t,n){return"$each"===n?t:t?t+"."+n:n},shouldCheck:function e(t){if("$pushAll"===t)throw new Error("$pushAll is not supported; use $push + $each");return!o.contains(["$pull","$pullAll","$pop","$slice"],t)},errorObject:function e(t,n,i){return{name:n,type:t,value:i}},isBasicObject:function e(t){return o.isObject(t)&&Object.getPrototypeOf(t)===Object.prototype},safariBugFix:function e(t){return"undefined"!=typeof Uint8Array&&t===Uint8Array||"undefined"!=typeof Uint16Array&&t===Uint16Array||"undefined"!=typeof Uint32Array&&t===Uint32Array||"undefined"!=typeof Uint8ClampedArray&&t===Uint8ClampedArray},isNotNullOrUndefined:function e(t){return void 0!==t&&null!==t},extractOp:function e(t){var n=t.slice(0,t.indexOf("["));return"$"===n.substring(0,1)?n:null},deleteIfPresent:function e(t,n){n in t&&delete t[n]},looksLikeModifier:function e(t){for(var n in t)if(t.hasOwnProperty(n)&&"$"===n.substring(0,1))return!0;return!1},dateToDateString:function e(t){var n=t.getUTCMonth()+1;n<10&&(n="0"+n);var i=t.getUTCDate();return i<10&&(i="0"+i),t.getUTCFullYear()+"-"+n+"-"+i}}}.call(this),function(){function t(t,n,i){function r(e){var r=this.key;if(!o.contains(s,r)){var a=r.lastIndexOf("."),u=a===-1?"":r.slice(0,a+1),l=!1,c=e.call(o.extend({isSet:void 0!==this.value,unset:function(){l=!0},value:this.value,operator:this.operator,field:function(e){var n=t.getInfoForKey(e)||{};return{isSet:void 0!==n.value,value:n.value,operator:n.operator||null}},siblingField:function(e){var n=t.getInfoForKey(u+e)||{};return{isSet:void 0!==n.value,value:n.value,operator:n.operator||null}}},i||{}),t.getObject());if(s.push(r),void 0===c)return void(l&&t.removeValueForPosition(this.position));var f,d;if(o.isObject(c))for(var p in c)if(c.hasOwnProperty(p)&&"$"===p.substring(0,1)){f=p,d=c[p];break}!f&&n&&"$"!==this.position.slice(0,1)&&(f="$set",d=c),f?(t.removeValueForPosition(this.position),t.setValueForPosition(f+"["+r+"]",d)):t.setValueForPosition(this.position,c)}}var a=this,s=[];e.isClient&&void 0===i.userId&&(i.userId=e.userId&&e.userId()||null),o.each(a._autoValues,function(e,i){var a,s,u,l;if(i.indexOf("$")!==-1){var d=i.slice(0,i.lastIndexOf("$")+1);u=i.slice(d.length+1),a=c._keyToPosition(u,!0),u="."+u,l=t.getPositionsForGenericKey(d)}else l=t.getPositionsForGenericKey(i),l.length?(s=i,u="",a=""):(s=i,u="",a="",l=n?["$set["+i+"]"]:[c._keyToPosition(i)]);o.each(l,function(n){r.call({key:(s||c._positionToKey(n))+u,value:t.getValueForPosition(n+a),operator:f.extractOp(n),position:n+a},e)})})}function n(t,n){e.startup(function(){r.autorun(function(){t.isValid()||console.log('SimpleSchema invalid keys for "'+n+'" context:',t.invalidKeys())})})}var i={type:s.Any,label:s.Optional(s.OneOf(String,Function)),optional:s.Optional(s.OneOf(Boolean,Function)),min:s.Optional(s.OneOf(Number,Date,Function)),max:s.Optional(s.OneOf(Number,Date,Function)),minCount:s.Optional(s.OneOf(Number,Function)),maxCount:s.Optional(s.OneOf(Number,Function)),allowedValues:s.Optional(s.OneOf([s.Any],Function)),decimal:s.Optional(Boolean),exclusiveMax:s.Optional(Boolean),exclusiveMin:s.Optional(Boolean),regEx:s.Optional(s.OneOf(RegExp,[RegExp])),custom:s.Optional(Function),blackbox:s.Optional(Boolean),autoValue:s.Optional(Function),defaultValue:s.Optional(s.Any),trim:s.Optional(Boolean)},u=function(e,t){var n;if(o.isArray(e)||o.isObject(e)&&!(e instanceof Date))return e;if(t===String)return"undefined"!=typeof e&&null!==e&&"string"!=typeof e?e.toString():e;if(t===Number){if("string"==typeof e&&!o.isEmpty(e)){var i=Number(e);return isNaN(i)?e:i}return e}if(t===Date){if("string"==typeof e&&(n=Date.parse(e),isNaN(n)===!1))return new Date(n);if("number"==typeof e)return new Date(e)}return e},p=function(e){return o.each(e,function(t,n){var i,r;if(t){if(s.test(t.type,d))i=".",r=t.type,t.type=Object;else{if(!s.test(t.type,[d]))return;i=".$.",r=t.type[0],t.type=[Object]}o.each(r._schema,function(t,r){var o=n+i+r;o in e||(e[o]=t)})}}),e},m=function(e){o.each(e,function(t,n){if(o.isArray(t.type)||t.type===Array){var i=n+".$";i in e||(e[i]={}),o.isArray(t.type)&&(e[i].type=t.type[0]),t.label&&(e[i].label=t.label),e[i].optional=!0,"undefined"!=typeof t.min&&(e[i].min=t.min),"undefined"!=typeof t.max&&(e[i].max=t.max),"undefined"!=typeof t.allowedValues&&(e[i].allowedValues=t.allowedValues),"undefined"!=typeof t.decimal&&(e[i].decimal=t.decimal),"undefined"!=typeof t.exclusiveMax&&(e[i].exclusiveMax=t.exclusiveMax),"undefined"!=typeof t.exclusiveMin&&(e[i].exclusiveMin=t.exclusiveMin),"undefined"!=typeof t.regEx&&(e[i].regEx=t.regEx),"undefined"!=typeof t.blackbox&&(e[i].blackbox=t.blackbox),t.type=Array,o.each(["min","max","allowedValues","decimal","exclusiveMax","exclusiveMin","regEx","blackbox"],function(e){f.deleteIfPresent(t,e)})}})},v=function(e){var t=[],n=[],i,r,a,s;for(o.each(e,function(e,r){for(var o=r.indexOf(".");o!==-1;)i=r.substring(0,o),".$"===i.substring(i.length-2)?o=-1:".$."===r.substring(o,o+3)?(t.push(i),o=r.indexOf(".",o+3)):(n.push(i),o=r.indexOf(".",o+1))}),a=0,s=t.length;a<s;a++)r=t[a],r in e||(e[r]={type:[Object],optional:!0});for(a=0,s=n.length;a<s;a++)r=n[a],r in e||(e[r]={type:Object,optional:!0});return m(e),e},h=function(e){var t={};return o.each(e,function(e){e=s.test(e,d)?e._schema:v(p(e)),o.each(e,function(e,n){t[n]=t[n]||{},o.extend(t[n],e)})}),e.length&&m(t),t},g=function(e,t){var n,i,r={},a;return o.each(e,function(e,s){e.type===Object&&(n=s+".",a=[],o.each(t,function(e){e.startsWith(n)&&(i=e.substring(n.length),i.indexOf(".")===-1&&a.push(i))}),r[n]=a)}),r},x=function(e){var t=e,n=t.lastIndexOf(".");if(n!==-1&&(t=t.substring(n+1),"$"===t)){var i=e.split(".");t=i[i.length-2]}return"_id"===t?"ID":l(t)};d=function(e,t){var n=this,a=[],u;t=t||{},e=e||{},o.isArray(e)||(e=[e]),n._schema=h(e),n._schemaKeys=[],n._autoValues={},n._blackboxKeys=[],n._validators=[],n._messages={},n._depsMessages=new r.Dependency,n._depsLabels={},o.each(n._schema,function(e,t){if(!s.test(e,i))throw new Error("Invalid definition for "+t+" field.");if(u=t.split(".")[0],n._schemaKeys.push(t),"defaultValue"in e)if("autoValue"in e)console.warn('SimpleSchema: Found both autoValue and defaultValue options for "'+t+'". Ignoring defaultValue.');else{if(".$"===t.slice(-2))throw new Error('An array item field (one that ends with ".$") cannot have defaultValue.');n._autoValues[t]=function e(t){return function(){if(null===this.operator&&!this.isSet)return t}}(e.defaultValue)}if("autoValue"in e){if(".$"===t.slice(-2))throw new Error('An array item field (one that ends with ".$") cannot have autoValue.');n._autoValues[t]=e.autoValue}n._depsLabels[t]=new r.Dependency,e.blackbox===!0&&n._blackboxKeys.push(t),o.contains(a,u)||a.push(u)}),n._firstLevelSchemaKeys=a,n._objectKeys=g(n._schema,n._schemaKeys),n._validationContexts={}},d.extendOptions=function(e){o.extend(i,e)};var b="(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z](?:[a-z-]*[a-z])?",_="(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?(?:\\.|$))+",K="(?:(?:[0-1]?\\d{1,2}|2[0-4]\\d|25[0-5])(?:\\.|$)){4}",O="(?:(?:[\\dA-Fa-f]{1,4}(?::|$)){8}|(?=(?:[^:\\s]|:[^:\\s])*::(?:[^:\\s]|:[^:\\s])*$)[\\dA-Fa-f]{0,4}(?:::?(?:[\\dA-Fa-f]{1,4}|$)){1,6})",$="(?:"+[_,K,O].join("|")+")";d.RegEx={Email:/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Domain:new RegExp("^"+b+"$"),WeakDomain:new RegExp("^"+$+"$"),IP:new RegExp("^(?:"+K+"|"+O+")$"),IPv4:new RegExp("^"+K+"$"),IPv6:new RegExp("^"+O+"$"),Url:/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!10(?:\.\d{1,3}){3})(?!127(?:\.\d{1,3}){3})(?!169\.254(?:\.\d{1,3}){2})(?!192\.168(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/i,Id:/^[23456789ABCDEFGHJKLMNPQRSTWXYZabcdefghijkmnopqrstuvwxyz]{17}$/,ZipCode:/^\d{5}(?:[-\s]\d{4})?$/,Phone:/^[0-9０-９٠-٩۰-۹]{2}$|^[+＋]*(?:[-x‐-―−ー－-／  ­​⁠　()（）［］.\[\]\/~⁓∼～*]*[0-9０-９٠-٩۰-۹]){3,}[-x‐-―−ー－-／  ­​⁠　()（）［］.\[\]\/~⁓∼～0-9０-９٠-٩۰-۹]*(?:;ext=([0-9０-９٠-٩۰-۹]{1,7})|[  \t,]*(?:e?xt(?:ensi(?:ó?|ó))?n?|ｅ?ｘｔｎ?|[,xｘ#＃~～]|int|anexo|ｉｎｔ)[:\.．]?[  \t,-]*([0-9０-９٠-٩۰-۹]{1,7})#?|[- ]+([0-9０-９٠-٩۰-۹]{1,5})#)?$/i},d._makeGeneric=function(e){return"string"!=typeof e?null:e.replace(/\.[0-9]+(?=\.|$)/g,".$")},d._depsGlobalMessages=new r.Dependency,d.prototype=new s.Where,d.prototype.condition=function(t){var n=this,i,r;if(o.each(t,function(e,t){"$"===t.substring(0,1)?i=!0:r=!0}),i&&r)throw new s.Error("Object cannot contain modifier operators alongside other keys");var a=n.newContext();if(!a.validate(t,{modifier:i,filter:!1,autoConvert:!1})){var u=a.getErrorObject(),l=new s.Error(u.message);throw l.invalidKeys=u.invalidKeys,e.isServer&&(l.sanitizedError=u.sanitizedError),l}return!0},d.prototype.namedContext=function(t){var i=this;return"string"!=typeof t&&(t="default"),i._validationContexts[t]||(i._validationContexts[t]=new y(i),d.debug&&e.isClient&&r.nonreactive(function(){n(i._validationContexts[t],t)})),i._validationContexts[t]},d._validators=[],d.addValidator=function(e){d._validators.push(e)},d.prototype.addValidator=function(e){this._validators.push(e)},d.prototype.pick=function(){var e=this,t=o.toArray(arguments);t.unshift(e._schema);var n=o.pick.apply(null,t);return new d(n)},d.prototype.omit=function(){var e=this,t=o.toArray(arguments);t.unshift(e._schema);var n=o.omit.apply(null,t);return new d(n)},d.prototype.clean=function(e,n){var i=this;if(n=o.extend({filter:!0,autoConvert:!0,removeEmptyStrings:!0,trimStrings:!0,getAutoValues:!0,isModifier:!1,extendAutoValueContext:{}},n||{}),"$pushAll"in e){console.warn("SimpleSchema.clean: $pushAll is deprecated; converting to $push with $each"),e.$push=e.$push||{};for(var r in e.$pushAll){e.$push[r]=e.$push[r]||{},e.$push[r].$each=e.$push[r].$each||[];for(var a=0,s=e.$pushAll[r].length;a<s;a++)e.$push[r].$each.push(e.$pushAll[r][a]);delete e.$pushAll}}var l=new c(e,i._blackboxKeys);if((n.filter||n.autoConvert||n.removeEmptyStrings||n.trimStrings)&&l.forEachNode(function(){var e=this.genericKey,t,r,o;if(e){if(r=i._schema[e],o=this.value,n.filter&&"$unset"!==this.operator&&!i.allowsKey(e))return"[$each]"===this.position.slice(-7)?l.removeValueForPosition(this.position.slice(0,-7)):this.remove(),void(d.debug&&console.info('SimpleSchema.clean: filtered out value that would have affected key "'+e+'", which is not allowed by the schema'));if(void 0!==o){var a=!1;if(n.autoConvert&&"$unset"!==this.operator&&r){var s=u(o,r.type);n.trimStrings&&"string"==typeof s&&(s=s.trim()),void 0!==s&&s!==o&&(!n.removeEmptyStrings||this.operator&&"$set"!==this.operator||"string"!=typeof s||s.length||(s=void 0,"$set"===this.operator&&this.position.match(/\[.+?\]/g).length<2&&(t=this.position.replace("$set","$unset"),l.setValueForPosition(t,""))),d.debug&&console.info("SimpleSchema.clean: autoconverted value "+o+" from "+typeof o+" to "+typeof s+" for "+e),this.updateValue(s),a=!0)}a||(n.trimStrings&&"string"==typeof o&&(!r||r&&r.trim!==!1)&&this.updateValue(o.trim()),!n.removeEmptyStrings||this.operator&&"$set"!==this.operator||"string"!=typeof o||o.length||(this.remove(),"$set"===this.operator&&this.position.match(/\[.+?\]/g).length<2&&(t=this.position.replace("$set","$unset"),l.setValueForPosition(t,""))))}}},{endPointsOnly:!1}),n.getAutoValues&&t.call(i,l,n.isModifier,n.extendAutoValueContext),n.isModifier)for(var f in e)e.hasOwnProperty(f)&&o.isEmpty(e[f])&&delete e[f];return e},d.prototype.schema=function(e){var t=this;return null!==e&&void 0!==e?t._schema[d._makeGeneric(e)]:t._schema},d.prototype.getDefinition=function(e,t,n){var i=this,r=i.schema(e);if(r)return r=o.isArray(t)?o.pick(r,t):o.clone(r),o.each(["min","max","minCount","maxCount","allowedValues","optional","label"],function(e){o.isFunction(r[e])&&(r[e]=r[e].call(n||{}))}),r.label=r.label||x(e),r},d.prototype.keyIsInBlackBox=function(e){var t=this,n=d._makeGeneric(e),i,r;do i=n.lastIndexOf("."),i!==-1&&(n=n.slice(0,i),r=t.getDefinition(n));while(i!==-1&&!r);return!(!r||!r.blackbox)},d.prototype.labels=function(e){var t=this;o.each(e,function(e,n){(o.isString(e)||o.isFunction(e))&&n in t._schema&&(t._schema[n].label=e,t._depsLabels[n]&&t._depsLabels[n].changed())})},d.prototype.label=function(e){var t=this;if(null===e||void 0===e){var n={};return o.each(t.schema(),function(e,i){n[i]=t.label(i)}),n}var i=t.getDefinition(e);if(i){var r=d._makeGeneric(e);return t._depsLabels[r]&&t._depsLabels[r].depend(),i.label}return null},d._globalMessages={required:"[label] is required",minString:"[label] must be at least [min] characters",maxString:"[label] cannot exceed [max] characters",minNumber:"[label] must be at least [min]",maxNumber:"[label] cannot exceed [max]",minNumberExclusive:"[label] must be greater than [min]",maxNumberExclusive:"[label] must be less than [max]",minDate:"[label] must be on or after [min]",maxDate:"[label] cannot be after [max]",badDate:"[label] is not a valid date",minCount:"You must specify at least [minCount] values",maxCount:"You cannot specify more than [maxCount] values",noDecimal:"[label] must be an integer",notAllowed:"[value] is not an allowed value",expectedString:"[label] must be a string",expectedNumber:"[label] must be a number",expectedBoolean:"[label] must be a boolean",expectedArray:"[label] must be an array",expectedObject:"[label] must be an object",expectedConstructor:"[label] must be a [type]",regEx:[{msg:"[label] failed regular expression validation"},{exp:d.RegEx.Email,msg:"[label] must be a valid e-mail address"},{exp:d.RegEx.WeakEmail,msg:"[label] must be a valid e-mail address"},{exp:d.RegEx.Domain,msg:"[label] must be a valid domain"},{exp:d.RegEx.WeakDomain,msg:"[label] must be a valid domain"},{exp:d.RegEx.IP,msg:"[label] must be a valid IPv4 or IPv6 address"},{exp:d.RegEx.IPv4,msg:"[label] must be a valid IPv4 address"},{exp:d.RegEx.IPv6,msg:"[label] must be a valid IPv6 address"},{exp:d.RegEx.Url,msg:"[label] must be a valid URL"},{exp:d.RegEx.Id,msg:"[label] must be a valid alphanumeric ID"}],keyNotInSchema:"[key] is not allowed by the schema"},d.messages=function(e){o.extend(d._globalMessages,e),d._depsGlobalMessages.changed()},d.prototype.messages=function(e){var t=this;o.extend(t._messages,e),t._depsMessages.changed()},d.prototype.messageForError=function(e,t,n,i){function r(t){if("regEx"!==e||!o.isArray(t))return t;var n;return l&&(n=o.find(t,function(e){return e.exp&&e.exp.toString()===l})),n||(n=o.findWhere(t,{exp:null}),n||(n=o.findWhere(t,{exp:void 0}))),n?n.msg:null}var a=this;n=n||a.getDefinition(t,["regEx","label","minCount","maxCount","min","max","type"])||{};var s=e.indexOf("."),u=null;s!==-1&&(u=e.substring(s+1),u=parseInt(u,10),e=e.substring(0,s));var l;"regEx"===e&&(l=null===u||void 0===u||isNaN(u)?n.regEx:n.regEx[u],l&&(l=l.toString()));var c=e+" "+t,p=d._makeGeneric(t),m=e+" "+p;d._depsGlobalMessages.depend(),a._depsMessages.depend();var y=a._messages[c]||a._messages[m]||a._messages[e];if(y=r(y),y||(y=d._globalMessages[c]||d._globalMessages[m]||d._globalMessages[e],y=r(y)),!y)return"Unknown validation error";y=y.replace("[key]",t),y=y.replace("[label]",a.label(t)),"undefined"!=typeof n.minCount&&(y=y.replace("[minCount]",n.minCount)),"undefined"!=typeof n.maxCount&&(y=y.replace("[maxCount]",n.maxCount)),y=void 0!==i&&null!==i?y.replace("[value]",i.toString()):y.replace("[value]","null");var v=n.min,h=n.max;return n.type===Date||n.type===[Date]?("undefined"!=typeof v&&(y=y.replace("[min]",f.dateToDateString(v))),"undefined"!=typeof h&&(y=y.replace("[max]",f.dateToDateString(h)))):("undefined"!=typeof v&&(y=y.replace("[min]",v)),"undefined"!=typeof h&&(y=y.replace("[max]",h))),n.type instanceof Function&&(y=y.replace("[type]",n.type.name)),y},d.prototype.allowsKey=function(e){var t=this;return o.any(t._schemaKeys,function(n){if(n===e)return!0;if(t.schema(n).blackbox===!0){var i=n.length,r=e.slice(0,i+2),o=r.slice(0,-1);if(r===n+".$")return!1;if(o===n+".")return!0}return!1})},d.prototype.newContext=function(){return new y(this)},d.prototype.objectKeys=function(e){var t=this;return e?t._objectKeys[e+"."]||[]:t._firstLevelSchemaKeys},d.prototype.validate=function(e,t){if(Package.check&&Package["audit-argument-checks"])try{a(e)}catch(e){}var n=this.newContext(),i=n.validate(e,t);if(!i){var r=n.invalidKeys().map(function(e){return{name:e.name,type:e.type,details:{value:e.value}}}),o=n.keyErrorMessage(r[0].name);throw new Package["mdg:validation-error"].ValidationError(r,o)}},d.prototype.validator=function(e){var t=this;return e=e||{},function(n){e.clean===!0&&t.clean(n,e),t.validate(n)}}}.call(this),function(){function e(e,t,n){var i=e.type;if(i===String){if("string"!=typeof t)return"expectedString";if(null!==e.max&&e.max<t.length)return"maxString";if(null!==e.min&&e.min>t.length)return"minString";if(e.regEx instanceof RegExp&&!e.regEx.test(t))return"regEx";if(o.isArray(e.regEx)){var r;if(o.every(e.regEx,function(e,n){return!!e.test(t)||(r="regEx."+n,!1)}),r)return r}}else if(i===Number){if("number"!=typeof t||isNaN(t))return"expectedNumber";if("$inc"!==n&&null!==e.max&&(e.exclusiveMax?e.max<=t:e.max<t))return e.exclusiveMax?"maxNumberExclusive":"maxNumber";if("$inc"!==n&&null!==e.min&&(e.exclusiveMin?e.min>=t:e.min>t))return e.exclusiveMin?"minNumberExclusive":"minNumber";if(!e.decimal&&t.toString().indexOf(".")>-1)return"noDecimal"}else if(i===Boolean){if("boolean"!=typeof t)return"expectedBoolean"}else if(i===Object){if(!f.isBasicObject(t))return"expectedObject"}else if(i===Array){if(!o.isArray(t))return"expectedArray";if(null!==e.minCount&&t.length<e.minCount)return"minCount";if(null!==e.maxCount&&t.length>e.maxCount)return"maxCount"}else if(i instanceof Function||f.safariBugFix(i)){if(!(t instanceof i))return"expectedConstructor";if(i===Date){if(isNaN(t.getTime()))return"badDate";if(o.isDate(e.min)&&e.min.getTime()>t.getTime())return"minDate";if(o.isDate(e.max)&&e.max.getTime()<t.getTime())return"maxDate"}}}p=function t(n,i,r,a,s,u){function l(t,i,r,a,l,p,m,h){if(!a)return void y.push(f.errorObject("keyNotInSchema",i,t,a,s));if(!p&&!a.optional&&(null===t||"$unset"===l||"$rename"===l||void 0===t&&(m||h||!l||"$set"===l)))return void y.push(f.errorObject("required",i,null,a,s));if("$rename"===l&&"string"==typeof t&&!s.allowsKey(t))return void y.push(f.errorObject("keyNotInSchema",t,null,null,s));if("$unset"!==l&&"$rename"!==l&&f.isNotNullOrUndefined(t)){var g=e(a,t,l);if(g)return void y.push(f.errorObject(g,i,t,a,s));if(a.allowedValues&&!o.contains(a.allowedValues,t))return void y.push(f.errorObject("notAllowed",i,t,a,s))}var x=i.lastIndexOf("."),b=x===-1?"":i.slice(0,x+1),_=a.custom?[a.custom]:[];_=_.concat(s._validators).concat(d._validators),o.every(_,function(e){var d=e.call(o.extend({key:i,genericKey:r,definition:a,isSet:void 0!==t,value:t,operator:l,field:function(e){v=v||new c(n,s._blackboxKeys);var t=v.getInfoForKey(e)||{};return{isSet:void 0!==t.value,value:t.value,operator:t.operator}},siblingField:function(e){v=v||new c(n,s._blackboxKeys);var t=v.getInfoForKey(b+e)||{};return{isSet:void 0!==t.value,value:t.value,operator:t.operator}}},u||{}));return"string"!=typeof d||(y.push(f.errorObject(d,i,t,a,s)),!1)})}function p(e,t,n,i,r,u){var c,m;if(t){if(s.keyIsInBlackBox(t))return;if(c=d._makeGeneric(t),m=s.getDefinition(t),!a||a===t||a===c){var y=o.some(i,function(e){return e.slice(0,t.length+1)===t+"."});l(e,t,c,m,n,y,r,u)}}if(void 0!==e&&null!==e||m&&(m.type!==Object||m.optional)||(e={}),o.isArray(e))o.each(e,function(e,r){p(e,t+"."+r,n,i)});else if(f.isBasicObject(e)&&(!m||!m.blackbox)){var v=o.keys(e),h=o.union(v,s.objectKeys(c));r=c&&".$"===c.slice(-2),o.each(h,function(o){p(e[o],f.appendAffectedKey(t,o),n,i,r,!0)})}}function m(e){if(o.isEmpty(e))throw new Error("When the modifier option is true, validation object must have at least one operator");var t=o.keys(e.$set||{}).concat(o.keys(e.$setOnInsert||{}));"$setOnInsert"in e&&(r&&(e.$set=e.$set||{},e.$set=o.extend(e.$set,e.$setOnInsert)),delete e.$setOnInsert),o.each(e,function(e,n){if("$"!==n.slice(0,1))throw new Error("When the modifier option is true, all validation object keys must be operators. Did you forget `$set`?");if(f.shouldCheck(n)){if(r&&"$set"===n){var i=o.keys(e);o.each(s.objectKeys(),function(e){o.contains(i,e)||p(void 0,e,n,t)})}o.each(e,function(e,i){"$push"!==n&&"$addToSet"!==n||(f.isBasicObject(e)&&"$each"in e?e=e.$each:i+=".0"),p(e,i,n,t)})}})}if(!o.isObject(n))throw new Error("The first argument of validate() or validateOne() must be an object");if(!i&&f.looksLikeModifier(n))throw new Error("When the validation object contains mongo operators, you must set the modifier option to true");var y=[],v;i?m(n):p(n);var h=[];return y=o.filter(y,function(e){return!o.contains(h,e.name)&&(h.push(e.name),!0)})}}.call(this),function(){function t(e,t,n){var i=e.type;if(i===String){if("string"!=typeof t)return"expectedString";if(null!==e.max&&e.max<t.length)return"maxString";if(null!==e.min&&e.min>t.length)return"minString";if(e.regEx instanceof RegExp&&!e.regEx.test(t))return"regEx";if(o.isArray(e.regEx)){var r;if(o.every(e.regEx,function(e,n){return!!e.test(t)||(r="regEx."+n,!1)}),r)return r}}else if(i===Number){if("number"!=typeof t||isNaN(t))return"expectedNumber";if("$inc"!==n&&null!==e.max&&(e.exclusiveMax?e.max<=t:e.max<t))return e.exclusiveMax?"maxNumberExclusive":"maxNumber";if("$inc"!==n&&null!==e.min&&(e.exclusiveMin?e.min>=t:e.min>t))return e.exclusiveMin?"minNumberExclusive":"minNumber";if(!e.decimal&&t.toString().indexOf(".")>-1)return"noDecimal"}else if(i===Boolean){if("boolean"!=typeof t)return"expectedBoolean"}else if(i===Object){if(!f.isBasicObject(t))return"expectedObject"}else if(i===Array){if(!o.isArray(t))return"expectedArray";if(null!==e.minCount&&t.length<e.minCount)return"minCount";if(null!==e.maxCount&&t.length>e.maxCount)return"maxCount"}else if(i instanceof Function||f.safariBugFix(i)){if(!(t instanceof i))return"expectedConstructor";if(i===Date){if(isNaN(t.getTime()))return"badDate";if(o.isDate(e.min)&&e.min.getTime()>t.getTime())return"minDate";if(o.isDate(e.max)&&e.max.getTime()<t.getTime())return"maxDate"}}}function n(t,n,i){var r=new e.Collection(null),a;if(i)a=u.id(),r.upsert({_id:a},t);else{var s=new c(t),l=new c({});o.each(n,function(e,t){var n;if(e.type===Array&&s.affectsGenericKey(t)?n=[]:e.optional||(n=e.type===Boolean||(e.type===Number?e.min||0:e.type===Date?e.min||new Date:e.type===Array?[]:e.type===Object?{}:"0")),void 0!==n){var i=t.replace(/\.\$/g,".0"),r=c._keyToPosition(i,!1);l.setValueForPosition(r,n)}}),l=l.getObject(),a=r.insert(l),r.update(a,t)}var f=r.findOne(a);return r.remove(a),n._id||delete f._id,f}m=function e(i,r,a,s,u,l){function p(e,n,r,a,s,p,m){if(!a)return void v.push(f.errorObject("keyNotInSchema",n,e,a,u));if(!(p||a.optional||null!==e&&void 0!==e))return void v.push(f.errorObject("required",n,null,a,u));if(f.isNotNullOrUndefined(e)){var y=t(a,e,s);if(y)return void v.push(f.errorObject(y,n,e,a,u));if(a.allowedValues&&!o.contains(a.allowedValues,e))return void v.push(f.errorObject("notAllowed",n,e,a,u))}var g=n.lastIndexOf("."),x=g===-1?"":n.slice(0,g+1),b=a.custom?[a.custom]:[];b=b.concat(u._validators).concat(d._validators),o.every(b,function(t){var d=t.call(o.extend({key:n,genericKey:r,definition:a,isSet:void 0!==e,value:e,operator:s,field:function(e){h=h||new c(i,u._blackboxKeys);var t=h.getInfoForKey(e)||{};return{isSet:void 0!==t.value,value:t.value,operator:t.operator}},siblingField:function(e){h=h||new c(i,u._blackboxKeys);var t=h.getInfoForKey(x+e)||{};return{isSet:void 0!==t.value,value:t.value,operator:t.operator}}},l||{}));return"string"!=typeof d||(v.push(f.errorObject(d,n,e,a,u)),!1)})}function m(e,t,n,i){var r,a;if(t){if(u.keyIsInBlackBox(t))return;r=d._makeGeneric(t),a=u.getDefinition(t),s&&s!==t&&s!==r||p(e,t,r,a,null,n,i)}if(void 0!==e&&null!==e||a&&(a.type!==Object||a.optional)||(e={}),o.isArray(e))o.each(e,function(e,n){m(e,t+"."+n)});else if(f.isBasicObject(e)&&(!a||!a.blackbox)){var l=o.keys(e),c=o.union(l,u._schemaKeys);i=r&&".$"===r.slice(-2),o.each(c,function(r){f.shouldCheck(r)&&m(e[r],f.appendAffectedKey(t,r),n,i)})}}if(!o.isObject(i))throw new Error("The first argument of validate() or validateOne() must be an object");if(r){if(o.isEmpty(i))throw new Error("When the modifier option is true, validation object must have at least one operator");var y=o.every(i,function(e,t){return"$"===t.substring(0,1)});if(!y)throw new Error("When the modifier option is true, all validation object keys must be operators");i=n(i,u.schema(),a)}else if(f.looksLikeModifier(i))throw new Error("When the validation object contains mongo operators, you must set the modifier option to true");var v=[],h;m(i);var g=[];return v=o.filter(v,function(e){return!o.contains(g,e.name)&&(g.push(e.name),!0)})}}.call(this),function(){function t(e,t,n,i,r,o){var a=!0,s=a?p:m;return s(e,t,n,i,r,o)}y=function e(t){var n=this;
n._simpleSchema=t,n._schema=t.schema(),n._schemaKeys=o.keys(n._schema),n._invalidKeys=[],n._deps={},n._depsAny=new r.Dependency,o.each(n._schemaKeys,function(e){n._deps[e]=new r.Dependency})},y.prototype.validate=function n(i,r){var a=this;r=o.extend({modifier:!1,upsert:!1,extendedCustomContext:{}},r||{}),e.isClient&&void 0===r.extendedCustomContext.userId&&(r.extendedCustomContext.userId=e.userId&&e.userId()||null);var s=t(i,r.modifier,r.upsert,null,a._simpleSchema,r.extendedCustomContext),u=o.pluck(a._invalidKeys,"name");a._invalidKeys=s;var l=o.pluck(a._invalidKeys,"name"),c=o.union(l,u);return a._markKeysChanged(c),0===a._invalidKeys.length},y.prototype.validateOne=function n(i,r,a){var s=this,u,l,c;a=o.extend({modifier:!1,upsert:!1,extendedCustomContext:{}},a||{}),e.isClient&&void 0===a.extendedCustomContext.userId&&(a.extendedCustomContext.userId=e.userId&&e.userId()||null);var f=t(i,a.modifier,a.upsert,r,s._simpleSchema,a.extendedCustomContext),d=[];for(u=0,l=s._invalidKeys.length;u<l;u++)c=s._invalidKeys[u],c.name!==r&&d.push(c);for(s._invalidKeys=d,u=0,l=f.length;u<l;u++)c=f[u],s._invalidKeys.push(c);return s._markKeysChanged([r]),!s._keyIsInvalid(r)},y.prototype.resetValidation=function e(){var t=this,n=o.pluck(t._invalidKeys,"name");t._invalidKeys=[],t._markKeysChanged(n)},y.prototype.isValid=function e(){var t=this;return t._depsAny.depend(),!t._invalidKeys.length},y.prototype.invalidKeys=function e(){var t=this;return t._depsAny.depend(),t._invalidKeys},y.prototype.addInvalidKeys=function e(t){var n=this;if(t&&t.length){var i=[];o.each(t,function(e){i.push(e.name),n._invalidKeys.push(e)}),n._markKeysChanged(i)}},y.prototype._markKeysChanged=function e(t){var n=this;t&&t.length&&(o.each(t,function(e){var t=d._makeGeneric(e);t in n._deps&&n._deps[t].changed()}),n._depsAny.changed())},y.prototype._getInvalidKeyObject=function e(t,n){var i=this;n=n||d._makeGeneric(t);var r=o.findWhere(i._invalidKeys,{name:t});return r||(r=o.findWhere(i._invalidKeys,{name:n})),r},y.prototype._keyIsInvalid=function e(t,n){return!!this._getInvalidKeyObject(t,n)},y.prototype.keyIsInvalid=function e(t){var n=this,i=d._makeGeneric(t);return n._deps[i]&&n._deps[i].depend(),n._keyIsInvalid(t,i)},y.prototype.keyErrorMessage=function e(t){var n=this,i=d._makeGeneric(t);n._deps[i]&&n._deps[i].depend();var r=n._getInvalidKeyObject(t,i);return r?n._simpleSchema.messageForError(r.type,r.name,null,r.value):""},y.prototype.getErrorObject=function t(){var n=this,i,r=this._invalidKeys;r.length?(i=n.keyErrorMessage(r[0].name),r=o.map(r,function(e){return o.extend({message:n.keyErrorMessage(e.name)},e)})):i="Failed validation";var a=new Error(i);return a.invalidKeys=r,e.isServer&&(a.sanitizedError=new e.Error(400,i)),a}}.call(this),"undefined"==typeof Package&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package["aldeed:simple-schema"]={},{SimpleSchema:d,MongoObject:c,humanize:l})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,s;(function(){!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";function e(){return _s.apply(null,arguments)}function t(e){_s=e}function n(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function s(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function i(e){var t;for(t in e)return!1;return!0}function r(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function a(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function o(e,t){var n=[],s;for(s=0;s<e.length;++s)n.push(t(e[s],s));return n}function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function l(e,t){for(var n in t)u(t,n)&&(e[n]=t[n]);return u(t,"toString")&&(e.toString=t.toString),u(t,"valueOf")&&(e.valueOf=t.valueOf),e}function d(e,t,n,s){return gt(e,t,n,s,!0).utc()}function h(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function c(e){return null==e._pf&&(e._pf=h()),e._pf}function f(e){if(null==e._isValid){var t=c(e),n=gs.call(t.parsedDateParts,function(e){return null!=e}),s=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(s=s&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return s;e._isValid=s}return e._isValid}function m(e){var t=d(NaN);return null!=e?l(c(t),e):c(t).userInvalidated=!0,t}function _(e){return void 0===e}function y(e,t){var n,s,i;if(_(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),_(t._i)||(e._i=t._i),_(t._f)||(e._f=t._f),_(t._l)||(e._l=t._l),_(t._strict)||(e._strict=t._strict),_(t._tzm)||(e._tzm=t._tzm),_(t._isUTC)||(e._isUTC=t._isUTC),_(t._offset)||(e._offset=t._offset),_(t._pf)||(e._pf=c(t)),_(t._locale)||(e._locale=t._locale),ps.length>0)for(n in ps)s=ps[n],i=t[s],_(i)||(e[s]=i);return e}function g(t){y(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),ws===!1&&(ws=!0,e.updateOffset(this),ws=!1)}function p(e){return e instanceof g||null!=e&&null!=e._isAMomentObject}function w(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function v(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=w(t)),n}function k(e,t,n){var s=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),r=0,a;for(a=0;a<s;a++)(n&&e[a]!==t[a]||!n&&v(e[a])!==v(t[a]))&&r++;return r+i}function S(t){e.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function M(t,n){var s=!0;return l(function(){if(null!=e.deprecationHandler&&e.deprecationHandler(null,t),s){for(var i=[],r,a=0;a<arguments.length;a++){if(r="","object"==typeof arguments[a]){r+="\n["+a+"] ";for(var o in arguments[0])r+=o+": "+arguments[0][o]+", ";r=r.slice(0,-2)}else r=arguments[a];i.push(r)}S(t+"\nArguments: "+Array.prototype.slice.call(i).join("")+"\n"+(new Error).stack),s=!1}return n.apply(this,arguments)},n)}function D(t,n){null!=e.deprecationHandler&&e.deprecationHandler(t,n),vs[t]||(S(n),vs[t]=!0)}function Y(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function O(e){var t,n;for(n in e)t=e[n],Y(t)?this[n]=t:this["_"+n]=t;this._config=e,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function x(e,t){var n=l({},e),i;for(i in t)u(t,i)&&(s(e[i])&&s(t[i])?(n[i]={},l(n[i],e[i]),l(n[i],t[i])):null!=t[i]?n[i]=t[i]:delete n[i]);for(i in e)u(e,i)&&!u(t,i)&&s(e[i])&&(n[i]=l({},n[i]));return n}function T(e){null!=e&&this.set(e)}function b(e,t,n){var s=this._calendar[e]||this._calendar.sameElse;return Y(s)?s.call(t,n):s}function P(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function W(){return this._invalidDate}function R(e){return this._ordinal.replace("%d",e)}function U(e,t,n,s){var i=this._relativeTime[n];return Y(i)?i(e,t,n,s):i.replace(/%d/i,e)}function C(e,t){var n=this._relativeTime[e>0?"future":"past"];return Y(n)?n(t):n.replace(/%s/i,t)}function F(e,t){var n=e.toLowerCase();bs[n]=bs[n+"s"]=bs[t]=e}function H(e){return"string"==typeof e?bs[e]||bs[e.toLowerCase()]:void 0}function L(e){var t={},n,s;for(s in e)u(e,s)&&(n=H(s),n&&(t[n]=e[s]));return t}function G(e,t){Ps[e]=t}function V(e){var t=[];for(var n in e)t.push({unit:n,priority:Ps[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}function j(t,n){return function(s){return null!=s?(E(this,t,s),e.updateOffset(this,n),this):N(this,t)}}function N(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function E(e,t,n){e.isValid()&&e._d["set"+(e._isUTC?"UTC":"")+t](n)}function A(e){return e=H(e),Y(this[e])?this[e]():this}function I(e,t){if("object"==typeof e){e=L(e);for(var n=V(e),s=0;s<n.length;s++)this[n[s].unit](e[n[s].unit])}else if(e=H(e),Y(this[e]))return this[e](t);return this}function z(e,t,n){var s=""+Math.abs(e),i=t-s.length,r=e>=0;return(r?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+s}function Z(e,t,n,s){var i=s;"string"==typeof s&&(i=function(){return this[s]()}),e&&(Cs[e]=i),t&&(Cs[t[0]]=function(){return z(i.apply(this,arguments),t[1],t[2])}),n&&(Cs[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function $(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function q(e){var t=e.match(Ws),n,s;for(n=0,s=t.length;n<s;n++)Cs[t[n]]?t[n]=Cs[t[n]]:t[n]=$(t[n]);return function(n){var i="",r;for(r=0;r<s;r++)i+=t[r]instanceof Function?t[r].call(n,e):t[r];return i}}function B(e,t){return e.isValid()?(t=J(t,e.localeData()),Us[t]=Us[t]||q(t),Us[t](e)):e.localeData().invalidDate()}function J(e,t){function n(e){return t.longDateFormat(e)||e}var s=5;for(Rs.lastIndex=0;s>=0&&Rs.test(e);)e=e.replace(Rs,n),Rs.lastIndex=0,s-=1;return e}function Q(e,t,n){Xs[e]=Y(t)?t:function(e,s){return e&&n?n:t}}function X(e,t){return u(Xs,e)?Xs[e](t._strict,t._locale):new RegExp(K(e))}function K(e){return ee(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,s,i){return t||n||s||i}))}function ee(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function te(e,t){var n,s=t;for("string"==typeof e&&(e=[e]),r(t)&&(s=function(e,n){n[t]=v(e)}),n=0;n<e.length;n++)Ks[e[n]]=s}function ne(e,t){te(e,function(e,n,s,i){s._w=s._w||{},t(e,s._w,s,i)})}function se(e,t,n){null!=t&&u(Ks,e)&&Ks[e](t,n._a,n,e)}function ie(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function re(e,t){return e?n(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||hi).test(t)?"format":"standalone"][e.month()]:this._months}function ae(e,t){return e?n(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[hi.test(t)?"format":"standalone"][e.month()]:this._monthsShort}function oe(e,t,n){var s,i,r,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],s=0;s<12;++s)r=d([2e3,s]),this._shortMonthsParse[s]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[s]=this.months(r,"").toLocaleLowerCase();return n?"MMM"===t?(i=di.call(this._shortMonthsParse,a),i!==-1?i:null):(i=di.call(this._longMonthsParse,a),i!==-1?i:null):"MMM"===t?(i=di.call(this._shortMonthsParse,a),i!==-1?i:(i=di.call(this._longMonthsParse,a),i!==-1?i:null)):(i=di.call(this._longMonthsParse,a),i!==-1?i:(i=di.call(this._shortMonthsParse,a),i!==-1?i:null))}function ue(e,t,n){var s,i,r;if(this._monthsParseExact)return oe.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),s=0;s<12;s++){if(i=d([2e3,s]),n&&!this._longMonthsParse[s]&&(this._longMonthsParse[s]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[s]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[s]||(r="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[s]=new RegExp(r.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[s].test(e))return s;if(n&&"MMM"===t&&this._shortMonthsParse[s].test(e))return s;if(!n&&this._monthsParse[s].test(e))return s}}function le(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=v(t);else if(t=e.localeData().monthsParse(t),!r(t))return e;return n=Math.min(e.date(),ie(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function de(t){return null!=t?(le(this,t),e.updateOffset(this,!0),this):N(this,"Month")}function he(){return ie(this.year(),this.month())}function ce(e){return this._monthsParseExact?(u(this,"_monthsRegex")||me.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(u(this,"_monthsShortRegex")||(this._monthsShortRegex=mi),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function fe(e){return this._monthsParseExact?(u(this,"_monthsRegex")||me.call(this),e?this._monthsStrictRegex:this._monthsRegex):(u(this,"_monthsRegex")||(this._monthsRegex=_i),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function me(){function e(e,t){return t.length-e.length}var t=[],n=[],s=[],i,r;for(i=0;i<12;i++)r=d([2e3,i]),t.push(this.monthsShort(r,"")),n.push(this.months(r,"")),s.push(this.months(r,"")),s.push(this.monthsShort(r,""));for(t.sort(e),n.sort(e),s.sort(e),i=0;i<12;i++)t[i]=ee(t[i]),n[i]=ee(n[i]);for(i=0;i<24;i++)s[i]=ee(s[i]);this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}function _e(e){return ye(e)?366:365}function ye(e){return e%4===0&&e%100!==0||e%400===0}function ge(){return ye(this.year())}function pe(e,t,n,s,i,r,a){var o=new Date(e,t,n,s,i,r,a);return e<100&&e>=0&&isFinite(o.getFullYear())&&o.setFullYear(e),o}function we(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function ve(e,t,n){var s=7+t-n,i=(7+we(e,0,s).getUTCDay()-t)%7;return-i+s-1}function ke(e,t,n,s,i){var r=(7+n-s)%7,a=ve(e,s,i),o=1+7*(t-1)+r+a,u,l;return o<=0?(u=e-1,l=_e(u)+o):o>_e(e)?(u=e+1,l=o-_e(e)):(u=e,l=o),{year:u,dayOfYear:l}}function Se(e,t,n){var s=ve(e.year(),t,n),i=Math.floor((e.dayOfYear()-s-1)/7)+1,r,a;return i<1?(a=e.year()-1,r=i+Me(a,t,n)):i>Me(e.year(),t,n)?(r=i-Me(e.year(),t,n),a=e.year()+1):(a=e.year(),r=i),{week:r,year:a}}function Me(e,t,n){var s=ve(e,t,n),i=ve(e+1,t,n);return(_e(e)-s+i)/7}function De(e){return Se(e,this._week.dow,this._week.doy).week}function Ye(){return this._week.dow}function Oe(){return this._week.doy}function xe(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Te(e){var t=Se(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function be(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function Pe(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function We(e,t){return e?n(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]:this._weekdays}function Re(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Ue(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Ce(e,t,n){var s,i,r,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],s=0;s<7;++s)r=d([2e3,1]).day(s),this._minWeekdaysParse[s]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[s]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[s]=this.weekdays(r,"").toLocaleLowerCase();return n?"dddd"===t?(i=di.call(this._weekdaysParse,a),i!==-1?i:null):"ddd"===t?(i=di.call(this._shortWeekdaysParse,a),i!==-1?i:null):(i=di.call(this._minWeekdaysParse,a),i!==-1?i:null):"dddd"===t?(i=di.call(this._weekdaysParse,a),i!==-1?i:(i=di.call(this._shortWeekdaysParse,a),i!==-1?i:(i=di.call(this._minWeekdaysParse,a),i!==-1?i:null))):"ddd"===t?(i=di.call(this._shortWeekdaysParse,a),i!==-1?i:(i=di.call(this._weekdaysParse,a),i!==-1?i:(i=di.call(this._minWeekdaysParse,a),i!==-1?i:null))):(i=di.call(this._minWeekdaysParse,a),i!==-1?i:(i=di.call(this._weekdaysParse,a),i!==-1?i:(i=di.call(this._shortWeekdaysParse,a),i!==-1?i:null)))}function Fe(e,t,n){var s,i,r;if(this._weekdaysParseExact)return Ce.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),s=0;s<7;s++){if(i=d([2e3,1]).day(s),n&&!this._fullWeekdaysParse[s]&&(this._fullWeekdaysParse[s]=new RegExp("^"+this.weekdays(i,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[s]=new RegExp("^"+this.weekdaysShort(i,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[s]=new RegExp("^"+this.weekdaysMin(i,"").replace(".",".?")+"$","i")),this._weekdaysParse[s]||(r="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[s]=new RegExp(r.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[s].test(e))return s;if(n&&"ddd"===t&&this._shortWeekdaysParse[s].test(e))return s;if(n&&"dd"===t&&this._minWeekdaysParse[s].test(e))return s;if(!n&&this._weekdaysParse[s].test(e))return s}}function He(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=be(e,this.localeData()),this.add(e-t,"d")):t}function Le(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Ge(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Pe(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Ve(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Ee.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(u(this,"_weekdaysRegex")||(this._weekdaysRegex=ki),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function je(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Ee.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(u(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Si),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Ne(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Ee.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(u(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Mi),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Ee(){function e(e,t){return t.length-e.length}var t=[],n=[],s=[],i=[],r,a,o,u,l;for(r=0;r<7;r++)a=d([2e3,1]).day(r),o=this.weekdaysMin(a,""),u=this.weekdaysShort(a,""),l=this.weekdays(a,""),t.push(o),n.push(u),s.push(l),i.push(o),i.push(u),i.push(l);for(t.sort(e),n.sort(e),s.sort(e),i.sort(e),r=0;r<7;r++)n[r]=ee(n[r]),s[r]=ee(s[r]),i[r]=ee(i[r]);this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function Ae(){return this.hours()%12||12}function Ie(){return this.hours()||24}function ze(e,t){Z(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function Ze(e,t){return t._meridiemParse}function $e(e){return"p"===(e+"").toLowerCase().charAt(0)}function qe(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function Be(e){return e?e.toLowerCase().replace("_","-"):e}function Je(e){for(var t=0,n,s,i,r;t<e.length;){for(r=Be(e[t]).split("-"),n=r.length,s=Be(e[t+1]),s=s?s.split("-"):null;n>0;){if(i=Qe(r.slice(0,n).join("-")))return i;if(s&&s.length>=n&&k(r,s,!0)>=n-1)break;n--}t++}return null}function Qe(e){var t=null;if(!xi[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=bi._abbr,require("./locale/"+e),Xe(t)}catch(e){}return xi[e]}function Xe(e,t){var n;return e&&(n=_(t)?tt(e):Ke(e,t),n&&(bi=n)),bi._abbr}function Ke(e,t){if(null!==t){var n=Oi;if(t.abbr=e,null!=xi[e])D("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=xi[e]._config;else if(null!=t.parentLocale){if(null==xi[t.parentLocale])return Ti[t.parentLocale]||(Ti[t.parentLocale]=[]),Ti[t.parentLocale].push({name:e,config:t}),null;n=xi[t.parentLocale]._config}return xi[e]=new T(x(n,t)),Ti[e]&&Ti[e].forEach(function(e){Ke(e.name,e.config)}),Xe(e),xi[e]}return delete xi[e],null}function et(e,t){if(null!=t){var n,s=Oi;null!=xi[e]&&(s=xi[e]._config),t=x(s,t),n=new T(t),n.parentLocale=xi[e],xi[e]=n,Xe(e)}else null!=xi[e]&&(null!=xi[e].parentLocale?xi[e]=xi[e].parentLocale:null!=xi[e]&&delete xi[e]);return xi[e]}function tt(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return bi;if(!n(e)){if(t=Qe(e))return t;e=[e]}return Je(e)}function nt(){return Ss(xi)}function st(e){var t,n=e._a;return n&&c(e).overflow===-2&&(t=n[ti]<0||n[ti]>11?ti:n[ni]<1||n[ni]>ie(n[ei],n[ti])?ni:n[si]<0||n[si]>24||24===n[si]&&(0!==n[ii]||0!==n[ri]||0!==n[ai])?si:n[ii]<0||n[ii]>59?ii:n[ri]<0||n[ri]>59?ri:n[ai]<0||n[ai]>999?ai:-1,c(e)._overflowDayOfYear&&(t<ei||t>ni)&&(t=ni),c(e)._overflowWeeks&&t===-1&&(t=oi),c(e)._overflowWeekday&&t===-1&&(t=ui),c(e).overflow=t),e}function it(e){var t,n,s=e._i,i=Pi.exec(s)||Wi.exec(s),r,a,o,u;if(i){for(c(e).iso=!0,t=0,n=Ui.length;t<n;t++)if(Ui[t][1].exec(i[1])){a=Ui[t][0],r=Ui[t][2]!==!1;break}if(null==a)return void(e._isValid=!1);if(i[3]){for(t=0,n=Ci.length;t<n;t++)if(Ci[t][1].exec(i[3])){o=(i[2]||" ")+Ci[t][0];break}if(null==o)return void(e._isValid=!1)}if(!r&&null!=o)return void(e._isValid=!1);if(i[4]){if(!Ri.exec(i[4]))return void(e._isValid=!1);u="Z"}e._f=a+(o||"")+(u||""),dt(e)}else e._isValid=!1}function rt(t){var n=Fi.exec(t._i);return null!==n?void(t._d=new Date((+n[1]))):(it(t),void(t._isValid===!1&&(delete t._isValid,e.createFromInputFallback(t))))}function at(e,t,n){return null!=e?e:null!=t?t:n}function ot(t){var n=new Date(e.now());return t._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function ut(e){var t,n,s=[],i,r;if(!e._d){for(i=ot(e),e._w&&null==e._a[ni]&&null==e._a[ti]&&lt(e),e._dayOfYear&&(r=at(e._a[ei],i[ei]),e._dayOfYear>_e(r)&&(c(e)._overflowDayOfYear=!0),n=we(r,0,e._dayOfYear),e._a[ti]=n.getUTCMonth(),e._a[ni]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=s[t]=i[t];for(;t<7;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[si]&&0===e._a[ii]&&0===e._a[ri]&&0===e._a[ai]&&(e._nextDay=!0,e._a[si]=0),e._d=(e._useUTC?we:pe).apply(null,s),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[si]=24)}}function lt(e){var t,n,s,i,r,a,o,u;if(t=e._w,null!=t.GG||null!=t.W||null!=t.E)r=1,a=4,n=at(t.GG,e._a[ei],Se(pt(),1,4).year),s=at(t.W,1),i=at(t.E,1),(i<1||i>7)&&(u=!0);else{r=e._locale._week.dow,a=e._locale._week.doy;var l=Se(pt(),r,a);n=at(t.gg,e._a[ei],l.year),s=at(t.w,l.week),null!=t.d?(i=t.d,(i<0||i>6)&&(u=!0)):null!=t.e?(i=t.e+r,(t.e<0||t.e>6)&&(u=!0)):i=r}s<1||s>Me(n,r,a)?c(e)._overflowWeeks=!0:null!=u?c(e)._overflowWeekday=!0:(o=ke(n,s,i,r,a),e._a[ei]=o.year,e._dayOfYear=o.dayOfYear)}function dt(t){if(t._f===e.ISO_8601)return void it(t);t._a=[],c(t).empty=!0;var n=""+t._i,s,i,r,a,o,u=n.length,l=0;for(r=J(t._f,t._locale).match(Ws)||[],s=0;s<r.length;s++)a=r[s],i=(n.match(X(a,t))||[])[0],i&&(o=n.substr(0,n.indexOf(i)),o.length>0&&c(t).unusedInput.push(o),n=n.slice(n.indexOf(i)+i.length),l+=i.length),Cs[a]?(i?c(t).empty=!1:c(t).unusedTokens.push(a),se(a,i,t)):t._strict&&!i&&c(t).unusedTokens.push(a);c(t).charsLeftOver=u-l,n.length>0&&c(t).unusedInput.push(n),t._a[si]<=12&&c(t).bigHour===!0&&t._a[si]>0&&(c(t).bigHour=void 0),c(t).parsedDateParts=t._a.slice(0),c(t).meridiem=t._meridiem,t._a[si]=ht(t._locale,t._a[si],t._meridiem),ut(t),st(t)}function ht(e,t,n){var s;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(s=e.isPM(n),s&&t<12&&(t+=12),s||12!==t||(t=0),t):t}function ct(e){var t,n,s,i,r;if(0===e._f.length)return c(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)r=0,t=y({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],dt(t),f(t)&&(r+=c(t).charsLeftOver,r+=10*c(t).unusedTokens.length,c(t).score=r,(null==s||r<s)&&(s=r,n=t));l(e,n||t)}function ft(e){if(!e._d){var t=L(e._i);e._a=o([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),ut(e)}}function mt(e){var t=new g(st(_t(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function _t(e){var t=e._i,s=e._f;return e._locale=e._locale||tt(e._l),null===t||void 0===s&&""===t?m({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),p(t)?new g(st(t)):(a(t)?e._d=t:n(s)?ct(e):s?dt(e):yt(e),f(e)||(e._d=null),e))}function yt(t){var s=t._i;void 0===s?t._d=new Date(e.now()):a(s)?t._d=new Date(s.valueOf()):"string"==typeof s?rt(t):n(s)?(t._a=o(s.slice(0),function(e){return parseInt(e,10)}),ut(t)):"object"==typeof s?ft(t):r(s)?t._d=new Date(s):e.createFromInputFallback(t)}function gt(e,t,r,a,o){var u={};return r!==!0&&r!==!1||(a=r,r=void 0),(s(e)&&i(e)||n(e)&&0===e.length)&&(e=void 0),u._isAMomentObject=!0,u._useUTC=u._isUTC=o,u._l=r,u._i=e,u._f=t,u._strict=a,mt(u)}function pt(e,t,n,s){return gt(e,t,n,s,!1)}function wt(e,t){var s,i;if(1===t.length&&n(t[0])&&(t=t[0]),!t.length)return pt();for(s=t[0],i=1;i<t.length;++i)t[i].isValid()&&!t[i][e](s)||(s=t[i]);return s}function vt(){var e=[].slice.call(arguments,0);return wt("isBefore",e)}function kt(){var e=[].slice.call(arguments,0);return wt("isAfter",e)}function St(e){var t=L(e),n=t.year||0,s=t.quarter||0,i=t.month||0,r=t.week||0,a=t.day||0,o=t.hour||0,u=t.minute||0,l=t.second||0,d=t.millisecond||0;this._milliseconds=+d+1e3*l+6e4*u+1e3*o*60*60,this._days=+a+7*r,this._months=+i+3*s+12*n,this._data={},this._locale=tt(),this._bubble()}function Mt(e){return e instanceof St}function Dt(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function Yt(e,t){Z(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+z(~~(e/60),2)+t+z(~~e%60,2)})}function Ot(e,t){var n=(t||"").match(e);if(null===n)return null;var s=n[n.length-1]||[],i=(s+"").match(Vi)||["-",0,0],r=+(60*i[1])+v(i[2]);return 0===r?0:"+"===i[0]?r:-r}function xt(t,n){var s,i;return n._isUTC?(s=n.clone(),i=(p(t)||a(t)?t.valueOf():pt(t).valueOf())-s.valueOf(),s._d.setTime(s._d.valueOf()+i),e.updateOffset(s,!1),s):pt(t).local()}function Tt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function bt(t,n){var s=this._offset||0,i;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(t=Ot(Bs,t),null===t)return this}else Math.abs(t)<16&&(t=60*t);return!this._isUTC&&n&&(i=Tt(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),s!==t&&(!n||this._changeInProgress?zt(this,jt(t-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?s:Tt(this)}function Pt(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Wt(e){return this.utcOffset(0,e)}function Rt(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Tt(this),"m")),this}function Ut(){if(null!=this._tzm)this.utcOffset(this._tzm);else if("string"==typeof this._i){var e=Ot(qs,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function Ct(e){return!!this.isValid()&&(e=e?pt(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function Ft(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ht(){if(!_(this._isDSTShifted))return this._isDSTShifted;var e={};if(y(e,this),e=_t(e),e._a){var t=e._isUTC?d(e._a):pt(e._a);this._isDSTShifted=this.isValid()&&k(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Lt(){return!!this.isValid()&&!this._isUTC}function Gt(){return!!this.isValid()&&this._isUTC}function Vt(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function jt(e,t){var n=e,s=null,i,a,o;return Mt(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:r(e)?(n={},t?n[t]=e:n.milliseconds=e):(s=ji.exec(e))?(i="-"===s[1]?-1:1,n={y:0,d:v(s[ni])*i,h:v(s[si])*i,m:v(s[ii])*i,s:v(s[ri])*i,ms:v(Dt(1e3*s[ai]))*i}):(s=Ni.exec(e))?(i="-"===s[1]?-1:1,n={y:Nt(s[2],i),M:Nt(s[3],i),w:Nt(s[4],i),d:Nt(s[5],i),h:Nt(s[6],i),m:Nt(s[7],i),s:Nt(s[8],i)}):null==n?n={}:"object"==typeof n&&("from"in n||"to"in n)&&(o=At(pt(n.from),pt(n.to)),n={},n.ms=o.milliseconds,n.M=o.months),a=new St(n),Mt(e)&&u(e,"_locale")&&(a._locale=e._locale),a}function Nt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Et(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function At(e,t){var n;return e.isValid()&&t.isValid()?(t=xt(t,e),e.isBefore(t)?n=Et(e,t):(n=Et(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function It(e,t){return function(n,s){var i,r;return null===s||isNaN(+s)||(D(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=n,n=s,s=r),n="string"==typeof n?+n:n,i=jt(n,s),zt(this,i,e),this}}function zt(t,n,s,i){var r=n._milliseconds,a=Dt(n._days),o=Dt(n._months);t.isValid()&&(i=null==i||i,r&&t._d.setTime(t._d.valueOf()+r*s),a&&E(t,"Date",N(t,"Date")+a*s),o&&le(t,N(t,"Month")+o*s),i&&e.updateOffset(t,a||o))}function Zt(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function $t(t,n){var s=t||pt(),i=xt(s,this).startOf("day"),r=e.calendarFormat(this,i)||"sameElse",a=n&&(Y(n[r])?n[r].call(this,s):n[r]);return this.format(a||this.localeData().calendar(r,this,pt(s)))}function qt(){return new g(this)}function Bt(e,t){var n=p(e)?e:pt(e);return!(!this.isValid()||!n.isValid())&&(t=H(_(t)?"millisecond":t),"millisecond"===t?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function Jt(e,t){var n=p(e)?e:pt(e);return!(!this.isValid()||!n.isValid())&&(t=H(_(t)?"millisecond":t),"millisecond"===t?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function Qt(e,t,n,s){return s=s||"()",("("===s[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===s[1]?this.isBefore(t,n):!this.isAfter(t,n))}function Xt(e,t){var n=p(e)?e:pt(e),s;return!(!this.isValid()||!n.isValid())&&(t=H(t||"millisecond"),"millisecond"===t?this.valueOf()===n.valueOf():(s=n.valueOf(),this.clone().startOf(t).valueOf()<=s&&s<=this.clone().endOf(t).valueOf()))}function Kt(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function en(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function tn(e,t,n){var s,i,r,a;return this.isValid()?(s=xt(e,this),s.isValid()?(i=6e4*(s.utcOffset()-this.utcOffset()),t=H(t),"year"===t||"month"===t||"quarter"===t?(a=nn(this,s),"quarter"===t?a/=3:"year"===t&&(a/=12)):(r=this-s,a="second"===t?r/1e3:"minute"===t?r/6e4:"hour"===t?r/36e5:"day"===t?(r-i)/864e5:"week"===t?(r-i)/6048e5:r),n?a:w(a)):NaN):NaN}function nn(e,t){var n=12*(t.year()-e.year())+(t.month()-e.month()),s=e.clone().add(n,"months"),i,r;return t-s<0?(i=e.clone().add(n-1,"months"),r=(t-s)/(s-i)):(i=e.clone().add(n+1,"months"),r=(t-s)/(i-s)),-(n+r)||0}function sn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function rn(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?Y(Date.prototype.toISOString)?this.toDate().toISOString():B(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):B(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function an(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',s=0<this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",r=t+'[")]';return this.format(n+s+i+r)}function on(t){t||(t=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var n=B(this,t);return this.localeData().postformat(n)}function un(e,t){return this.isValid()&&(p(e)&&e.isValid()||pt(e).isValid())?jt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ln(e){return this.from(pt(),e)}function dn(e,t){return this.isValid()&&(p(e)&&e.isValid()||pt(e).isValid())?jt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function hn(e){return this.to(pt(),e)}function cn(e){var t;return void 0===e?this._locale._abbr:(t=tt(e),null!=t&&(this._locale=t),this)}function fn(){return this._locale}function mn(e){switch(e=H(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function _n(e){return e=H(e),void 0===e||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))}function yn(){return this._d.valueOf()-6e4*(this._offset||0)}function gn(){return Math.floor(this.valueOf()/1e3)}function pn(){return new Date(this.valueOf())}function wn(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function vn(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function kn(){return this.isValid()?this.toISOString():null}function Sn(){return f(this)}function Mn(){return l({},c(this))}function Dn(){return c(this).overflow}function Yn(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function On(e,t){Z(0,[e,e.length],0,t)}function xn(e){return Wn.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Tn(e){return Wn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function bn(){return Me(this.year(),1,4)}function Pn(){var e=this.localeData()._week;return Me(this.year(),e.dow,e.doy)}function Wn(e,t,n,s,i){var r;return null==e?Se(this,s,i).year:(r=Me(e,s,i),t>r&&(t=r),Rn.call(this,e,t,n,s,i))}function Rn(e,t,n,s,i){var r=ke(e,t,n,s,i),a=we(r.year,0,r.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function Un(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function Cn(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function Fn(e,t){t[ai]=v(1e3*("0."+e))}function Hn(){return this._isUTC?"UTC":""}function Ln(){return this._isUTC?"Coordinated Universal Time":""}function Gn(e){return pt(1e3*e)}function Vn(){return pt.apply(null,arguments).parseZone()}function jn(e){return e}function Nn(e,t,n,s){var i=tt(),r=d().set(s,t);return i[n](r,e)}function En(e,t,n){if(r(e)&&(t=e,e=void 0),
e=e||"",null!=t)return Nn(e,t,n,"month");var s,i=[];for(s=0;s<12;s++)i[s]=Nn(e,s,n,"month");return i}function An(e,t,n,s){"boolean"==typeof e?(r(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,r(t)&&(n=t,t=void 0),t=t||"");var i=tt(),a=e?i._week.dow:0;if(null!=n)return Nn(t,(n+a)%7,s,"day");var o,u=[];for(o=0;o<7;o++)u[o]=Nn(t,(o+a)%7,s,"day");return u}function In(e,t){return En(e,t,"months")}function zn(e,t){return En(e,t,"monthsShort")}function Zn(e,t,n){return An(e,t,n,"weekdays")}function $n(e,t,n){return An(e,t,n,"weekdaysShort")}function qn(e,t,n){return An(e,t,n,"weekdaysMin")}function Bn(){var e=this._data;return this._milliseconds=Xi(this._milliseconds),this._days=Xi(this._days),this._months=Xi(this._months),e.milliseconds=Xi(e.milliseconds),e.seconds=Xi(e.seconds),e.minutes=Xi(e.minutes),e.hours=Xi(e.hours),e.months=Xi(e.months),e.years=Xi(e.years),this}function Jn(e,t,n,s){var i=jt(t,n);return e._milliseconds+=s*i._milliseconds,e._days+=s*i._days,e._months+=s*i._months,e._bubble()}function Qn(e,t){return Jn(this,e,t,1)}function Xn(e,t){return Jn(this,e,t,-1)}function Kn(e){return e<0?Math.floor(e):Math.ceil(e)}function es(){var e=this._milliseconds,t=this._days,n=this._months,s=this._data,i,r,a,o,u;return e>=0&&t>=0&&n>=0||e<=0&&t<=0&&n<=0||(e+=864e5*Kn(ns(n)+t),t=0,n=0),s.milliseconds=e%1e3,i=w(e/1e3),s.seconds=i%60,r=w(i/60),s.minutes=r%60,a=w(r/60),s.hours=a%24,t+=w(a/24),u=w(ts(t)),n+=u,t-=Kn(ns(u)),o=w(n/12),n%=12,s.days=t,s.months=n,s.years=o,this}function ts(e){return 4800*e/146097}function ns(e){return 146097*e/4800}function ss(e){var t,n,s=this._milliseconds;if(e=H(e),"month"===e||"year"===e)return t=this._days+s/864e5,n=this._months+ts(t),"month"===e?n:n/12;switch(t=this._days+Math.round(ns(this._months)),e){case"week":return t/7+s/6048e5;case"day":return t+s/864e5;case"hour":return 24*t+s/36e5;case"minute":return 1440*t+s/6e4;case"second":return 86400*t+s/1e3;case"millisecond":return Math.floor(864e5*t)+s;default:throw new Error("Unknown unit "+e)}}function is(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*v(this._months/12)}function rs(e){return function(){return this.as(e)}}function as(e){return e=H(e),this[e+"s"]()}function os(e){return function(){return this._data[e]}}function us(){return w(this.days()/7)}function ls(e,t,n,s,i){return i.relativeTime(t||1,!!n,e,s)}function ds(e,t,n){var s=jt(e).abs(),i=mr(s.as("s")),r=mr(s.as("m")),a=mr(s.as("h")),o=mr(s.as("d")),u=mr(s.as("M")),l=mr(s.as("y")),d=i<_r.s&&["s",i]||r<=1&&["m"]||r<_r.m&&["mm",r]||a<=1&&["h"]||a<_r.h&&["hh",a]||o<=1&&["d"]||o<_r.d&&["dd",o]||u<=1&&["M"]||u<_r.M&&["MM",u]||l<=1&&["y"]||["yy",l];return d[2]=t,d[3]=+e>0,d[4]=n,ls.apply(null,d)}function hs(e){return void 0===e?mr:"function"==typeof e&&(mr=e,!0)}function cs(e,t){return void 0!==_r[e]&&(void 0===t?_r[e]:(_r[e]=t,!0))}function fs(e){var t=this.localeData(),n=ds(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function ms(){var e=yr(this._milliseconds)/1e3,t=yr(this._days),n=yr(this._months),s,i,r;s=w(e/60),i=w(s/60),e%=60,s%=60,r=w(n/12),n%=12;var a=r,o=n,u=t,l=i,d=s,h=e,c=this.asSeconds();return c?(c<0?"-":"")+"P"+(a?a+"Y":"")+(o?o+"M":"")+(u?u+"D":"")+(l||d||h?"T":"")+(l?l+"H":"")+(d?d+"M":"")+(h?h+"S":""):"P0D"}var _s,ys;ys=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,s=0;s<n;s++)if(s in t&&e.call(this,t[s],s,t))return!0;return!1};var gs=ys,ps=e.momentProperties=[],ws=!1,vs={};e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;var ks;ks=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)u(e,t)&&n.push(t);return n};var Ss=ks,Ms={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Ds={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Ys="Invalid date",Os="%d",xs=/\d{1,2}/,Ts={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},bs={},Ps={},Ws=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Rs=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Us={},Cs={},Fs=/\d/,Hs=/\d\d/,Ls=/\d{3}/,Gs=/\d{4}/,Vs=/[+-]?\d{6}/,js=/\d\d?/,Ns=/\d\d\d\d?/,Es=/\d\d\d\d\d\d?/,As=/\d{1,3}/,Is=/\d{1,4}/,zs=/[+-]?\d{1,6}/,Zs=/\d+/,$s=/[+-]?\d+/,qs=/Z|[+-]\d\d:?\d\d/gi,Bs=/Z|[+-]\d\d(?::?\d\d)?/gi,Js=/[+-]?\d+(\.\d{1,3})?/,Qs=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Xs={},Ks={},ei=0,ti=1,ni=2,si=3,ii=4,ri=5,ai=6,oi=7,ui=8,li;li=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};var di=li;Z("M",["MM",2],"Mo",function(){return this.month()+1}),Z("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),Z("MMMM",0,0,function(e){return this.localeData().months(this,e)}),F("month","M"),G("month",8),Q("M",js),Q("MM",js,Hs),Q("MMM",function(e,t){return t.monthsShortRegex(e)}),Q("MMMM",function(e,t){return t.monthsRegex(e)}),te(["M","MM"],function(e,t){t[ti]=v(e)-1}),te(["MMM","MMMM"],function(e,t,n,s){var i=n._locale.monthsParse(e,s,n._strict);null!=i?t[ti]=i:c(n).invalidMonth=e});var hi=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ci="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),fi="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),mi=Qs,_i=Qs;Z("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),Z(0,["YY",2],0,function(){return this.year()%100}),Z(0,["YYYY",4],0,"year"),Z(0,["YYYYY",5],0,"year"),Z(0,["YYYYYY",6,!0],0,"year"),F("year","y"),G("year",1),Q("Y",$s),Q("YY",js,Hs),Q("YYYY",Is,Gs),Q("YYYYY",zs,Vs),Q("YYYYYY",zs,Vs),te(["YYYYY","YYYYYY"],ei),te("YYYY",function(t,n){n[ei]=2===t.length?e.parseTwoDigitYear(t):v(t)}),te("YY",function(t,n){n[ei]=e.parseTwoDigitYear(t)}),te("Y",function(e,t){t[ei]=parseInt(e,10)}),e.parseTwoDigitYear=function(e){return v(e)+(v(e)>68?1900:2e3)};var yi=j("FullYear",!0);Z("w",["ww",2],"wo","week"),Z("W",["WW",2],"Wo","isoWeek"),F("week","w"),F("isoWeek","W"),G("week",5),G("isoWeek",5),Q("w",js),Q("ww",js,Hs),Q("W",js),Q("WW",js,Hs),ne(["w","ww","W","WW"],function(e,t,n,s){t[s.substr(0,1)]=v(e)});var gi={dow:0,doy:6};Z("d",0,"do","day"),Z("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),Z("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),Z("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),Z("e",0,0,"weekday"),Z("E",0,0,"isoWeekday"),F("day","d"),F("weekday","e"),F("isoWeekday","E"),G("day",11),G("weekday",11),G("isoWeekday",11),Q("d",js),Q("e",js),Q("E",js),Q("dd",function(e,t){return t.weekdaysMinRegex(e)}),Q("ddd",function(e,t){return t.weekdaysShortRegex(e)}),Q("dddd",function(e,t){return t.weekdaysRegex(e)}),ne(["dd","ddd","dddd"],function(e,t,n,s){var i=n._locale.weekdaysParse(e,s,n._strict);null!=i?t.d=i:c(n).invalidWeekday=e}),ne(["d","e","E"],function(e,t,n,s){t[s]=v(e)});var pi="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),wi="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),vi="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),ki=Qs,Si=Qs,Mi=Qs;Z("H",["HH",2],0,"hour"),Z("h",["hh",2],0,Ae),Z("k",["kk",2],0,Ie),Z("hmm",0,0,function(){return""+Ae.apply(this)+z(this.minutes(),2)}),Z("hmmss",0,0,function(){return""+Ae.apply(this)+z(this.minutes(),2)+z(this.seconds(),2)}),Z("Hmm",0,0,function(){return""+this.hours()+z(this.minutes(),2)}),Z("Hmmss",0,0,function(){return""+this.hours()+z(this.minutes(),2)+z(this.seconds(),2)}),ze("a",!0),ze("A",!1),F("hour","h"),G("hour",13),Q("a",Ze),Q("A",Ze),Q("H",js),Q("h",js),Q("HH",js,Hs),Q("hh",js,Hs),Q("hmm",Ns),Q("hmmss",Es),Q("Hmm",Ns),Q("Hmmss",Es),te(["H","HH"],si),te(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),te(["h","hh"],function(e,t,n){t[si]=v(e),c(n).bigHour=!0}),te("hmm",function(e,t,n){var s=e.length-2;t[si]=v(e.substr(0,s)),t[ii]=v(e.substr(s)),c(n).bigHour=!0}),te("hmmss",function(e,t,n){var s=e.length-4,i=e.length-2;t[si]=v(e.substr(0,s)),t[ii]=v(e.substr(s,2)),t[ri]=v(e.substr(i)),c(n).bigHour=!0}),te("Hmm",function(e,t,n){var s=e.length-2;t[si]=v(e.substr(0,s)),t[ii]=v(e.substr(s))}),te("Hmmss",function(e,t,n){var s=e.length-4,i=e.length-2;t[si]=v(e.substr(0,s)),t[ii]=v(e.substr(s,2)),t[ri]=v(e.substr(i))});var Di=/[ap]\.?m?\.?/i,Yi=j("Hours",!0),Oi={calendar:Ms,longDateFormat:Ds,invalidDate:Ys,ordinal:Os,ordinalParse:xs,relativeTime:Ts,months:ci,monthsShort:fi,week:gi,weekdays:pi,weekdaysMin:vi,weekdaysShort:wi,meridiemParse:Di},xi={},Ti={},bi,Pi=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Wi=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ri=/Z|[+-]\d\d(?::?\d\d)?/,Ui=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Ci=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Fi=/^\/?Date\((\-?\d+)/i;e.createFromInputFallback=M("value provided is not in a recognized ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),e.ISO_8601=function(){};var Hi=M("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=pt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:m()}),Li=M("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=pt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:m()}),Gi=function(){return Date.now?Date.now():+new Date};Yt("Z",":"),Yt("ZZ",""),Q("Z",Bs),Q("ZZ",Bs),te(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Ot(Bs,e)});var Vi=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var ji=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Ni=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;jt.fn=St.prototype;var Ei=It(1,"add"),Ai=It(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Ii=M("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});Z(0,["gg",2],0,function(){return this.weekYear()%100}),Z(0,["GG",2],0,function(){return this.isoWeekYear()%100}),On("gggg","weekYear"),On("ggggg","weekYear"),On("GGGG","isoWeekYear"),On("GGGGG","isoWeekYear"),F("weekYear","gg"),F("isoWeekYear","GG"),G("weekYear",1),G("isoWeekYear",1),Q("G",$s),Q("g",$s),Q("GG",js,Hs),Q("gg",js,Hs),Q("GGGG",Is,Gs),Q("gggg",Is,Gs),Q("GGGGG",zs,Vs),Q("ggggg",zs,Vs),ne(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,s){t[s.substr(0,2)]=v(e)}),ne(["gg","GG"],function(t,n,s,i){n[i]=e.parseTwoDigitYear(t)}),Z("Q",0,"Qo","quarter"),F("quarter","Q"),G("quarter",7),Q("Q",Fs),te("Q",function(e,t){t[ti]=3*(v(e)-1)}),Z("D",["DD",2],"Do","date"),F("date","D"),G("date",9),Q("D",js),Q("DD",js,Hs),Q("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),te(["D","DD"],ni),te("Do",function(e,t){t[ni]=v(e.match(js)[0],10)});var zi=j("Date",!0);Z("DDD",["DDDD",3],"DDDo","dayOfYear"),F("dayOfYear","DDD"),G("dayOfYear",4),Q("DDD",As),Q("DDDD",Ls),te(["DDD","DDDD"],function(e,t,n){n._dayOfYear=v(e)}),Z("m",["mm",2],0,"minute"),F("minute","m"),G("minute",14),Q("m",js),Q("mm",js,Hs),te(["m","mm"],ii);var Zi=j("Minutes",!1);Z("s",["ss",2],0,"second"),F("second","s"),G("second",15),Q("s",js),Q("ss",js,Hs),te(["s","ss"],ri);var $i=j("Seconds",!1);Z("S",0,0,function(){return~~(this.millisecond()/100)}),Z(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Z(0,["SSS",3],0,"millisecond"),Z(0,["SSSS",4],0,function(){return 10*this.millisecond()}),Z(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),Z(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),Z(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),Z(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),Z(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),F("millisecond","ms"),G("millisecond",16),Q("S",As,Fs),Q("SS",As,Hs),Q("SSS",As,Ls);var qi;for(qi="SSSS";qi.length<=9;qi+="S")Q(qi,Zs);for(qi="S";qi.length<=9;qi+="S")te(qi,Fn);var Bi=j("Milliseconds",!1);Z("z",0,0,"zoneAbbr"),Z("zz",0,0,"zoneName");var Ji=g.prototype;Ji.add=Ei,Ji.calendar=$t,Ji.clone=qt,Ji.diff=tn,Ji.endOf=_n,Ji.format=on,Ji.from=un,Ji.fromNow=ln,Ji.to=dn,Ji.toNow=hn,Ji.get=A,Ji.invalidAt=Dn,Ji.isAfter=Bt,Ji.isBefore=Jt,Ji.isBetween=Qt,Ji.isSame=Xt,Ji.isSameOrAfter=Kt,Ji.isSameOrBefore=en,Ji.isValid=Sn,Ji.lang=Ii,Ji.locale=cn,Ji.localeData=fn,Ji.max=Li,Ji.min=Hi,Ji.parsingFlags=Mn,Ji.set=I,Ji.startOf=mn,Ji.subtract=Ai,Ji.toArray=wn,Ji.toObject=vn,Ji.toDate=pn,Ji.toISOString=rn,Ji.inspect=an,Ji.toJSON=kn,Ji.toString=sn,Ji.unix=gn,Ji.valueOf=yn,Ji.creationData=Yn,Ji.year=yi,Ji.isLeapYear=ge,Ji.weekYear=xn,Ji.isoWeekYear=Tn,Ji.quarter=Ji.quarters=Un,Ji.month=de,Ji.daysInMonth=he,Ji.week=Ji.weeks=xe,Ji.isoWeek=Ji.isoWeeks=Te,Ji.weeksInYear=Pn,Ji.isoWeeksInYear=bn,Ji.date=zi,Ji.day=Ji.days=He,Ji.weekday=Le,Ji.isoWeekday=Ge,Ji.dayOfYear=Cn,Ji.hour=Ji.hours=Yi,Ji.minute=Ji.minutes=Zi,Ji.second=Ji.seconds=$i,Ji.millisecond=Ji.milliseconds=Bi,Ji.utcOffset=bt,Ji.utc=Wt,Ji.local=Rt,Ji.parseZone=Ut,Ji.hasAlignedHourOffset=Ct,Ji.isDST=Ft,Ji.isLocal=Lt,Ji.isUtcOffset=Gt,Ji.isUtc=Vt,Ji.isUTC=Vt,Ji.zoneAbbr=Hn,Ji.zoneName=Ln,Ji.dates=M("dates accessor is deprecated. Use date instead.",zi),Ji.months=M("months accessor is deprecated. Use month instead",de),Ji.years=M("years accessor is deprecated. Use year instead",yi),Ji.zone=M("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Pt),Ji.isDSTShifted=M("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Ht);var Qi=T.prototype;Qi.calendar=b,Qi.longDateFormat=P,Qi.invalidDate=W,Qi.ordinal=R,Qi.preparse=jn,Qi.postformat=jn,Qi.relativeTime=U,Qi.pastFuture=C,Qi.set=O,Qi.months=re,Qi.monthsShort=ae,Qi.monthsParse=ue,Qi.monthsRegex=fe,Qi.monthsShortRegex=ce,Qi.week=De,Qi.firstDayOfYear=Oe,Qi.firstDayOfWeek=Ye,Qi.weekdays=We,Qi.weekdaysMin=Ue,Qi.weekdaysShort=Re,Qi.weekdaysParse=Fe,Qi.weekdaysRegex=Ve,Qi.weekdaysShortRegex=je,Qi.weekdaysMinRegex=Ne,Qi.isPM=$e,Qi.meridiem=qe,Xe("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===v(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),e.lang=M("moment.lang is deprecated. Use moment.locale instead.",Xe),e.langData=M("moment.langData is deprecated. Use moment.localeData instead.",tt);var Xi=Math.abs,Ki=rs("ms"),er=rs("s"),tr=rs("m"),nr=rs("h"),sr=rs("d"),ir=rs("w"),rr=rs("M"),ar=rs("y"),or=os("milliseconds"),ur=os("seconds"),lr=os("minutes"),dr=os("hours"),hr=os("days"),cr=os("months"),fr=os("years"),mr=Math.round,_r={s:45,m:45,h:22,d:26,M:11},yr=Math.abs,gr=St.prototype;return gr.abs=Bn,gr.add=Qn,gr.subtract=Xn,gr.as=ss,gr.asMilliseconds=Ki,gr.asSeconds=er,gr.asMinutes=tr,gr.asHours=nr,gr.asDays=sr,gr.asWeeks=ir,gr.asMonths=rr,gr.asYears=ar,gr.valueOf=is,gr._bubble=es,gr.get=as,gr.milliseconds=or,gr.seconds=ur,gr.minutes=lr,gr.hours=dr,gr.days=hr,gr.weeks=us,gr.months=cr,gr.years=fr,gr.humanize=fs,gr.toISOString=ms,gr.toString=ms,gr.toJSON=ms,gr.locale=cn,gr.localeData=fn,gr.toIsoString=M("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ms),gr.lang=Ii,Z("X",0,0,"unix"),Z("x",0,0,"valueOf"),Q("x",$s),Q("X",Js),te("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),te("x",function(e,t,n){n._d=new Date(v(e))}),e.version="2.17.1",t(pt),e.fn=Ji,e.min=vt,e.max=kt,e.now=Gi,e.utc=d,e.unix=Gn,e.months=In,e.isDate=a,e.locale=Xe,e.invalid=m,e.duration=jt,e.isMoment=p,e.weekdays=Zn,e.parseZone=Vn,e.localeData=tt,e.isDuration=Mt,e.monthsShort=zn,e.weekdaysMin=qn,e.defineLocale=Ke,e.updateLocale=et,e.locales=nt,e.weekdaysShort=$n,e.normalizeUnits=H,e.relativeTimeRounding=hs,e.relativeTimeThreshold=cs,e.calendarFormat=Zt,e.prototype=Ji,e})}).call(this),function(){s=this.moment;try{delete this.moment}catch(e){}}.call(this),"undefined"==typeof Package&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package["momentjs:moment"]={},{moment:s})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,i=Package["aldeed:simple-schema"].SimpleSchema,r=Package["aldeed:simple-schema"].MongoObject,o=Package.underscore._,a=Package.check.check,s=Package.check.Match,c=Package.mongo.Mongo,l=Package.minimongo.LocalCollection,u=Package.minimongo.Minimongo,m=Package.ejson.EJSON,d=Package["raix:eventemitter"].EventEmitter,f;(function(){function t(t,i,r,l,u){function m(e,n,i,r,a,s){E.clean(e,{mutate:!0,filter:i,autoConvert:r,getAutoValues:n,isModifier:"insert"!==t,removeEmptyStrings:a,trimStrings:s,extendAutoValueContext:o.extend({isInsert:"insert"===t,isUpdate:"update"===t&&_.upsert!==!0,isUpsert:v,userId:l,isFromTrustedCode:u,docId:I,isLocalCollection:k},_.extendAutoValueContext||{})})}var d=this,f,p,h,_,v,g,y,S;if(!i.length)throw new Error(t+" requires an argument");if("insert"===t)f=i[0],_=i[1],p=i[2],i="function"==typeof _?[f,_]:"function"==typeof p?[f,p]:[f];else{if("update"!==t)throw new Error("invalid type argument");g=i[0],f=i[1],_=i[2],p=i[3]}var C=o.isEmpty(f);p||"function"!=typeof _||(p=_,_={}),_=_||{},y=i.length-1,S="function"==typeof i[y],v="update"===t&&_.upsert===!0;var E=d.simpleSchema(f,_,g),k=null===d._connection;(e.isServer||k)&&_.getAutoValues===!1&&(r=!1);var w=_.validationContext;w?"string"==typeof w&&(w=E.namedContext(w)):w=E.namedContext(),e.isClient&&!p&&(p=function(n){n&&e._debug(t+" failed: "+(n.reason||n.stack))}),e.isClient&&S&&(p=i[y]=s(w,p));var x=E.allowsKey("_id");"insert"===t&&!f._id&&x&&(f._id=d._makeNewID());var I;"insert"===t?I=f._id:"update"===t&&g&&(I="string"==typeof g||g instanceof c.ObjectID?g:g._id);var P;f._id&&!x&&(P=f._id,delete f._id),m(f,r,_.filter!==!1,_.autoConvert!==!1,_.removeEmptyStrings!==!1,_.trimStrings!==!1);var A={};for(var M in f)f.hasOwnProperty(M)&&(A[M]=f[M]);if(e.isServer&&v&&o.isObject(g)){var O=A.$set||{};A.$set=o.clone(g),x||delete A.$set._id,o.extend(A.$set,O)}if(e.isClient&&!k&&m(A,!0,!1,!1,!1,!1),!C&&o.isEmpty(A))throw new Error("After filtering out keys not in the schema, your "+("update"===t?"modifier":"object")+" is now empty");var V;if(V=_.validate===!1||w.validate(A,{modifier:"update"===t||"upsert"===t,upsert:v,extendedCustomContext:o.extend({isInsert:"insert"===t,isUpdate:"update"===t&&_.upsert!==!0,isUpsert:v,userId:l,isFromTrustedCode:u,docId:I,isLocalCollection:k},_.extendedCustomContext||{})}))return P&&(f._id=P),"insert"===t?i[0]=f:i[1]=f,e.isServer&&S&&(i[y]=a(w,i[y])),i;if(h=n(w),!p)throw h;p(h,!1)}function n(t){var n,r=i.version>=2?t.validationErrors():t.invalidKeys();n=r.length?t.keyErrorMessage(r[0].name):"Failed validation";var o=new Error(n);return o.invalidKeys=r,o.validationContext=t,e.isServer&&(o.sanitizedError=new e.Error(400,n,m.stringify(o.invalidKeys))),o}function r(e,t){var n=t.split("c2_")[1].split(" ")[0],i=t.split("dup key:")[1].split('"')[1];e[h]([{name:n,type:"notUnique",value:i}])}function a(e,t){return function i(a){var s=o.toArray(arguments);return a&&("MongoError"===a.name&&11001===a.code||a.message.indexOf(!0))&&a.message.indexOf("c2_")!==-1&&(r(e,a.message),s[0]=n(e)),t.apply(this,s)}}function s(t,i){return function a(s){var c=o.toArray(arguments);if(s instanceof e.Error&&400===s.error&&"INVALID"===s.reason&&"string"==typeof s.details){var l=m.parse(s.details);t[h](l),c[0]=n(t)}else s instanceof e.Error&&409===s.error&&s.reason&&s.reason.indexOf("E11000")!==-1&&s.reason.indexOf("c2_")!==-1&&(r(t,s.reason),c[0]=n(t));return i.apply(this,c)}}function u(e){Package&&Package.insecure&&!_[e._name]&&(e.allow({insert:function(){return!0},update:function(){return!0},remove:function(){return!0},fetch:[],transform:null}),_[e._name]=!0)}function p(n,i){if(!v[n._name]){var r=null===n._connection;n.deny({insert:function(e,t){return n.simpleSchema(t).clean(t,{mutate:!0,isModifier:!1,filter:!1,autoConvert:!1,removeEmptyStrings:!1,trimStrings:!1,extendAutoValueContext:{isInsert:!0,isUpdate:!1,isUpsert:!1,userId:e,isFromTrustedCode:!1,docId:t._id,isLocalCollection:r}}),!1},update:function(e,t,i,o){return n.simpleSchema(o).clean(o,{mutate:!0,isModifier:!0,filter:!1,autoConvert:!1,removeEmptyStrings:!1,trimStrings:!1,extendAutoValueContext:{isInsert:!1,isUpdate:!0,isUpsert:!1,userId:e,isFromTrustedCode:!1,docId:t&&t._id,isLocalCollection:r}}),!1},fetch:["_id"],transform:null}),n.deny(o.extend({insert:function(i,r){return t.call(n,"insert",[r,{trimStrings:!1,removeEmptyStrings:!1,filter:!1,autoConvert:!1},function(t){if(t)throw new e.Error(400,"INVALID",m.stringify(t.invalidKeys))}],!1,i,!1),!1},update:function(i,r,o,a){return t.call(n,"update",[{_id:r&&r._id},a,{trimStrings:!1,removeEmptyStrings:!1,filter:!1,autoConvert:!1},function(t){if(t)throw new e.Error(400,"INVALID",m.stringify(t.invalidKeys))}],!1,i,!1),!1},fetch:["_id"]},i.transform===!0?{}:{transform:null})),v[n._name]=!0}}f=new d,"undefined"==typeof c&&(c={},c.Collection=e.Collection);var h=i.version>=2?"addValidationErrors":"addInvalidKeys";c.Collection.prototype.attachSchema=function e(t,n){function r(e){if("object"==typeof c){var r=-1;e._c2._simpleSchemas=e._c2._simpleSchemas||[],e._c2._simpleSchemas.forEach(function(e,t){o.isEqual(e.selector,c)&&(r=t)}),r===-1?e._c2._simpleSchemas.push({schema:new i(t),selector:c}):n.replace!==!0?e._c2._simpleSchemas[r].schema.version>=2?e._c2._simpleSchemas[r].schema.extend(t):e._c2._simpleSchemas[r].schema=new i([e._c2._simpleSchemas[r].schema,t]):e._c2._simpleSchemas[r].schema=t,delete e._c2._simpleSchema}else e._c2._simpleSchema=t,delete e._c2._simpleSchemas}var a=this;if(n=n||{},t instanceof i||(t=new i(t)),a._c2=a._c2||{},a._c2._simpleSchema&&n.replace!==!0)if(t.version>=2){var s=new i(a._c2._simpleSchema);s.extend(t),t=s}else t=new i([a._c2._simpleSchema,t]);var c=n.selector;r(a),a._collection instanceof l&&(a._collection._c2=a._collection._c2||{},r(a._collection)),p(a,n),u(a),f.emit("schema.attached",a,t,n)},o.each([c.Collection,l],function(e){e.prototype.simpleSchema=function(e,t,n){if(!this._c2)return null;if(this._c2._simpleSchema)return this._c2._simpleSchema;var i=this._c2._simpleSchemas;if(i&&i.length>0){if(!e)throw new Error("collection.simpleSchema() requires doc argument when there are multiple schemas");for(var r,o,a,s=0;s<i.length;s++)if(r=i[s],o=Object.keys(r.selector)[0],a=void 0,e.$set&&"undefined"!=typeof e.$set[o]?a=e.$set[o]:"undefined"!=typeof e[o]?a=e[o]:t&&t.selector?a=t.selector[o]:n&&n[o]&&(a=n[o]),void 0!==a&&a===r.selector[o])return r.schema}return null}}),o.each(["insert","update"],function(n){var i=c.Collection.prototype[n];c.Collection.prototype[n]=function(){var r=this,a,s=o.toArray(arguments);if(a="insert"===n?s[1]:s[2],a&&"function"!=typeof a||(a={}),r._c2&&a.bypassCollection2!==!0){var c=null;try{c=e.userId()}catch(e){}if(s=t.call(r,n,s,!0,c,e.isServer),!s)return"insert"===n?r._makeNewID():void 0}else"insert"===n&&"function"!=typeof s[1]&&s.splice(1,1);return i.apply(r,s)}});var _={},v={}}).call(this),"undefined"==typeof Package&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package["aldeed:collection2-core"]={},{Collection2:f})}();

!function(){var e=Package.meteor.Meteor,a=Package.meteor.global,n=Package.meteor.meteorEnv,o=Package["aldeed:collection2-core"].Collection2,c=Package.underscore._,i=Package.minimongo.LocalCollection,s=Package.minimongo.Minimongo,t=Package.check.check,m=Package.check.Match,r=Package.modules.meteorInstall,l=Package.modules.Buffer,u=Package.modules.process,g=Package["ecmascript-runtime"].Symbol,d=Package["ecmascript-runtime"].Map,k=Package["ecmascript-runtime"].Set,P=Package["babel-runtime"].meteorBabelHelpers,p=Package.promise.Promise,h=Package["aldeed:simple-schema"].SimpleSchema,b=Package["aldeed:simple-schema"].MongoObject,f=Package.mongo.Mongo,x=r({node_modules:{meteor:{"aldeed:schema-index":{lib:{"indexing.js":function(){h.extendOptions({index:m.Optional(m.OneOf(Number,String,Boolean)),unique:m.Optional(Boolean),sparse:m.Optional(Boolean)}),(!h.version||h.version<2)&&h.messages({notUnique:"[label] must be unique"}),e.isServer&&o.on("schema.attached",function(a,n){function o(n,o,c,i){e.startup(function(){a._collection._ensureIndex(n,{background:!0,name:o,unique:c,sparse:i})})}function i(n){e.startup(function(){try{a._collection._dropIndex(n)}catch(e){}})}n.version>=2&&n.messageBox.messages({notUnique:"{{label}} must be unique"});var s=2===n.version?"mergedSchema":"schema";c.each(n[s](),function(e,a){if("index"in e||e.unique===!0){var n={},c;"index"in e?(c=e.index,c===!0&&(c=1)):c=1;var s="c2_"+a,t=a.replace(/\.\$\./g,".");n[t]=c;var m=!!e.unique&&(1===c||c===-1),r=e.sparse||!1;!r&&m&&e.optional&&(r=!0),c===!1?i(s):o(n,s,m,r)}})})}}}}}},{extensions:[".js",".json"]});x("./node_modules/meteor/aldeed:schema-index/lib/indexing.js"),"undefined"==typeof Package&&(Package={}),Package["aldeed:schema-index"]={}}();

!function(){var e=Package.meteor.Meteor,a=Package.meteor.global,n=Package.meteor.meteorEnv,o=Package["aldeed:collection2-core"].Collection2,t=Package.underscore._,i=Package.minimongo.LocalCollection,c=Package.minimongo.Minimongo,l=Package.check.check,s=Package.check.Match,d=Package["aldeed:simple-schema"].SimpleSchema,g=Package["aldeed:simple-schema"].MongoObject,r=Package.mongo.Mongo;(function(){d.extendOptions({denyInsert:s.Optional(Boolean),denyUpdate:s.Optional(Boolean)}),(!d.version||d.version<2)&&d.messages({insertNotAllowed:"[label] cannot be set during an insert",updateNotAllowed:"[label] cannot be set during an update"}),o.on("schema.attached",function(e,a){a.version>=2&&a.messageBox.messages({insertNotAllowed:"{{label}} cannot be set during an insert",updateNotAllowed:"{{label}} cannot be set during an update"}),a.addValidator(function(){if(this.isSet){var e=this.definition;return e.denyInsert&&this.isInsert?"insertNotAllowed":e.denyUpdate&&(this.isUpdate||this.isUpsert)?"updateNotAllowed":void 0}})})}).call(this),"undefined"==typeof Package&&(Package={}),Package["aldeed:schema-deny"]={}}();

!function(){"undefined"==typeof Package&&(Package={}),Package["aldeed:collection2"]={}}();

!function(){var t=Package.meteor.Meteor,e=Package.meteor.global,n=Package.meteor.meteorEnv,o=Package["aldeed:simple-schema"].SimpleSchema,a=Package["aldeed:simple-schema"].MongoObject,r=Package.check.check,u=Package.check.Match,i=Package["ddp-client"].DDP,l=Package.underscore._,s=Package.tracker.Tracker,c=Package.tracker.Deps,f=Package["templating-runtime"].Template,p=Package.blaze.Blaze,m=Package.blaze.UI,d=Package.blaze.Handlebars,h=Package.ejson.EJSON,v=Package["reactive-var"].ReactiveVar,k=Package["reactive-dict"].ReactiveDict,b=Package.random.Random,y=Package.jquery.$,g=Package.jquery.jQuery,T=Package["momentjs:moment"].moment,F=Package.htmljs.HTML,A=Package.spacebars.Spacebars,I,_,C,x,D,w,N,S,V,M,L,O,E,P,U,G,B,R,j;(function(){o.extendOptions({autoform:u.Optional(Object)})}).call(this),function(){I={componentTypeList:["afArrayField","afEachArrayItem","afFieldInput","afFormGroup","afObjectField","afQuickField","afQuickFields","autoForm","quickForm"],cleanNulls:function e(n,o,a){var r=o?[]:{};return l.each(n,function(n,o){!l.isArray(n)&&t(n)?(n=e(n,!1,a),l.isEmpty(n)||(r[o]=n)):l.isArray(n)?(n=e(n,!0,a),l.isEmpty(n)||(r[o]=n)):I.isNullUndefinedOrEmptyString(n)?a&&"string"==typeof n&&0===n.length&&(r[o]=n):r[o]=n}),r},reportNulls:function t(e,n){var o={};return l.each(e,function(t,e){null===t?o[e]="":void 0===t?o[e]="":n||"string"!=typeof t||0!==t.length?l.isArray(t)&&0===I.cleanNulls(t,!0,n).length&&(o[e]=""):o[e]=""}),o},docToModifier:function t(e,n){var o={},r,u,i;return n=n||{},r=new a(e),u=r.getFlatObject({keepArrays:!!n.keepArrays}),i=I.reportNulls(u,!!n.keepEmptyStrings),u=I.cleanNulls(u,!1,!!n.keepEmptyStrings),l.isEmpty(u)||(o.$set=u),l.isEmpty(i)||(o.$unset=i),o},getSelectValues:function t(e){for(var n=[],o=e&&e.options||[],a,r=0,u=o.length;r<u;r++)a=o[r],a.selected&&n.push(a.value||a.text);return n},getSelectOptions:function t(e,n){var o=e.type,a=n.options;return"allowed"===a?a=l.map(e.allowedValues,function(t){var e=t;return n.capitalize&&t.length>0&&o===String&&(e=t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()),{label:e,value:t}}):l.isObject(a)&&!l.isArray(a)&&(a=l.map(a,function(t,e){return{label:t,value:o(e)}})),a},lookup:function t(e){var n=window,o;if("string"==typeof e){for(o=e.split(".");o.length&&(n=n[o.shift()]););if(!n)throw new Error(e+" is not in the window scope");return n}return e},getDefs:function t(e,n){if("string"!=typeof n)throw new Error("Invalid field name: (not a string)");var o=e.schema(n);if(!o)throw new Error("Invalid field name: "+n);return o},objAffectsKey:function t(e,n){var o=new a(e);return o.affectsKey(n)},expandObj:function t(e){var n={},o,a,r,u,i;return l.each(e,function(t,e){o=e.split("."),r=o.length,i=n;for(var s=0;s<r&&(a=o[s],"undefined"==typeof i[a]||l.isObject(i[a]));s++)s===r-1?i[a]=t:(u=o[s+1],u=parseInt(u,10),isNaN(u)&&!l.isObject(i[a])?i[a]={}:isNaN(u)||l.isArray(i[a])||(i[a]=[])),i=i[a]}),n},compactArrays:function t(e){l.isObject(e)&&l.each(e,function(n,o){l.isArray(n)?(e[o]=l.without(n,void 0,null),l.each(e[o],function(e){t(e)})):n instanceof Date||!l.isObject(n)||t(n)})},bubbleEmpty:function e(n,o){l.isObject(n)&&l.each(n,function(a,r){if(l.isArray(a))l.each(a,function(t){e(t)});else if(t(a)){var u=l.all(a,function(t){return void 0===t||null===t||!o&&"string"==typeof t&&0===t.length});l.isEmpty(a)||u?n[r]=null:e(a)}})},isNullUndefinedOrEmptyString:function t(e){return void 0===e||null===e||"string"==typeof e&&0===e.length},isValidDateString:function t(e){var n=T(e,"YYYY-MM-DD",!0);return n&&n.isValid()},isValidTimeString:function t(e){if("string"!=typeof e)return!1;var n=/^[0-2][0-9]:[0-5][0-9](:[0-5][0-9](\.[0-9]{1,3})?)?$/;return n.test(e)},isValidNormalizedForcedUtcGlobalDateAndTimeString:function t(e){if("string"!=typeof e)return!1;var n=e.substring(0,10),o=e.substring(10,11),a=e.substring(11,e.length-1),r=e.substring(e.length-1);return I.isValidDateString(n)&&"T"===o&&I.isValidTimeString(a)&&"Z"===r},isValidNormalizedLocalDateAndTimeString:function t(e){if("string"!=typeof e)return!1;var n=e.substring(0,10),o=e.substring(10,11),a=e.substring(11,e.length);return I.isValidDateString(n)&&"T"===o&&I.isValidTimeString(a)},getComponentContext:function t(e,n){var o,a={},r,u,i,s;o=l.clone(e||{}),s=N.getFormSchema();try{a=I.getDefs(s,o.name)}catch(t){}r=N.findAttributesWithPrefix(n+"-"),u=l.clone(a.autoform)||{},i=u[n]||{},u=l.omit(u,I.componentTypeList),u=l.extend({},u,i),o=l.extend({},r,u,o);var c={};return l.each(o,function(t,e){"function"==typeof t?c[e]=t.call({name:o.name}):c[e]=t}),{atts:c,defs:a}},stringToArray:function t(e,n){if("string"==typeof e)return e.replace(/ /g,"").split(",");if(l.isArray(e))return e;throw new Error(n)},addClass:function t(e,n){return"string"==typeof e.class?e.class+=" "+n:e.class=n,e},getFormTypeDef:function t(e){var n=N._formTypeDefinitions[e];if(!n)throw new Error('AutoForm: Form type "'+e+'" has not been defined');return n},checkTemplate:function t(e){return!(!(e&&e.view&&e.view._domrange)||e.view.isDestroyed)}},"function"!=typeof Object.getPrototypeOf&&("object"==typeof"".__proto__?Object.getPrototypeOf=function(t){return t.__proto__}:Object.getPrototypeOf=function(t){return t.constructor.prototype});var t=function(t){return l.isObject(t)&&Object.getPrototypeOf(t)===Object.prototype};"function"!=typeof o.prototype.getAllowedValuesForKey&&(o.prototype.getAllowedValuesForKey=function(t){var e=this.getDefinition(t,["type","allowedValues"]);return e.type===Array&&(e=this.getDefinition(t+".$",["allowedValues"])),e.allowedValues})}.call(this),function(){_=function t(e){var n=this;if(!l.isString(e))throw Error("You must define an unique migration name of type String");if(n.registeredForms={},n.retrievedDocuments={},Package.reload){var o=Package.reload.Reload;n.retrievedDocuments=o._migrationData(e)||"{}","string"==typeof n.retrievedDocuments&&(n.retrievedDocuments=h.parse(n.retrievedDocuments)),o._onMigrate(e,function(){var t=n._retrieveRegisteredDocuments();return[!0,h.stringify(t)]})}},_.prototype.getDocument=function(t){var e=this,n;return!!l.has(e.retrievedDocuments,t)&&e.retrievedDocuments[t]},_.prototype.clearDocument=function(t){delete this.retrievedDocuments[t]},_.prototype.registerForm=function(t,e){this.registeredForms[t]=e},_.prototype.formIsRegistered=function(t){return!!this.registeredForms[t]},_.prototype.unregisterForm=function(t){delete this.registeredForms[t],delete this.retrievedDocuments[t]},_.prototype.unregisterAllForms=function(){var t=this;t.registeredForms={},t.retrievedDocuments={}},_.prototype._retrieveRegisteredDocuments=function(){var t=this;return C={},l.each(t.registeredForms,function(t,e){C[e]=t()}),C}}.call(this),function(){x={form:{}};var t=["formToDoc","formToModifier","docToForm","onSubmit","onSuccess","onError","beginSubmit","endSubmit"];x.getDefault=function(){var e={before:{},after:{}};return l.each(t,function(t){e[t]=[]}),e},x.global=x.getDefault(),x.addHooksToList=function e(n,o,a){o.before&&l.each(o.before,function t(e,o){if("function"!=typeof e)throw new Error("AutoForm before hook must be a function, not "+typeof e);n.before[o]=!a&&n.before[o]?n.before[o]:[],n.before[o].push(e)}),o.after&&l.each(o.after,function t(e,o){if("function"!=typeof e)throw new Error("AutoForm after hook must be a function, not "+typeof e);n.after[o]=!a&&n.after[o]?n.after[o]:[],n.after[o].push(e)}),l.each(t,function t(e){if(o[e]){if("function"!=typeof o[e])throw new Error("AutoForm "+e+" hook must be a function, not "+typeof o[e]);a&&(n[e]=[]),n[e].push(o[e])}})},x.getHooks=function t(e,n,o){var a,r;return o?(a=x.form[e]&&x.form[e][n]&&x.form[e][n][o]||[],r=x.global[n]&&x.global[n][o]||[]):(a=x.form[e]&&x.form[e][n]||[],r=x.global[n]||[]),a.concat(r)}}.call(this),function(){D=function(){var t=this;t.forms={}},D.prototype.initForm=function(t){var e=this;e.forms[t]||(e.forms[t]={sourceDoc:null,deps:{sourceDoc:new s.Dependency}})},D.prototype.sourceDoc=function(t,e){var n=this;return n.initForm(t),e||null===e?(n.forms[t].sourceDoc=e,void n.forms[t].deps.sourceDoc.changed()):(n.forms[t].deps.sourceDoc.depend(),n.forms[t].sourceDoc)}}.call(this),function(){w=function t(){var e=this;e.info={}},w.prototype.getMinMax=function t(e,n,o,a){var r=N.Utility.getDefs(e,n);o=o||0;var u=r.minCount||0;u=Math.max(o,u),a=a||1/0;var i=r.maxCount||1/0;return i=Math.min(a,i),{minCount:u,maxCount:i}},w.prototype.initForm=function t(e){var n=this;n.info[e]||(n.info[e]={})},w.prototype.getForm=function t(e){var n=this;return n.initForm(e),n.info[e]},w.prototype.ensureField=function t(e,n){var o=this;o.initForm(e),o.info[e][n]||o.resetField(e,n)},w.prototype.initField=function e(n,a,r,u,i,l){var s=this;if(s.ensureField(n,a),null==s.info[n][a].array){var c=s.getMinMax(r,a,i,l),f=Math.max(c.minCount,null==u?1:u),p=[];r.schema(a+".$").type===Object&&(p=r.objectKeys(o._makeGeneric(a)+".$"));for(var m=[],d=0;d<f;d++){var h=t(n,a,d,p,i,l);m.push(h)}s.info[n][a].array=m;var v=m.length;s.info[n][a].count=v,s.info[n][a].visibleCount=v,s.info[n][a].deps.changed()}},w.prototype.resetField=function t(e,n){var o=this;o.initForm(e),o.info[e][n]||(o.info[e][n]={deps:new s.Dependency}),o.info[e][n].array=null,o.info[e][n].count=0,o.info[e][n].visibleCount=0,o.info[e][n].deps.changed()},w.prototype.resetForm=function t(e){var n=this;l.each(n.info[e],function(t,o){n.resetField(e,o)})},w.prototype.untrackForm=function t(e){var n=this;n.info[e]={}},w.prototype.tracksField=function t(e,n){var o=this;return o.ensureField(e,n),o.info[e][n].deps.depend(),!!o.info[e][n].array},w.prototype.getField=function t(e,n){var o=this;return o.ensureField(e,n),o.info[e][n].deps.depend(),o.info[e][n].array},w.prototype.getCount=function t(e,n){var o=this;return o.ensureField(e,n),o.info[e][n].deps.depend(),o.info[e][n].count},w.prototype.getVisibleCount=function t(e,n){var o=this;return o.ensureField(e,n),o.info[e][n].deps.depend(),o.info[e][n].visibleCount},w.prototype.isFirstFieldlVisible=function t(e,n,o){var a=this;a.ensureField(e,n),a.info[e][n].deps.depend();var r=l.find(a.info[e][n].array,function(t){return!t.removed});return r&&r.index===o},w.prototype.isLastFieldlVisible=function t(e,n,o){var a=this;a.ensureField(e,n),a.info[e][n].deps.depend();var r=l.last(l.filter(a.info[e][n].array,function(t){return!t.removed}));return r&&r.index===o},w.prototype.addOneToField=function e(n,a,r,u,i){var l=this;if(l.ensureField(n,a),l.info[n][a].array){var s=l.info[n][a].visibleCount,c=l.getMinMax(r,a,u,i).maxCount;if(s<c){var f=l.info[n][a].array.length,p=[];r.schema(a+".$").type===Object&&(p=r.objectKeys(o._makeGeneric(a)+".$"));var m=t(n,a,f,p,u,i);l.info[n][a].array.push(m),l.info[n][a].count++,l.info[n][a].visibleCount++,l.info[n][a].deps.changed()}}},w.prototype.removeFromFieldAtIndex=function t(e,n,o,a,r,u){var i=this;if(i.ensureField(e,n),i.info[e][n].array){var l=i.info[e][n].visibleCount,s=i.getMinMax(a,n,r,u).minCount;l>s&&(i.info[e][n].array[o].removed=!0,i.info[e][n].count--,i.info[e][n].visibleCount--,i.info[e][n].deps.changed())}};var t=function(t,e,n,o,a,r){var u={formId:t,arrayFieldName:e,name:e+"."+n,index:n,minCount:a,maxCount:r};return o.length&&(u.current={},l.each(o,function(t){u.current[t]=e+"."+n+"."+t})),u}}.call(this),function(){N=N||{},N.formPreserve=new _("autoforms"),N.reactiveFormData=new D,N._inputTypeDefinitions={},N._formTypeDefinitions={},S=new w,N._destroyForm={},V="bootstrap3",M={},L={defaultTemplate:new s.Dependency,defaultTypeTemplates:{}}}.call(this),function(){function t(t){var e=(t||{}).hash||{},n=N.getFormSchema();return l.extend({},e,{ss:n})}f.registerHelper("afFieldMessage",function e(n){n=t(n,"afFieldMessage");var o=N.getFormId();return n.ss.namedContext(o).keyErrorMessage(n.name)}),f.registerHelper("afFieldIsInvalid",function e(n){n=t(n,"afFieldIsInvalid");var o=N.getFormId();return n.ss.namedContext(o).keyIsInvalid(n.name)}),f.registerHelper("afArrayFieldHasMoreThanMinimum",function e(n){n=t(n,"afArrayFieldHasMoreThanMinimum");var o=N.getCurrentDataPlusExtrasForForm();if(o.formTypeDef.hideArrayItemButtons)return!1;var a=S.getMinMax(n.ss,n.name,n.minCount,n.maxCount),r=S.getVisibleCount(o.id,n.name);return r>a.minCount}),f.registerHelper("afArrayFieldHasLessThanMaximum",function e(n){n=t(n,"afArrayFieldHasLessThanMaximum");var o=N.getCurrentDataPlusExtrasForForm();if(o.formTypeDef.hideArrayItemButtons)return!1;var a=S.getMinMax(n.ss,n.name,n.minCount,n.maxCount),r=S.getVisibleCount(o.id,n.name);return r<a.maxCount}),f.registerHelper("afFieldValueIs",function e(n){n=t(n,"afFieldValueIs");var o=N.getFieldValue(n.name,n.formId);return o===n.value}),f.registerHelper("afArrayFieldIsFirstVisible",function t(){var e=this;return S.isFirstFieldlVisible(e.formId,e.arrayFieldName,e.index)}),f.registerHelper("afArrayFieldIsLastVisible",function t(){var e=this;return S.isLastFieldlVisible(e.formId,e.arrayFieldName,e.index)}),f.registerHelper("afFieldValueContains",function e(n){n=t(n,"afFieldValueContains");var o=N.getFieldValue(n.name,n.formId);return l.isArray(o)&&(l.contains(o,n.value)||n.values&&l.intersection(o,n.values.split(",")))}),f.registerHelper("afFieldLabelText",function e(n){return n=t(n,"afFieldLabelText"),N.getLabelForField(n.name)}),f.registerHelper("afFieldNames",function e(n){n=t(n,"afFieldNames");var a=n.ss,r=n.name,u,i,s,c=N.getCurrentDataForForm();r&&(u=r+".",i=o._makeGeneric(r),s=i+".");var f=n.fields,p=!1;f&&(f=N.Utility.stringToArray(f,"AutoForm: fields attribute must be an array or a string containing a comma-delimited list of fields"));var m=N.findAttribute("fields");m&&(m=N.Utility.stringToArray(m,"AutoForm: fields attribute must be an array or a string containing a comma-delimited list of fields"),f||(f=m,p=!0)),f&&(r?(i!==r&&(f=l.map(f,function(t){return 0===t.indexOf(s)?u+t.slice(s.length):t})),f=l.filter(f,function t(e){return 0===e.indexOf(u)})):f=l.filter(f,function t(e){return".$"!==e.slice(-2)&&e.indexOf(".$.")===-1}),f=l.reject(f,function(t){var e=t.lastIndexOf(".");if(e===-1)return!1;var n=t.slice(0,e);return".$"===n.slice(-2)&&(n=n.slice(0,-2)),l.contains(f,n)&&n!==r&&n!==i})),(!f||0===f.length&&p)&&(f=a.objectKeys(i),r&&(f=l.map(f,function(t){return r+"."+t})));var d=n.omitFields||N.findAttribute("omitFields");return d&&(d=N.Utility.stringToArray(d,"AutoForm: omitFields attribute must be an array or a string containing a comma-delimited list of fields"),f=l.difference(f,d),f=l.reject(f,function(t){return l.contains(d,o._makeGeneric(t))})),f=l.filter(f,function t(e){var n=a.schema(e);return!!n&&((!n.autoform||n.autoform.omit!==!0)&&((!n.denyInsert||"insert"!==c.type)&&(!n.denyUpdate||"update"!==c.type)))}),f=l.unique(f),f=l.map(f,function(t){return{name:t}})}),f.registerHelper("afSelectOptionAtts",function t(){var e=l.pick(this,"value");return this.selected&&(e.selected=""),this.htmlAtts&&l.extend(e,this.htmlAtts),e}),f.registerHelper("afOptionsFromSchema",function t(){return N._getOptionsForField(this.name)}),f.registerHelper("afTemplateName",function t(e,n){var o=this;return console.log("The afTemplateName template helper is deprecated. Use AutoForm.getTemplateName method in your own helper."),N.getTemplateName(e,n,o.atts&&o.atts.name)})}.call(this),function(){function t(t,e,n,o){var a,r=N.templateInstanceForForm(e);if(!I.checkTemplate(r))return!0;var u=N.getCurrentDataForForm(e),i=N.getFormSchema(e,u);if(!i)return!0;if(o&&i.namedContext(e).isValid())return!0;var l=I.getFormTypeDef(u.type);return a=N.getFormValues(e,r,i,!!l.usesModifier),!a||(!(!n||N.Utility.objAffectsKey(a,t))||N._validateFormDoc(a,!!l.usesModifier,e,i,u,t))}O=l.throttle(t,300)}.call(this),function(){function t(t,e){setTimeout(function(){t&&t.view&&t.view._domrange&&!t.view.isDestroyed&&t.formValues[e]&&(t.formValues[e].changed(),t.formValues[e].requestInProgress=!1)},100)}E=function t(e,n){var o={};return e.each(function(){var t,e=N.getInputValue(this,n);void 0!==e&&(t=y(this).attr("data-schema-key"),o[t]=e)}),o},P=function t(e,n,o,a,r,u){if("undefined"==typeof n)if(o){var i=o.getInfoForKey(e.name);n=i?i.value:r}else n="undefined"!=typeof r?r:a;return n=null===n||void 0===n?"":n,u.valueIsArray&&!l.isArray(n)&&(n="string"==typeof n?n.split(","):[n]),"function"==typeof u.valueIn&&(n=u.valueIn(n,e)),n},U=function t(e,n,o,a,r){var u=l.omit(n,"type","value","noselect","options","template","defaultValue","data");"undefined"!=typeof u.required||e.optional||(u.required=""),u["data-schema-key"]=u.name,"schemaLabel"===n.placeholder&&(u.placeholder=a),l.each(["disabled","readonly","checked","required","autofocus"],function(t){l.has(n,t)&&(n[t]===!0||"true"===n[t]||""===n[t]?u[t]="":delete u[t])});var i={name:u.name,schemaType:e.type,min:"function"==typeof e.min?e.min():e.min,max:"function"==typeof e.max?e.max():e.max,decimal:e.decimal,value:o,atts:u,selectOptions:N.Utility.getSelectOptions(e,n)};n.data&&l.extend(i,n.data);var s=I.getFormTypeDef(r);return"function"==typeof s.adjustInputContext&&(i=s.adjustInputContext(i)),i},G=function e(n,o){if(n&&(n.formValues=n.formValues||{},n.formValues[o]||(n.formValues[o]=new s.Dependency),!n.formValues[o].requestInProgress)){n.formValues[o].requestInProgress=!0,t(n,o);for(var a=o.lastIndexOf(".");a!==-1;)o=o.slice(0,a),n.formValues[o]||(n.formValues[o]=new s.Dependency),t(n,o),a=o.lastIndexOf(".")}},B=function t(e){e&&e.formValues&&l.each(e.formValues,function(t,n){G(e,n)})},R=function t(e){return e.$("[data-schema-key]").not("[disabled]")}}.call(this),function(){N=N||{},N.Utility=I,N.addHooks=function t(e,n,o){"string"==typeof e&&(e=[e]),e?l.each(e,function(t){x.form[t]=x.form[t]||x.getDefault(),x.addHooksToList(x.form[t],n,o)}):x.addHooksToList(x.global,n,o)},N.hooks=function t(e,n){l.each(e,function(t,e){N.addHooks(e,t,n)})},N._hooks=x.form,N._globalHooks=x.global,N._forceResetFormValues=function t(e){N._destroyForm[e]=N._destroyForm[e]||new v((!1)),N._destroyForm[e].set(!0),setTimeout(function(){N._destroyForm[e].set(!1)},0)},N.resetForm=function t(e,n){n=n||N.templateInstanceForForm(e),I.checkTemplate(n)&&n.$("form")[0].reset()},N.setDefaultTemplate=function t(e){V=e,L.defaultTemplate.changed()},N.getDefaultTemplate=function t(){return L.defaultTemplate.depend(),V},N.setDefaultTemplateForType=function t(e,n){if(L.defaultTypeTemplates[e]||(L.defaultTypeTemplates[e]=new s.Dependency),null!==n&&!f[e+"_"+n])throw new Error("setDefaultTemplateForType can't set default template to \""+n+'" for type "'+e+'" because there is no defined template with the name "'+e+"_"+n+'"');M[e]=n,L.defaultTypeTemplates[e].changed()},N.getDefaultTemplateForType=function t(e){return L.defaultTypeTemplates[e]||(L.defaultTypeTemplates[e]=new s.Dependency),L.defaultTypeTemplates[e].depend(),M[e]},N.getTemplateName=function t(e,n,o,a){function r(t){return!(!a&&!f[t])}var u,i,l;if(n&&r(e+"_"+n))return e+"_"+n;if(n&&N._debug&&console.warn(e+': "'+n+'" is not a valid template name. Falling back to a different template.'),"quickForm"!==e&&o){var s=N.getSchemaForField(o);u=s&&s.autoform}return u&&u[e]&&u[e].template&&r(e+"_"+u[e].template)?e+"_"+u[e].template:u&&u.template&&r(e+"_"+u.template)?e+"_"+u.template:(i=N.findAttribute("template-"+e),i&&r(e+"_"+i)?e+"_"+i:(i=N.findAttribute("template"),i&&r(e+"_"+i)?e+"_"+i:(l=N.getDefaultTemplateForType(e),l&&r(e+"_"+l)?e+"_"+l:(l=N.getDefaultTemplate(),l&&r(e+"_"+l)?e+"_"+l:void 0))))},N.getFormValues=function t(e,n,o,a){var r,u,i;if(n=n||N.templateInstanceForForm(e),!n||!n.view||n.view.isDestroyed)return null;o=o||N.getFormSchema(e);var s=N.getCurrentDataForForm(e),c=!1;s.removeEmptyStrings===!1&&(c=!0);var f=!0;s.filter===!1&&(f=!1);var p=!0;s.autoConvert===!1&&(p=!1);var m=!0;s.trimStrings===!1&&(m=!1);var d=!0;s.setArrayItems===!0&&(d=!1);var h={template:n,formId:e,schema:o},v;return n.view._domrange?(v=E(R(n),o),v=N.Utility.expandObj(v),N.Utility.bubbleEmpty(v,c)):v=s.doc||{},a!==!0&&(r=N.Utility.cleanNulls(v,!1,c),N.Utility.compactArrays(r),o.clean(r,{isModifier:!1,getAutoValues:!1,filter:f,autoConvert:p,trimStrings:m}),i=x.getHooks(e,"formToDoc"),l.each(i,function t(e){r=e.call(h,r,o)})),a!==!1&&(u=N.Utility.docToModifier(v,{keepEmptyStrings:c,keepArrays:d}),o.clean(u,{isModifier:!0,getAutoValues:!1,filter:f,autoConvert:p,trimStrings:m}),i=x.getHooks(e,"formToModifier"),l.each(i,function t(e){u=e.call(h,u)})),a===!0?u:a===!1?r:{insertDoc:r,updateDoc:u}},N.getFieldValue=function t(e,n){var o=s.nonreactive(function(){return N.templateInstanceForForm(n)});if(!o)return void(n&&N.rerunWhenFormRenderedOrDestroyed(n));o.formValues=o.formValues||{},o.formValues[e]||(o.formValues[e]=new s.Dependency),o.formValues[e].depend();var r=N.getFormValues(n,o,null,!1);if(r){var u=new a(r);return u.getValueForKey(e)}},N.getInputTypeTemplateNameForElement=function t(e){for(var n=p.getView(e);n&&0!==n.name.indexOf("Template.")&&0!==n.name.indexOf("BlazeComponent.");)n=n.originalParentView||n.parentView;if(n)return n.name.slice(n.name.indexOf(".")+1)},N.getInputValue=function t(e,n){var o,a,r,u,i,c,f,m,d,h;s.nonreactive(function(){d=p.getData(e),d&&d.atts&&(h=d.atts.autoConvert)}),o=y(e),a=o.attr("data-schema-key"),n&&(u=n.schema(a),u&&(r=u.type)),m=N.getInputTypeTemplateNameForElement(e);var v=m.lastIndexOf("_");if(v!==-1&&(m=m.slice(0,v)),f=l.where(N._inputTypeDefinitions,{template:m})[0],c=void 0!==o.attr("data-null-value")?null:f&&f.valueOut?f.valueOut.call(o):o.val(),void 0!==c&&h!==!1&&f&&f.valueConverters&&r){var k;r===String?k=f.valueConverters.string:r===Number?k=f.valueConverters.number:r===Boolean?k=f.valueConverters.boolean:r===Date?k=f.valueConverters.date:r===Array&&(i=n.schema(a+".$").type,i===String?k=f.valueConverters.stringArray:i===Number?k=f.valueConverters.numberArray:i===Boolean?k=f.valueConverters.booleanArray:i===Date&&(k=f.valueConverters.dateArray)),"function"==typeof k&&(c=k.call(o,c))}return c},N.addInputType=function t(e,n){var o={};o[e]=n,l.extend(N._inputTypeDefinitions,o)},N.addFormType=function t(e,n){var o={};o[e]=n,l.extend(N._formTypeDefinitions,o)},N.validateField=function t(e,n,o){return O(n,e,o,!1)},N.validateForm=function t(e){var n=N.getCurrentDataForForm(e),o,a=n.type,r=I.getFormTypeDef(a);return o=r.needsModifierAndDoc?N.getFormValues(e,null,null):r.usesModifier?N.getFormValues(e,null,null,!0):N.getFormValues(e,null,null,!1),!o||("none"===n.validation||r.validateForm.call({form:n,formDoc:o,useCollectionSchema:!1}))},N.getValidationContext=function t(e){var n=N.getCurrentDataForForm(e),o=n._resolvedSchema;if(o)return e=e||n.id,o.namedContext(e)},N.findAttribute=function t(e){function n(){r=p.getData(a),r&&r.atts&&void 0!==r.atts[e]?o=r.atts[e]:r&&void 0!==r[e]&&("template"===e&&"data"in r||(o=r[e]))}var o,a,r;for(a=p.currentView;void 0===o&&a&&"Template.autoForm"!==a.name;)n(),a=a.originalParentView||a.parentView;return void 0===o&&a&&"Template.autoForm"===a.name&&n(),o},N.findAttributesWithPrefix=function t(e){function n(){r=p.getData(a),u=r&&r.atts?r.atts:r,l.isObject(u)&&!l.isArray(u)&&l.each(u,function(t,n){0===n.indexOf(e)&&(o[n.slice(e.length)]=t)})}var o={},a,r,u;for(a=p.currentView;a&&"Template.autoForm"!==a.name;)n(),a=a.originalParentView||a.parentView;return a&&"Template.autoForm"===a.name&&n(),o},N.debug=function t(){o.debug=!0,N._debug=!0,N.addHooks(null,{onError:function(t,e){console.log("Error in "+this.formId,t,e)}})},N.arrayTracker=S,N.getInputType=function t(e){var n=!1,o,a,r;return e=N.Utility.getComponentContext(e,"afFieldInput").atts,e.type?e.type:(o=N.getSchemaForField(e.name),a=o&&o.type,a===Array&&(n=!0,o=N.getSchemaForField(e.name+".$"),a=o&&o.type),a?r=e.options&&e.noselect===!0&&n?"select-checkbox":e.options&&e.noselect===!0&&!n?"select-radio":e.options&&e.noselect!==!0&&n?"select-multiple":e.options&&e.noselect!==!0&&!n?"select":a===String&&e.rows===+e.rows?"textarea":a===Number?"number":a===Date?"date":a===Boolean?"boolean-checkbox":"text":"text")},N.getSchemaForField=function t(e){var n=N.getFormSchema();if(n)return n.schema(e)},N._getOptionsForField=function t(e){var n,o,a,r;if(n=N.getFormSchema(),n&&(o=n.getDefinition(e))){if(a=o.autoform){if(a.afFieldInput&&a.afFieldInput.options)return a.afFieldInput.options;if(a.afQuickField&&a.afQuickField.options)return a.afQuickField.options;if(a.options)return a.options}return r=n.getAllowedValuesForKey(e),r?"allowed":void 0}},N.getLabelForField=function t(e){var n=N.getFormSchema(),a=n.label(e);return"$"!==o._makeGeneric(e).slice(-1)||isNaN(parseInt(a,10))||(a=null),a},N.templateInstanceForForm=function(t){var e=N.viewForForm(t);if(e)return e.templateInstance()},N.viewForForm=function(t){var e,n;if(!t||(e=document.getElementById(t))){try{n=p.getView(e)}catch(t){}for(;n&&"Template.autoForm"!==n.name;)n=n.originalParentView||n.parentView;if(n&&"Template.autoForm"===n.name)return n}},N.getArrayCountFromDocForField=function(t,e){var n=N.reactiveFormData.sourceDoc(t),o;if(n){var a=n.getInfoForKey(e);a&&l.isArray(a.value)&&(o=a.value.length)}return o},N.parseData=function(t){return j(t)},N.getCurrentDataForForm=function(t){var e=N.viewForForm(t);if(e){var n=p.getData(e);if(n)return j(n)}},N.getCurrentDataPlusExtrasForForm=function(t){var e=N.getCurrentDataForForm(t);e=l.clone(e);var n=e.type||"normal";return e.formTypeDef=I.getFormTypeDef(n),e},N.getFormCollection=function(t){var e=N.getCurrentDataForForm(t);return N.Utility.lookup(e.collection)},N.getFormSchema=function(t,e){return e=e?j(e):N.getCurrentDataForForm(t),e._resolvedSchema},N.getFormId=function(){return N.getCurrentDataForForm().id},N.selectFirstInvalidField=function t(e,n){var o=n.namedContext(e),a,r;o.isValid()||(a=N.templateInstanceForForm(e),r=R(a),r.each(function(){var t=y(this);if(o.keyIsInvalid(t.attr("data-schema-key")))return t.focus(),!1}))},N.addStickyValidationError=function t(e,n,o,a){var r=N.templateInstanceForForm(e);r&&(r._stickyErrors[n]={type:o,value:a},O(n,e,!1,!1))},N.removeStickyValidationError=function t(e,n){var o=N.templateInstanceForForm(e);o&&(delete o._stickyErrors[n],O(n,e,!1,!1))},N._validateFormDoc=function e(n,o,a,r,u,i){var s,c={userId:t.userId&&t.userId()||null,isInsert:!o,isUpdate:!!o,isUpsert:!1,isFromTrustedCode:!1,docId:u.doc&&u.doc._id||null},f=l.clone(n);r.clean(f,{isModifier:o,filter:!1,autoConvert:!1,trimStrings:!1,extendAutoValueContext:c});var p=r.namedContext(a);if(i){s=p.validateOne(f,i,{modifier:o,extendedCustomContext:c});var m=N.templateInstanceForForm(a)._stickyErrors[i];m&&(s=!1,p.addInvalidKeys([{name:i,type:m.type,value:m.value}]))}else{s=p.validate(f,{modifier:o,extendedCustomContext:c});var d=N.templateInstanceForForm(a)._stickyErrors;l.isEmpty(d)||(s=!1,d=l.map(d,function(t,e){return{name:e,type:t.type,value:t.value}}),p.addInvalidKeys(d)),s||N.selectFirstInvalidField(a,r)}return s},j=function t(e){if(e||(e={}),"string"!=typeof e.type&&(e.type="normal"),"string"!=typeof e.validation&&(e.validation="submitThenKeyup"),!e._resolvedSchema){var n=e.type,o=e.schema;if(o)o=N.Utility.lookup(o);else{var a=N.Utility.lookup(e.collection);a&&"function"==typeof a.simpleSchema&&(o=a.simpleSchema())}var r=I.getFormTypeDef(n);"function"==typeof r.adjustSchema&&(o=r.adjustSchema.call({form:e},o)),o&&(e._resolvedSchema=o)}return e};var e={};N.rerunWhenFormRenderedOrDestroyed=function(t){l.has(e,t)||(e[t]=new s.Dependency),e[t].depend()},N.triggerFormRenderedDestroyedReruns=function(t){l.has(e,t)||(e[t]=new s.Dependency),e[t].changed()}}.call(this),function(){N.addFormType("insert",{onSubmit:function(){var t=this;this.event.preventDefault();var e=this.collection;if(!e)throw new Error("AutoForm: You must specify a collection when form type is insert.");var n="function"==typeof e.simpleSchema&&null!=e.simpleSchema();this.runBeforeHooks(this.insertDoc,function(o){n?e.insert(o,t.validationOptions,t.result):e.insert(o,t.result)})},validateForm:function(){var t=N.getFormSchema(this.form.id);return N._validateFormDoc(this.formDoc,!1,this.form.id,t,this.form)},shouldPrevalidate:function(){return!!this.formAttributes.collection&&!!this.formAttributes.schema}})}.call(this),function(){N.addFormType("update",{onSubmit:function(){var t=this;this.event.preventDefault();var e=this.collection;if(!e)throw new Error("AutoForm: You must specify a collection when form type is update.");this.runBeforeHooks(this.updateDoc,function(n){l.isEmpty(n)?t.result(null,0):e.update({_id:t.docId},n,t.validationOptions,t.result)})},usesModifier:!0,validateForm:function(){var t=N.getFormSchema(this.form.id);return N._validateFormDoc(this.formDoc,!0,this.form.id,t,this.form)},shouldPrevalidate:function(){return!!this.formAttributes.collection&&!!this.formAttributes.schema}})}.call(this),function(){N.addFormType("update-pushArray",{onSubmit:function(){var t=this;this.event.preventDefault();var e=this.collection;if(!e)throw new Error("AutoForm: You must specify a collection when form type is update-pushArray.");var n=t.formAttributes.scope;if(!n)throw new Error("AutoForm: You must specify a scope when form type is update-pushArray.");this.runBeforeHooks(this.insertDoc,function(o){if(l.isEmpty(o))t.result(null,0);else{var a={$push:{}};a.$push[n]=o,e.update({_id:t.docId},a,t.validationOptions,t.result)}})},validateForm:function(){var t=N.getFormSchema(this.form.id);return N._validateFormDoc(this.formDoc,!1,this.form.id,t,this.form)},adjustSchema:function(t){var e=this.form.scope,n={},a=o._makeGeneric(e)+".$.";return l.each(t.schema(),function(t,e){0===e.indexOf(a)&&(n[e.slice(a.length)]=t)}),new o(n)},shouldPrevalidate:function(){return!0}})}.call(this),function(){N.addFormType("method",{onSubmit:function(){var e=this;if(this.event.preventDefault(),!this.formAttributes.meteormethod)throw new Error('When form type is "method", you must also provide a "meteormethod" attribute');this.runBeforeHooks(this.insertDoc,function(n){var o="none"===e.formAttributes.validation||e.formTypeDefinition.validateForm.call({form:e.formAttributes,formDoc:n,useCollectionSchema:e.ssIsOverride});if(o===!1)e.failedValidation();else{var a=e.formAttributes.ddp;a=a&&"function"==typeof a.call?a:t,a.call(e.formAttributes.meteormethod,n,e.result)}})},validateForm:function(){var t=N.getFormSchema(this.form.id),e=N.getFormCollection(this.form.id);return t=this.useCollectionSchema&&e?e.simpleSchema():t,N._validateFormDoc(this.formDoc,!1,this.form.id,t,this.form)},shouldPrevalidate:function(){return!!this.formAttributes.collection&&!!this.formAttributes.schema}})}.call(this),function(){N.addFormType("method-update",{onSubmit:function(){var e=this;if(this.event.preventDefault(),!this.formAttributes.meteormethod)throw new Error('When form type is "method-update", you must also provide a "meteormethod" attribute');this.runBeforeHooks(this.updateDoc,function(n){var o="none"===e.formAttributes.validation||e.formTypeDefinition.validateForm.call({form:e.formAttributes,formDoc:n,useCollectionSchema:e.ssIsOverride});if(o===!1)e.failedValidation();else{var a=e.formAttributes.ddp;a=a&&"function"==typeof a.call?a:t,e.formAttributes.singleMethodArgument===!0?a.call(e.formAttributes.meteormethod,{_id:e.docId,modifier:n},e.result):a.call(e.formAttributes.meteormethod,n,e.docId,e.result)}})},usesModifier:!0,validateForm:function(){var t=N.getFormSchema(this.form.id),e=N.getFormCollection(this.form.id);return t=this.useCollectionSchema&&e?e.simpleSchema():t,N._validateFormDoc(this.formDoc,!0,this.form.id,t,this.form)},shouldPrevalidate:function(){return!!this.formAttributes.collection&&!!this.formAttributes.schema}})}.call(this),function(){N.addFormType("normal",{onSubmit:function(){var t=this,e=x.getHooks(this.formId,"onSubmit"),n=e.length,o=0,a,r;if(0===n)return void this.endSubmission();var u=l.extend({done:function(e,u){o++,!a&&e&&(a=e),!r&&u&&(r=u),o===n&&t.result(a,r)}},this.hookContext),i=!1;l.each(e,function e(n){var o=n.call(u,t.insertDoc,t.updateDoc,t.currentDoc);i===!1&&o===!1&&(i=!0)}),i&&(this.event.preventDefault(),this.event.stopPropagation())},needsModifierAndDoc:!0,validateForm:function(){var t=N.getFormSchema(this.form.id);return N._validateFormDoc(this.formDoc.insertDoc,!1,this.form.id,t,this.form)}})}.call(this),function(){N.addFormType("readonly",{
onSubmit:function(){this.event.preventDefault()},validateForm:function(){return!0},adjustInputContext:function(t){return t.atts.readonly="",t},hideArrayItemButtons:!0})}.call(this),function(){N.addFormType("disabled",{onSubmit:function(){this.event.preventDefault()},validateForm:function(){return!0},adjustInputContext:function(t){return t.atts.disabled="",t},hideArrayItemButtons:!0})}.call(this),function(){N.valueConverters={booleanToString:function t(e){return e===!0?"TRUE":e===!1?"FALSE":e},booleanToStringArray:function t(e){return e===!0?["TRUE"]:e===!1?["FALSE"]:e},booleanToNumber:function t(e){return e===!0?1:e===!1?0:e},booleanToNumberArray:function t(e){return e===!0?[1]:e===!1?[0]:e},dateToDateString:function t(e){return e instanceof Date?T(e).format("YYYY-MM-DD"):e},dateToDateStringUTC:function t(e){return e instanceof Date?T.utc(e).format("YYYY-MM-DD"):e},dateToDateStringUTCArray:function t(e){return e instanceof Date?[N.valueConverters.dateToDateStringUTC(e)]:e},dateToNormalizedForcedUtcGlobalDateAndTimeString:function t(e){return e instanceof Date?T(e).utc().format("YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):e},dateToNormalizedForcedUtcGlobalDateAndTimeStringArray:function t(e){return e instanceof Date?[N.valueConverters.dateToNormalizedForcedUtcGlobalDateAndTimeString(e)]:e},dateToNormalizedLocalDateAndTimeString:function t(e,n){var o=T(e);if("string"==typeof n){if("function"!=typeof o.tz)throw new Error("If you specify a timezoneId, make sure that you've added a moment-timezone package to your app");o.tz(n)}return o.format("YYYY-MM-DD[T]HH:mm:ss.SSS")},dateToNumber:function t(e){return e instanceof Date?e.getTime():e},dateToNumberArray:function t(e){return e instanceof Date?[e.getTime()]:e},dateToDateArray:function t(e){return e instanceof Date?[e]:e},stringToStringArray:function t(e){return"string"==typeof e?(e=e.split(","),l.map(e,function(t){return y.trim(t)})):e},stringToNumber:function t(e){if("string"==typeof e&&e.length>0){var n=Number(e);if(!isNaN(n))return n}return e},stringToNumberArray:function t(e){return"string"==typeof e?(e=e.split(","),l.map(e,function(t){return t=y.trim(t),N.valueConverters.stringToNumber(t)})):e},stringToBoolean:function t(e){if("string"==typeof e&&e.length>0){var n=e.toLowerCase();if("true"===n||"1"===n)return!0;if("false"===n||"0"===n)return!1}return e},stringToBooleanArray:function t(e){return"string"==typeof e?(e=e.split(","),l.map(e,function(t){return t=y.trim(t),N.valueConverters.stringToBoolean(t)})):e},stringToDate:function t(e){return"string"==typeof e&&e.length>0?new Date(e):e},stringToDateArray:function t(e){return"string"==typeof e?(e=e.split(","),l.map(e,function(t){return t=y.trim(t),N.valueConverters.stringToDate(t)})):e},numberToString:function t(e){return"number"==typeof e?e.toString():e},numberToStringArray:function t(e){return"number"==typeof e?[e.toString()]:e},numberToNumberArray:function t(e){return"number"==typeof e?[e]:e},numberToBoolean:function t(e){return 0!==e&&(1===e||e)},numberToBooleanArray:function t(e){return 0===e?[!1]:1===e?[!0]:e}},I.dateToDateString=N.valueConverters.dateToDateString,I.dateToDateStringUTC=N.valueConverters.dateToDateStringUTC,I.dateToNormalizedForcedUtcGlobalDateAndTimeString=N.valueConverters.dateToNormalizedForcedUtcGlobalDateAndTimeString,I.dateToNormalizedLocalDateAndTimeString=N.valueConverters.dateToNormalizedLocalDateAndTimeString,I.stringToBool=N.valueConverters.stringToBoolean,I.stringToNumber=N.valueConverters.stringToNumber,I.stringToDate=N.valueConverters.stringToDate}.call(this),function(){f.__checkName("afCheckbox"),f.afCheckbox=new f("Template.afCheckbox",function(){var t=this;return F.DIV(F.LABEL(F.INPUT(F.Attrs({type:"checkbox",value:"true"},function(){return A.attrMustache(t.lookup("atts"))}))," ",p.View("lookup:afFieldLabelText",function(){return A.mustache(t.lookup("afFieldLabelText"),A.kw({name:A.dot(t.lookup("."),"name")}))})))})}.call(this),function(){N.addInputType("boolean-checkbox",{template:"afCheckbox",valueOut:function(){return!!this.is(":checked")},valueConverters:{string:N.valueConverters.booleanToString,stringArray:N.valueConverters.booleanToStringArray,number:N.valueConverters.booleanToNumber,numberArray:N.valueConverters.booleanToNumberArray},contextAdjust:function(t){return t.value===!0&&(t.atts.checked=""),delete t.atts.required,t}})}.call(this),function(){f.__checkName("afBooleanRadioGroup"),f.afBooleanRadioGroup=new f("Template.afBooleanRadioGroup",function(){var t=this;return F.DIV(F.Attrs(function(){return A.attrMustache(t.lookup("dsk"))}),"\n    ",F.DIV("\n      ",F.LABEL(F.INPUT(F.Attrs({type:"radio",value:"false",name:function(){return A.mustache(A.dot(t.lookup("."),"name"))}},function(){return A.attrMustache(t.lookup("falseAtts"))}))," ",A.With(function(){return A.call(A.dot(t.lookup("."),"atts","falseLabel"))},function(){return p.View("lookup:.",function(){return A.mustache(t.lookup("."))})},function(){return"False"})),"\n    "),"\n    ",F.DIV("\n      ",F.LABEL(F.INPUT(F.Attrs({type:"radio",value:"true",name:function(){return A.mustache(A.dot(t.lookup("."),"name"))}},function(){return A.attrMustache(t.lookup("trueAtts"))}))," ",A.With(function(){return A.call(A.dot(t.lookup("."),"atts","trueLabel"))},function(){return p.View("lookup:.",function(){return A.mustache(t.lookup("."))})},function(){return"True"})),"\n    "),"\n    ",p.If(function(){return A.call(A.dot(t.lookup("."),"atts","nullLabel"))},function(){return["\n    ",F.DIV("\n      ",F.LABEL(F.INPUT(F.Attrs({type:"radio",value:"null",name:function(){return A.mustache(A.dot(t.lookup("."),"name"))}},function(){return A.attrMustache(t.lookup("nullAtts"))}))," ",p.View("lookup:..atts.nullLabel",function(){return A.mustache(A.dot(t.lookup("."),"atts","nullLabel"))})),"\n    "),"\n    "]}),"\n  ")})}.call(this),function(){N.addInputType("boolean-radios",{template:"afBooleanRadioGroup",valueOut:function(){return!this.find("input[value=false]").is(":checked")&&(!!this.find("input[value=true]").is(":checked")||(this.find("input[value=null]").is(":checked")?null:void 0))},valueConverters:{string:N.valueConverters.booleanToString,stringArray:N.valueConverters.booleanToStringArray,number:N.valueConverters.booleanToNumber,numberArray:N.valueConverters.booleanToNumberArray}}),f.afBooleanRadioGroup.helpers({falseAtts:function t(){var e=l.omit(this.atts,"trueLabel","falseLabel","nullLabel","data-schema-key");return this.value===!1&&(e.checked=""),e},trueAtts:function t(){var e=l.omit(this.atts,"trueLabel","falseLabel","nullLabel","data-schema-key");return this.value===!0&&(e.checked=""),e},nullAtts:function t(){var e=l.omit(this.atts,"trueLabel","falseLabel","nullLabel","data-schema-key");return this.value!==!0&&this.value!==!1&&(e.checked=""),e},dsk:function(){return{"data-schema-key":this.atts["data-schema-key"]}}})}.call(this),function(){f.__checkName("afBooleanSelect"),f.afBooleanSelect=new f("Template.afBooleanSelect",function(){var t=this;return F.SELECT(F.Attrs(function(){return A.attrMustache(A.dot(t.lookup("."),"atts"))}),"\n    ",p.Each(function(){return A.call(A.dot(t.lookup("."),"items"))},function(){return["\n    ",F.OPTION(F.Attrs(function(){return A.attrMustache(t.lookup("afSelectOptionAtts"))}),p.View("lookup:..label",function(){return A.mustache(A.dot(t.lookup("."),"label"))})),"\n    "]}),"\n  ")})}.call(this),function(){N.addInputType("boolean-select",{template:"afBooleanSelect",valueOut:function(){var t=this.val();return"true"===t||"false"!==t&&void 0},valueConverters:{string:N.valueConverters.booleanToString,stringArray:N.valueConverters.booleanToStringArray,number:N.valueConverters.booleanToNumber,numberArray:N.valueConverters.booleanToNumberArray},contextAdjust:function(t){var e=l.omit(t.atts,"trueLabel","falseLabel","nullLabel","firstOption");return t.items=[{name:t.name,value:"",_id:"",selected:t.value!==!1&&t.value!==!0,label:t.atts.nullLabel||t.atts.firstOption||"(Select One)",atts:e},{name:t.name,value:"false",_id:"false",selected:t.value===!1,label:t.atts.falseLabel||"False",atts:e},{name:t.name,value:"true",_id:"true",selected:t.value===!0,label:t.atts.trueLabel||"True",atts:e}],t}})}.call(this),function(){f.__checkName("afInputButton"),f.afInputButton=new f("Template.afInputButton",function(){var t=this;return F.INPUT(F.Attrs({type:"button",value:function(){return A.mustache(A.dot(t.lookup("."),"value"))}},function(){return A.attrMustache(A.dot(t.lookup("."),"atts"))}))})}.call(this),function(){N.addInputType("button",{template:"afInputButton"})}.call(this),function(){f.__checkName("afInputColor"),f.afInputColor=new f("Template.afInputColor",function(){var t=this;return F.INPUT(F.Attrs({type:"color",value:function(){return A.mustache(A.dot(t.lookup("."),"value"))}},function(){return A.attrMustache(A.dot(t.lookup("."),"atts"))}))})}.call(this),function(){N.addInputType("color",{template:"afInputColor"})}.call(this),function(){f.__checkName("afContenteditable"),f.afContenteditable=new f("Template.afContenteditable",function(){var t=this;return F.DIV(F.Attrs({contenteditable:"true"},function(){return A.attrMustache(A.dot(t.lookup("."),"atts"))}))})}.call(this),function(){N.addInputType("contenteditable",{template:"afContenteditable",valueOut:function(){return this.html()},contextAdjust:function(t){return"undefined"==typeof t.atts["data-maxlength"]&&"number"==typeof t.max&&(t.atts["data-maxlength"]=t.max),t}}),f.afContenteditable.events({"blur div[contenteditable=true]":function(t,e){e.$(t.target).change()}}),f.afContenteditable.helpers({getValue:function(t){f.instance().view.isRendered&&f.instance().$("[contenteditable]").html(t)}}),f.afContenteditable.onRendered(function(){var t=this;t.autorun(function(){var e=f.currentData();t.$("[contenteditable]").html(e.value)})})}.call(this),function(){f.__checkName("afInputDate"),f.afInputDate=new f("Template.afInputDate",function(){var t=this;return F.INPUT(F.Attrs({type:"date",value:function(){return A.mustache(A.dot(t.lookup("."),"value"))}},function(){return A.attrMustache(A.dot(t.lookup("."),"atts"))}))})}.call(this),function(){N.addInputType("date",{template:"afInputDate",valueIn:function(t){return N.valueConverters.dateToDateStringUTC(t)},valueOut:function(){var t=this.val();return N.Utility.isValidDateString(t)?new Date(t):null},valueConverters:{string:N.valueConverters.dateToDateStringUTC,stringArray:N.valueConverters.dateToDateStringUTCArray,number:N.valueConverters.dateToNumber,numberArray:N.valueConverters.dateToNumberArray,dateArray:N.valueConverters.dateToDateArray},contextAdjust:function(t){return"undefined"==typeof t.atts.max&&t.max instanceof Date&&(t.atts.max=N.valueConverters.dateToDateStringUTC(t.max)),"undefined"==typeof t.atts.min&&t.min instanceof Date&&(t.atts.min=N.valueConverters.dateToDateStringUTC(t.min)),t}})}.call(this),function(){f.__checkName("afInputDateTime"),f.afInputDateTime=new f("Template.afInputDateTime",function(){var t=this;return F.INPUT(F.Attrs({type:"datetime",value:function(){return A.mustache(A.dot(t.lookup("."),"value"))}},function(){return A.attrMustache(A.dot(t.lookup("."),"atts"))}))})}.call(this),function(){N.addInputType("datetime",{template:"afInputDateTime",valueIn:function(t){return N.valueConverters.dateToNormalizedForcedUtcGlobalDateAndTimeString(t)},valueOut:function(){var t=this.val();return t="string"==typeof t?t.replace(/ /g,"T"):t,N.Utility.isValidNormalizedForcedUtcGlobalDateAndTimeString(t)?new Date(t):null},valueConverters:{string:N.valueConverters.dateToNormalizedForcedUtcGlobalDateAndTimeString,stringArray:N.valueConverters.dateToNormalizedForcedUtcGlobalDateAndTimeStringArray,number:N.valueConverters.dateToNumber,numberArray:N.valueConverters.dateToNumberArray,dateArray:N.valueConverters.dateToDateArray},contextAdjust:function(t){return"undefined"==typeof t.atts.max&&t.max instanceof Date&&(t.atts.max=N.valueConverters.dateToNormalizedForcedUtcGlobalDateAndTimeString(t.max)),"undefined"==typeof t.atts.min&&t.min instanceof Date&&(t.atts.min=N.valueConverters.dateToNormalizedForcedUtcGlobalDateAndTimeString(t.min)),t}})}.call(this),function(){f.__checkName("afInputDateTimeLocal"),f.afInputDateTimeLocal=new f("Template.afInputDateTimeLocal",function(){var t=this;return F.INPUT(F.Attrs({type:"datetime-local",value:function(){return A.mustache(A.dot(t.lookup("."),"value"))}},function(){return A.attrMustache(A.dot(t.lookup("."),"atts"))}))})}.call(this),function(){N.addInputType("datetime-local",{template:"afInputDateTimeLocal",valueIn:function(t,e){return t instanceof Date?N.valueConverters.dateToNormalizedLocalDateAndTimeString(t,e.timezoneId):t},valueOut:function(){var t=this.val();if(t="string"==typeof t?t.replace(/ /g,"T"):t,N.Utility.isValidNormalizedLocalDateAndTimeString(t)){var e=this.attr("data-timezone-id");if("string"==typeof e){if("function"!=typeof T.tz)throw new Error("If you specify a timezoneId, make sure that you've added a moment-timezone package to your app");return T.tz(t,e).toDate()}return T(t).toDate()}return this.val()},valueConverters:{string:function t(e){return e instanceof Date?N.valueConverters.dateToNormalizedLocalDateAndTimeString(e,this.attr("data-timezone-id")):e},stringArray:function t(e){return e instanceof Date?[N.valueConverters.dateToNormalizedLocalDateAndTimeString(e,this.attr("data-timezone-id"))]:e},number:N.valueConverters.dateToNumber,numberArray:N.valueConverters.dateToNumberArray,dateArray:N.valueConverters.dateToDateArray},contextAdjust:function(t){return"undefined"==typeof t.atts.max&&t.max instanceof Date&&(t.atts.max=N.valueConverters.dateToNormalizedLocalDateAndTimeString(t.max,t.atts.timezoneId)),"undefined"==typeof t.atts.min&&t.min instanceof Date&&(t.atts.min=N.valueConverters.dateToNormalizedLocalDateAndTimeString(t.min,t.atts.timezoneId)),t.atts.timezoneId&&(t.atts["data-timezone-id"]=t.atts.timezoneId),delete t.atts.timezoneId,t}})}.call(this),function(){f.__checkName("afInputEmail"),f.afInputEmail=new f("Template.afInputEmail",function(){var t=this;return F.INPUT(F.Attrs({type:"email",value:function(){return A.mustache(A.dot(t.lookup("."),"value"))}},function(){return A.attrMustache(A.dot(t.lookup("."),"atts"))}))})}.call(this),function(){N.addInputType("email",{template:"afInputEmail",contextAdjust:function(t){return"undefined"==typeof t.atts.maxlength&&"number"==typeof t.max&&(t.atts.maxlength=t.max),t}})}.call(this),function(){f.__checkName("afInputFile"),f.afInputFile=new f("Template.afInputFile",function(){var t=this;return F.INPUT(F.Attrs({type:"file",value:function(){return A.mustache(A.dot(t.lookup("."),"value"))}},function(){return A.attrMustache(A.dot(t.lookup("."),"atts"))}))})}.call(this),function(){N.addInputType("file",{template:"afInputFile"})}.call(this),function(){f.__checkName("afInputHidden"),f.afInputHidden=new f("Template.afInputHidden",function(){var t=this;return F.INPUT(F.Attrs({type:"hidden",value:function(){return A.mustache(A.dot(t.lookup("."),"value"))}},function(){return A.attrMustache(A.dot(t.lookup("."),"atts"))}))})}.call(this),function(){N.addInputType("hidden",{template:"afInputHidden",isHidden:!0,valueOut:function(){return this.val()},valueConverters:{stringArray:N.valueConverters.stringToStringArray,number:N.valueConverters.stringToNumber,numberArray:N.valueConverters.stringToNumberArray,boolean:N.valueConverters.stringToBoolean,booleanArray:N.valueConverters.stringToBooleanArray,date:N.valueConverters.stringToDate,dateArray:N.valueConverters.stringToDateArray}})}.call(this),function(){f.__checkName("afInputImage"),f.afInputImage=new f("Template.afInputImage",function(){var t=this;return F.INPUT(F.Attrs({type:"image",value:function(){return A.mustache(A.dot(t.lookup("."),"value"))}},function(){return A.attrMustache(A.dot(t.lookup("."),"atts"))}))})}.call(this),function(){N.addInputType("image",{template:"afInputImage"})}.call(this),function(){f.__checkName("afInputMonth"),f.afInputMonth=new f("Template.afInputMonth",function(){var t=this;return F.INPUT(F.Attrs({type:"month",value:function(){return A.mustache(A.dot(t.lookup("."),"value"))}},function(){return A.attrMustache(A.dot(t.lookup("."),"atts"))}))})}.call(this),function(){N.addInputType("month",{template:"afInputMonth",valueConverters:{stringArray:N.valueConverters.stringToStringArray}})}.call(this),function(){f.__checkName("afInputNumber"),f.afInputNumber=new f("Template.afInputNumber",function(){var t=this;return F.INPUT(F.Attrs({type:"number",value:function(){return A.mustache(A.dot(t.lookup("."),"value"))}},function(){return A.attrMustache(A.dot(t.lookup("."),"atts"))}))})}.call(this),function(){N.addInputType("number",{template:"afInputNumber",valueOut:function(){return N.valueConverters.stringToNumber(this.val())},valueConverters:{string:N.valueConverters.numberToString,stringArray:N.valueConverters.numberToStringArray,numberArray:N.valueConverters.numberToNumberArray,boolean:N.valueConverters.numberToBoolean,booleanArray:N.valueConverters.numberToBooleanArray},contextAdjust:function(t){return"undefined"==typeof t.atts.max&&"number"==typeof t.max&&(t.atts.max=t.max),"undefined"==typeof t.atts.min&&"number"==typeof t.min&&(t.atts.min=t.min),"undefined"==typeof t.atts.step&&t.decimal&&(t.atts.step="0.01"),t}})}.call(this),function(){f.__checkName("afInputPassword"),f.afInputPassword=new f("Template.afInputPassword",function(){var t=this;return F.INPUT(F.Attrs({type:"password",value:function(){return A.mustache(A.dot(t.lookup("."),"value"))}},function(){return A.attrMustache(A.dot(t.lookup("."),"atts"))}))})}.call(this),function(){N.addInputType("password",{template:"afInputPassword",valueConverters:{stringArray:N.valueConverters.stringToStringArray},contextAdjust:function(t){return"undefined"==typeof t.atts.maxlength&&"number"==typeof t.max&&(t.atts.maxlength=t.max),t}})}.call(this),function(){f.__checkName("afRadio"),f.afRadio=new f("Template.afRadio",function(){var t=this;return F.DIV(F.LABEL(F.INPUT(F.Attrs({type:"checkbox",value:function(){return A.mustache(A.dot(t.lookup("."),"value"))}},function(){return A.attrMustache(t.lookup("atts"))}))," ",p.View("lookup:afFieldLabelText",function(){return A.mustache(t.lookup("afFieldLabelText"),A.kw({name:A.dot(t.lookup("."),"name")}))})))})}.call(this),function(){N.addInputType("radio",{template:"afRadio",valueOut:function(){if(this.is(":checked"))return this.val()},valueConverters:{stringArray:N.valueConverters.stringToStringArray}}),f.afRadio.helpers({atts:function t(){var e=l.clone(this.atts);return this.selected&&(e.checked=""),e}})}.call(this),function(){f.__checkName("afInputRange"),f.afInputRange=new f("Template.afInputRange",function(){var t=this;return F.INPUT(F.Attrs({type:"range",value:function(){return A.mustache(A.dot(t.lookup("."),"value"))}},function(){return A.attrMustache(A.dot(t.lookup("."),"atts"))}))})}.call(this),function(){N.addInputType("range",{template:"afInputRange",valueOut:function(){return N.valueConverters.stringToNumber(this.val())},valueConverters:{string:N.valueConverters.numberToString,stringArray:N.valueConverters.numberToStringArray,numberArray:N.valueConverters.numberToNumberArray,boolean:N.valueConverters.numberToBoolean,booleanArray:N.valueConverters.numberToBooleanArray}})}.call(this),function(){f.__checkName("afInputReset"),f.afInputReset=new f("Template.afInputReset",function(){var t=this;return F.INPUT(F.Attrs({type:"reset",value:function(){return A.mustache(A.dot(t.lookup("."),"value"))}},function(){return A.attrMustache(A.dot(t.lookup("."),"atts"))}))})}.call(this),function(){N.addInputType("reset",{template:"afInputReset"})}.call(this),function(){f.__checkName("afInputSearch"),f.afInputSearch=new f("Template.afInputSearch",function(){var t=this;return F.INPUT(F.Attrs({type:"search",value:function(){return A.mustache(A.dot(t.lookup("."),"value"))}},function(){return A.attrMustache(A.dot(t.lookup("."),"atts"))}))})}.call(this),function(){N.addInputType("search",{template:"afInputSearch",valueConverters:{stringArray:N.valueConverters.stringToStringArray},contextAdjust:function(t){return"undefined"==typeof t.atts.maxlength&&"number"==typeof t.max&&(t.atts.maxlength=t.max),t}})}.call(this),function(){f.__checkName("afSelect"),f.afSelect=new f("Template.afSelect",function(){var t=this;return F.SELECT(F.Attrs(function(){return A.attrMustache(A.dot(t.lookup("."),"atts"))}),"\n    ",p.Each(function(){return A.call(A.dot(t.lookup("."),"items"))},function(){return["\n      ",p.If(function(){return A.call(A.dot(t.lookup("."),"optgroup"))},function(){return["\n        ",F.OPTGROUP({label:function(){return A.mustache(A.dot(t.lookup("."),"optgroup"))}},"\n        ",p.Each(function(){return A.call(A.dot(t.lookup("."),"items"))},function(){return["\n        ",F.OPTION(F.Attrs(function(){return A.attrMustache(t.lookup("afSelectOptionAtts"))}),p.View("lookup:..label",function(){return A.mustache(A.dot(t.lookup("."),"label"))})),"\n        "]}),"\n        "),"\n      "]},function(){return["\n        ",F.OPTION(F.Attrs(function(){return A.attrMustache(t.lookup("afSelectOptionAtts"))}),p.View("lookup:..label",function(){return A.mustache(A.dot(t.lookup("."),"label"))})),"\n      "]}),"\n    "]}),"\n  ")})}.call(this),function(){N.addInputType("select",{template:"afSelect",valueOut:function(){return this.val()},valueConverters:{stringArray:N.valueConverters.stringToStringArray,number:N.valueConverters.stringToNumber,numberArray:N.valueConverters.stringToNumberArray,boolean:N.valueConverters.stringToBoolean,booleanArray:N.valueConverters.stringToBooleanArray,date:N.valueConverters.stringToDate,dateArray:N.valueConverters.stringToDateArray},contextAdjust:function(t){t.atts.autocomplete="off";var e=l.omit(t.atts,"firstOption"),n=t.atts.firstOption;return t.items=[],n!==!1&&t.items.push({name:t.name,label:"string"==typeof n?n:"(Select One)",value:"",_id:"AUTOFORM_EMPTY_FIRST_OPTION",selected:!1,atts:e}),l.each(t.selectOptions,function(n){if(n.optgroup){var o=l.map(n.options,function(n){return{name:t.name,label:n.label,value:n.value,htmlAtts:l.omit(n,"label","value"),_id:n.value.toString(),selected:n.value===t.value,atts:e}});t.items.push({optgroup:n.optgroup,items:o})}else t.items.push({name:t.name,label:n.label,value:n.value,htmlAtts:l.omit(n,"label","value"),_id:n.value.toString(),selected:n.value===t.value,atts:e})}),t}})}.call(this),function(){f.__checkName("afCheckboxGroup"),f.afCheckboxGroup=new f("Template.afCheckboxGroup",function(){var t=this;return F.DIV(F.Attrs({class:"af-checkbox-group"},function(){return A.attrMustache(t.lookup("dsk"))}),"\n    ",p.Each(function(){return A.call(A.dot(t.lookup("."),"items"))},function(){return["\n      ",F.DIV(F.LABEL(F.INPUT(F.Attrs({type:"checkbox",value:function(){return A.mustache(A.dot(t.lookup("."),"value"))}},function(){return A.attrMustache(t.lookup("atts"))}))," ",p.View("lookup:..label",function(){return A.mustache(A.dot(t.lookup("."),"label"))}))),"\n    "]}),"\n  ")})}.call(this),function(){N.addInputType("select-checkbox",{template:"afCheckboxGroup",valueIsArray:!0,valueOut:function(){var t=[];return this.find("input[type=checkbox]").each(function(){y(this).is(":checked")&&t.push(y(this).val())}),t},contextAdjust:function(t){var e=l.omit(t.atts);return t.items=[],l.each(t.selectOptions,function(n){t.items.push({name:t.name,label:n.label,value:n.value,_id:n.value,selected:l.contains(t.value,n.value),atts:e})}),t}}),f.afCheckboxGroup.helpers({atts:function t(){var e=l.clone(this.atts);return this.selected&&(e.checked=""),delete e["data-schema-key"],e},dsk:function t(){return{"data-schema-key":this.atts["data-schema-key"]}}})}.call(this),function(){f.__checkName("afCheckboxGroupInline"),f.afCheckboxGroupInline=new f("Template.afCheckboxGroupInline",function(){var t=this;return F.DIV(F.Attrs({class:"af-checkbox-group"},function(){return A.attrMustache(t.lookup("dsk"))}),"\n    ",p.Each(function(){return A.call(A.dot(t.lookup("."),"items"))},function(){return["\n      ",F.LABEL(F.INPUT(F.Attrs({type:"checkbox",value:function(){return A.mustache(A.dot(t.lookup("."),"value"))}},function(){return A.attrMustache(t.lookup("atts"))}))," ",p.View("lookup:..label",function(){return A.mustache(A.dot(t.lookup("."),"label"))})),"\n    "]}),"\n  ")})}.call(this),function(){N.addInputType("select-checkbox-inline",{template:"afCheckboxGroupInline",valueIsArray:!0,valueOut:function(){var t=[];return this.find("input[type=checkbox]").each(function(){y(this).is(":checked")&&t.push(y(this).val())}),t},contextAdjust:function(t){var e=l.omit(t.atts);return t.items=[],l.each(t.selectOptions,function(n){t.items.push({name:t.name,label:n.label,value:n.value,_id:n.value,selected:l.contains(t.value,n.value),atts:e})}),t}}),f.afCheckboxGroupInline.helpers({atts:function t(){var e=l.clone(this.atts);return this.selected&&(e.checked=""),delete e["data-schema-key"],e},dsk:function t(){return{"data-schema-key":this.atts["data-schema-key"]}}})}.call(this),function(){f.__checkName("afSelectMultiple"),f.afSelectMultiple=new f("Template.afSelectMultiple",function(){var t=this;return F.SELECT(F.Attrs({multiple:""},function(){return A.attrMustache(A.dot(t.lookup("."),"atts"))}),"\n    ",p.Each(function(){return A.call(A.dot(t.lookup("."),"items"))},function(){return["\n      ",p.If(function(){return A.call(A.dot(t.lookup("."),"optgroup"))},function(){return["\n        ",F.OPTGROUP({label:function(){return A.mustache(A.dot(t.lookup("."),"optgroup"))}},"\n        ",p.Each(function(){return A.call(A.dot(t.lookup("."),"items"))},function(){return["\n        ",F.OPTION(F.Attrs(function(){return A.attrMustache(t.lookup("afSelectOptionAtts"))}),p.View("lookup:..label",function(){return A.mustache(A.dot(t.lookup("."),"label"))})),"\n        "]}),"\n        "),"\n      "]},function(){return["\n        ",F.OPTION(F.Attrs(function(){return A.attrMustache(t.lookup("afSelectOptionAtts"))}),p.View("lookup:..label",function(){return A.mustache(A.dot(t.lookup("."),"label"))})),"\n      "]}),"\n    "]}),"\n  ")})}.call(this),function(){N.addInputType("select-multiple",{template:"afSelectMultiple",valueIsArray:!0,valueOut:function(){return N.Utility.getSelectValues(this[0])},contextAdjust:function(t){return t.items=l.map(t.selectOptions,function(e){if(e.optgroup){var n=l.map(e.options,function(e){return{name:t.name,label:e.label,value:e.value,htmlAtts:l.omit(e,"label","value"),_id:e.value,selected:l.contains(t.value,e.value),atts:t.atts}});return{optgroup:e.optgroup,items:n}}return{name:t.name,label:e.label,value:e.value,htmlAtts:l.omit(e,"label","value"),_id:e.value,selected:l.contains(t.value,e.value),atts:t.atts}}),t}})}.call(this),function(){f.__checkName("afRadioGroup"),f.afRadioGroup=new f("Template.afRadioGroup",function(){var t=this;return F.DIV(F.Attrs({class:"af-radio-group"},function(){return A.attrMustache(t.lookup("dsk"))}),"\n  ",p.Each(function(){return A.call(A.dot(t.lookup("."),"items"))},function(){return["\n    ",F.DIV(F.LABEL(F.INPUT(F.Attrs({type:"radio",value:function(){return A.mustache(A.dot(t.lookup("."),"value"))}},function(){return A.attrMustache(t.lookup("atts"))}))," ",p.View("lookup:..label",function(){return A.mustache(A.dot(t.lookup("."),"label"))}))),"\n  "]}),"\n  ")})}.call(this),function(){N.addInputType("select-radio",{template:"afRadioGroup",valueOut:function(){return this.find("input[type=radio]:checked").val()},contextAdjust:function(t){var e=l.omit(t.atts);return t.items=[],l.each(t.selectOptions,function(n){t.items.push({name:t.name,label:n.label,value:n.value,_id:n.value,selected:n.value===t.value,atts:e})}),t}}),f.afRadioGroup.helpers({atts:function t(){var e=l.clone(this.atts);return this.selected&&(e.checked=""),delete e["data-schema-key"],e},dsk:function t(){return{"data-schema-key":this.atts["data-schema-key"]}}})}.call(this),function(){f.__checkName("afRadioGroupInline"),f.afRadioGroupInline=new f("Template.afRadioGroupInline",function(){var t=this;return F.DIV(F.Attrs({class:"af-radio-group"},function(){return A.attrMustache(t.lookup("dsk"))}),"\n  ",p.Each(function(){return A.call(A.dot(t.lookup("."),"items"))},function(){return["\n    ",F.LABEL(F.INPUT(F.Attrs({type:"radio",value:function(){return A.mustache(A.dot(t.lookup("."),"value"))}},function(){return A.attrMustache(t.lookup("atts"))}))," ",p.View("lookup:..label",function(){return A.mustache(A.dot(t.lookup("."),"label"))})),"\n  "]}),"\n  ")})}.call(this),function(){N.addInputType("select-radio-inline",{template:"afRadioGroupInline",valueOut:function(){return this.find("input[type=radio]:checked").val()},contextAdjust:function(t){var e=l.omit(t.atts);return t.items=[],l.each(t.selectOptions,function(n){t.items.push({name:t.name,label:n.label,value:n.value,_id:n.value,selected:n.value===t.value,atts:e})}),t}}),f.afRadioGroupInline.helpers({atts:function t(){var e=l.clone(this.atts);return this.selected&&(e.checked=""),delete e["data-schema-key"],e},dsk:function t(){return{"data-schema-key":this.atts["data-schema-key"]}}})}.call(this),function(){f.__checkName("afInputSubmit"),f.afInputSubmit=new f("Template.afInputSubmit",function(){var t=this;return F.INPUT(F.Attrs({type:"submit",value:function(){return A.mustache(A.dot(t.lookup("."),"value"))}},function(){return A.attrMustache(A.dot(t.lookup("."),"atts"))}))})}.call(this),function(){N.addInputType("submit",{template:"afInputSubmit"})}.call(this),function(){f.__checkName("afInputTel"),f.afInputTel=new f("Template.afInputTel",function(){var t=this;return F.INPUT(F.Attrs({type:"tel",value:function(){return A.mustache(A.dot(t.lookup("."),"value"))}},function(){return A.attrMustache(A.dot(t.lookup("."),"atts"))}))})}.call(this),function(){N.addInputType("tel",{template:"afInputTel",valueConverters:{stringArray:N.valueConverters.stringToStringArray},contextAdjust:function(t){return"undefined"==typeof t.atts.maxlength&&"number"==typeof t.max&&(t.atts.maxlength=t.max),t}})}.call(this),function(){f.__checkName("afInputText"),f.afInputText=new f("Template.afInputText",function(){var t=this;return F.INPUT(F.Attrs({type:"text",value:function(){return A.mustache(A.dot(t.lookup("."),"value"))}},function(){return A.attrMustache(A.dot(t.lookup("."),"atts"))}))})}.call(this),function(){N.addInputType("text",{template:"afInputText",valueOut:function(){return this.val()},valueConverters:{stringArray:N.valueConverters.stringToStringArray,number:N.valueConverters.stringToNumber,numberArray:N.valueConverters.stringToNumberArray,boolean:N.valueConverters.stringToBoolean,booleanArray:N.valueConverters.stringToBooleanArray,date:N.valueConverters.stringToDate,dateArray:N.valueConverters.stringToDateArray},contextAdjust:function(t){return"undefined"==typeof t.atts.maxlength&&"number"==typeof t.max&&(t.atts.maxlength=t.max),t}})}.call(this),function(){f.__checkName("afTextarea"),f.afTextarea=new f("Template.afTextarea",function(){var t=this;return F.TEXTAREA(F.Attrs(function(){return A.attrMustache(A.dot(t.lookup("."),"atts"))},{value:function(){return A.mustache(A.dot(t.lookup("."),"value"))}}))})}.call(this),function(){function t(t){t=t.split("\n");var e=[];return l.each(t,function(t){t=y.trim(t),t.length&&e.push(t)}),e}N.addInputType("textarea",{template:"afTextarea",valueConverters:{stringArray:function(e){return"string"==typeof e&&e.length>0?t(e):e},number:N.valueConverters.stringToNumber,numberArray:N.valueConverters.stringToNumberArray,boolean:N.valueConverters.stringToBoolean,booleanArray:function(e){if("string"==typeof e&&e.length>0){var n=t(e);return l.map(n,function(t){return N.valueConverters.stringToBoolean(t)})}return e},date:N.valueConverters.stringToDate,dateArray:function(e){if("string"==typeof e&&e.length>0){var n=t(e);return l.map(n,function(t){return N.valueConverters.stringToDate(t)})}return e}},contextAdjust:function(t){return"undefined"==typeof t.atts.maxlength&&"number"==typeof t.max&&(t.atts.maxlength=t.max),t}})}.call(this),function(){f.__checkName("afInputTime"),f.afInputTime=new f("Template.afInputTime",function(){var t=this;return F.INPUT(F.Attrs({type:"time",value:function(){return A.mustache(A.dot(t.lookup("."),"value"));
}},function(){return A.attrMustache(A.dot(t.lookup("."),"atts"))}))})}.call(this),function(){N.addInputType("time",{template:"afInputTime",valueConverters:{stringArray:N.valueConverters.stringToStringArray}})}.call(this),function(){f.__checkName("afInputUrl"),f.afInputUrl=new f("Template.afInputUrl",function(){var t=this;return F.INPUT(F.Attrs({type:"url",value:function(){return A.mustache(A.dot(t.lookup("."),"value"))}},function(){return A.attrMustache(A.dot(t.lookup("."),"atts"))}))})}.call(this),function(){N.addInputType("url",{template:"afInputUrl",valueConverters:{stringArray:N.valueConverters.stringToStringArray},contextAdjust:function(t){return"undefined"==typeof t.atts.maxlength&&"number"==typeof t.max&&(t.atts.maxlength=t.max),t}})}.call(this),function(){f.__checkName("afInputWeek"),f.afInputWeek=new f("Template.afInputWeek",function(){var t=this;return F.INPUT(F.Attrs({type:"week",value:function(){return A.mustache(A.dot(t.lookup("."),"value"))}},function(){return A.attrMustache(A.dot(t.lookup("."),"atts"))}))})}.call(this),function(){N.addInputType("week",{template:"afInputWeek",valueConverters:{stringArray:N.valueConverters.stringToStringArray}})}.call(this),function(){f.__checkName("autoForm"),f.autoForm=new f("Template.autoForm",function(){var t=this;return p.Unless(function(){return A.dataMustache(t.lookup("afDestroyUpdateForm"),A.dot(t.lookup("."),"id"))},function(){return["\n  \n  \n  ",F.FORM(F.Attrs(function(){return A.attrMustache(t.lookup("atts"))}),"\n    ",p._InOuterTemplateScope(t,function(){return p._TemplateWith(function(){return A.call(t.lookup(".."))},function(){return A.include(function(){return A.call(t.templateContentBlock)})})}),"\n  "),"\n  "]})})}.call(this),function(){f.autoForm.helpers({atts:function t(){function e(t){return l.any(I.componentTypeList,function(e){return 0===t.indexOf(e+"-")})}var n,o={},a=this,r=["schema","collection","validation","doc","resetOnSuccess","type","template","autosave","autosaveOnKeyup","meteormethod","filter","autoConvert","removeEmptyStrings","trimStrings"];for(var u in a)!a.hasOwnProperty(u)||l.contains(r,u)||e(u)||(n=a[u],l.isArray(n)||l.isObject(n)||(o[u]=n));return"browser"===this.validation||o.novalidate||(o.novalidate="novalidate"),o},afDestroyUpdateForm:function(t){return N._destroyForm[t]=N._destroyForm[t]||new v((!1)),N._destroyForm[t].get()}}),f.autoForm.created=function t(){var e=this;e.formValues=e.formValues||{},e._stickyErrors={},e.autorun(function(t){var n=f.currentData(),o=n.id;if(!o)throw new Error('Every autoForm and quickForm must have an "id" attribute set to a unique string.');S.resetForm(o),n=j(n);var r=n.doc?h.clone(n.doc):null;if(n.preserveForm===!1?N.formPreserve.unregisterForm(o):N.formPreserve.registerForm(o,function t(){return N.getFormValues(o,e,n._resolvedSchema,!1)}),t.firstRun){var u=N.formPreserve.getDocument(o);u!==!1&&(r=l.extend(r||{},u||{}))}var i;if(r&&!l.isEmpty(r)){var s={formId:o};l.each(x.getHooks(o,"docToForm"),function t(e){if(r=e.call(s,r,n._resolvedSchema),!r)throw new Error("Oops! Did you forget to return the modified document from your docToForm hook for the "+o+" form?")}),i=new a(r),N.reactiveFormData.sourceDoc(o,i)}else N.reactiveFormData.sourceDoc(o,null)})},f.autoForm.rendered=function t(){var e;this.autorun(function(){var t=f.currentData();t.id!==e&&(e=t.id,N.triggerFormRenderedDestroyedReruns(t.id))})},f.autoForm.destroyed=function t(){var e=this,n=e.data.id;S.untrackForm(n),N.formPreserve.unregisterForm(n),N.triggerFormRenderedDestroyedReruns(n)}}.call(this),function(){f.__checkName("quickForm"),f.quickForm=new f("Template.quickForm",function(){var t=this;return p._TemplateWith(function(){return{template:A.call(t.lookup("getTemplateName")),data:A.call(t.lookup("innerContext"))}},function(){return A.include(function(){return A.call(f.__dynamic)})})})}.call(this),function(){function t(t){var e=l.map(t,function(t){return t.autoform&&t.autoform.group});return e=l.compact(e),e=l.unique(e),e.sort()}function e(t,e){var n=l.map(e,function(e,n){return".$"!==n.slice(-2)&&e.autoform&&e.autoform.group===t&&n});return n=l.compact(n)}function n(t){var e=l.map(t,function(t,e){return".$"!==e.slice(-2)&&(!t.autoform||!t.autoform.group)&&e});return e=l.compact(e)}f.quickForm.helpers({getTemplateName:function(){return N.getTemplateName("quickForm",this.template)},innerContext:function o(){var a=this,r=N.parseData(l.clone(this)),u=r._resolvedSchema,i={},s=[],c,f=a.fields;f?(f=N.Utility.stringToArray(f,"AutoForm: fields attribute must be an array or a string containing a comma-delimited list of fields"),f.forEach(function(t){i[t]=u.schema(t)})):i=u.schema();var p=n(i);p.length>0&&(c={atts:l.extend({},a,{fields:p}),fields:p});var m=t(i);l.each(m,function(t){var n=e(t,i);n.length>0&&s.push({name:t,atts:l.extend({},a,{fields:n}),fields:n})});var d=l.omit(a,"buttonContent","buttonClasses","fields","omitFields","id-prefix"),h=a.buttonContent!==!1&&"readonly"!==a.type&&"disabled"!==a.type,v={qfAutoFormContext:d,atts:a,qfShouldRenderButton:h,fieldGroups:s,grouplessFields:c};return v}})}.call(this),function(){f.__checkName("afArrayField"),f.afArrayField=new f("Template.afArrayField",function(){var t=this;return p._TemplateWith(function(){return{template:A.call(t.lookup("getTemplateName")),data:A.call(t.lookup("innerContext"))}},function(){return A.include(function(){return A.call(f.__dynamic)})})})}.call(this),function(){f.afArrayField.helpers({getTemplateName:function(){return N.getTemplateName("afArrayField",this.template,this.name)},innerContext:function t(){var e=N.Utility.getComponentContext(this,"afArrayField"),n=e.atts.name,o=e.atts.minCount||0,a=e.atts.maxCount||1/0,r=N.getFormSchema(),u=N.getFormId(),i=N.getArrayCountFromDocForField(u,n);return void 0===i&&(i=e.atts.initialCount),S.initField(u,n,r,i,o,a),{atts:e.atts}}})}.call(this),function(){f.__checkName("afEachArrayItem"),f.afEachArrayItem=new f("Template.afEachArrayItem",function(){var t=this;return["\n  ",A.With(function(){return A.call(t.lookup("innerContext"))},function(){return["\n    ",p.Each(function(){return A.call(t.lookup("."))},function(){return["\n    ",p.If(function(){return A.call(A.dot(t.lookup("."),"removed"))},function(){return["\n    ",F.INPUT({type:"hidden",name:function(){return A.mustache(A.dot(t.lookup("."),"name"))},"data-schema-key":function(){return A.mustache(A.dot(t.lookup("."),"name"))},"data-null-value":"true",value:""}),"\n    "]},function(){return["\n    ",p._InOuterTemplateScope(t,function(){return p._TemplateWith(function(){return A.call(t.lookup("."))},function(){return A.include(function(){return A.call(t.templateContentBlock)})})}),"\n    "]}),"\n    "]}),"\n  "]})]})}.call(this),function(){f.afEachArrayItem.helpers({innerContext:function t(){var e=N.Utility.getComponentContext(this,"afEachArrayItem"),n=N.getFormId(),o=N.getFormSchema(),a=e.atts.name,r=N.getArrayCountFromDocForField(n,a);return void 0===r&&(r=e.atts.initialCount),S.initField(n,a,o,r,e.atts.minCount,e.atts.maxCount),S.getField(n,a)}})}.call(this),function(){f.__checkName("afFieldInput"),f.afFieldInput=new f("Template.afFieldInput",function(){var t=this;return p._TemplateWith(function(){return{template:A.call(t.lookup("getTemplateName")),data:A.call(t.lookup("innerContext"))}},function(){return A.include(function(){return A.call(f.__dynamic)})})})}.call(this),function(){f.afFieldInput.helpers({getTemplateName:function t(){var e=this,n=N.getInputType(this),o=N._inputTypeDefinitions[n];if(!o)throw new Error('AutoForm: No component found for rendering input with type "'+n+'"');var a=o.template,r=this.template,u=N.getTemplateName(a,r,e.name,!0);return u.indexOf("_plain")!==-1&&(u=null),u&&f[u]||(u=a),u},innerContext:function t(){var e=N.Utility.getComponentContext(this,"afFieldInput"),n=N.getCurrentDataForForm(),o=n.id,a=N.getFormSchema(),r=e.defs,u=r.defaultValue;r.type===Array&&(r=a.schema(e.atts.name+".$"));var i=N.getInputType(this),l=N._inputTypeDefinitions[i];if(!l)throw new Error('AutoForm: No component found for rendering input with type "'+i+'"');var s=N.reactiveFormData.sourceDoc(o),c=P(e.atts,e.atts.value,s,u,e.atts.defaultValue,l),f=N.templateInstanceForForm();f.view.isRendered&&G(f,e.atts.name);var p=U(r,e.atts,c,a.label(e.atts.name),n.type);return"function"==typeof l.contextAdjust?l.contextAdjust(p):p}})}.call(this),function(){f.__checkName("afFormGroup"),f.afFormGroup=new f("Template.afFormGroup",function(){var t=this;return p._TemplateWith(function(){return{template:A.call(t.lookup("getTemplateName")),data:A.call(t.lookup("innerContext"))}},function(){return A.include(function(){return A.call(f.__dynamic)})})})}.call(this),function(){function t(t){var e={};return l.each(t,function t(n,o){0===o.indexOf("formgroup-")&&"formgroup-class"!=o&&(e[o.substring(10)]=n)}),e}function e(t){var e={};return l.each(t,function t(n,o){0===o.indexOf("label-")&&(e[o.substring(6)]=n)}),e}function n(t){var e={};return l.each(t,function t(n,o){["id-prefix","id","label"].indexOf(o)===-1&&0!==o.indexOf("label-")&&0!==o.indexOf("formgroup-")&&(e[o]=n)}),e}f.afFormGroup.helpers({getTemplateName:function(){return N.getTemplateName("afFormGroup",this.template,this.name)},innerContext:function o(){var a=N.Utility.getComponentContext(this,"afFormGroup"),r=t(a.atts),u=e(a.atts),i=n(a.atts),l=a.atts.id||b.id(),s=a.atts["id-prefix"];s&&s.length>0&&(l=s+"-"+l),u.for=i.id=l;var c=N.getSchemaForField(a.atts.name);return{skipLabel:a.atts.label===!1,afFormGroupClass:a.atts["formgroup-class"],afFormGroupAtts:r,afFieldLabelAtts:u,afFieldInputAtts:i,name:a.atts.name,required:!!c&&!c.optional,labelText:"string"==typeof a.atts.label?a.atts.label:null}}})}.call(this),function(){f.__checkName("afObjectField"),f.afObjectField=new f("Template.afObjectField",function(){var t=this;return p._TemplateWith(function(){return{template:A.call(t.lookup("getTemplateName")),data:A.call(t.lookup("innerContext"))}},function(){return A.include(function(){return A.call(f.__dynamic)})})})}.call(this),function(){f.afObjectField.helpers({getTemplateName:function(){return N.getTemplateName("afObjectField",this.template,this.name)},innerContext:function(){var t=N.Utility.getComponentContext(this,"afObjectField");return l.extend({},this,t.atts)}})}.call(this),function(){f.__checkName("afQuickField"),f.afQuickField=new f("Template.afQuickField",function(){var t=this;return p.If(function(){return A.call(t.lookup("isGroup"))},function(){return["\n    ",A.include(t.lookupTemplate("afObjectField")),"\n  "]},function(){return["\n    ",p.If(function(){return A.call(t.lookup("isFieldArray"))},function(){return["\n      ",A.include(t.lookupTemplate("afArrayField")),"\n    "]},function(){return["\n      ",p.If(function(){return A.call(t.lookup("isHiddenInput"))},function(){return["\n        \n        ",p._TemplateWith(function(){return A.call(t.lookup("groupAtts"))},function(){return A.include(t.lookupTemplate("afFieldInput"))}),"\n      "]},function(){return["\n        ",p._TemplateWith(function(){return A.call(t.lookup("groupAtts"))},function(){return A.include(t.lookupTemplate("afFormGroup"))}),"\n      "]}),"\n    "]}),"\n  "]})})}.call(this),function(){f.afQuickField.helpers({isGroup:function t(){var e=N.Utility.getComponentContext(this,"afQuickField");return e.defs.type===Object&&!e.atts.options&&!e.atts.type},isFieldArray:function t(){var e=N.Utility.getComponentContext(this,"afQuickField");return e.defs.type===Array&&!e.atts.options&&!e.atts.type},groupAtts:function t(){return l.omit(this,"fields","omitFields")},isHiddenInput:function t(){var e=N.Utility.getComponentContext(this,"afQuickField"),n=e.atts.type;if(n){var o=N._inputTypeDefinitions[n];if(!o)throw new Error('AutoForm: No component found for rendering input with type "'+n+'"');return o.isHidden}return!1}})}.call(this),function(){f.__checkName("afQuickFields"),f.afQuickFields=new f("Template.afQuickFields",function(){var t=this;return p.Each(function(){return A.dataMustache(t.lookup("afFieldNames"),A.kw({name:A.dot(t.lookup("."),"name")}))},function(){return["\n    ",p._TemplateWith(function(){return A.call(t.lookup("quickFieldAtts"))},function(){return A.include(t.lookupTemplate("afQuickField"))}),"\n  "]})})}.call(this),function(){f.afQuickFields.helpers({quickFieldAtts:function t(){var e,n,o={};return e=f.parentData(1),e&&!e.atts||(e={}),n=N._getOptionsForField(this.name),n&&(o.options=n),l.extend(o,e,this)}})}.call(this),function(){function t(t,e,n){if(I.checkTemplate(e)){var o=x.getHooks(t,"beginSubmit");if(o.length)l.each(o,function t(e){e.call(n)});else{var a=e.find("button[type=submit]")||e.find("input[type=submit]");a&&(a.disabled=!0)}}}function e(t,e,n){if(I.checkTemplate(e)){u=null;var o=x.getHooks(t,"endSubmit");if(o.length)l.each(o,function t(e){e.call(n)});else{var a=e.find("button[type=submit]")||e.find("input[type=submit]");a&&(a.disabled=!1)}}}function n(t){var e=o._makeGeneric(t);return".$"!==e.slice(-2)&&e.indexOf(".$.")===-1||(t=e.slice(0,e.indexOf(".$"))),t}function a(t){return"submitThenKeyup"===t||"submitThenBlur"===t}function r(t){var e=t.getAttribute("data-schema-key");return e||(e=y(t).closest("[data-schema-key]").attr("data-schema-key")),e}var u=null,i=null,s=l.throttle(function(t){u=t.target,y(t.currentTarget).submit()},500,{leading:!1});f.autoForm.events({"submit form":function n(o,a){function r(){e(p,a,w)}function i(){var t=h.namedContext(p),e=t.invalidKeys(),n;e?(e.length?(e=l.map(e,function(e){return l.extend({message:t.keyErrorMessage(e.name)},e)}),n=new Error(e[0].message)):n=new Error("form failed validation"),n.invalidKeys=e):n=new Error("form failed validation"),l.each(_,function t(e){e.call(w,"pre-submit validation",n)}),o.preventDefault(),o.stopPropagation(),r()}function s(t,e){function n(t,o){var a=C[t];if(!a)return void e(o);var u=function(e){if(e===!1)r();else{if(!l.isObject(e))throw new Error("A 'before' hook must return an object");n(t+1,e)}},i=l.extend({result:l.once(u)},w),s=a.call(i,o);void 0!==s&&i.result(s)}n(0,t)}function c(t,e){t?_&&_.length?l.each(_,function e(n){n.call(w,d,t)}):D&&D.length||!h.namedContext(p).isValid()||console.log(t):(m.resetOnSuccess!==!1&&m.autosave!==!0&&N.resetForm(p,a),"insert"===d&&(w.docId=e),l.each(A,function t(n){n.call(w,d,e)})),l.each(D,function n(o){o.call(w,t,e)}),r()}var f,p=this.id,m=N.getCurrentDataForForm(p),d=m.type,h=N.getFormSchema(p),v=N.getFormCollection(p),k=!(!v||!m.schema),b=m.doc,y=b?b._id:null,g,T={validationContext:p,filter:m.filter,autoConvert:m.autoConvert,removeEmptyStrings:m.removeEmptyStrings,trimStrings:m.trimStrings},F;try{F=I.getFormTypeDef(d)}catch(t){throw o.preventDefault(),t}var A=x.getHooks(p,"onSuccess"),_=x.getHooks(p,"onError"),C=x.getHooks(p,"before",d),D=x.getHooks(p,"after",d),w={addStickyValidationError:function(t,e,n){N.addStickyValidationError(p,t,e,n)},autoSaveChangedElement:u,collection:v,currentDoc:b,docId:y,event:o,formAttributes:m,formId:p,formTypeDefinition:F,removeStickyValidationError:function(t){N.removeStickyValidationError(p,t)},resetForm:function(){N.resetForm(p,a)},ss:h,ssIsOverride:k,template:a,validationContext:N.getValidationContext(p)};if(F.needsModifierAndDoc?(f=N.getFormValues(p,a,h),w.updateDoc=f.updateDoc,w.insertDoc=f.insertDoc):F.usesModifier?(f=N.getFormValues(p,a,h,!0),w.updateDoc=f):(f=N.getFormValues(p,a,h,!1),w.insertDoc=f),!f)return void o.preventDefault();t(p,a,w);var S=!F.shouldPrevalidate||F.shouldPrevalidate.call(w);if(S){try{g="none"===m.validation||F.validateForm.call({form:m,formDoc:f,useCollectionSchema:!1})}catch(t){console.error("Validation error",t),g=!1}if(g===!1)return void i()}F.onSubmit.call(l.extend({runBeforeHooks:s,result:c,endSubmission:r,failedValidation:i,validationOptions:T,hookContext:w},w))},"keyup [data-schema-key]":function t(e){if(!l.contains([13,9,16,20,17,91,37,38,39,40],e.keyCode)){var o=N.getFormId(),u=N.getCurrentDataForForm(o),i=u.validation,c=!(8===e.keyCode||46===e.keyCode);if("keyup"===i||"submitThenKeyup"===i){var f=r(e.currentTarget);if(!f)return;O(f,o,c,a(i));var p=n(f);p!==f&&O(p,o,c,a(i)),u.autosaveOnKeyup===!0&&s(e)}}},"blur [data-schema-key]":function t(e){var o=N.getFormId(),u=N.getCurrentDataForForm(o),i=u.validation;if("keyup"===i||"blur"===i||"submitThenKeyup"===i||"submitThenBlur"===i){var l=r(e.currentTarget);if(!l)return;O(l,o,!1,a(i));var s=n(l);s!==l&&O(s,o,!1,a(i))}},"change form":function t(e,o){var l=r(e.target);if(l){var s=y(e.target),c=s.val();if("checkbox"===e.target.type&&(c=c+"_"+s.prop("checked")),c=l+"___"+c,c!==i){i=c;var f=this.id;G(o,l);var p=N.getCurrentDataForForm(f);if(p.autosave===!0||p.autosaveOnKeyup===!0)return u=e.target,void y(e.currentTarget).submit();var m=p.validation;if("keyup"===m||"blur"===m||"submitThenKeyup"===m||"submitThenBlur"===m){O(l,f,!1,a(m));var d=n(l);d!==l&&O(d,f,!1,a(m))}}}},"reset form":function t(e,n){var o=this.id;N.formPreserve.clearDocument(o),S.resetForm(o);var a=N.getValidationContext(o);a&&a.resetValidation(),this.doc&&(e.preventDefault(),N._forceResetFormValues(o)),B(n),n.$("[autofocus]").focus()},"keydown .autoform-array-item input":function(t){13===t.keyCode&&t.preventDefault()},"click .autoform-remove-item":function t(e,n){var o=this;e.preventDefault();var a=o.arrayFieldName,r=o.minCount,u=o.maxCount,i=o.index,l=n.data,s=l&&l.id,c=N.getFormSchema(s);S.removeFromFieldAtIndex(s,a,i,c,r,u)},"click .autoform-add-item":function t(e,n){e.preventDefault();var o=y(e.currentTarget),a=o.attr("data-autoform-field"),r=o.attr("data-autoform-minCount"),u=o.attr("data-autoform-maxCount"),i=n.data,l=i&&i.id,s=N.getFormSchema(l);S.addOneToField(l,a,s,r,u)}})}.call(this),function(){f.registerHelper("attsPlusFormControlClass",function t(){var e=l.clone(this.atts);return e=N.Utility.addClass(e,"form-control")}),f.registerHelper("attsPlusBtnClass",function t(){var e=l.clone(this.atts);return e=N.Utility.addClass(e,"btn")})}.call(this),function(){f.__checkName("quickForm_bootstrap3"),f.quickForm_bootstrap3=new f("Template.quickForm_bootstrap3",function(){var t=this;return p._TemplateWith(function(){return A.call(t.lookup("qfAutoFormContext"))},function(){return A.include(t.lookupTemplate("autoForm"),function(){return["\n\n    ",A.With(function(){return A.call(t.lookup("grouplessFields"))},function(){return["\n      ",p._TemplateWith(function(){return A.call(t.lookup("quickFieldsAtts"))},function(){return A.include(t.lookupTemplate("afQuickFields"))}),"\n    "]}),"\n\n    ",p.Each(function(){return A.call(t.lookup("fieldGroups"))},function(){return["\n      ",F.FIELDSET({class:"af-fieldGroup"},"\n        ",A.With(function(){return A.call(t.lookup("fieldGroupLabel"))},function(){return["\n          ",F.LEGEND({class:"af-fieldGroup-heading"},p.View("lookup:.",function(){return A.mustache(t.lookup("."))})),"\n        "]}),"\n        ",p._TemplateWith(function(){return A.call(t.lookup("quickFieldsAtts"))},function(){return A.include(t.lookupTemplate("afQuickFields"))}),"\n      "),"\n    "]}),"\n\n    ",p.If(function(){return A.call(t.lookup("qfShouldRenderButton"))},function(){return["\n      ",F.DIV({class:"form-group"},"\n        ",F.BUTTON(F.Attrs({type:"submit"},function(){return A.attrMustache(t.lookup("submitButtonAtts"))}),"\n          ",A.With(function(){return A.call(A.dot(t.lookup(".."),"atts","buttonContent"))},function(){return["\n          ",p.View("lookup:.",function(){return A.mustache(t.lookup("."))}),"\n          "]},function(){return"\n          Submit\n          "}),"\n        "),"\n      "),"\n    "]}),"\n\n  "]})})})}.call(this),function(){f.quickForm_bootstrap3.helpers({fieldGroupLabel:function(){var t=this.name;return isNaN(parseInt(t.substr(0,2),10))||"_"!==t.charAt(2)||(t=t.substr(3)),"function"==typeof o.defaultLabel?o.defaultLabel(t):t.charAt(0).toUpperCase()+t.slice(1)},quickFieldsAtts:function(){return l.pick(this.atts,"fields","id-prefix","input-col-class","label-class")},submitButtonAtts:function t(){var e=this.atts,n={};return"string"==typeof e.buttonClasses?n.class=e.buttonClasses:n.class="btn btn-primary",n}})}.call(this),function(){f.__checkName("afArrayField_bootstrap3"),f.afArrayField_bootstrap3=new f("Template.afArrayField_bootstrap3",function(){var t=this;return F.DIV({class:"panel panel-default"},"\n    ",F.DIV({class:"panel-heading"},p.View("lookup:afFieldLabelText",function(){return A.mustache(t.lookup("afFieldLabelText"),A.kw({name:A.dot(t.lookup("."),"atts","name")}))})),"\n    ",p.If(function(){return A.dataMustache(t.lookup("afFieldIsInvalid"),A.kw({name:A.dot(t.lookup("."),"atts","name")}))},function(){return["\n    ",F.DIV({class:"panel-body has-error"},"\n      ",F.SPAN({class:"help-block"},p.View("lookup:afFieldMessage",function(){return A.makeRaw(A.mustache(t.lookup("afFieldMessage"),A.kw({name:A.dot(t.lookup("."),"atts","name")})))})),"\n    "),"\n    "]}),"\n    ",F.UL({class:"list-group"},"\n      ",p._TemplateWith(function(){return{name:A.call(A.dot(t.lookup("."),"atts","name")),minCount:A.call(A.dot(t.lookup("."),"atts","minCount")),maxCount:A.call(A.dot(t.lookup("."),"atts","maxCount"))}},function(){return A.include(t.lookupTemplate("afEachArrayItem"),function(){return["\n      ",F.LI({class:"list-group-item autoform-array-item"},"\n        ",F.DIV("\n          ",F.DIV({class:"autoform-remove-item-wrap"},"\n            ",p.If(function(){return A.dataMustache(t.lookup("afArrayFieldHasMoreThanMinimum"),A.kw({name:A.dot(t.lookup(".."),"atts","name"),minCount:A.dot(t.lookup(".."),"atts","minCount"),maxCount:A.dot(t.lookup(".."),"atts","maxCount")}))},function(){return["\n            ",F.BUTTON({type:"button",class:"btn btn-primary autoform-remove-item"},F.SPAN({class:"glyphicon glyphicon-minus"})),"\n            "]}),"\n          "),"\n          ",F.DIV({class:"autoform-array-item-body"},"\n            ",p._TemplateWith(function(){return{name:A.call(A.dot(t.lookup("."),"name")),label:A.call(!1),options:A.call(t.lookup("afOptionsFromSchema"))}},function(){return A.include(t.lookupTemplate("afQuickField"))}),"\n          "),"\n        "),"\n      "),"\n      "]})}),"\n      ",p.If(function(){return A.dataMustache(t.lookup("afArrayFieldHasLessThanMaximum"),A.kw({name:A.dot(t.lookup("."),"atts","name"),minCount:A.dot(t.lookup("."),"atts","minCount"),maxCount:A.dot(t.lookup("."),"atts","maxCount")}))},function(){return["\n      ",F.LI({class:"list-group-item"},"\n        ",F.BUTTON({type:"button",class:"btn btn-primary autoform-add-item","data-autoform-field":function(){return A.mustache(A.dot(t.lookup("."),"atts","name"))},"data-autoform-mincount":function(){return A.mustache(A.dot(t.lookup("."),"atts","minCount"))},"data-autoform-maxcount":function(){return A.mustache(A.dot(t.lookup("."),"atts","maxCount"))}},F.SPAN({class:"glyphicon glyphicon-plus"})),"\n      "),"\n      "]}),"\n    "),"\n  ")})}.call(this),function(){f.__checkName("afFormGroup_bootstrap3"),f.afFormGroup_bootstrap3=new f("Template.afFormGroup_bootstrap3",function(){var t=this;return F.DIV(F.Attrs({class:function(){return["form-group ",p.If(function(){return A.dataMustache(t.lookup("afFieldIsInvalid"),A.kw({name:A.dot(t.lookup("."),"name")}))},function(){return"has-error"})," ",A.mustache(t.lookup("afFormGroupClass"))]},"data-required":function(){return A.mustache(t.lookup("required"))}},function(){return A.attrMustache(t.lookup("afFormGroupAtts"))}),"\n    ",p.Unless(function(){return A.call(t.lookup("skipLabel"))},function(){return["\n    ",F.LABEL(F.Attrs(function(){return A.attrMustache(t.lookup("bsFieldLabelAtts"))}),p.If(function(){return A.call(A.dot(t.lookup("."),"labelText"))},function(){return p.View("lookup:..labelText",function(){return A.mustache(A.dot(t.lookup("."),"labelText"))})},function(){return p.View("lookup:afFieldLabelText",function(){return A.mustache(t.lookup("afFieldLabelText"),A.kw({name:A.dot(t.lookup("."),"name")}))})})),"\n    "]}),"\n    ",p._TemplateWith(function(){return A.call(A.dot(t.lookup("."),"afFieldInputAtts"))},function(){return A.include(t.lookupTemplate("afFieldInput"))}),"\n    ",F.SPAN({class:"help-block"},p.View("lookup:afFieldMessage",function(){return A.makeRaw(A.mustache(t.lookup("afFieldMessage"),A.kw({name:A.dot(t.lookup("."),"name")})))})),"\n  ")})}.call(this),function(){f.afFormGroup_bootstrap3.helpers({skipLabel:function t(){var e=this,n=N.getInputType(e.afFieldInputAtts);return e.skipLabel||"boolean-checkbox"===n},bsFieldLabelAtts:function t(){var e=l.clone(this.afFieldLabelAtts);return e=N.Utility.addClass(e,"control-label")}})}.call(this),function(){f.__checkName("afObjectField_bootstrap3"),f.afObjectField_bootstrap3=new f("Template.afObjectField_bootstrap3",function(){var t=this;return F.DIV({class:function(){return["panel ",A.mustache(t.lookup("panelClass"))]}},"\n    ",A.With(function(){return A.dataMustache(t.lookup("afFieldLabelText"),A.kw({name:A.dot(t.lookup("."),"name")}))},function(){return["\n    ",F.DIV({class:function(){return["panel-heading ",A.mustache(t.lookup("headingClass"))]}},"\n      ",F.H3({class:"panel-title"},p.View("lookup:.",function(){return A.mustache(t.lookup("."))})),"\n    "),"\n    "]}),"\n    ",F.DIV({class:function(){return["panel-body ",A.mustache(t.lookup("bodyClass"))]}},"\n      ",p.If(function(){return A.dataMustache(t.lookup("afFieldIsInvalid"),A.kw({name:A.dot(t.lookup("."),"name")}))},function(){return["\n      ",F.SPAN({class:"help-block"},p.View("lookup:afFieldMessage",function(){return A.makeRaw(A.mustache(t.lookup("afFieldMessage"),A.kw({name:A.dot(t.lookup("."),"name")})))})),"\n      "]}),"\n      ",p._TemplateWith(function(){return A.call(t.lookup("quickFieldsAtts"))},function(){return A.include(t.lookupTemplate("afQuickFields"))}),"\n    "),"\n  ")})}.call(this),function(){f.afObjectField_bootstrap3.helpers({quickFieldsAtts:function(){return l.pick(this,"name","id-prefix")},panelClass:function(){return this.panelClass||"panel-default"}})}.call(this),function(){f.__checkName("afCheckbox_bootstrap3"),f.afCheckbox_bootstrap3=new f("Template.afCheckbox_bootstrap3",function(){var t=this;return F.DIV({class:"checkbox"},"\n    ",F.LABEL("\n      ",F.INPUT(F.Attrs({type:"checkbox",value:"true"},function(){return A.attrMustache(t.lookup("atts"))})),"\n      ",p.View("lookup:afFieldLabelText",function(){return A.mustache(t.lookup("afFieldLabelText"),A.kw({name:A.dot(t.lookup("."),"name")}))}),"\n    "),"\n  ")})}.call(this),function(){f.__checkName("afBooleanRadioGroup_bootstrap3"),f.afBooleanRadioGroup_bootstrap3=new f("Template.afBooleanRadioGroup_bootstrap3",function(){var t=this;return F.DIV(F.Attrs(function(){return A.attrMustache(t.lookup("dsk"))}),"\n    ",F.DIV({class:"radio"},"\n      ",F.LABEL(F.INPUT(F.Attrs({type:"radio",value:"false",name:function(){return A.mustache(A.dot(t.lookup("."),"name"))}},function(){return A.attrMustache(t.lookup("falseAtts"))}))," ",A.With(function(){return A.call(A.dot(t.lookup("."),"atts","falseLabel"))},function(){return p.View("lookup:.",function(){return A.mustache(t.lookup("."))})},function(){return"False"})),"\n    "),"\n    ",F.DIV({class:"radio"},"\n      ",F.LABEL(F.INPUT(F.Attrs({type:"radio",value:"true",name:function(){return A.mustache(A.dot(t.lookup("."),"name"))}},function(){return A.attrMustache(t.lookup("trueAtts"))}))," ",A.With(function(){return A.call(A.dot(t.lookup("."),"atts","trueLabel"))},function(){return p.View("lookup:.",function(){return A.mustache(t.lookup("."))})},function(){return"True"})),"\n    "),"\n    ",p.If(function(){return A.call(A.dot(t.lookup("."),"atts","nullLabel"))},function(){return["\n    ",F.DIV({class:"radio"},"\n      ",F.LABEL(F.INPUT(F.Attrs({type:"radio",value:"null",name:function(){return A.mustache(A.dot(t.lookup("."),"name"))}},function(){return A.attrMustache(t.lookup("nullAtts"))}))," ",p.View("lookup:..atts.nullLabel",function(){return A.mustache(A.dot(t.lookup("."),"atts","nullLabel"))})),"\n    "),"\n    "]}),"\n  ")})}.call(this),function(){f.afBooleanRadioGroup_bootstrap3.helpers({falseAtts:function t(){var e=l.omit(this.atts,"trueLabel","falseLabel","nullLabel","data-schema-key");return this.value===!1&&(e.checked=""),e},trueAtts:function t(){var e=l.omit(this.atts,"trueLabel","falseLabel","nullLabel","data-schema-key");return this.value===!0&&(e.checked=""),e},nullAtts:function t(){var e=l.omit(this.atts,"trueLabel","falseLabel","nullLabel","data-schema-key");return this.value!==!0&&this.value!==!1&&(e.checked=""),e},dsk:function(){return{"data-schema-key":this.atts["data-schema-key"]}}})}.call(this),function(){f.__checkName("afBooleanSelect_bootstrap3"),f.afBooleanSelect_bootstrap3=new f("Template.afBooleanSelect_bootstrap3",function(){var t=this;return F.SELECT(F.Attrs(function(){return A.attrMustache(t.lookup("attsPlusFormControlClass"))}),"\n    ",p.Each(function(){return A.call(A.dot(t.lookup("."),"items"))},function(){return["\n    ",F.OPTION(F.Attrs(function(){return A.attrMustache(t.lookup("afSelectOptionAtts"))}),p.View("lookup:..label",function(){return A.mustache(A.dot(t.lookup("."),"label"))})),"\n    "]}),"\n  ")})}.call(this),function(){f.__checkName("afInputButton_bootstrap3"),f.afInputButton_bootstrap3=new f("Template.afInputButton_bootstrap3",function(){var t=this;return F.INPUT(F.Attrs({type:"button",value:function(){return A.mustache(A.dot(t.lookup("."),"value"))}},function(){return A.attrMustache(t.lookup("attsPlusBtnClass"))}))})}.call(this),function(){f.__checkName("afInputColor_bootstrap3"),f.afInputColor_bootstrap3=new f("Template.afInputColor_bootstrap3",function(){var t=this;return F.INPUT(F.Attrs({type:"color",value:function(){return A.mustache(A.dot(t.lookup("."),"value"))}},function(){return A.attrMustache(t.lookup("attsPlusFormControlClass"))}))})}.call(this),function(){f.__checkName("afInputDate_bootstrap3"),f.afInputDate_bootstrap3=new f("Template.afInputDate_bootstrap3",function(){var t=this;return F.INPUT(F.Attrs({type:"date",value:function(){return A.mustache(A.dot(t.lookup("."),"value"))}},function(){return A.attrMustache(t.lookup("attsPlusFormControlClass"))}))})}.call(this),function(){f.__checkName("afInputDateTime_bootstrap3"),f.afInputDateTime_bootstrap3=new f("Template.afInputDateTime_bootstrap3",function(){var t=this;return F.INPUT(F.Attrs({type:"datetime",value:function(){return A.mustache(A.dot(t.lookup("."),"value"))}},function(){return A.attrMustache(t.lookup("attsPlusFormControlClass"))}))})}.call(this),function(){f.__checkName("afInputDateTimeLocal_bootstrap3"),f.afInputDateTimeLocal_bootstrap3=new f("Template.afInputDateTimeLocal_bootstrap3",function(){var t=this;return F.INPUT(F.Attrs({type:"datetime-local",value:function(){return A.mustache(A.dot(t.lookup("."),"value"))}},function(){return A.attrMustache(t.lookup("attsPlusFormControlClass"))}))})}.call(this),function(){f.__checkName("afInputEmail_bootstrap3"),f.afInputEmail_bootstrap3=new f("Template.afInputEmail_bootstrap3",function(){var t=this;return F.INPUT(F.Attrs({type:"email",value:function(){return A.mustache(A.dot(t.lookup("."),"value"))}},function(){return A.attrMustache(t.lookup("attsPlusFormControlClass"))}))})}.call(this),function(){f.__checkName("afInputMonth_bootstrap3"),f.afInputMonth_bootstrap3=new f("Template.afInputMonth_bootstrap3",function(){var t=this;return F.INPUT(F.Attrs({type:"month",value:function(){return A.mustache(A.dot(t.lookup("."),"value"))}},function(){return A.attrMustache(t.lookup("attsPlusFormControlClass"))}))})}.call(this),function(){f.__checkName("afInputNumber_bootstrap3"),f.afInputNumber_bootstrap3=new f("Template.afInputNumber_bootstrap3",function(){var t=this;return F.INPUT(F.Attrs({type:"number",value:function(){return A.mustache(A.dot(t.lookup("."),"value"))}},function(){return A.attrMustache(t.lookup("attsPlusFormControlClass"))}))})}.call(this),function(){f.__checkName("afInputPassword_bootstrap3"),f.afInputPassword_bootstrap3=new f("Template.afInputPassword_bootstrap3",function(){var t=this;return F.INPUT(F.Attrs({type:"password",value:function(){return A.mustache(A.dot(t.lookup("."),"value"))}},function(){return A.attrMustache(t.lookup("attsPlusFormControlClass"));
}))})}.call(this),function(){f.__checkName("afRadio_bootstrap3"),f.afRadio_bootstrap3=new f("Template.afRadio_bootstrap3",function(){var t=this;return F.DIV({class:"radio"},"\n    ",F.LABEL("\n      ",F.INPUT(F.Attrs({type:"radio",value:function(){return A.mustache(A.dot(t.lookup("."),"value"))}},function(){return A.attrMustache(t.lookup("atts"))})),"\n      ",p.View("lookup:afFieldLabelText",function(){return A.mustache(t.lookup("afFieldLabelText"),A.kw({name:A.dot(t.lookup("."),"name")}))}),"\n    "),"\n  ")})}.call(this),function(){f.afRadio_bootstrap3.helpers({atts:function t(){var e=l.clone(this.atts);return this.selected&&(e.checked=""),e}})}.call(this),function(){f.__checkName("afInputRange_bootstrap3"),f.afInputRange_bootstrap3=new f("Template.afInputRange_bootstrap3",function(){var t=this;return F.INPUT(F.Attrs({type:"range",value:function(){return A.mustache(A.dot(t.lookup("."),"value"))}},function(){return A.attrMustache(A.dot(t.lookup("."),"atts"))}))})}.call(this),function(){f.__checkName("afInputReset_bootstrap3"),f.afInputReset_bootstrap3=new f("Template.afInputReset_bootstrap3",function(){var t=this;return F.INPUT(F.Attrs({type:"reset",value:function(){return A.mustache(A.dot(t.lookup("."),"value"))}},function(){return A.attrMustache(t.lookup("attsPlusBtnClass"))}))})}.call(this),function(){f.__checkName("afInputSearch_bootstrap3"),f.afInputSearch_bootstrap3=new f("Template.afInputSearch_bootstrap3",function(){var t=this;return F.INPUT(F.Attrs({type:"search",value:function(){return A.mustache(A.dot(t.lookup("."),"value"))}},function(){return A.attrMustache(t.lookup("attsPlusFormControlClass"))}))})}.call(this),function(){f.__checkName("afSelect_bootstrap3"),f.afSelect_bootstrap3=new f("Template.afSelect_bootstrap3",function(){var t=this;return F.SELECT(F.Attrs(function(){return A.attrMustache(t.lookup("attsPlusFormControlClass"))}),"\n    ",p.Each(function(){return A.call(A.dot(t.lookup("."),"items"))},function(){return["\n    ",p.If(function(){return A.call(A.dot(t.lookup("."),"optgroup"))},function(){return["\n    ",F.OPTGROUP({label:function(){return A.mustache(A.dot(t.lookup("."),"optgroup"))}},"\n      ",p.Each(function(){return A.call(A.dot(t.lookup("."),"items"))},function(){return["\n      ",F.OPTION(F.Attrs(function(){return A.attrMustache(t.lookup("afSelectOptionAtts"))}),p.View("lookup:..label",function(){return A.mustache(A.dot(t.lookup("."),"label"))})),"\n      "]}),"\n    "),"\n    "]},function(){return["\n    ",F.OPTION(F.Attrs(function(){return A.attrMustache(t.lookup("afSelectOptionAtts"))}),p.View("lookup:..label",function(){return A.mustache(A.dot(t.lookup("."),"label"))})),"\n    "]}),"\n    "]}),"\n  ")})}.call(this),function(){f.__checkName("afCheckboxGroup_bootstrap3"),f.afCheckboxGroup_bootstrap3=new f("Template.afCheckboxGroup_bootstrap3",function(){var t=this;return F.DIV(F.Attrs({class:"af-checkbox-group"},function(){return A.attrMustache(t.lookup("dsk"))}),"\n    ",p.Each(function(){return A.call(A.dot(t.lookup("."),"items"))},function(){return["\n    ",F.DIV({class:"checkbox"},"\n      ",F.LABEL("\n        ",F.INPUT(F.Attrs({type:"checkbox",value:function(){return A.mustache(A.dot(t.lookup("."),"value"))}},function(){return A.attrMustache(t.lookup("atts"))})),"\n        ",p.View("lookup:..label",function(){return A.mustache(A.dot(t.lookup("."),"label"))}),"\n      "),"\n    "),"\n    "]}),"\n  ")})}.call(this),function(){f.afCheckboxGroup_bootstrap3.helpers({atts:function t(){var e=l.clone(this.atts);return this.selected&&(e.checked=""),delete e["data-schema-key"],e},dsk:function t(){return{"data-schema-key":this.atts["data-schema-key"]}}})}.call(this),function(){f.__checkName("afCheckboxGroupInline_bootstrap3"),f.afCheckboxGroupInline_bootstrap3=new f("Template.afCheckboxGroupInline_bootstrap3",function(){var t=this;return F.DIV(F.Attrs({class:"af-checkbox-group"},function(){return A.attrMustache(t.lookup("dsk"))}),"\n    ",p.Each(function(){return A.call(A.dot(t.lookup("."),"items"))},function(){return["\n    ",F.LABEL({class:"checkbox-inline fix-indent"},"\n      ",F.INPUT(F.Attrs({type:"checkbox",value:function(){return A.mustache(A.dot(t.lookup("."),"value"))}},function(){return A.attrMustache(t.lookup("atts"))})),"\n      ",p.View("lookup:..label",function(){return A.mustache(A.dot(t.lookup("."),"label"))}),"\n    "),"\n    "]}),"\n  ")})}.call(this),function(){f.afCheckboxGroupInline_bootstrap3.helpers({atts:function t(){var e=l.clone(this.atts);return this.selected&&(e.checked=""),delete e["data-schema-key"],e},dsk:function t(){return{"data-schema-key":this.atts["data-schema-key"]}}})}.call(this),function(){f.__checkName("afSelectMultiple_bootstrap3"),f.afSelectMultiple_bootstrap3=new f("Template.afSelectMultiple_bootstrap3",function(){var t=this;return F.SELECT(F.Attrs({multiple:""},function(){return A.attrMustache(t.lookup("attsPlusFormControlClass"))}),"\n    ",p.Each(function(){return A.call(A.dot(t.lookup("."),"items"))},function(){return["\n    ",p.If(function(){return A.call(A.dot(t.lookup("."),"optgroup"))},function(){return["\n    ",F.OPTGROUP({label:function(){return A.mustache(A.dot(t.lookup("."),"optgroup"))}},"\n      ",p.Each(function(){return A.call(A.dot(t.lookup("."),"items"))},function(){return["\n      ",F.OPTION(F.Attrs(function(){return A.attrMustache(t.lookup("afSelectOptionAtts"))}),p.View("lookup:..label",function(){return A.mustache(A.dot(t.lookup("."),"label"))})),"\n      "]}),"\n    "),"\n    "]},function(){return["\n    ",F.OPTION(F.Attrs(function(){return A.attrMustache(t.lookup("afSelectOptionAtts"))}),p.View("lookup:..label",function(){return A.mustache(A.dot(t.lookup("."),"label"))})),"\n    "]}),"\n    "]}),"\n  ")})}.call(this),function(){f.__checkName("afRadioGroup_bootstrap3"),f.afRadioGroup_bootstrap3=new f("Template.afRadioGroup_bootstrap3",function(){var t=this;return F.DIV(F.Attrs({class:"af-radio-group"},function(){return A.attrMustache(t.lookup("dsk"))}),"\n    ",p.Each(function(){return A.call(A.dot(t.lookup("."),"items"))},function(){return["\n    ",F.DIV({class:"radio"},"\n      ",F.LABEL("\n        ",F.INPUT(F.Attrs({type:"radio",value:function(){return A.mustache(A.dot(t.lookup("."),"value"))}},function(){return A.attrMustache(t.lookup("atts"))})),"\n        ",p.View("lookup:..label",function(){return A.mustache(A.dot(t.lookup("."),"label"))}),"\n      "),"\n    "),"\n    "]}),"\n  ")})}.call(this),function(){f.afRadioGroup_bootstrap3.helpers({atts:function t(){var e=l.clone(this.atts);return this.selected&&(e.checked=""),delete e["data-schema-key"],e},dsk:function t(){return{"data-schema-key":this.atts["data-schema-key"]}}})}.call(this),function(){f.__checkName("afRadioGroupInline_bootstrap3"),f.afRadioGroupInline_bootstrap3=new f("Template.afRadioGroupInline_bootstrap3",function(){var t=this;return F.DIV(F.Attrs({class:"af-radio-group"},function(){return A.attrMustache(t.lookup("dsk"))}),"\n    ",p.Each(function(){return A.call(A.dot(t.lookup("."),"items"))},function(){return["\n    ",F.LABEL({class:"radio-inline fix-indent"},"\n      ",F.INPUT(F.Attrs({type:"radio",value:function(){return A.mustache(A.dot(t.lookup("."),"value"))}},function(){return A.attrMustache(t.lookup("atts"))})),"\n      ",p.View("lookup:..label",function(){return A.mustache(A.dot(t.lookup("."),"label"))}),"\n    "),"\n    "]}),"\n  ")})}.call(this),function(){f.afRadioGroupInline_bootstrap3.helpers({atts:function t(){var e=l.clone(this.atts);return this.selected&&(e.checked=""),delete e["data-schema-key"],e},dsk:function t(){return{"data-schema-key":this.atts["data-schema-key"]}}})}.call(this),function(){f.__checkName("afInputSubmit_bootstrap3"),f.afInputSubmit_bootstrap3=new f("Template.afInputSubmit_bootstrap3",function(){var t=this;return F.INPUT(F.Attrs({type:"submit",value:function(){return A.mustache(A.dot(t.lookup("."),"value"))}},function(){return A.attrMustache(t.lookup("attsPlusBtnClass"))}))})}.call(this),function(){f.__checkName("afInputTel_bootstrap3"),f.afInputTel_bootstrap3=new f("Template.afInputTel_bootstrap3",function(){var t=this;return F.INPUT(F.Attrs({type:"tel",value:function(){return A.mustache(A.dot(t.lookup("."),"value"))}},function(){return A.attrMustache(t.lookup("attsPlusFormControlClass"))}))})}.call(this),function(){f.__checkName("afInputText_bootstrap3"),f.afInputText_bootstrap3=new f("Template.afInputText_bootstrap3",function(){var t=this;return F.INPUT(F.Attrs({type:"text",value:function(){return A.mustache(A.dot(t.lookup("."),"value"))}},function(){return A.attrMustache(t.lookup("attsPlusFormControlClass"))}))})}.call(this),function(){f.__checkName("afTextarea_bootstrap3"),f.afTextarea_bootstrap3=new f("Template.afTextarea_bootstrap3",function(){var t=this;return F.TEXTAREA(F.Attrs(function(){return A.attrMustache(t.lookup("attsPlusFormControlClass"))},{value:function(){return A.mustache(A.dot(t.lookup("."),"value"))}}))})}.call(this),function(){f.__checkName("afInputTime_bootstrap3"),f.afInputTime_bootstrap3=new f("Template.afInputTime_bootstrap3",function(){var t=this;return F.INPUT(F.Attrs({type:"time",value:function(){return A.mustache(A.dot(t.lookup("."),"value"))}},function(){return A.attrMustache(t.lookup("attsPlusFormControlClass"))}))})}.call(this),function(){f.__checkName("afInputUrl_bootstrap3"),f.afInputUrl_bootstrap3=new f("Template.afInputUrl_bootstrap3",function(){var t=this;return F.INPUT(F.Attrs({type:"url",value:function(){return A.mustache(A.dot(t.lookup("."),"value"))}},function(){return A.attrMustache(t.lookup("attsPlusFormControlClass"))}))})}.call(this),function(){f.__checkName("afInputWeek_bootstrap3"),f.afInputWeek_bootstrap3=new f("Template.afInputWeek_bootstrap3",function(){var t=this;return F.INPUT(F.Attrs({type:"week",value:function(){return A.mustache(A.dot(t.lookup("."),"value"))}},function(){return A.attrMustache(t.lookup("attsPlusFormControlClass"))}))})}.call(this),function(){f.__checkName("quickForm_bootstrap3-horizontal"),f["quickForm_bootstrap3-horizontal"]=new f("Template.quickForm_bootstrap3-horizontal",function(){var t=this;return p._TemplateWith(function(){return A.call(t.lookup("qfAutoFormContext"))},function(){return A.include(t.lookupTemplate("autoForm"),function(){return["\n\n    ",A.With(function(){return A.call(t.lookup("grouplessFields"))},function(){return["\n      ",p._TemplateWith(function(){return A.call(t.lookup("quickFieldsAtts"))},function(){return A.include(t.lookupTemplate("afQuickFields"))}),"\n    "]}),"\n\n    ",p.Each(function(){return A.call(t.lookup("fieldGroups"))},function(){return["\n      ",F.FIELDSET({class:"af-fieldGroup"},"\n        ",A.With(function(){return A.call(t.lookup("fieldGroupLabel"))},function(){return["\n          ",F.LEGEND({class:"af-fieldGroup-heading"},p.View("lookup:.",function(){return A.mustache(t.lookup("."))})),"\n        "]}),"\n        ",p._TemplateWith(function(){return A.call(t.lookup("quickFieldsAtts"))},function(){return A.include(t.lookupTemplate("afQuickFields"))}),"\n      "),"\n    "]}),"\n\n    ",p.If(function(){return A.call(t.lookup("qfShouldRenderButton"))},function(){return["\n    ",F.DIV({class:"form-group"},"\n      ",F.DIV({class:function(){return A.mustache(t.lookup("labelClass"))}}),"\n      ",F.DIV({class:function(){return A.mustache(t.lookup("inputClass"))}},"\n        ",F.BUTTON(F.Attrs({type:"submit"},function(){return A.attrMustache(t.lookup("submitButtonAtts"))}),"\n          ",A.With(function(){return A.call(A.dot(t.lookup(".."),"atts","buttonContent"))},function(){return["\n          ",p.View("lookup:.",function(){return A.mustache(t.lookup("."))}),"\n          "]},function(){return"\n          Submit\n          "}),"\n        "),"\n      "),"\n    "),"\n    "]}),"\n\n  "]})})})}.call(this),function(){f["quickForm_bootstrap3-horizontal"].helpers({inputClass:function(){return this.atts["input-col-class"]},labelClass:function(){return this.atts["label-class"]},fieldGroupLabel:function(){var t=this.name;return isNaN(parseInt(t.substr(0,2),10))||"_"!==t.charAt(2)||(t=t.substr(3)),"function"==typeof o.defaultLabel?o.defaultLabel(t):t.charAt(0).toUpperCase()+t.slice(1)},quickFieldsAtts:function(){return l.pick(this.atts,"fields","id-prefix","input-col-class","label-class")},submitButtonAtts:function(){var t=this.atts,e={};return"string"==typeof t.buttonClasses?e.class=t.buttonClasses:e.class="btn btn-primary",e},qfAutoFormContext:function(){var t=l.clone(this.qfAutoFormContext||{});return t=N.Utility.addClass(t,"form-horizontal"),delete t["input-col-class"],delete t["label-class"],t}})}.call(this),function(){f.__checkName("afArrayField_bootstrap3-horizontal"),f["afArrayField_bootstrap3-horizontal"]=new f("Template.afArrayField_bootstrap3-horizontal",function(){var t=this;return F.DIV({class:function(){return["form-group",p.If(function(){return A.dataMustache(t.lookup("afFieldIsInvalid"),A.kw({name:A.dot(t.lookup("."),"atts","name")}))},function(){return" has-error"})]}},"\n    ",F.LABEL(F.Attrs(function(){return A.attrMustache(t.lookup("afFieldLabelAtts"))}),p.View("lookup:afFieldLabelText",function(){return A.mustache(t.lookup("afFieldLabelText"),A.kw({name:A.dot(t.lookup("."),"atts","name")}))})),"\n    ",F.DIV({class:function(){return A.mustache(t.lookup("rightColumnClass"))}},"\n      ",F.DIV({class:"panel panel-default autoform-padding-fix"},"\n        ",p.If(function(){return A.dataMustache(t.lookup("afFieldIsInvalid"),A.kw({name:A.dot(t.lookup("."),"atts","name")}))},function(){return["\n        ",F.DIV({class:"panel-body has-error"},"\n          ",F.SPAN({class:"help-block"},p.View("lookup:afFieldMessage",function(){return A.makeRaw(A.mustache(t.lookup("afFieldMessage"),A.kw({name:A.dot(t.lookup("."),"atts","name")})))})),"\n        "),"\n        "]}),"\n        ",F.UL({class:"list-group"},"\n          ",p._TemplateWith(function(){return{name:A.call(A.dot(t.lookup("."),"atts","name")),minCount:A.call(A.dot(t.lookup("."),"atts","minCount")),maxCount:A.call(A.dot(t.lookup("."),"atts","maxCount"))}},function(){return A.include(t.lookupTemplate("afEachArrayItem"),function(){return["\n          ",F.LI({class:"list-group-item autoform-array-item"},"\n            ",F.DIV("\n              ",F.DIV({class:"autoform-remove-item-wrap"},"\n                ",p.If(function(){return A.dataMustache(t.lookup("afArrayFieldHasMoreThanMinimum"),A.kw({name:A.dot(t.lookup(".."),"atts","name"),minCount:A.dot(t.lookup(".."),"atts","minCount"),maxCount:A.dot(t.lookup(".."),"atts","maxCount")}))},function(){return["\n                ",F.BUTTON({type:"button",class:"btn btn-primary autoform-remove-item"},F.SPAN({class:"glyphicon glyphicon-minus"})),"\n                "]}),"\n              "),"\n              ",F.DIV({class:"autoform-array-item-body"},"\n                ",p._TemplateWith(function(){return{name:A.call(A.dot(t.lookup("."),"name")),label:A.call(!1),options:A.call(t.lookup("afOptionsFromSchema"))}},function(){return A.include(t.lookupTemplate("afQuickField"))}),"\n              "),"\n            "),"\n          "),"\n          "]})}),"\n          ",p.If(function(){return A.dataMustache(t.lookup("afArrayFieldHasLessThanMaximum"),A.kw({name:A.dot(t.lookup("."),"atts","name"),minCount:A.dot(t.lookup("."),"atts","minCount"),maxCount:A.dot(t.lookup("."),"atts","maxCount")}))},function(){return["\n          ",F.LI({class:"list-group-item"},"\n            ",F.BUTTON({type:"button",class:"btn btn-primary autoform-add-item","data-autoform-field":function(){return A.mustache(A.dot(t.lookup("."),"atts","name"))},"data-autoform-mincount":function(){return A.mustache(A.dot(t.lookup("."),"atts","minCount"))},"data-autoform-maxcount":function(){return A.mustache(A.dot(t.lookup("."),"atts","maxCount"))}},F.SPAN({class:"glyphicon glyphicon-plus"})),"\n          "),"\n          "]}),"\n        "),"\n      "),"\n    "),"\n  ")})}.call(this),function(){f["afArrayField_bootstrap3-horizontal"].helpers({rightColumnClass:function(){var t=this.atts||{};return t["input-col-class"]||""},afFieldLabelAtts:function(){var t={};return l.each(this.atts,function(e,n){0===n.indexOf("label-")&&(t[n.substring(6)]=e)}),t=N.Utility.addClass(t,"control-label")}})}.call(this),function(){f.__checkName("afFormGroup_bootstrap3-horizontal"),f["afFormGroup_bootstrap3-horizontal"]=new f("Template.afFormGroup_bootstrap3-horizontal",function(){var t=this;return F.DIV(F.Attrs({class:function(){return["form-group ",p.If(function(){return A.dataMustache(t.lookup("afFieldIsInvalid"),A.kw({name:A.dot(t.lookup("."),"name")}))},function(){return"has-error"})," ",A.mustache(t.lookup("afFormGroupClass"))]},"data-required":function(){return A.mustache(t.lookup("required"))}},function(){return A.attrMustache(t.lookup("afFormGroupAtts"))}),"\n    ",p.If(function(){return A.call(t.lookup("skipLabel"))},function(){return["\n    \n    ",F.LABEL(F.Attrs(function(){return A.attrMustache(t.lookup("afFieldLabelAtts"))})),"\n    "]},function(){return["\n    ",F.LABEL(F.Attrs(function(){return A.attrMustache(t.lookup("afFieldLabelAtts"))}),p.If(function(){return A.call(A.dot(t.lookup("."),"labelText"))},function(){return p.View("lookup:..labelText",function(){return A.mustache(A.dot(t.lookup("."),"labelText"))})},function(){return p.View("lookup:afFieldLabelText",function(){return A.mustache(t.lookup("afFieldLabelText"),A.kw({name:A.dot(t.lookup("."),"name")}))})})),"\n    "]}),"\n    ",F.DIV({class:function(){return A.mustache(t.lookup("rightColumnClass"))}},"\n      ",p._TemplateWith(function(){return A.call(t.lookup("afFieldInputAtts"))},function(){return A.include(t.lookupTemplate("afFieldInput"))}),"\n      ",F.SPAN({class:"help-block"},p.View("lookup:afFieldMessage",function(){return A.makeRaw(A.mustache(t.lookup("afFieldMessage"),A.kw({name:A.dot(t.lookup("."),"name")})))})),"\n    "),"\n  ")})}.call(this),function(){f["afFormGroup_bootstrap3-horizontal"].helpers({afFieldInputAtts:function(){var t=l.omit(this.afFieldInputAtts||{},"input-col-class");return"boolean-checkbox"===N.getInputType(this.afFieldInputAtts)?t.template="bootstrap3-horizontal":t.template="bootstrap3",t},afFieldLabelAtts:function(){var t=l.clone(this.afFieldLabelAtts||{});return t=N.Utility.addClass(t,"control-label")},rightColumnClass:function(){var t=this.afFieldInputAtts||{};return t["input-col-class"]||""},skipLabel:function(){var t=this,e=N.getInputType(t.afFieldInputAtts);return t.skipLabel||"boolean-checkbox"===e&&!t.afFieldInputAtts.leftLabel}})}.call(this),function(){f.__checkName("afObjectField_bootstrap3-horizontal"),f["afObjectField_bootstrap3-horizontal"]=new f("Template.afObjectField_bootstrap3-horizontal",function(){var t=this;return F.DIV({class:function(){return["form-group ",p.If(function(){return A.dataMustache(t.lookup("afFieldIsInvalid"),A.kw({name:A.dot(t.lookup("."),"name")}))},function(){return"has-error"})]}},"\n    ",F.LABEL(F.Attrs(function(){return A.attrMustache(t.lookup("afFieldLabelAtts"))}),p.View("lookup:afFieldLabelText",function(){return A.mustache(t.lookup("afFieldLabelText"),A.kw({name:A.dot(t.lookup("."),"name")}))})),"\n    ",F.DIV({class:function(){return A.mustache(t.lookup("rightColumnClass"))}},"\n      ",F.DIV({class:function(){return["panel panel-default autoform-padding-fix ",A.mustache(t.lookup("panelClass"))]}},"\n        ",F.DIV({class:function(){return["panel-body ",A.mustache(t.lookup("bodyClass"))]}},"\n          ",p._TemplateWith(function(){return A.call(t.lookup("quickFieldsAtts"))},function(){return A.include(t.lookupTemplate("afQuickFields"))}),"\n        "),"\n      "),"\n    "),"\n  ")})}.call(this),function(){f["afObjectField_bootstrap3-horizontal"].helpers({rightColumnClass:function(){return this["input-col-class"]||""},afFieldLabelAtts:function(){var t={};return l.each(this,function(e,n){0===n.indexOf("label-")&&(t[n.substring(6)]=e)}),t=N.Utility.addClass(t,"control-label")},quickFieldsAtts:function(){var t=l.pick(this,"name","id-prefix");return t.template="bootstrap3",t}})}.call(this),function(){f.__checkName("afCheckbox_bootstrap3-horizontal"),f["afCheckbox_bootstrap3-horizontal"]=new f("Template.afCheckbox_bootstrap3-horizontal",function(){var t=this;return p.If(function(){return A.call(t.lookup("useLeftLabel"))},function(){return["\n  \n  ",F.DIV({class:"checkbox"},"\n    ",F.INPUT(F.Attrs({type:"checkbox",value:"true"},function(){return A.attrMustache(t.lookup("attsPlusSpecialClass"))})),"\n  "),"\n  "]},function(){return["\n  ",F.DIV({class:"checkbox"},"\n    ",F.LABEL("\n      ",F.INPUT(F.Attrs({type:"checkbox",value:"true"},function(){return A.attrMustache(t.lookup("atts"))})),"\n      ",p.View("lookup:afFieldLabelText",function(){return A.mustache(t.lookup("afFieldLabelText"),A.kw({name:A.dot(t.lookup("."),"name")}))}),"\n    "),"\n  "),"\n  "]})})}.call(this),function(){f["afCheckbox_bootstrap3-horizontal"].helpers({attsPlusSpecialClass:function(){var t=l.clone(this.atts);return t=N.Utility.addClass(t,"autoform-checkbox-margin-fix")},useLeftLabel:function(){return this.atts.leftLabel}})}.call(this),function(){f.__checkName("quickForm_bootstrap3-inline"),f["quickForm_bootstrap3-inline"]=new f("Template.quickForm_bootstrap3-inline",function(){var t=this;return p._TemplateWith(function(){return A.call(t.lookup("qfAutoFormContext"))},function(){return A.include(t.lookupTemplate("autoForm"),function(){return["\n    ",p._TemplateWith(function(){return A.call(t.lookup("quickFieldsAtts"))},function(){return A.include(t.lookupTemplate("afQuickFields"))}),"\n    ",p.If(function(){return A.call(t.lookup("qfShouldRenderButton"))},function(){return["\n    ",F.BUTTON(F.Attrs({type:"submit"},function(){return A.attrMustache(t.lookup("submitButtonAtts"))}),"\n    ",A.With(function(){return A.call(A.dot(t.lookup(".."),"atts","buttonContent"))},function(){return["\n    ",p.View("lookup:.",function(){return A.mustache(t.lookup("."))}),"\n    "]},function(){return"\n    Submit\n    "}),"\n    "),"\n    "]}),"\n  "]})})}),f.__checkName("afFormGroup_bootstrap3-inline"),f["afFormGroup_bootstrap3-inline"]=new f("Template.afFormGroup_bootstrap3-inline",function(){var t=this;return F.DIV(F.Attrs({class:function(){return["form-group ",p.If(function(){return A.dataMustache(t.lookup("afFieldIsInvalid"),A.kw({name:A.dot(t.lookup("."),"name")}))},function(){return"has-error"})," ",A.mustache(t.lookup("afFormGroupClass"))]},"data-required":function(){return A.mustache(t.lookup("required"))}},function(){return A.attrMustache(t.lookup("afFormGroupAtts"))}),"\n    ",p.Unless(function(){return A.call(t.lookup("skipLabel"))},function(){return["\n    ",F.LABEL(F.Attrs(function(){return A.attrMustache(t.lookup("afFieldLabelAtts"))}),p.If(function(){return A.call(A.dot(t.lookup("."),"labelText"))},function(){return p.View("lookup:..labelText",function(){return A.mustache(A.dot(t.lookup("."),"labelText"))})},function(){return p.View("lookup:afFieldLabelText",function(){return A.mustache(t.lookup("afFieldLabelText"),A.kw({name:A.dot(t.lookup("."),"name")}))})})),"\n    "]}),"\n    ",p._TemplateWith(function(){return A.call(t.lookup("afFieldInputAtts"))},function(){return A.include(t.lookupTemplate("afFieldInput"))}),"\n    ",F.SPAN({class:"help-block"},p.View("lookup:afFieldMessage",function(){return A.makeRaw(A.mustache(t.lookup("afFieldMessage"),A.kw({name:A.dot(t.lookup("."),"name")})))})),"\n  ")})}.call(this),function(){f["quickForm_bootstrap3-inline"].helpers({submitButtonAtts:function(){var t=this.atts,e={};return"string"==typeof t.buttonClasses?e.class=t.buttonClasses:e.class="btn btn-primary autoform-inline-align",e},qfAutoFormContext:function(){var t=l.clone(this.qfAutoFormContext||{});return t=N.Utility.addClass(t,"form-inline"),delete t["label-class"],t},quickFieldsAtts:function(){return l.pick(this.atts,"id-prefix","label-class")}}),f["afFormGroup_bootstrap3-inline"].helpers({afFieldInputAtts:function(){var t=l.clone(this.afFieldInputAtts||{});return t.template="bootstrap3",t}})}.call(this),function(){f.__checkName("quickForm_plain"),f.quickForm_plain=new f("Template.quickForm_plain",function(){var t=this;return p._TemplateWith(function(){return A.call(t.lookup("qfAutoFormContext"))},function(){return A.include(t.lookupTemplate("autoForm"),function(){return["\n\n    ",A.With(function(){return A.call(t.lookup("grouplessFields"))},function(){return["\n      ",p._TemplateWith(function(){return A.call(t.lookup("quickFieldsAtts"))},function(){return A.include(t.lookupTemplate("afQuickFields"))}),"\n    "]}),"\n\n    ",p.Each(function(){return A.call(t.lookup("fieldGroups"))},function(){return["\n      ",F.FIELDSET({class:"af-fieldGroup"},"\n        ",A.With(function(){return A.call(t.lookup("fieldGroupLabel"))},function(){return["\n          ",F.LEGEND({class:"af-fieldGroup-heading"},p.View("lookup:.",function(){return A.mustache(t.lookup("."))})),"\n        "]}),"\n        ",p._TemplateWith(function(){return A.call(t.lookup("quickFieldsAtts"))},function(){return A.include(t.lookupTemplate("afQuickFields"))}),"\n      "),"\n    "]}),"\n\n    ",p.If(function(){return A.call(t.lookup("qfShouldRenderButton"))},function(){return["\n    ",F.DIV("\n      ",F.BUTTON(F.Attrs({type:"submit"},function(){return A.attrMustache(t.lookup("submitButtonAtts"))}),"\n      ",A.With(function(){return A.call(A.dot(t.lookup(".."),"atts","buttonContent"))},function(){return["\n      ",p.View("lookup:.",function(){return A.mustache(t.lookup("."))}),"\n      "]},function(){return"\n      Submit\n      "}),"\n      "),"\n    "),"\n    "]}),"\n\n  "]})})})}.call(this),function(){f.quickForm_plain.helpers({quickFieldsAtts:function(){return l.pick(this.atts,"id-prefix")},submitButtonAtts:function t(){var e=this.atts,n={};return"string"==typeof e.buttonClasses&&(n.class=e.buttonClasses),n}})}.call(this),function(){f.__checkName("afArrayField_plain"),f.afArrayField_plain=new f("Template.afArrayField_plain",function(){var t=this;return F.FIELDSET("\n    ",F.LEGEND(p.View("lookup:afFieldLabelText",function(){return A.mustache(t.lookup("afFieldLabelText"),A.kw({name:A.dot(t.lookup("."),"atts","name")}))})),"\n    ",p.If(function(){return A.dataMustache(t.lookup("afFieldIsInvalid"),A.kw({name:A.dot(t.lookup("."),"atts","name")}))},function(){return["\n    ",F.DIV({class:"autoform-array-field-error"},"\n      ",p.View("lookup:afFieldMessage",function(){return A.makeRaw(A.mustache(t.lookup("afFieldMessage"),A.kw({name:A.dot(t.lookup("."),"atts","name")})))}),"\n    "),"\n    "]}),"\n    ",p._TemplateWith(function(){return{name:A.call(A.dot(t.lookup("."),"atts","name")),minCount:A.call(A.dot(t.lookup("."),"atts","minCount")),maxCount:A.call(A.dot(t.lookup("."),"atts","maxCount"))}},function(){return A.include(t.lookupTemplate("afEachArrayItem"),function(){return["\n    ",F.DIV({class:"autoform-array-item"},"\n      ",p._TemplateWith(function(){return{name:A.call(A.dot(t.lookup("."),"name")),label:A.call(!1)}},function(){return A.include(t.lookupTemplate("afQuickField"))}),"\n      ",p.If(function(){return A.dataMustache(t.lookup("afArrayFieldHasMoreThanMinimum"),A.kw({name:A.dot(t.lookup(".."),"atts","name"),minCount:A.dot(t.lookup(".."),"atts","minCount"),maxCount:A.dot(t.lookup(".."),"atts","maxCount")}))},function(){return["\n      ",F.BUTTON({type:"button",class:"autoform-remove-item"},"Remove"),"\n      "]}),"\n    "),"\n    "]})}),"\n    ",p.If(function(){return A.dataMustache(t.lookup("afArrayFieldHasLessThanMaximum"),A.kw({name:A.dot(t.lookup("."),"atts","name"),minCount:A.dot(t.lookup("."),"atts","minCount"),maxCount:A.dot(t.lookup("."),"atts","maxCount")}))},function(){return["\n    ",F.DIV({style:"margin-top: 20px;"},"\n      ",F.BUTTON({type:"button",class:"autoform-add-item","data-autoform-field":function(){return A.mustache(A.dot(t.lookup("."),"atts","name"))},"data-autoform-mincount":function(){return A.mustache(A.dot(t.lookup("."),"atts","minCount"))},"data-autoform-maxcount":function(){return A.mustache(A.dot(t.lookup("."),"atts","maxCount"))}},"Add"),"\n    "),"\n    "]}),"\n  ")})}.call(this),function(){f.__checkName("afFormGroup_plain"),f.afFormGroup_plain=new f("Template.afFormGroup_plain",function(){var t=this;return F.DIV(F.Attrs({class:function(){return[p.If(function(){return A.dataMustache(t.lookup("afFieldIsInvalid"),A.kw({name:A.dot(t.lookup("."),"name")}))},function(){return"has-error"})," ",A.mustache(t.lookup("afFormGroupClass"))]},"data-required":function(){return A.mustache(t.lookup("required"))}},function(){return A.attrMustache(t.lookup("afFormGroupAtts"))}),"\n    ",p.Unless(function(){return A.call(A.dot(t.lookup("."),"skipLabel"))},function(){return["\n    ",F.LABEL(F.Attrs(function(){return A.attrMustache(A.dot(t.lookup("."),"afFieldLabelAtts"))}),p.If(function(){return A.call(A.dot(t.lookup("."),"labelText"))},function(){return p.View("lookup:..labelText",function(){return A.mustache(A.dot(t.lookup("."),"labelText"))})},function(){return p.View("lookup:afFieldLabelText",function(){return A.mustache(t.lookup("afFieldLabelText"),A.kw({name:A.dot(t.lookup("."),"name")}))})})),"\n    "]}),"\n    ",p._TemplateWith(function(){return A.call(A.dot(t.lookup("."),"afFieldInputAtts"))},function(){return A.include(t.lookupTemplate("afFieldInput"))}),"\n    ",F.SPAN(p.View("lookup:afFieldMessage",function(){return A.makeRaw(A.mustache(t.lookup("afFieldMessage"),A.kw({name:A.dot(t.lookup("."),"name")})))})),"\n  ")})}.call(this),function(){f.__checkName("afObjectField_plain"),f.afObjectField_plain=new f("Template.afObjectField_plain",function(){var t=this;return F.FIELDSET("\n    ",A.With(function(){return A.dataMustache(t.lookup("afFieldLabelText"),A.kw({name:A.dot(t.lookup("."),"name")}))},function(){return["\n    ",F.LEGEND(p.View("lookup:.",function(){return A.mustache(t.lookup("."))})),"\n    "]}),"\n    ",p._TemplateWith(function(){return A.call(t.lookup("quickFieldsAtts"))},function(){return A.include(t.lookupTemplate("afQuickFields"))}),"\n  ")})}.call(this),function(){f.afObjectField_plain.helpers({quickFieldsAtts:function(){return l.pick(this,"name","id-prefix")}})}.call(this),function(){f.__checkName("quickForm_plain-fieldset"),f["quickForm_plain-fieldset"]=new f("Template.quickForm_plain-fieldset",function(){var t=this;return p._TemplateWith(function(){return A.call(t.lookup("qfAutoFormContext"))},function(){return A.include(t.lookupTemplate("autoForm"),function(){return["\n    ",F.FIELDSET("\n      ",A.With(function(){return A.call(A.dot(t.lookup(".."),"atts","legend"))},function(){return["\n      ",F.LEGEND(p.View("lookup:.",function(){return A.mustache(t.lookup("."))})),"\n      "]}),"\n      ",p._TemplateWith(function(){return A.call(t.lookup("quickFieldsAtts"))},function(){return A.include(t.lookupTemplate("afQuickFields"))}),"\n    "),"\n    ",p.If(function(){return A.call(t.lookup("qfShouldRenderButton"))},function(){return["\n    ",F.DIV("\n      ",F.BUTTON(F.Attrs({type:"submit"},function(){return A.attrMustache(t.lookup("submitButtonAtts"))}),"\n        ",A.With(function(){return A.call(A.dot(t.lookup(".."),"atts","buttonContent"))},function(){return["\n        ",p.View("lookup:.",function(){return A.mustache(t.lookup("."))}),"\n        "]},function(){return"\n        Submit\n        "}),"\n      "),"\n    "),"\n    "]}),"\n  "]})})})}.call(this),function(){f["quickForm_plain-fieldset"].helpers({quickFieldsAtts:function(){return l.pick(this.atts,"id-prefix")},submitButtonAtts:function t(){var e=this.atts,n={};return"string"==typeof e.buttonClasses&&(n.class=e.buttonClasses),n}})}.call(this),"undefined"==typeof Package&&(Package={}),function(t,e){for(var n in e)n in t||(t[n]=e[n])}(Package["aldeed:autoform"]={},{AutoForm:N,Utility:I})}();

!function(){var t=Package.meteor.Meteor,e=Package.meteor.global,o=Package.meteor.meteorEnv,n=Package.mongo.Mongo,i=Package["templating-runtime"].Template,r=Package.blaze.Blaze,s=Package.blaze.UI,l=Package.blaze.Handlebars,a=Package.underscore._,c=Package.jquery.$,u=Package.jquery.jQuery,f=Package.session.Session,d=Package.spacebars.Spacebars,p=Package.htmljs.HTML,m;(function(){"use strict";var e=function(t,e,o,n){var i={},r=["jelly","genie","stackslide","scale","slide","flip","bouncyflip"],s,l;return a.isObject(n)||(n={}),a.isObject(e)&&a.isString(o)&&(i=a.extend(i,t.settings,JSON.parse(JSON.stringify(e)),{condition:o},n)),a.isString(e)&&a.isString(o)&&(i=a.extend(i,t.settings,{message:e},{condition:o},n)),s=i&&i.effect,a.contains(r,s)&&!Package["juliancwirko:s-alert-"+s]&&"undefined"!=typeof console&&console.info('Install "'+s+'" effect by running "meteor add juliancwirko:s-alert-'+s+'"'),a.isObject(i)&&!a.isEmpty(i)&&(l=m.collection.insert(i)),l},o="webkitAnimationEnd oAnimationEnd animationEnd msAnimationEnd animationend",n=function(e){var n,i,r,s=function(){i&&a.isFunction(i)&&i()};document.hidden||document.webkitHidden||!c("#"+e).hasClass("s-alert-is-effect")?(r=m.collection.findOne(e),r&&!a.isEmpty(r)&&(i=r.onClose),m.collection.remove(e),s()):(c(".s-alert-box#"+e).removeClass("s-alert-show"),n=t.setTimeout(function(){c(".s-alert-box#"+e).addClass("s-alert-hide")},100),c(".s-alert-box#"+e).off(o),c(".s-alert-box#"+e).on(o,function(){c(this).hide(),r=m.collection.findOne(e),r&&!a.isEmpty(r)&&(i=r.onClose),m.collection.remove(e),t.clearTimeout(n),s()})),m.audio&&m.audio.load(),m.audioInfo&&m.audioInfo.load(),m.audioError&&m.audioError.load(),m.audioSuccess&&m.audioSuccess.load(),m.audioWarning&&m.audioWarning.load()};m={settings:{effect:"",position:"top-right",timeout:5e3,html:!1,onRouteClose:!0,stack:!0,offset:0,beep:!1,onClose:a.noop},config:function(e){var o=this;if(!a.isObject(e))throw new t.Error(400,"Config must be an object!");o.settings=a.extend(o.settings,e)},closeAll:function(){m.collection.find({}).forEach(function(t){m.collection.remove(t._id),t.onClose&&a.isFunction(t.onClose)&&t.onClose()})},close:function(t){a.isString(t)&&n(t)},info:function(t,o){return e(this,t,"info",o)},error:function(t,o){return e(this,t,"error",o)},success:function(t,o){return e(this,t,"success",o)},warning:function(t,o){return e(this,t,"warning",o)}},t.startup(function(){"undefined"!=typeof Iron&&"undefined"!=typeof Router&&Router.onStop(function(){m.collection.remove({onRouteClose:!0})}),"undefined"!=typeof FlowRouter&&a.isObject(FlowRouter.triggers)&&FlowRouter.triggers.enter([function(){m.collection.remove({onRouteClose:!0})}]),"undefined"==typeof FlowRouter||a.isObject(FlowRouter.triggers)||FlowRouter.middleware(function(t,e){m.collection.remove({onRouteClose:!0}),e()})})}).call(this),function(){"use strict";m.collection=new n.Collection(null)}.call(this),function(){i.__checkName("sAlert"),i.sAlert=new i("Template.sAlert",function(){var t=this;return[r.Each(function(){return d.call(t.lookup("sAlertDataLeft"))},function(){return["\n        ",d.include(t.lookupTemplate("sAlertContent")),"\n    "]}),"\n    ",r.Each(function(){return d.call(t.lookup("sAlertDataRight"))},function(){return["\n        ",d.include(t.lookupTemplate("sAlertContent")),"\n    "]}),"\n    ",r.Each(function(){return d.call(t.lookup("sAlertDataFullTop"))},function(){return["\n        ",d.include(t.lookupTemplate("sAlertContent")),"\n    "]}),"\n    ",r.Each(function(){return d.call(t.lookup("sAlertDataFullBottom"))},function(){return["\n        ",d.include(t.lookupTemplate("sAlertContent")),"\n    "]})]}),i.__checkName("sAlertContent"),i.sAlertContent=new i("Template.sAlertContent",function(){var t=this;return r.If(function(){return d.call(d.dot(t.lookup(".."),"template"))},function(){return["\n        ",r._TemplateWith(function(){return{template:d.call(d.dot(t.lookup(".."),"template")),data:d.call(t.lookup("."))}},function(){return d.include(function(){return d.call(i.__dynamic)})}),"\n    "]},function(){return["\n        ",p.DIV({class:function(){return["s-alert-box s-alert-",d.mustache(t.lookup("condition"))," s-alert-",d.mustache(t.lookup("position"))," ",r.If(function(){return d.call(t.lookup("effect"))},function(){return["s-alert-is-effect s-alert-effect-",r.View("lookup:effect",function(){return d.mustache(t.lookup("effect"))})]})," s-alert-show"]},id:function(){return d.mustache(t.lookup("_id"))},style:function(){return d.mustache(t.lookup("boxPosition"))}},"\n            ",p.DIV({class:"s-alert-box-inner"},"\n                ",p.P(r.If(function(){return d.call(t.lookup("isHtml"))},function(){return r.View("lookup:message",function(){return d.makeRaw(d.mustache(t.lookup("message")))})},function(){return r.View("lookup:message",function(){return d.mustache(t.lookup("message"))})})),"\n            "),"\n            ",p.SPAN({class:"s-alert-close"}),"\n        "),"\n    "]})})}.call(this),function(){"use strict";var e=function(t,e){var o=0,n=0,s=0,l={},u,f,d,p,g,h=t&&t.template,k,b,A,C,w=function(t,e){var o=y.filter(function(e){return e.position===t});return o&&o[0]._id===e},v=function(t,e,o,n){return s=o.stack.spacing||n.find(".s-alert-box").css(e),w(o.position,o._id)&&o.offset&&(t=0,t+=parseInt(o.offset)),w(o.position,o._id)&&o.stack.spacing?t=t:t+=parseInt(s),u=e+": "+t+"px;",t+=g},x={};"left"===e&&(x={$or:[{position:"top-left"},{position:"bottom-left"}]}),"right"===e&&(x={$or:[{position:"top-right"},{position:"bottom-right"}]}),"full-top"===e&&(x={position:"top"}),"full-bottom"===e&&(x={position:"bottom"});var y=m.collection.find(x).fetch();return y.map(function(t){return k=t.position&&/top/g.test(t.position),b=t.position&&/bottom/g.test(t.position),t.stack?(A=t.stack&&t.stack.limit,C=m.collection.find(x).count(),A&&C>A&&m.close(m.collection.findOne(x)._id),p=document.createElement("div"),c(p).addClass("s-alert-box-height"),f=a.isString(h)?r.toHTMLWithData(i[h],t):r.toHTMLWithData(i.sAlertContent,t),d=c(p).html(f),c("body").append(d),g=d.find(".s-alert-box").outerHeight(!0),k&&(o=v(o,"top",t,d)),b&&(n=v(n,"bottom",t,d)),d.remove(),"left"===e&&(u=u+"left: "+(t.stack.spacing||d.find(".s-alert-box").css("left"))+"px;"),"right"===e&&(u=u+"right: "+(t.stack.spacing||d.find(".s-alert-box").css("right"))+"px;"),l=a.extend(t,{boxPosition:u})):l=t.offset&&k?a.extend(t,{boxPosition:"top: "+parseInt(t.offset)+"px;"}):t.offset&&b?a.extend(t,{boxPosition:"bottom: "+parseInt(t.offset)+"px;"}):t,l})};i.sAlert.helpers({sAlertDataLeft:function(){return e(i.currentData(),"left")},sAlertDataRight:function(){return e(i.currentData(),"right")},sAlertDataFullTop:function(){return e(i.currentData(),"full-top")},sAlertDataFullBottom:function(){return e(i.currentData(),"full-bottom")}}),i.sAlertContent.onRendered(function(){var e=this,o=i.currentData(),n=o.timeout,r=o.beep;r&&a.isString(r)&&(m.audio=new Audio(o.beep),m.audio.load(),m.audio.play()),r&&a.isObject(r)&&"info"===o.condition&&(m.audioInfo=new Audio(o.beep.info),m.audioInfo.load(),m.audioInfo.play()),r&&a.isObject(r)&&"error"===o.condition&&(m.audioError=new Audio(o.beep.error),m.audioError.load(),m.audioError.play()),r&&a.isObject(r)&&"success"===o.condition&&(m.audioSuccess=new Audio(o.beep.success),m.audioSuccess.load(),m.audioSuccess.play()),r&&a.isObject(r)&&"warning"===o.condition&&(m.audioWarning=new Audio(o.beep.warning),m.audioWarning.load(),m.audioWarning.play()),n&&"none"!==n&&(n=parseInt(n),e.sAlertCloseTimeout&&t.clearTimeout(e.sAlertCloseTimeout),e.sAlertCloseTimeout=t.setTimeout(function(){m.close(o._id)},n))}),i.sAlertContent.onDestroyed(function(){this.sAlertCloseTimeout&&t.clearTimeout(this.sAlertCloseTimeout)}),i.sAlertContent.events({"click .s-alert-close":function(e,o){e.preventDefault(),t.clearTimeout(o.sAlertCloseTimeout),m.close(this._id)}}),i.sAlertContent.helpers({isHtml:function(){var t=i.currentData();return t&&t.html}})}.call(this),"undefined"==typeof Package&&(Package={}),function(t,e){for(var o in e)o in t||(t[o]=e[o])}(Package["juliancwirko:s-alert"]={},{sAlert:m})}();

!function(){"undefined"==typeof Package&&(Package={}),Package["juliancwirko:s-alert-stackslide"]={}}();

!function(){var e=Package.meteor.Meteor,n=Package.meteor.global,t=Package.meteor.meteorEnv,r=Package.check.check,o=Package.check.Match,i=Package.mongo.Mongo,u=Package.underscore._,a=Package.modules.meteorInstall,c=Package.modules.Buffer,s=Package.modules.process,l=Package["ecmascript-runtime"].Symbol,f=Package["ecmascript-runtime"].Map,h=Package["ecmascript-runtime"].Set,d=Package["babel-runtime"].meteorBabelHelpers,p=Package.promise.Promise,g,m=a({node_modules:{meteor:{"easysearch:core":{lib:{core:{"index.js":["babel-runtime/helpers/classCallCheck","babel-runtime/helpers/createClass","meteor/mongo","./engine",function(n,t,i){var a;i.import("babel-runtime/helpers/classCallCheck",{default:function(e){a=e}});var c;i.import("babel-runtime/helpers/createClass",{default:function(e){c=e}});var s;i.import("meteor/mongo",{Mongo:function(e){s=e}});var l;i.import("./engine",{default:function(e){l=e}});var f=function(){function n(t){if(a(this,n),r(t,Object),r(t.collection,s.Collection),r(t.fields,[String]),!(t.engine instanceof l))throw new e.Error("invalid-engine","engine needs to be instanceof Engine");t.name||(t.name=(t.collection._name||"").toLowerCase()),this.config=u.extend(n.defaultConfiguration,t),this.defaultSearchOptions=u.defaults({},this.config.defaultSearchOptions,{limit:10,skip:0,props:{}}),t.engine.onIndexCreate(this.config)}return n.prototype.search=function(){function n(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.config.engine.checkSearchParam(n,this.config),r(t,{limit:o.Optional(Number),skip:o.Optional(Number),props:o.Optional(Object),userId:o.Optional(o.OneOf(String,null))}),t={search:this._getSearchOptions(t),index:this.config},!this.config.permission(t.search))throw new e.Error("not-allowed","Not allowed to search this index!");return this.config.engine.search(n,t)}return n}(),n.prototype._getSearchOptions=function(){function n(n){return e.isServer||delete n.userId,"undefined"==typeof n.userId&&e.userId&&(n.userId=e.userId()),u.defaults(n,this.defaultSearchOptions)}return n}(),c(n,null,[{key:"defaultConfiguration",get:function(){function e(){return{permission:function(){function e(){return!0}return e}(),defaultSearchOptions:{}}}return e}()}]),n}();i.export("default",t.default=f)}],"engine.js":["babel-runtime/helpers/classCallCheck",function(e,n,t){var o;t.import("babel-runtime/helpers/classCallCheck",{default:function(e){o=e}});var i=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(o(this,e),this.constructor===e)throw new Error("Cannot initialize instance of Engine");if(!u.isFunction(this.search))throw new Error("Engine needs to implement search method");this.config=u.defaults({},n,this.defaultConfiguration())}return e.prototype.defaultConfiguration=function(){function e(){return{}}return e}(),e.prototype.callConfigMethod=function(){function e(e){r(e,String);var n=this.config[e];if(n){for(var t=arguments.length,o=Array(t>1?t-1:0),i=1;i<t;i++)o[i-1]=arguments[i];return n.apply(this,o)}}return e}(),e.prototype.checkSearchParam=function(){function e(e){r(e,String)}return e}(),e.prototype.onIndexCreate=function(){function e(e){e.allowedFields||(e.allowedFields=e.fields)}return e}(),e}();t.export("default",n.default=i)}],"reactive-engine.js":["babel-runtime/helpers/classCallCheck","babel-runtime/helpers/possibleConstructorReturn","babel-runtime/helpers/inherits","./search-collection","./engine",function(n,t,i){var a;i.import("babel-runtime/helpers/classCallCheck",{default:function(e){a=e}});var c;i.import("babel-runtime/helpers/possibleConstructorReturn",{default:function(e){c=e}});var s;i.import("babel-runtime/helpers/inherits",{default:function(e){s=e}});var l;i.import("./search-collection",{default:function(e){l=e}});var f;i.import("./engine",{default:function(e){f=e}});var h=function(n){function t(e){a(this,t);var r=c(this,n.call(this,e));if(r===r.constructor)throw new Error("Cannot initialize instance of ReactiveEngine");if(!u.isFunction(r.getSearchCursor))throw new Error("Reactive engine needs to implement getSearchCursor method");return r}return s(t,n),t.prototype.defaultConfiguration=function(){function e(){return u.defaults({},{transform:function(){function e(e){return e}return e}(),beforePublish:function(){function e(e,n){return n}return e}()},n.prototype.defaultConfiguration.call(this))}return e}(),t.prototype.onIndexCreate=function(){function e(e){n.prototype.onIndexCreate.call(this,e),e.searchCollection=new l(e,this),e.mongoCollection=e.searchCollection._collection}return e}(),t.prototype.transformSearchDefinition=function(){function e(e,n){return u.isString(e)&&!function(){var t={};u.each(n.index.fields,function(n){t[n]=e}),e=t}(),e}return e}(),t.prototype.checkSearchParam=function(){function n(n,t){r(n,o.OneOf(String,Object)),u.isObject(n)&&u.each(n,function(n,o){if(r(n,String),-1===u.indexOf(t.allowedFields,o))throw new e.Error('Not allowed to search over field "'+o+'"')})}return n}(),t.prototype.search=function(){function n(n,t){return e.isClient?t.index.searchCollection.find(n,t.search):this.getSearchCursor(this.transformSearchDefinition(n,t),t)}return n}(),t}(f);i.export("default",t.default=h)}],"cursor.js":["babel-runtime/helpers/classCallCheck","babel-runtime/helpers/createClass",function(e,n,t){var i;t.import("babel-runtime/helpers/classCallCheck",{default:function(e){i=e}});var u;t.import("babel-runtime/helpers/createClass",{default:function(e){u=e}});var a=function(){function e(n,t){var u=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;i(this,e),r(n.fetch,Function),r(t,Number),r(u,o.Optional(Boolean)),r(a,o.OneOf(null,Object)),this._mongoCursor=n,this._count=t,this._isReady=u,this._publishHandle=a}return e.prototype.fetch=function(){function e(){return this._mongoCursor.fetch()}return e}(),e.prototype.stop=function(){function e(){if(this._publishHandle)return this._publishHandle.stop()}return e}(),e.prototype.count=function(){function e(){return this._count}return e}(),e.prototype.isReady=function(){function e(){return this._isReady}return e}(),u(e,[{key:"mongoCursor",get:function(){function e(){return this._mongoCursor}return e}()}],[{key:"emptyCursor",get:function(){function e(){return{fetch:function(){function e(){return[]}return e}(),observe:function(){function e(){return{stop:function(){function e(){return null}return e}()}}return e}(),stop:function(){function e(){}return e}()}}return e}()}]),e}();t.export("default",n.default=a)}],"search-collection.js":["babel-runtime/helpers/classCallCheck","babel-runtime/helpers/createClass","meteor/mongo","./cursor","./reactive-engine",function(n,t,i){var a;i.import("babel-runtime/helpers/classCallCheck",{default:function(e){a=e}});var c;i.import("babel-runtime/helpers/createClass",{default:function(e){c=e}});var s;i.import("meteor/mongo",{Mongo:function(e){s=e}});var l;i.import("./cursor",{default:function(e){l=e}});var f;i.import("./reactive-engine",{default:function(e){f=e}});var h=function(){function n(t,i){if(a(this,n),r(t,Object),r(t.name,o.OneOf(String,null)),!(i instanceof f))throw new e.Error("invalid-engine","engine needs to be instanceof ReactiveEngine");this._indexConfiguration=t,this._name=t.name+"/easySearch",this._engine=i,e.isClient?this._collection=new s.Collection(this._name):e.isServer&&this._setUpPublication()}return n.prototype.find=function(){function n(n,t){if(!e.isClient)throw new Error("find can only be used on client");var r=e.subscribe(this.name,n,t),o=this._getCount(n),i=this._getMongoCursor(n,t);return u.isNumber(o)?new l(i,o,(!0),r):new l(i,0,(!1))}return n}(),n.prototype._getCount=function(){function e(e){var n=this._collection.findOne("searchCount"+JSON.stringify(e));if(n)return n.count}return e}(),n.prototype._getMongoCursor=function(){function e(e,n){var t=this;return this._collection.find({__searchDefinition:JSON.stringify(e),__searchOptions:JSON.stringify(n.props)},{transform:function(){function e(e){return delete e.__searchDefinition,delete e.__searchOptions,delete e.__sortPosition,e=t.engine.config.transform(e)}return e}(),sort:["__sortPosition"]})}return e}(),n.prototype.generateId=function(){function e(e){return e._id+e.__searchDefinition+e.__searchOptions}return e}(),n.prototype.addCustomFields=function(){function e(e,n){return u.forEach(n,function(n,t){e["__"+t]=n}),e}return e}(),n.prototype._setUpPublication=function(){function n(){var n=this,t=this.name;e.publish(t,function(i,u){var a=this;r(i,o.OneOf(String,Object)),r(u,Object);var c=JSON.stringify(i),s=JSON.stringify(u.props);if(u.userId=this.userId,u.publicationScope=this,!n._indexConfiguration.permission(u))throw new e.Error("not-allowed","You're not allowed to search this index!");n.engine.checkSearchParam(i,n._indexConfiguration);var l=n.engine.search(i,{search:u,index:n._indexConfiguration}),f=l.count();this.added(t,"searchCount"+c,{count:f});var h=e.setInterval(function(){return a.changed(t,"searchCount"+c,{count:l.mongoCursor.count()})},500);this.onStop(function(){e.clearInterval(h),d&&d.stop()});var d=l.mongoCursor.observe({addedAt:function(){function e(e,r,o){e=n.engine.config.beforePublish("addedAt",e,r,o),e=n.addCustomFields(e,{searchDefinition:c,searchOptions:s,sortPosition:r,originalId:e._id}),a.added(t,n.generateId(e),e)}return e}(),changedAt:function(){function e(e,r,o){e=n.engine.config.beforePublish("changedAt",e,r,o),e=n.addCustomFields(e,{searchDefinition:c,searchOptions:s,sortPosition:o,originalId:e._id}),a.changed(t,n.generateId(e),e)}return e}(),movedTo:function(){function e(e,r,o,i){e=n.engine.config.beforePublish("movedTo",e,r,o,i),e=n.addCustomFields(e,{searchDefinition:c,searchOptions:s,sortPosition:o});var u=n._indexConfiguration.collection.findOne(i);u&&(u=n.addCustomFields(u,{searchDefinition:c,searchOptions:s,sortPosition:r}),a.changed(t,n.generateId(u),u)),a.changed(t,n.generateId(e),e)}return e}(),removedAt:function(){function e(e,r){e=n.engine.config.beforePublish("removedAt",e,r),e=n.addCustomFields(e,{searchDefinition:c,searchOptions:s}),a.removed(t,n.generateId(e))}return e}()});this.onStop(function(){d.stop()}),this.ready()})}return n}(),c(n,[{key:"name",get:function(){function e(){return this._name}return e}()},{key:"engine",get:function(){function e(){return this._engine}return e}()}]),n}();i.export("default",t.default=h)}]},engines:{"mongo-db.js":["babel-runtime/helpers/classCallCheck","babel-runtime/helpers/possibleConstructorReturn","babel-runtime/helpers/inherits","../core/cursor","../core/reactive-engine",function(e,n,t){var o;t.import("babel-runtime/helpers/classCallCheck",{default:function(e){o=e}});var i;t.import("babel-runtime/helpers/possibleConstructorReturn",{default:function(e){i=e}});var a;t.import("babel-runtime/helpers/inherits",{default:function(e){a=e}});var c;t.import("../core/cursor",{default:function(e){c=e}});var s;t.import("../core/reactive-engine",{default:function(e){s=e}});var l=function(e){function n(){return o(this,n),i(this,e.apply(this,arguments))}return a(n,e),n.prototype.defaultConfiguration=function(){function t(){return u.defaults({},n.defaultMongoConfiguration(this),e.prototype.defaultConfiguration.call(this))}return t}(),n.defaultMongoConfiguration=function(){function e(e){return{aggregation:"$or",selector:function(){function n(n,t,r){var o={};return o[r]=[],u.each(n,function(n,i){var u=e.callConfigMethod("selectorPerField",i,n,t);u&&o[r].push(u)}),o}return n}(),selectorPerField:function(){function e(e,n){var t={};return n=n.replace(/(\W{1})/g,"\\$1"),t[e]={$regex:".*"+n+".*",$options:"i"},t}return e}(),sort:function(){function e(e,n){return n.index.fields}return e}()}}return e}(),n.prototype.getFindOptions=function(){function e(e,n){return{sort:this.callConfigMethod("sort",e,n),limit:n.search.limit,skip:n.search.skip,fields:this.callConfigMethod("fields",e,n)}}return e}(),n.prototype.getSearchCursor=function(){function e(e,n){var t=this.callConfigMethod("selector",e,n,this.config.aggregation),o=this.getFindOptions(e,n),i=n.index.collection;return r(n,Object),r(t,Object),r(o,Object),new c(i.find(t,o),i.find(t).count())}return e}(),n}(s);t.export("default",n.default=l)}],"minimongo.js":["babel-runtime/helpers/classCallCheck","babel-runtime/helpers/possibleConstructorReturn","babel-runtime/helpers/inherits","../core/engine","../core/reactive-engine","./mongo-db",function(n,t,r){var o;r.import("babel-runtime/helpers/classCallCheck",{default:function(e){o=e}});var i;r.import("babel-runtime/helpers/possibleConstructorReturn",{default:function(e){i=e}});var a;r.import("babel-runtime/helpers/inherits",{default:function(e){a=e}});var c;r.import("../core/engine",{default:function(e){c=e}});var s;r.import("../core/reactive-engine",{default:function(e){s=e}});var l;r.import("./mongo-db",{default:function(e){l=e}});var f=function(n){function t(){return o(this,t),i(this,n.apply(this,arguments))}return a(t,n),t.prototype.defaultConfiguration=function(){function e(){return u.defaults({},l.defaultMongoConfiguration(this),n.prototype.defaultConfiguration.call(this))}return e}(),t.prototype.search=function(){function n(n,t){if(!e.isClient)throw new e.Error("only-client","Minimongo can only be used on the client");return n=this.transformSearchDefinition(n,t),l.prototype.getSearchCursor.apply(this,[n,t])}return n}(),t}(c);f.prototype.checkSearchParam=s.prototype.checkSearchParam,f.prototype.transformSearchDefinition=s.prototype.transformSearchDefinition,f.prototype.getFindOptions=function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];var r=l.prototype.getFindOptions.apply(this,n);return r.transform=this.config.transform,r},r.export("default",t.default=f)}],"mongo-text-index.js":["babel-runtime/helpers/classCallCheck","babel-runtime/helpers/possibleConstructorReturn","babel-runtime/helpers/inherits","../core/reactive-engine","./mongo-db",function(n,t,o){var i;o.import("babel-runtime/helpers/classCallCheck",{default:function(e){i=e}});var a;o.import("babel-runtime/helpers/possibleConstructorReturn",{default:function(e){a=e}});var c;o.import("babel-runtime/helpers/inherits",{default:function(e){c=e}});var s;o.import("../core/reactive-engine",{default:function(e){s=e}});var l;o.import("./mongo-db",{default:function(e){l=e}});var f=function(n){function t(){return i(this,t),a(this,n.apply(this,arguments))}return c(t,n),t.prototype.defaultConfiguration=function(){function e(){var e=l.defaultMongoConfiguration(this);return e.selector=function(e){return e.trim()?{$text:{$search:e}}:{}},u.defaults({},e,n.prototype.defaultConfiguration.call(this))}return e}(),t.prototype.onIndexCreate=function(){function t(t){n.prototype.onIndexCreate.call(this,t),e.isServer&&!function(){var e={};u.each(t.fields,function(n){e[n]="text"}),t.weights&&(e.weights=options.weights()),t.collection._ensureIndex(e)}()}return t}(),t.prototype.transformSearchDefinition=function(){function e(e,n){return e}return e}(),t.prototype.checkSearchParam=function(){function e(e){r(e,String)}return e}(),t}(s);f.prototype.getSearchCursor=l.prototype.getSearchCursor,f.prototype.getFindOptions=l.prototype.getFindOptions,o.export("default",t.default=f)}]},"globals.js":["./main",function(e,n,t){var r,o,i,u,a,c,s;t.import("./main",{Index:function(e){r=e},Engine:function(e){o=e},ReactiveEngine:function(e){i=e},Cursor:function(e){u=e},MongoDBEngine:function(e){a=e},MinimongoEngine:function(e){c=e},MongoTextIndexEngine:function(e){s=e}}),g={Index:r,Engine:o,ReactiveEngine:i,Cursor:u,MongoDB:a,Minimongo:c,MongoTextIndex:s}}],"main.js":["./core/index","./core/engine","./core/reactive-engine","./core/cursor","./engines/mongo-db","./engines/minimongo","./engines/mongo-text-index",function(e,n,t){t.export({Index:function(){return r},Engine:function(){return o},ReactiveEngine:function(){return i},Cursor:function(){return u},MongoDBEngine:function(){return a},MinimongoEngine:function(){return c},MongoTextIndexEngine:function(){return s}});var r;t.import("./core/index",{default:function(e){r=e}});var o;t.import("./core/engine",{default:function(e){o=e}});var i;t.import("./core/reactive-engine",{default:function(e){i=e}});var u;t.import("./core/cursor",{default:function(e){u=e}});var a;t.import("./engines/mongo-db",{default:function(e){a=e}});var c;t.import("./engines/minimongo",{default:function(e){c=e}});var s;t.import("./engines/mongo-text-index",{default:function(e){s=e}})}]}}}}},{extensions:[".js",".json"]});m("./node_modules/meteor/easysearch:core/lib/core/index.js"),m("./node_modules/meteor/easysearch:core/lib/core/engine.js"),m("./node_modules/meteor/easysearch:core/lib/core/reactive-engine.js"),m("./node_modules/meteor/easysearch:core/lib/core/cursor.js"),m("./node_modules/meteor/easysearch:core/lib/core/search-collection.js"),m("./node_modules/meteor/easysearch:core/lib/engines/mongo-db.js"),m("./node_modules/meteor/easysearch:core/lib/engines/minimongo.js"),m("./node_modules/meteor/easysearch:core/lib/engines/mongo-text-index.js"),m("./node_modules/meteor/easysearch:core/lib/globals.js");var b=m("./node_modules/meteor/easysearch:core/lib/main.js");"undefined"==typeof Package&&(Package={}),function(e,n){for(var t in n)t in e||(e[t]=n[t])}(Package["easysearch:core"]=b,{EasySearch:g})}();

!function(){var t=Package.meteor.Meteor,e=Package.meteor.global,n=Package.meteor.meteorEnv,r;(function(){(function(){!function(t){function e(t,e){return p.isUndefined(e)?""+e:!p.isNumber(e)||!isNaN(e)&&isFinite(e)?p.isFunction(e)||p.isRegExp(e)?e.toString():e:e.toString()}function n(t,e){return p.isString(t)?t.length<e?t:t.slice(0,e):t}function r(t){return n(JSON.stringify(t.actual,e),128)+" "+t.operator+" "+n(JSON.stringify(t.expected,e),128)}function o(t,e,n,r,o){throw new b.AssertionError({message:n,actual:t,expected:e,operator:r,stackStartFunction:o})}function i(t,e){t||o(t,!0,e,"==",b.ok)}function c(t,e){return t===e||(p.isDate(t)&&p.isDate(e)?t.getTime()===e.getTime():p.isRegExp(t)&&p.isRegExp(e)?t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase:p.isObject(t)||p.isObject(e)?s(t,e):t==e)}function u(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function s(t,e){if(p.isNullOrUndefined(t)||p.isNullOrUndefined(e))return!1;if(t.prototype!==e.prototype)return!1;if(u(t))return!!u(e)&&(t=g.call(t),e=g.call(e),c(t,e));try{var n=y(t),r=y(e),o,i}catch(t){return!1}if(n.length!=r.length)return!1;for(n.sort(),r.sort(),i=n.length-1;i>=0;i--)if(n[i]!=r[i])return!1;for(i=n.length-1;i>=0;i--)if(o=n[i],!c(t[o],e[o]))return!1;return!0}function a(t,e){return!(!t||!e)&&("[object RegExp]"==Object.prototype.toString.call(e)?e.test(t):t instanceof e||e.call({},t)===!0)}function f(t,e,n,r){var i;p.isString(n)&&(r=n,n=null);try{e()}catch(t){i=t}if(r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),t&&!i&&o(i,n,"Missing expected exception"+r),!t&&a(i,n)&&o(i,n,"Got unwanted exception"+r),t&&i&&n&&!a(i,n)||!t&&i)throw i}var l=Object.create||function(t){function e(){}if(!t)throw Error("no type");return e.prototype=t,new e},p={inherits:function(t,e){t.super_=e,t.prototype=l(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})},isArray:function(t){return Array.isArray(t)},isBoolean:function(t){return"boolean"==typeof t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t},isNumber:function(t){return"number"==typeof t},isString:function(t){return"string"==typeof t},isSymbol:function(t){return"symbol"==typeof t},isUndefined:function(t){return void 0===t},isRegExp:function(t){return p.isObject(t)&&"[object RegExp]"===p.objectToString(t)},isObject:function(t){return"object"==typeof t&&null!==t},isDate:function(t){return p.isObject(t)&&"[object Date]"===p.objectToString(t)},isError:function(t){return isObject(t)&&("[object Error]"===objectToString(t)||t instanceof Error)},isFunction:function(t){return"function"==typeof t},isPrimitive:function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t},objectToString:function(t){return Object.prototype.toString.call(t)}},g=Array.prototype.slice,y="function"==typeof Object.keys?Object.keys:function(t){var e=[];for(var n in t)e.push(n);return e},b=i;t.assert=b,"object"==typeof module&&"object"==typeof module.exports&&(module.exports=b),b.AssertionError=function t(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=r(this),this.generatedMessage=!0);var n=e.stackStartFunction||o;if(Error.captureStackTrace)Error.captureStackTrace(this,n);else try{this.stack=(new Error).stack.toString()}catch(t){}},p.inherits(b.AssertionError,Error),b.fail=o,b.ok=i,b.equal=function t(e,n,r){e!=n&&o(e,n,r,"==",b.equal)},b.notEqual=function t(e,n,r){e==n&&o(e,n,r,"!=",b.notEqual)},b.deepEqual=function t(e,n,r){c(e,n)||o(e,n,r,"deepEqual",b.deepEqual)},b.notDeepEqual=function t(e,n,r){c(e,n)&&o(e,n,r,"notDeepEqual",b.notDeepEqual)},b.strictEqual=function t(e,n,r){e!==n&&o(e,n,r,"===",b.strictEqual)},b.notStrictEqual=function t(e,n,r){e===n&&o(e,n,r,"!==",b.notStrictEqual)},b.throws=function(t,e,n){f.apply(this,[!0].concat(g.call(arguments)))},b.doesNotThrow=function(t,e){f.apply(this,[!1].concat(g.call(arguments)))},b.ifError=function(t){if(t)throw t},"function"==typeof define&&define.amd&&define("assert",function(){return b})}(this)}).call(this),function(){r=this.assert}.call(this)}).call(this),"undefined"==typeof Package&&(Package={}),function(t,e){for(var n in e)n in t||(t[n]=e[n])}(Package["peerlibrary:assert"]={},{assert:r})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,r=Package.meteor.meteorEnv,n=Package.tracker.Tracker,a=Package.tracker.Deps,c=Package["reactive-var"].ReactiveVar,i=Package.underscore._,o=Package["ecmascript-runtime"].Symbol,u=Package["ecmascript-runtime"].Map,l=Package["ecmascript-runtime"].Set,g=Package["babel-runtime"].meteorBabelHelpers,s=Package.promise.Promise,f,p;(function(){(function(){f="object"==typeof f?f:{};var e=f;p=function(){function e(e,t,r){var a,o,u;return i.isFunction(t)||2!==arguments.length||(r=t,t=null),o=void 0,u=new c(e,t),a=function(e){return arguments.length>0?(r&&n.nonreactive(function(r){return function(){var r;if(r=u.get(),!(t||c._isEqual)(r,e))return o=r}}(this)),u.set(e),n.nonreactive(function(e){return function(){return u.get()}}(this))):u.get()},Object.setPrototypeOf?Object.setPrototypeOf(a,this.constructor.prototype):a.__proto__=this.constructor.prototype,a.toString=function(){return"ReactiveField{"+this()+"}"},a.apply=function(e,t){return(null!=t?t.length:void 0)>0?a(t[0]):a()},a.call=function(e,t){return arguments.length>1?a(t):a()},a.previous=function(){if(!r)throw new Error("Storing previous value is not enabled.");return o},a}return e}()}).call(this)}).call(this),"undefined"==typeof Package&&(Package={}),function(e,t){for(var r in t)r in e||(e[r]=t[r])}(Package["peerlibrary:reactive-field"]={},{ReactiveField:p})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package.tracker.Tracker,o=Package.tracker.Deps,a=Package["reactive-var"].ReactiveVar,u=Package.underscore._,c=Package["ecmascript-runtime"].Symbol,i=Package["ecmascript-runtime"].Map,l=Package["ecmascript-runtime"].Set,p=Package["babel-runtime"].meteorBabelHelpers,f=Package.promise.Promise,s,g;(function(){s="object"==typeof s?s:{};var e=s;g=function(){function e(e,t,n){var o,c,i,l,p,f,s,g;return u.isBoolean(t)&&(n=t,t=null),l=null,p=null,o=(c=null!=(f=Package.blaze)&&null!=(s=f.Blaze)?s.currentView:void 0)?function(e){return c.autorun(e)}:r.autorun,g=function(){var u;return l=o(function(o){var u;if(u=e(),p?p.set(u):p=new a(u,t),!n)return r.afterFlush(function(){if(!p.dep.hasDependents())return i.stop()})}),l.onStop?l.onStop(function(){return l=null}):(u=l.stop,l.stop=function(){return l&&u.call(l),l=null})},g(),i=function(){return i.flush(),p.get()},Object.setPrototypeOf?Object.setPrototypeOf(i,this.constructor.prototype):i.__proto__=this.constructor.prototype,i.toString=function(){return"ComputedField{"+this()+"}"},i.apply=function(){return i()},i.call=function(){return i()},i.stop=function(){return null!=l&&l.stop(),l=null},i._isRunning=function(){return!!l},i.flush=function(){return r.nonreactive(function(){return l?l._recompute():g()})},i}return e}()}).call(this),"undefined"==typeof Package&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package["peerlibrary:computed-field"]={},{ComputedField:g})}();

!function(){var n=Package.meteor.Meteor,e=Package.meteor.global,t=Package.meteor.meteorEnv,o=Package["reactive-var"].ReactiveVar,r=Package.tracker.Tracker,i=Package.tracker.Deps,c=Package.underscore._,s=Package["peerlibrary:assert"].assert,p=Package["peerlibrary:reactive-field"].ReactiveField,a=Package["peerlibrary:computed-field"].ComputedField,l=Package["ecmascript-runtime"].Symbol,u=Package["ecmascript-runtime"].Map,m=Package["ecmascript-runtime"].Set,h=Package["babel-runtime"].meteorBabelHelpers,d=Package.promise.Promise,f,C,g;(function(){(function(){f="object"==typeof f?f:{};var n=f,e,t,o,i,l,u,m,h,d,g,y,v,_,b,w,P={}.hasOwnProperty,N=[].slice;o=function(n,e){var t,o,r;if(n.length!==e.length)return!1;for(t=o=0,r=n.length;0<=r?o<r:o>r;t=0<=r?++o:--o)if(n[t]!==e[t])return!1;return!0},d=function(n){var e,t;return c.isString(n)?(t=n,n=function(n){return function(n,e){return t in n}}(this)):c.isFunction(n)||(s(c.isObject(n)),e=n,n=function(n){return function(n,o){var r;for(t in e){if(r=e[t],!(t in n))return!1;if(c.isFunction(n[t])){if(n[t]()!==r)return!1}else if(n[t]!==r)return!1}return!0}}(this)),n},e=function(){function n(){}return n.COMPONENTS_FIELD="",n}(),_=function(n){var e;return s(n),e=n.split("."),n=e.pop(),s(n),{path:e,name:n}},v=function(n,e){var t,o;for(s(c.isObject(n)),s(c.isArray(e)),t=n;null!=(o=e.shift());)if(t=t[o],!c.isObject(t))return null;return c.isObject(t)?t||null:null},g=function(n,e){var t,o;for(s(c.isObject(n)),s(c.isArray(e)),t=n;null!=(o=e.shift());)o in t||(t[o]=new n.constructor),t=t[o],s(c.isObject(t));return s(c.isObject(t)),t},y=function(n,e){var t,o,r,i;return s(c.isObject(n)),e?(r=_(e),o=r.path,e=r.name,t=v(n,o),t?(null!=(i=t[n.constructor.COMPONENTS_FIELD])?i[e]:void 0)||null:null):null},w=function(n,e,t){var o,r,i,p;return s(c.isObject(n)),s(e),s(t),p=_(e),r=p.path,e=p.name,o=g(n,r),null==o[i=n.constructor.COMPONENTS_FIELD]&&(o[i]=new n.constructor),s(!(e in o[n.constructor.COMPONENTS_FIELD])),o[n.constructor.COMPONENTS_FIELD][e]=t},u=!1,m=!1,t=!1,b=!1,h=!1,i=!1,l=!1,C=function(){function n(){}return n.components=new e,n.register=function(n,e){if(!n)throw new Error("Component name is required for registration.");if(null==e&&(e=this),y(this.components,n))throw new Error("Component '"+n+"' already registered.");if(e.componentName()&&e.componentName()!==n&&y(this.components,e.componentName())===e)throw new Error("Component '"+n+"' already registered under the name '"+e.componentName()+"'.");return e.componentName(n),s.equal(e.componentName(),n),w(this.components,n,e),this},n.getComponent=function(n,e){if(e||(e=n,n=this.components),!e)return null;if(!c.isString(e))throw new Error("Component name '"+e+"' is not a string.");return y(n,e)},n.componentName=function(n){return n?(this._componentName=n,this):this._componentName||null},n.prototype.componentName=function(){return this.constructor.componentName()},n.prototype.childComponents=function(n){var e,t;return null==this._componentInternals&&(this._componentInternals={}),null==(t=this._componentInternals).childComponents&&(t.childComponents=new p([],o)),n?c.isString(n)?this.childComponentsWith(function(e){return function(e,t){return e.componentName()===n}}(this)):this.childComponentsWith(function(e){return function(e,t){return e.constructor===n||e===n}}(this)):function(){var n,t,o,r;for(o=this._componentInternals.childComponents(),r=[],n=0,t=o.length;n<t;n++)e=o[n],r.push(e);return r}.call(this)},n.prototype.childComponentsWith=function(n){var e;return s(n),n=d(n),(e=new a(function(e){return function(){var t,o,r,i,c;for(i=e.childComponents(),c=[],o=0,r=i.length;o<r;o++)t=i[o],n.call(e,t,e)&&c.push(t);return c}}(this),o))()},n.prototype.addChildComponent=function(n){var e;return null==this._componentInternals&&(this._componentInternals={}),null==(e=this._componentInternals).childComponents&&(e.childComponents=new p([],o)),this._componentInternals.childComponents(r.nonreactive(function(e){return function(){return e._componentInternals.childComponents().concat([n])}}(this))),this},n.prototype.removeChildComponent=function(n){var e;return null==this._componentInternals&&(this._componentInternals={}),null==(e=this._componentInternals).childComponents&&(e.childComponents=new p([],o)),this._componentInternals.childComponents(r.nonreactive(function(e){return function(){return c.without(e._componentInternals.childComponents(),n)}}(this))),this},n.prototype.parentComponent=function(n){var e;return null==this._componentInternals&&(this._componentInternals={}),null==(e=this._componentInternals).parentComponent&&(e.parentComponent=new p(null,function(n,e){return n===e})),c.isUndefined(n)?this._componentInternals.parentComponent():(this._componentInternals.parentComponent(n),this)},n.renderComponent=function(n){throw new Error("Not implemented")},n.prototype.renderComponent=function(n){throw new Error("Not implemented")},n.extendComponent=function(n,e){var t,o,r,i;t=this,c.isFunction(n)||(e=n,n=function(){return n.__super__.constructor.apply(this,arguments)}),n.prototype=Object.create(t.prototype),n.prototype.constructor=n;for(o in t)P.call(t,o)&&(r=t[o],n[o]=r);n.__super__=t.prototype,i=e||{};for(o in i)P.call(i,o)&&(r=i[o],n.prototype[o]=r);return n},n.prototype.componentChildren=function(){var n;return n=1<=arguments.length?N.call(arguments,0):[],u||(u=!0,"undefined"!=typeof console&&null!==console&&console.warn("componentChildren has been deprecated. Use childComponents instead.")),this.childComponents.apply(this,n)},n.prototype.componentChildrenWith=function(){var n;return n=1<=arguments.length?N.call(arguments,0):[],m||(m=!0,"undefined"!=typeof console&&null!==console&&console.warn("componentChildrenWith has been deprecated. Use childComponentsWith instead.")),this.childComponentsWith.apply(this,n)},n.prototype.addComponentChild=function(){var n;return n=1<=arguments.length?N.call(arguments,0):[],t||(t=!0,"undefined"!=typeof console&&null!==console&&console.warn("addComponentChild has been deprecated. Use addChildComponent instead.")),this.addChildComponent.apply(this,n)},n.prototype.removeComponentChild=function(){var n;return n=1<=arguments.length?N.call(arguments,0):[],b||(b=!0,"undefined"!=typeof console&&null!==console&&console.warn("removeComponentChild has been deprecated. Use removeChildComponent instead.")),this.removeChildComponent.apply(this,n)},n.prototype.componentParent=function(){var n;return n=1<=arguments.length?N.call(arguments,0):[],h||(h=!0,"undefined"!=typeof console&&null!==console&&console.warn("componentParent has been deprecated. Use parentComponent instead.")),this.parentComponent.apply(this,n)},n.prototype.childrenComponents=function(){var n;return n=1<=arguments.length?N.call(arguments,0):[],u||(u=!0,"undefined"!=typeof console&&null!==console&&console.warn("childrenComponents has been deprecated. Use childComponents instead.")),this.childComponents.apply(this,n)},n.prototype.childrenComponentsWith=function(){var n;return n=1<=arguments.length?N.call(arguments,0):[],m||(m=!0,"undefined"!=typeof console&&null!==console&&console.warn("childrenComponentsWith has been deprecated. Use childComponentsWith instead.")),this.childComponentsWith.apply(this,n)},n}()}).call(this),function(){f="object"==typeof f?f:{};var n=f;g=function(){function n(){}return n.startComponent=function(n){var e;return e=n.componentName()||"unnamed",console.group(e),console.log("%o",n)},n.endComponent=function(n){return console.groupEnd()},n.startMarkedComponent=function(n){var e;return e=n.componentName()||"unnamed",console.group("%c%s","text-decoration: underline",e),console.log("%o",n)},n.endMarkedComponent=function(n){return this.endComponent(n)},n.dumpComponentSubtree=function(n,e){var t,o,r,i,c;if(null==e&&(e=function(){}),n){for(o=e(n),o?this.startMarkedComponent(n):this.startComponent(n),c=n.childComponents(),r=0,i=c.length;r<i;r++)t=c[r],this.dumpComponentSubtree(t,e);o?this.endMarkedComponent(n):this.endComponent(n)}},n.componentRoot=function(n){for(var e;e=n.parentComponent();)n=e;return n},n.dumpComponentTree=function(n){if(n)return this.dumpComponentSubtree(this.componentRoot(n),function(e){return e===n})},n}()}.call(this)}).call(this),"undefined"==typeof Package&&(Package={}),function(n,e){for(var t in e)t in n||(n[t]=e[t])}(Package["peerlibrary:base-component"]={},{BaseComponent:C,BaseComponentDebug:g})}();

!function(){var e=Package.meteor.Meteor,a=Package.meteor.global,r=Package.meteor.meteorEnv,t=Package.underscore._,n=Package.tracker.Tracker,i=Package.tracker.Deps,c=Package["peerlibrary:computed-field"].ComputedField,o=Package["ecmascript-runtime"].Symbol,u=Package["ecmascript-runtime"].Map,k=Package["ecmascript-runtime"].Set,l=Package["babel-runtime"].meteorBabelHelpers,f=Package.promise.Promise,g,p;(function(){(function(){g="object"==typeof g?g:{};var e=g;p=function(){function e(){}return e.lookup=function(e,a){var r;if(t.isString(a)&&(a=a.split(".")),t.isFunction(e)&&(e=e()),!t.isArray(a))return e;for(;a.length>0;){if(r=a.shift(),!(t.isObject(e)&&r in e))return;e=e[r],t.isFunction(e)&&(e=e())}return e},e.get=function(e,a,r){var t;return n.active?(t=new c(function(r){return function(){return r.lookup(e,a)}}(this),r))():this.lookup(e,a)},e}()}).call(this)}).call(this),"undefined"==typeof Package&&(Package={}),function(e,a){for(var r in a)r in e||(e[r]=a[r])}(Package["peerlibrary:data-lookup"]={},{DataLookup:p})}();

!function(){var n=Package.meteor.Meteor,e=Package.meteor.global,t=Package.meteor.meteorEnv,r=Package.blaze.Blaze,o=Package.blaze.UI,i=Package.blaze.Handlebars,a=Package.underscore._,u=Package.tracker.Tracker,c=Package.tracker.Deps,l=Package["reactive-var"].ReactiveVar,s=Package.ejson.EJSON,p=Package.spacebars.Spacebars,m=Package.jquery.$,f=Package.jquery.jQuery,d=Package["peerlibrary:base-component"].BaseComponent,h=Package["peerlibrary:base-component"].BaseComponentDebug,_=Package["peerlibrary:assert"].assert,v=Package["peerlibrary:reactive-field"].ReactiveField,y=Package["peerlibrary:computed-field"].ComputedField,w=Package["peerlibrary:data-lookup"].DataLookup,g=Package.htmljs.HTML,I=Package["ecmascript-runtime"].Symbol,T=Package["ecmascript-runtime"].Map,C=Package["ecmascript-runtime"].Set,E=Package["babel-runtime"].meteorBabelHelpers,b=Package.promise.Promise,k,N,D,x,R,V;(function(){k="object"==typeof k?k:{};var n=k;N=r.Template}).call(this),function(){if(!r.Template.__checkName){N=r.Template;var n="__proto__ name".split(" ");N.__checkName=function(e){if(e in N||a.contains(n,e)){if(N[e]instanceof N&&"body"!==e)throw new Error("There are multiple templates named '"+e+"'. Each template needs a unique name.");throw new Error("This template name is reserved: "+e)}},N.__define__=function(n,e){N.__checkName(n),N[n]=new N("Template."+n,e),N[n]._NOWARN_OLDSTYLE_HELPERS=!0},N.body=new N("body",function(){var n=this;return a.map(N.body.contentRenderFuncs,function(e){return e.apply(n)})}),N.body.contentRenderFuncs=[],N.body.view=null,N.body.addContent=function(n){N.body.contentRenderFuncs.push(n)},N.body.renderToDocument=function(){if(!N.body.view){var n=r.render(N.body,document.body);N.body.view=n}},o.body=N.body,N.__body__=N.body,N.__body__.__contentParts=N.body.contentViews,N.__body__.__instantiate=N.body.renderToDocument}}.call(this),function(){N.__checkName("__dynamicBackport"),N.__dynamicBackport=new N("Template.__dynamicBackport",function(){var n=this;return[r.View("lookup:checkContext",function(){return p.mustache(n.lookup("checkContext"))}),"\n  ",r.If(function(){return p.call(n.lookup("dataContextPresent"))},function(){return["\n    ",p.include(n.lookupTemplate("__dynamicWithDataContext"),function(){return r._InOuterTemplateScope(n,function(){return p.include(function(){return p.call(n.templateContentBlock)})})}),"\n  "]},function(){return["\n    \n    ",r._TemplateWith(function(){return{template:p.call(n.lookup("template")),data:p.call(n.lookup(".."))}},function(){return p.include(n.lookupTemplate("__dynamicWithDataContext"),function(){return r._InOuterTemplateScope(n,function(){return p.include(function(){return p.call(n.templateContentBlock)})})})}),"\n  "]})]}),N.__checkName("__dynamicWithDataContextBackport"),N.__dynamicWithDataContextBackport=new N("Template.__dynamicWithDataContextBackport",function(){var n=this;return p.With(function(){return p.dataMustache(n.lookup("chooseTemplate"),n.lookup("template"))},function(){return["\n    \n    ",r._TemplateWith(function(){return p.call(p.dot(n.lookup(".."),"data"))},function(){return p.include(n.lookupTemplate(".."),function(){return r._InOuterTemplateScope(n,function(){return p.include(function(){return p.call(n.templateContentBlock)})})})}),"\n  "]})})}.call(this),function(){if(!r.Template.__dynamicWithDataContext){r.Template.__dynamicWithDataContext=r.Template.__dynamicWithDataContextBackport,r.Template.__dynamicWithDataContext.viewName="Template.__dynamicWithDataContext",r.Template.__dynamic=r.Template.__dynamicBackport,r.Template.__dynamic.viewName="Template.__dynamic";var n=r.Template;n.__dynamicWithDataContext.helpers({chooseTemplate:function(e){return r._getTemplate(e,function(){return n.instance()})}}),n.__dynamic.helpers({dataContextPresent:function(){return a.has(this,"data")},checkContext:function(){if(!a.has(this,"template"))throw new Error("Must specify name in the 'template' argument to {{> Template.dynamic}}.");a.each(this,function(n,e){if("template"!==e&&"data"!==e)throw new Error("Invalid argument to {{> Template.dynamic}}: "+e)})}})}}.call(this),function(){if(!r._getTemplate){var n=function(n){return"function"==typeof n?function(){var e=r.getData();return null==e&&(e={}),n.apply(e,arguments)}:n};r._getTemplateHelper=function(t,o,i){var a=!1;if(t.__helpers.has(o)){var u=t.__helpers.get(o);if(u!==r._OLDSTYLE_HELPER)return null!=u?e(n(u),i):null;a=!0}return o in t&&(a||(t.__helpers.set(o,r._OLDSTYLE_HELPER),t._NOWARN_OLDSTYLE_HELPERS||r._warn("Assigning helper with `"+t.viewName+"."+o+" = ...` is deprecated.  Use `"+t.viewName+".helpers(...)` instead.")),null!=t[o])?e(n(t[o]),i):null};var e=function(n,e){return r.Template._withTemplateInstanceFunc?"function"!=typeof n?n:function(){var t=this,o=arguments;return r.Template._withTemplateInstanceFunc(e,function(){return r._wrapCatchingExceptions(n,"template helper").apply(t,o)})}:r._wrapCatchingExceptions(n,"template helper")};r._getTemplate=function(n,e){return n in r.Template&&r.Template[n]instanceof r.Template?r.Template[n]:null},r._getGlobalHelper=function(t,o){return null!=r._globalHelpers[t]?e(n(r._globalHelpers[t]),o):null},r.View.prototype.lookup=function(n,e){var t=this.template,o=e&&e.template,i,u,c,l;if(this.templateInstance&&(c=a.bind(this.templateInstance,this)),/^\./.test(n)){if(!/^(\.)+$/.test(n))throw new Error("id starting with dot must be a series of dots");return r._parentData(n.length-1,!0)}return t&&null!=(i=r._getTemplateHelper(t,n,c))?i:o&&null!=(l=r._getTemplate(n,c))?l:null!=(i=r._getGlobalHelper(n,c))?i:function(){var e=arguments.length>0,t=r.getData(),i=t&&t[n];if(!i){if(o)throw new Error("No such template: "+n);if(e)throw new Error("No such function: "+n)}if(!t)return null;if("function"!=typeof i){if(e)throw new Error("Can't call non-function: "+i);return i}return i.apply(t,arguments)}}}}.call(this),function(){var e=!1;r._allowJavascriptUrls=function(){e=!0},r._javascriptUrlsAllowed=function(){return e},D=function(n,e){this.name=n,this.value=e},r._AttributeHandler=D,D.prototype.update=function(n,e,t){null===t?null!==e&&n.removeAttribute(this.name):n.setAttribute(this.name,t)},D.extend=function(n){var e=this,t=function n(){D.apply(this,arguments)};return t.prototype=new e,t.extend=e.extend,n&&a.extend(t.prototype,n),t},r._DiffingAttributeHandler=D.extend({update:function(n,e,t){if(!this.getCurrentValue||!this.setValue||!this.parseValue)throw new Error("Missing methods in subclass of 'DiffingAttributeHandler'");var r=e?this.parseValue(e):{},o=t?this.parseValue(t):{},i=this.getCurrentValue(n),u=i?this.parseValue(i):{};a.each(a.keys(r),function(n){n in o||delete u[n]}),a.each(a.keys(o),function(n){u[n]=o[n]}),this.setValue(n,a.values(u).join(" "))}});var t=r._DiffingAttributeHandler.extend({getCurrentValue:function(n){return n.className},setValue:function(n,e){n.className=e},parseValue:function(n){var e={};return a.each(n.split(" "),function(n){n&&(e[n]=n)}),e}}),o=t.extend({getCurrentValue:function(n){return n.className.baseVal},setValue:function(n,e){n.setAttribute("class",e)}}),i=r._DiffingAttributeHandler.extend({getCurrentValue:function(n){return n.getAttribute("style")},setValue:function(n,e){""===e?n.removeAttribute("style"):n.setAttribute("style",e)},parseValue:function(n){for(var e={},t=/(\*?[-#\/\*\\\w]+(?:\[[0-9a-z_-]+\])?)\s*:\s*(?:\'(?:\\\'|.)*?\'|"(?:\\"|.)*?"|\([^\)]*?\)|[^};])+[;\s]*/g,r=t.exec(n);r;)e[" "+r[1]]=r[0].trim?r[0].trim():m.trim(r[0]),r=t.exec(n);return e}}),u=D.extend({update:function(n,e,t){var r=this.name;null==t?null!=e&&(n[r]=!1):n[r]=!0}}),c=D.extend({update:function(n,e,t){var r=this.name;t!==n[r]&&(n[r]=t)}}),l=D.extend({update:function(n,e,t){var r="http://www.w3.org/1999/xlink";null===t?null!==e&&n.removeAttributeNS(r,this.name):n.setAttributeNS(r,this.name,this.value)}}),s=function(n){return"ownerSVGElement"in n},p=function(n,e){var t={FORM:["action"],BODY:["background"],BLOCKQUOTE:["cite"],Q:["cite"],DEL:["cite"],INS:["cite"],OBJECT:["classid","codebase","data","usemap"],APPLET:["codebase"],A:["href"],AREA:["href"],LINK:["href"],BASE:["href"],IMG:["longdesc","src","usemap"],FRAME:["longdesc","src"],IFRAME:["longdesc","src"],HEAD:["profile"],SCRIPT:["src"],INPUT:["src","usemap","formaction"],BUTTON:["formaction"],BASE:["href"],MENUITEM:["icon"],HTML:["manifest"],VIDEO:["poster"]};if("itemid"===e)return!0;var r=t[n]||[];return a.contains(r,e)};if(n.isClient)var f=document.createElement("A");var d=function(e){if(n.isClient)return f.href=e,(f.protocol||"").toLowerCase();throw new Error("getUrlProtocol not implemented on the server")},h=D.prototype.update,_=D.extend({update:function(n,e,t){var o=this,i=arguments;if(r._javascriptUrlsAllowed())h.apply(o,i);else{var a="javascript:"===d(t);a?(r._warn("URLs that use the 'javascript:' protocol are not allowed in URL attribute values. Call Blaze._allowJavascriptUrls() to enable them."),h.apply(o,[n,e,null])):h.apply(o,i)}}});r._makeAttributeHandler=function(n,e,r){return"class"===e?s(n)?new o(e,r):new t(e,r):"style"===e?new i(e,r):"OPTION"===n.tagName&&"selected"===e||"INPUT"===n.tagName&&"checked"===e?new u(e,r):"TEXTAREA"!==n.tagName&&"INPUT"!==n.tagName||"value"!==e?"xlink:"===e.substring(0,6)?new l(e.substring(6),r):p(n.tagName,e)?new _(e,r):new D(e,r):new c(e,r)},x=function(n){this.elem=n,this.handlers={}},x.prototype.update=function(n){var e=this.elem,t=this.handlers;for(var o in t)if(!a.has(n,o)){var i=t[o],u=i.value;i.value=null,i.update(e,u,null),delete t[o]}for(var o in n){var i=null,u,c=n[o];a.has(t,o)?(i=t[o],u=i.value):null!==c&&(i=r._makeAttributeHandler(e,o,c),t[o]=i,u=null),u!==c&&(i.value=c,i.update(e,u,c),null===c&&delete t[o])}}}.call(this),function(){r._materializeDOM=function(e,t,r,o){var i=o||[];if(n(e,t,r,i),!o)for(;i.length;){var a=i.pop();a()}return t};var n=function(n,t,o,i){if(null!=n){switch(typeof n){case"string":case"boolean":case"number":return void t.push(document.createTextNode(String(n)));case"object":if(n.htmljsType)switch(n.htmljsType){case g.Tag.htmljsType:return void t.push(e(n,o,i));case g.CharRef.htmljsType:return void t.push(document.createTextNode(n.str));case g.Comment.htmljsType:return void t.push(document.createComment(n.sanitizedValue));case g.Raw.htmljsType:for(var u=r._DOMBackend.parseHTML(n.value),c=0;c<u.length;c++)t.push(u[c]);return}else{if(g.isArray(n)){for(var c=n.length-1;c>=0;c--)i.push(a.bind(r._materializeDOM,null,n[c],t,o,i));return}if(n instanceof r.Template&&(n=n.constructView()),n instanceof r.View)return void r._materializeView(n,o,i,t)}}throw new Error("Unexpected object in htmljs: "+n)}},e=function(n,e,o){var i=n.tagName,c;c=(g.isKnownSVGElement(i)||t(n))&&document.createElementNS?document.createElementNS("http://www.w3.org/2000/svg",i):document.createElement(i);var l=n.attrs,s=n.children;if("textarea"===i&&n.children.length&&!(l&&"value"in l)){if("function"==typeof l||g.isArray(l))throw new Error("Can't have reactive children of TEXTAREA node; use the 'value' attribute instead.");l=a.extend({},l||null),l.value=r._expand(s,e),s=[]}if(l){var p=new x(c),m=function(){var n=r._expandAttributes(l,e),t=g.flattenAttributes(n),o={};for(var i in t)o[i]=r._toText(t[i],e,g.TEXTMODE.STRING);p.update(o)},f;f=e?e.autorun(m,void 0,"updater"):u.nonreactive(function(){return u.autorun(function(){u._withCurrentView(e,m)})}),r._DOMBackend.Teardown.onElementTeardown(c,function n(){f.stop()})}if(s.length){var d=[];o.push(function(){for(var n=0;n<d.length;n++){var e=d[n];e instanceof r._DOMRange?e.attach(c):c.appendChild(e)}}),o.push(a.bind(r._materializeDOM,null,s,d,e,o))}return c},t=function(n){return"a"===n.tagName&&n.attrs&&void 0!==n.attrs["xlink:href"]}}.call(this),function(){k="object"==typeof k?k:{};var n=k,e,t,o,i,c,l,m,f,h,I,T,C,b,D,x,V,O,A,M,P,H,F,L,W,S,j,B,z,U,G,q,X,Y=[].slice,J=function n(e,t){function r(){this.constructor=e}for(var o in E.sanitizeForInObject(t))$.call(t,o)&&(e[o]=t[o]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},$={}.hasOwnProperty,K=[].indexOf||function(n){for(var e=0,t=this.length;e<t;e++)if(e in this&&this[e]===n)return e;return-1};C=function n(e,t){var r,o;return a.isString(e)?(o=e,e=function(n){return function(n,e){return t&&n!==e&&n.getFirstWith?!!n.getFirstWith(null,o):o in n}}(this)):a.isFunction(e)||(_(a.isObject(e)),r=e,e=function(n){return function(n,e){var i,u;for(o in E.sanitizeForInObject(r)){if(u=r[o],t&&n!==e&&n.getFirstWith?i=n.getFirstWith(null,o):o in n&&(i=n),!i)return!1;if(a.isFunction(i[o])){if(i[o]()!==u)return!1}else if(i[o]!==u)return!1}return!0}}(this)),e},O=function n(e,t){for(;e&&!e._templateInstance;)e=t?e.parentView:e.originalParentView||e.parentView;return null!=e?e._templateInstance:void 0},U=function n(e,t){var r;for(r="function"==typeof e?e():void 0,r=O(null!=r?r.view:void 0,t);r;){if("component"in r)return r.component;r=t?O(r.view.parentView,t):O(r.view.originalParentView||r.view.parentView,t)}return null},A=function n(e,t){var r;return r=O(e,t),function(){return r}},e=function(){function n(n,e){this.namespace=n,this.templateInstance=e}return n}(),H=p.dot,p.dot=function(){var n,t;return t=arguments[0],n=2<=arguments.length?Y.call(arguments,1):[],t instanceof e?r._getTemplate(t.namespace+"."+n.join("."),t.templateInstance):H.apply(null,[t].concat(Y.call(n)))},W=p.include,p.include=function(){var n,t;return t=arguments[0],n=2<=arguments.length?Y.call(arguments,1):[],t instanceof e&&(t=r._getTemplate(t.namespace,t.templateInstance)),W.apply(null,[t].concat(Y.call(n)))},r._getTemplateHelper=function(n,t,o){var i,a,c,l,s,p,d;if(c=!1,n.__helpers.has(t)){if(a=n.__helpers.get(t),a!==r._OLDSTYLE_HELPER)return null!=a?q(f(a),o):null;c=!0}return t in n?(c||(n.__helpers.set(t,r._OLDSTYLE_HELPER),n._NOWARN_OLDSTYLE_HELPERS||r._warn("Assigning helper with `"+n.viewName+"."+t+" = ...` is deprecated.  Use `"+n.viewName+".helpers(...)` instead.")),null!=n[t]?q(f(n[t]),o):null):o?"Template.__dynamicWithDataContext"===(s=n.viewName)||"Template.__dynamic"===s?null:(i=u.nonreactive(function(){return U(o,!0)}),i&&(l=i.getFirstWith(null,t))?q(m(l,l[t]),o):t&&t in R.components?new e(t,o):i&&null!=(a=null!=(p=i._componentInternals)&&null!=(d=p.templateBase)?d.__helpers.get(t):void 0)?q(f(a),o):null):null},n.inExpandAttributes=!1,m=function e(t,r){return a.isFunction(r)?function(){var e,o,i,u;if(e=1<=arguments.length?Y.call(arguments,0):[],i=r.apply(t,e),n.inExpandAttributes&&a.isObject(i))for(o in E.sanitizeForInObject(i))u=i[o],n.EVENT_HANDLER_REGEX.test(o)&&(a.isFunction(u)?i[o]=a.bind(u,t):a.isArray(u)&&(i[o]=a.map(u,function(n){return a.isFunction(n)?a.bind(n,t):n})));return i}:r},f=function n(e){return a.isFunction(e)?function(){var n;return n=r.getData(),null==n&&(n={}),e.apply(n,arguments)}:e},q=function n(e,t){return r.Template._withTemplateInstanceFunc?a.isFunction(e)?function(){var n,o;return o=this,n=arguments,r.Template._withTemplateInstanceFunc(t,function(){return r._wrapCatchingExceptions(e,"template helper").apply(o,n)})}:e:r._wrapCatchingExceptions(e,"template helper")},G=r.Template._withTemplateInstanceFunc?r.Template._withTemplateInstanceFunc:function n(e,t){return t()},V=function n(e){return u.nonreactive(function(){var n,t;if(n=e.template(),a.isString(n)){if(t=N[n],!t)throw new Error("Template '"+n+"' cannot be found.")}else{if(!n)throw new Error("Template for the component '"+(e.componentName()||"unnamed")+"' not provided.");t=n}return t})},h=function n(e,t){var r,o;e===e.component()&&(o=u.nonreactive(function(){return e._componentInternals.templateInstance()}),r=e._componentInternals.templateBase._getCallbacks(t),N._withTemplateInstanceFunc(function(){return o},function(){var n,e,t,i;for(i=[],e=0,t=r.length;e<t;e++)n=r[e],i.push(n.call(o));return i}))},X=function n(e,t){var o;return o=A(e,!0),G(o,function(){return r._withCurrentView(e,function(){return t()})})},c=function n(e,t){var o,i,u,c,l,s,p,m;if(u=t.events(),!a.isArray(u))throw new Error("'events' method from the component '"+(t.componentName()||"unnamed")+"' did not return a list of event maps.");for(s=0,p=u.length;s<p;s++){i=u[s],o={},c=function n(e,i){return o[e]=function(){var n,e,o;n=1<=arguments.length?Y.call(arguments,0):[],o=n[0],e=r.getView(o.currentTarget),X(e,function(){return i.apply(t,n)})}};for(m in E.sanitizeForInObject(i))l=i[m],c(m,l);r._addEventMap(e,o,e)}},L=r._getTemplate,r._getTemplate=function(n,e){var t;return t=u.nonreactive(function(){var t,o;return t=r.currentView?R.currentComponent():U(e,!1),null!=(o=R.getComponent(n))?o.renderComponent(t):void 0}),t&&(t instanceof r.Template||a.isFunction(t))?t:L(n)},z=function n(e,t){return e.onCreated?(e.onCreated(t.onCreated),e.onRendered(t.onRendered),e.onDestroyed(t.onDestroyed)):(e.created=t.onCreated,e.rendered=t.onRendered,e.destroyed=t.onDestroyed)},B=function n(e,t){var r;return e._callbacks?e._callbacks.created.unshift(t):(r=e.created,e.created=function(){return t.call(this),null!=r?r.call(this):void 0})},N.__dynamicWithDataContext.__helpers.set("chooseTemplate",function(n){return r._getTemplate(n,function(n){return function(){return N.instance()}}(this))}),l=function n(){return _(!1)},N.registerHelper("args",function(){var n;return n={},n.constructor=l,n._arguments=arguments,n}),n.EVENT_HANDLER_REGEX=/^on[A-Z]/,n.isEventHandler=function(n){return a.isFunction(n)&&n.eventHandler},F=g.flattenAttributes,g.flattenAttributes=function(e){var t,r;if(e=F(e))for(t in E.sanitizeForInObject(e))r=e[t],n.EVENT_HANDLER_REGEX.test(t)&&(n.isEventHandler(r)||a.isArray(r)&&a.some(r,n.isEventHandler)||(a.isArray(r)?e[t]=a.map(r,p.event):e[t]=p.event(r)));return e},p.event=function(){var n,e,t;if(e=arguments[0],n=2<=arguments.length?Y.call(arguments,1):[],!a.isFunction(e))throw new Error("Event handler not a function: "+e);return n=p.mustacheImpl.apply(p,[function(){var n;return n=1<=arguments.length?Y.call(arguments,0):[]}].concat(Y.call(n))),t=function t(){var o,i,a;return i=arguments[0],a=2<=arguments.length?Y.call(arguments,1):[],o=r.getView(i.currentTarget),X(o,function(){return e.apply(null,[i].concat(n,a))})},t.eventHandler=!0,t},S=g.ToHTMLVisitor.prototype.visitTag,g.ToHTMLVisitor.prototype.visitTag=function(e){var t,r;if(t=e.attrs){t=g.flattenAttributes(t);for(r in E.sanitizeForInObject(t))n.EVENT_HANDLER_REGEX.test(r)&&delete t[r];e.attrs=t}return S.call(this,e)},b=function n(){var e;return e=r.currentView,(null!=e?e._isInRender:void 0)?e:null},I=function n(e){return a.isFunction(e)?e:function(){return e}},T=function n(e){return e instanceof r.Template?e.constructView():e instanceof r.View?e:r.View("render",I(e))},t=r._HTMLJSExpander.extend(),t.def({visitObject:function(){function n(n){return n instanceof r.Template&&(n=n.constructView()),n instanceof r.View?x(n,this.parentView):g.TransformingVisitor.prototype.visitObject.call(this,n)}return n}()}),D=function n(e,r){return r=r||b(),new t({parentView:r}).visit(e)},x=function n(e,t){var o,i;return r._createView(e,t,!0),e._isInRender=!0,o=r._withCurrentView(e,function(){return e._render()}),e._isInRender=!1,u.flush(),i=D(o,e),u.flush(),u.active?u.onInvalidate(function(){return r._destroyView(e)}):r._destroyView(e),u.flush(),i},R=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return J(e,n),e.getComponentForElement=function(n){var e;if(!n)return null;if(n.nodeType!==Node.ELEMENT_NODE)throw new Error("Expected DOM element.");return e=A(r.getView(n),!0),U(e,!0)},e.prototype.childComponents=function(n){var t;return(t=this.component())!==this?t.childComponents(n):e.__super__.childComponents.apply(this,arguments)},e.prototype.childComponentsWith=function(n){var t;return(t=this.component())!==this?t.childComponentsWith(n):(_(n),n=C(n,!0),e.__super__.childComponentsWith.call(this,n))},e.prototype.parentComponent=function(n){var t;return(t=this.component())!==this?t.parentComponent(n):e.__super__.parentComponent.apply(this,arguments)},e.prototype.addChildComponent=function(n){var t;return(t=this.component())!==this?t.addChildComponent(n):e.__super__.addChildComponent.apply(this,arguments)},e.prototype.removeChildComponent=function(n){var t;return(t=this.component())!==this?t.removeChildComponent(n):e.__super__.removeChildComponent.apply(this,arguments)},e.prototype.mixins=function(){return[]},e.prototype.mixinParent=function(n){return null==this._componentInternals&&(this._componentInternals={}),n?(this._componentInternals.mixinParent=n,this):this._componentInternals.mixinParent||null},e.prototype.requireMixin=function(n){var t;return _(null!=(t=this._componentInternals)?t.mixins:void 0),u.nonreactive(function(t){return function(){var r,o,i,u,c,l,s;if(!t.getMixin(n)){if(a.isString(n)){if(u=t.constructor.getComponent?t.constructor.getComponent(n):e.getComponent(n),!u)throw new Error("Unknown mixin '"+n+"'.");i=new u}else i=a.isFunction(n)?new n:n;return t._componentInternals.mixins.push(i),i.mixinParent&&i.mixinParent(t),"function"==typeof i.createMixins&&i.createMixins(),(o=t.component())&&(null==o._componentInternals&&(o._componentInternals={}),null==(r=o._componentInternals).templateInstance&&(r.templateInstance=new v(null,function(n,e){return n===e})),!(null!=(c=o._componentInternals.templateInstance())?c.view.isDestroyed:void 0)&&(!o._componentInternals.inOnCreated&&(null!=(l=o._componentInternals.templateInstance())?l.view.isCreated:void 0)&&"function"==typeof i.onCreated&&i.onCreated(),!o._componentInternals.inOnRendered&&(null!=(s=o._componentInternals.templateInstance())?s.view.isRendered:void 0)))&&"function"==typeof i.onRendered?i.onRendered():void 0}}}(this)),this},e.prototype.createMixins=function(){var n,e,t,r;if(null==this._componentInternals&&(this._componentInternals={}),!this._componentInternals.mixins){for(this._componentInternals.mixins=[],r=this.mixins(),n=0,e=r.length;n<e;n++)t=r[n],this.requireMixin(t);return this}},e.prototype.getMixin=function(n){return a.isString(n)?this.getFirstWith(this,function(e){return function(e,t){var r;return r=("function"==typeof e.componentName?e.componentName():void 0)||null,r&&r===n}}(this)):this.getFirstWith(this,function(e){return function(e,t){return e.constructor===n||e===n}}(this))},e.prototype.callFirstWith=function(){var n,e,t,r;if(n=arguments[0],r=arguments[1],e=3<=arguments.length?Y.call(arguments,2):[],_(a.isString(r)),t=this.getFirstWith(n,r))return a.isFunction(t[r])?t[r].apply(t,e):t[r]},e.prototype.getFirstWith=function(n,e){var t,r,o,i,a,u;if(_(null!=(a=this._componentInternals)?a.mixins:void 0),_(e),e=C(e,!1),n)t=!(!n||n!==this);else{if(e.call(this,this,this))return this;t=!0}for(u=this._componentInternals.mixins,r=0,o=u.length;r<o;r++){if(i=u[r],t&&e.call(this,i,this))return i;i===n&&(t=!0)}return null},e.renderComponent=function(n){return u.nonreactive(function(e){return function(){var t,o;return t=e,o=r.currentView?N.currentData():null,(null!=o?o.constructor:void 0)!==l?X(r.currentView,function(){var e;return e=new t,e.renderComponent(n)}):function(){var e,i,a;return _(u.active),e=r.getView("with"),a=new y(function(){return o=e.dataVar.get(),_.equal(null!=o?o.constructor:void 0,l),o._arguments},s.equals),i=a(),u.nonreactive(function(){var e;return e=r._withCurrentView(r.currentView.parentView.parentView,function(e){return function(){return X(r.currentView,function(){var e;return e=function(n,e,t){t.prototype=n.prototype;var r=new t,o=n.apply(r,e);return Object(o)===o?o:r}(t,i,function(){}),e.renderComponent(n)})}}(this)),B(e,function(){return this.view.originalParentView=this.view.parentView,this.view.parentView=this.view.parentView.parentView.parentView}),e})}}}(this))},e.prototype.renderComponent=function(n){return u.nonreactive(function(e){return function(){var t,o,i;return t=e.component(),t.createMixins(),i=V(t),o=new r.Template("BlazeComponent."+(t.componentName()||"unnamed"),i.renderFunction),null==t._componentInternals&&(t._componentInternals={}),t._componentInternals.templateBase=i,z(o,{onCreated:function(){function e(){var e,r,o,i,a,l;n&&u.nonreactive(function(e){return function(){var e;return _(!t.parentComponent(),"Component '"+(t.componentName()||"unnamed")+"' parent component '"+((null!=(e=t.parentComponent())?e.componentName():void 0)||"unnamed")+"' already set."),t.parentComponent(n),n.addChildComponent(t)}}(this)),this.view._onViewRendered(function(n){return function(){var e,t;if(1===n.view.renderCount){for(e=null,t=[];e=n.component.getFirstWith(e,"events");)t.push(c(n.view,e));return t}}}(this)),this.component=t,_(!u.nonreactive(function(n){return function(){var e;return"function"==typeof(e=n.component._componentInternals).templateInstance?e.templateInstance():void 0}}(this))),null==(e=this.component._componentInternals).templateInstance&&(e.templateInstance=new v(this,function(n,e){return n===e})),this.component._componentInternals.templateInstance(this),null==(r=this.component._componentInternals).isCreated&&(r.isCreated=new v((!0))),this.component._componentInternals.isCreated(!0),null==(o=this.component._componentInternals).isRendered&&(o.isRendered=new v((!1))),this.component._componentInternals.isRendered(!1),null==(i=this.component._componentInternals).isDestroyed&&(i.isDestroyed=new v((!1))),this.component._componentInternals.isDestroyed(!1);try{for(this.component._componentInternals.inOnCreated=!0,a=null,l=[];a=this.component.getFirstWith(a,"onCreated");)l.push(a.onCreated());return l}finally{delete this.component._componentInternals.inOnCreated}}return e}(),onRendered:function(){function n(){var n,e,t;null==(n=this.component._componentInternals).isRendered&&(n.isRendered=new v((!0))),this.component._componentInternals.isRendered(!0),u.nonreactive(function(n){return function(){return _.equal(n.component._componentInternals.isCreated(),!0)}}(this));try{for(this.component._componentInternals.inOnRendered=!0,e=null,t=[];e=this.component.getFirstWith(e,"onRendered");)t.push(e.onRendered());return t}finally{delete this.component._componentInternals.inOnRendered}}return n}(),onDestroyed:function(){function e(){return this.autorun(function(e){return function(r){if(!e.component.childComponents().length)return r.stop(),u.nonreactive(function(){var r,o,i;for(_.equal(e.component._componentInternals.isCreated(),!0),e.component._componentInternals.isCreated(!1),null==(r=e.component._componentInternals).isRendered&&(r.isRendered=new v((!1))),e.component._componentInternals.isRendered(!1),null==(o=e.component._componentInternals).isDestroyed&&(o.isDestroyed=new v((!0))),e.component._componentInternals.isDestroyed(!0),i=null;i=e.component.getFirstWith(i,"onDestroyed");)i.onDestroyed();return n&&(t.parentComponent(null),n.removeChildComponent(t)),e.component._componentInternals.templateInstance(null)})}}(this))}return e}()}),o}}(this))},e.prototype.removeComponent=function(){if(this.isRendered())return r.remove(this.component()._componentInternals.templateInstance().view)},e.renderComponentToHTML=function(n,e,t){var r;return r=u.nonreactive(function(t){return function(){var r;return r=t,e=e||b()||(null!=n?n.isRendered():void 0)&&n._componentInternals.templateInstance().view||null,X(e,function(){return new r})}}(this)),arguments.length>2?r.renderComponentToHTML(n,e,t):r.renderComponentToHTML(n,e)},e.prototype.renderComponentToHTML=function(n,e,t){var o,i;return i=u.nonreactive(function(t){return function(){return e=e||b()||(null!=n?n.isRendered():void 0)&&n._componentInternals.templateInstance().view||null,X(e,function(){return t.component().renderComponent(n)})}}(this)),o=arguments.length>2?x(r._TemplateWith(t,I(i)),e):x(T(i),e),g.toHTML(o)},e.prototype.template=function(){return this.callFirstWith(this,"template")||this.constructor.componentName()},e.prototype.onCreated=function(){return h(this,"created")},e.prototype.onRendered=function(){return h(this,"rendered")},e.prototype.onDestroyed=function(){return h(this,"destroyed")},e.prototype.isCreated=function(){var n,e;return e=this.component(),null==e._componentInternals&&(e._componentInternals={}),null==(n=e._componentInternals).isCreated&&(n.isCreated=new v((!1))),e._componentInternals.isCreated()},e.prototype.isRendered=function(){var n,e;return e=this.component(),null==e._componentInternals&&(e._componentInternals={}),null==(n=e._componentInternals).isRendered&&(n.isRendered=new v((!1))),e._componentInternals.isRendered()},e.prototype.isDestroyed=function(){var n,e;return e=this.component(),null==e._componentInternals&&(e._componentInternals={}),null==(n=e._componentInternals).isDestroyed&&(n.isDestroyed=new v((!1))),e._componentInternals.isDestroyed()},e.prototype.insertDOMElement=function(n,e,t){null==t&&(t=null),n&&e&&(e.parentNode!==n||e.nextSibling!==t)&&n.insertBefore(e,t)},e.prototype.moveDOMElement=function(n,e,t){null==t&&(t=null),n&&e&&(e.parentNode!==n||e.nextSibling!==t)&&n.insertBefore(e,t)},e.prototype.removeDOMElement=function(n,e){n&&e&&e.parentNode===n&&n.removeChild(e)},e.prototype.events=function(){var n,e,t,o,i,a,c,l,s,p,m;if(this!==this.component())return[];for(null==this._componentInternals&&(this._componentInternals={}),m=u.nonreactive(function(n){return function(){return n._componentInternals.templateInstance().view}}(this)),p=A(m,!0),c=this._componentInternals.templateBase.__eventMaps,l=[],i=0,a=c.length;i<a;i++){e=c[i],n={},t=function e(t,o){return n[t]=function(){var n;return n=1<=arguments.length?Y.call(arguments,0):[],G(p,function(){return r._withCurrentView(m,function(){return o.apply(m,n)})})}};for(s in E.sanitizeForInObject(e))o=e[s],t(s,o);l.push(n)}return l},e.prototype.data=function(n,e){var t,o,i,a;if(o=this.component(),null==o._componentInternals&&(o._componentInternals={}),null==(t=o._componentInternals).templateInstance&&(t.templateInstance=new v(null,function(n,e){return n===e})),a=null!=(i=o._componentInternals.templateInstance())?i.view:void 0)return null!=n?r._withCurrentView(null,function(t){return function(){return w.get(function(){return r.getData(a)},n,e)}}(this)):r.getData(a)},e.currentData=function(n,e){var t;if(r.currentView){if(t=r.currentView,a.isString(n))n=n.split(".");else if(!a.isArray(n))return r.getData(t);return r._withCurrentView(null,function(o){return function(){return w.get(function(){var e,o;return r._lexicalBindingLookup&&(e=r._lexicalBindingLookup(t,n[0]))?(o={},o[n[0]]=e,o):r.getData(t)},n,e)}}(this))}},e.prototype.currentData=function(n,e){return this.constructor.currentData(n,e)},e.prototype.component=function(){var n,e;for(n=this;;){if(!n.mixinParent)return null;if(!(e=n.mixinParent()))return n;n=e}},e.currentComponent=function(){var n;return n=A(r.currentView,!1),U(n,!1)},e.prototype.currentComponent=function(){return this.constructor.currentComponent()},e.prototype.firstNode=function(){if(this.isRendered())return this.component()._componentInternals.templateInstance().view._domrange.firstNode()},e.prototype.lastNode=function(){if(this.isRendered())return this.component()._componentInternals.templateInstance().view._domrange.lastNode()},e.prototype.autorun=function(n){var e;if(e=u.nonreactive(function(n){return function(){var e;return null!=(e=n.component()._componentInternals)&&"function"==typeof e.templateInstance?e.templateInstance():void 0}}(this)),!e)throw new Error("The component has to be created before calling 'autorun'.");return e.autorun(a.bind(n,this))},e}(d),i=["subscriptionsReady"],o=["$","find","findAll"],j=r.TemplateInstance.prototype;for(P in E.sanitizeForInObject(j))M=j[P],P in R.prototype||!function(n,e){return K.call(i,n)>=0?R.prototype[n]=function(){var e,t,r,o;if(e=1<=arguments.length?Y.call(arguments,0):[],r=this.component(),null==r._componentInternals&&(r._componentInternals={}),null==(t=r._componentInternals).templateInstance&&(t.templateInstance=new v(null,function(n,e){return n===e})),o=r._componentInternals.templateInstance())return o[n].apply(o,e)}:K.call(o,n)>=0?R.prototype[n]=function(){var e,t;if(e=1<=arguments.length?Y.call(arguments,0):[],this.isRendered())return(t=this.component()._componentInternals.templateInstance())[n].apply(t,e)}:R.prototype[n]=function(){var e,t;if(e=1<=arguments.length?Y.call(arguments,0):[],
t=u.nonreactive(function(n){return function(){var e;return null!=(e=n.component()._componentInternals)&&"function"==typeof e.templateInstance?e.templateInstance():void 0}}(this)),!t)throw new Error("The component has to be created before calling '"+n+"'.");return t[n].apply(t,e)}}(P,M)}.call(this),function(){k="object"==typeof k?k:{};var n=k,e=function(n,e){function r(){this.constructor=n}for(var o in e)t.call(e,o)&&(n[o]=e[o]);return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n},t={}.hasOwnProperty,r=[].indexOf||function(n){for(var e=0,t=this.length;e<t;e++)if(e in this&&this[e]===n)return e;return-1};V=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return e(t,n),t.startComponent=function(n){return t.__super__.constructor.startComponent.apply(this,arguments),console.log(n.data())},t.startMarkedComponent=function(n){return t.__super__.constructor.startMarkedComponent.apply(this,arguments),console.log(n.data())},t.dumpComponentSubtree=function(n){return"nodeType"in n&&n.nodeType===Node.ELEMENT_NODE&&(n=R.getComponentForElement(n)),t.__super__.constructor.dumpComponentSubtree.apply(this,arguments)},t.dumpComponentTree=function(n){return"nodeType"in n&&n.nodeType===Node.ELEMENT_NODE&&(n=R.getComponentForElement(n)),t.__super__.constructor.dumpComponentTree.apply(this,arguments)},t.dumpAllComponents=function(){var n,e,t,o;for(n=[],m("*").each(function(e){return function(t,o){var i,a;if(i=R.getComponentForElement(o))return a=e.componentRoot(i),r.call(n,a)<0?n.push(a):void 0}}(this)),e=0,t=n.length;e<t;e++)o=n[e],this.dumpComponentSubtree(o)},t}(h)}.call(this),function(){k="object"==typeof k?k:{};var n=k,e,t,o,i,u,c,l,s,p,f;f=function(n,e){var t,r,o,i;if(n._uihooks&&!e._uihooks&&(e._uihooks=a.extend({},n._uihooks,{parentNode:e}),e.hasChildNodes()))for(i=e.childNodes,r=0,o=i.length;r<o;r++)t=i[r],t.nodeType===Node.ELEMENT_NODE&&f(e,t)},c=r._DOMRange._insertNodeWithHooks,r._DOMRange._insertNodeWithHooks=function(n,e,t){return f(e,n),c(n,e,t)},s=r._DOMRange._moveNodeWithHooks,r._DOMRange._moveNodeWithHooks=function(n,e,t){return f(e,n),s(n,e,t)},o=function(n,e){return{parentNode:e,insertElement:function(e,t){return n.insertDOMElement(this.parentNode,e,t)},moveElement:function(e,t){return n.moveDOMElement(this.parentNode,e,t)},removeElement:function(e){return n.removeDOMElement(e.parentNode,e)}}},i=r._DOMRange.prototype.attach,r._DOMRange.prototype.attach=function(n,e,t,a){var u,c,l,s,p,m,d,h,_,v,y,w;if(c=null!=(_=this.view)&&null!=(v=_._templateInstance)?v.component:void 0){for(y=this.members,l=0,p=y.length;l<p;l++)if(d=y[l],!(d instanceof r._DOMRange)&&(d._uihooks=o(c,d),d.hasChildNodes()))for(w=d.childNodes,s=0,m=w.length;s<m;s++)u=w[s],u.nodeType===Node.ELEMENT_NODE&&f(d,u);h=n._uihooks;try{return n._uihooks=o(c,n),i.apply(this,arguments)}finally{h?n._uihooks=h:delete n._uihooks}}return i.apply(this,arguments)},t=/^\s+$/,e=r._AttributeHandler.extend({update:function(e,t,r){var o,i,u,c,l,s,p,f;for(t||(t=[]),a.isArray(t)||(t=[t]),r||(r=[]),a.isArray(r)||(r=[r]),_(a.every(t,n.isEventHandler),t),_(a.every(r,n.isEventHandler),r),o=m(e),i=this.name.substr(2).toLowerCase(),c=0,s=t.length;c<s;c++)u=t[c],o.off(i,u);for(f=[],l=0,p=r.length;l<p;l++)u=r[l],f.push(o.on(i,u));return f}}),l=r._makeAttributeHandler,r._makeAttributeHandler=function(t,r,o){return n.EVENT_HANDLER_REGEX.test(r)?new e(r,o):l(t,r,o)},p=r._toText,r._toText=function(e,r,o){return n.isEventHandler(e)?e:a.isArray(e)&&a.some(e,n.isEventHandler)?a.filter(e,function(e){if(n.isEventHandler(e))return!0;if(t.test(e))return!1;throw new Error("Invalid event handler: "+e)}):p(e,r,o)},u=r._expandAttributes,r._expandAttributes=function(e,t){var r;r=n.inExpandAttributes,n.inExpandAttributes=!0;try{return u(e,t)}finally{n.inExpandAttributes=r}}}.call(this),"undefined"==typeof Package&&(Package={}),function(n,e){for(var t in e)t in n||(n[t]=e[t])}(Package["peerlibrary:blaze-components"]={},{Template:N,BlazeComponent:R,BlazeComponentDebug:V})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package.check.check,o=Package.check.Match,i=Package["reactive-dict"].ReactiveDict,a=Package.random.Random,u=Package.underscore._,s=Package.tracker.Tracker,c=Package.tracker.Deps,l=Package["peerlibrary:blaze-components"].Template,p=Package["peerlibrary:blaze-components"].BlazeComponent,h=Package["peerlibrary:blaze-components"].BlazeComponentDebug,m=Package["easysearch:core"].EasySearch,f=Package.modules.meteorInstall,d=Package.modules.Buffer,b=Package.modules.process,g=Package["ecmascript-runtime"].Symbol,C=Package["ecmascript-runtime"].Map,y=Package["ecmascript-runtime"].Set,k=Package["babel-runtime"].meteorBabelHelpers,v=Package.promise.Promise,I=Package.blaze.Blaze,E=Package.blaze.UI,P=Package.blaze.Handlebars,S=Package.spacebars.Spacebars,_=Package.htmljs.HTML,x,j,M=f({node_modules:{meteor:{"easysearch:components":{lib:{"base.js":["babel-runtime/helpers/toConsumableArray","babel-runtime/helpers/classCallCheck","babel-runtime/helpers/createClass","babel-runtime/helpers/possibleConstructorReturn","babel-runtime/helpers/inherits",function(t,n,i){var a;i.import("babel-runtime/helpers/toConsumableArray",{default:function(e){a=e}});var s;i.import("babel-runtime/helpers/classCallCheck",{default:function(e){s=e}});var c;i.import("babel-runtime/helpers/createClass",{default:function(e){c=e}});var l;i.import("babel-runtime/helpers/possibleConstructorReturn",{default:function(e){l=e}});var h;i.import("babel-runtime/helpers/inherits",{default:function(e){h=e}}),x=function(t){function n(){return s(this,n),l(this,t.apply(this,arguments))}return h(n,t),n.prototype.onCreated=function(){function t(){var t,i=this.getData().index,s=[i];if(i||(s=this.getData().indexes),u.isEmpty(s))throw new e.Error("no-index","Please provide an index for your component");if(s.filter(function(e){return e instanceof m.Index}).length!=s.length)throw new e.Error("invalid-configuration",'Did not receive an index or an array of indexes: "'+s.toString()+'"');this.indexes=s,this.options=u.defaults({},(t=u).omit.apply(t,[this.getData()].concat(a(n.reserveredProperties))),this.defaultOptions),r(this.name,o.Optional(String)),r(this.options,Object),this.eachIndex(function(e,t){e.getComponentDict(t)||e.registerComponent(t)})}return t}(),n.prototype.search=function(){function e(e){r(e,String);var t=!this.getData().noDocumentsOnEmpty||0<e.length;this.eachIndex(function(n,r){n.getComponentDict(r).set("showDocuments",t),t&&n.getComponentMethods(r).search(e)})}return e}(),n.prototype.getData=function(){function e(){return this.data()||{}}return e}(),n.prototype.eachIndex=function(){function e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"each",n=this,r=this.getData().logic;return u.isEmpty(r)||(t="OR"===r?"some":"every"),u[t](this.indexes,function(t){return e.apply(this,[t,n.name])})}return e}(),c(n,[{key:"name",get:function(){function e(){return this.getData().name}return e}()},{key:"defaultOptions",get:function(){function e(){return{}}return e}()},{key:"dicts",get:function(){function e(){return this.eachIndex(function(e,t){return e.getComponentDict(t)},"map")}return e}()}],[{key:"reserveredProperties",get:function(){function e(){return["index","indexes","name","attributes"]}return e}()}]),n}(p),m.BaseComponent=x}],"single-index.js":["babel-runtime/helpers/classCallCheck","babel-runtime/helpers/createClass","babel-runtime/helpers/possibleConstructorReturn","babel-runtime/helpers/inherits",function(t,n,r){var o;r.import("babel-runtime/helpers/classCallCheck",{default:function(e){o=e}});var i;r.import("babel-runtime/helpers/createClass",{default:function(e){i=e}});var a;r.import("babel-runtime/helpers/possibleConstructorReturn",{default:function(e){a=e}});var s;r.import("babel-runtime/helpers/inherits",{default:function(e){s=e}}),j=function(t){function n(){return o(this,n),a(this,t.apply(this,arguments))}return s(n,t),n.prototype.onCreated=function(){function n(){if(t.prototype.onCreated.call(this),this.indexes.length>1)throw new e.Error("only-single-index","Can only specify one index")}return n}(),i(n,[{key:"index",get:function(){function e(){return u.first(this.indexes)}return e}()},{key:"dict",get:function(){function e(){return u.first(this.dicts)}return e}()}]),n}(x),m.SingleIndexComponent=j}],"component-methods.js":function(){m._getComponentMethods=function(e,t){return{search:function(){function t(t){e.set("searchOptions",{props:(e.get("searchOptions")||{}).props}),e.set("searchDefinition",t),e.set("stopPublication",!0)}return t}(),getCursor:function(){function n(){var n=e.get("searchDefinition")||"",i=e.get("searchOptions"),a=e.get("showDocuments");if(r(i,o.Optional(Object)),!1===a)return e.set("count",0),e.set("searching",!1),e.set("limit",0),e.set("skip",0),e.set("currentCount",0),e.set("stopPublication",!1),m.Cursor.emptyCursor;var u=t.search(n,i),s=t._getSearchOptions(i);return e.set("count",u.count()),e.set("searching",!u.isReady()),e.set("limit",s.limit),e.set("skip",s.skip),e.set("currentCount",u.mongoCursor.count()),e.set("stopPublication",!1),u}return n}(),searchIsEmpty:function(){function t(){var t=e.get("searchDefinition");return!t||u.isString(t)&&0===t.trim().length}return t}(),hasNoResults:function(){function t(){var t=e.get("count"),n=e.get("showDocuments");return!(!1===n||e.get("searching")||u.isNumber(t)&&0!==t)}return t}(),isSearching:function(){function t(){return!!e.get("searching")}return t}(),hasMoreDocuments:function(){function t(){return e.get("currentCount")<e.get("count")}return t}(),loadMore:function(){function t(t){r(t,Number);var n=e.get("currentCount"),o=e.get("searchOptions")||{};o.limit=n+t,e.set("searchOptions",o)}return t}(),paginate:function(){function t(t){r(t,Number);var n=e.get("searchOptions")||{},o=e.get("limit");n.skip=o*(t-1),e.set("currentPage",t),e.set("searchOptions",n),e.set("stopPublication",!0)}return t}(),addProps:function(){function t(){var t=e.get("searchOptions")||{};t.props=t.props||{};for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];u.isObject(r[0])?t.props=u.extend(t.props,r[0]):u.isString(r[0])&&(t.props[r[0]]=r[1]),e.set("searchOptions",t),this.paginate(1)}return t}(),removeProps:function(){function t(){for(var t=e.get("searchOptions")||{},n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];u.isEmpty(r)?t.props={}:t.props=u.omit(t.props,r)||{},e.set("searchOptions",t),this.paginate(1)}return t}()}}},"core.js":["babel-runtime/helpers/classCallCheck","babel-runtime/helpers/createClass","babel-runtime/helpers/possibleConstructorReturn","babel-runtime/helpers/inherits",function(t,n,r){function o(e,t){return t<=e&&t>0}var s;r.import("babel-runtime/helpers/classCallCheck",{default:function(e){s=e}});var c;r.import("babel-runtime/helpers/createClass",{default:function(e){c=e}});var l;r.import("babel-runtime/helpers/possibleConstructorReturn",{default:function(e){l=e}});var p;r.import("babel-runtime/helpers/inherits",{default:function(e){p=e}}),m.Index=function(t){function n(){s(this,n);var e=l(this,t.apply(this,arguments));return e.components={},e}return p(n,t),n.prototype.registerComponent=function(){function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m.Index.COMPONENT_DEFAULT_NAME;this.components[e]=new i("easySearchComponent_"+this.config.name+"_"+e+"_"+a.id())}return e}(),n.prototype.getComponentDict=function(){function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m.Index.COMPONENT_DEFAULT_NAME;return this.components[e]}return e}(),n.prototype.getComponentMethods=function(){function t(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m.Index.COMPONENT_DEFAULT_NAME,n=this.getComponentDict(t);if(!n)throw new e.Error("no-component","Component with name '"+t+"' not found");return m._getComponentMethods(n,this)}return t}(),c(n,null,[{key:"COMPONENT_DEFAULT_NAME",get:function(){function e(){return"__default"}return e}()}]),n}(m.Index),m._getPagesForPagination=function(t){var n=t.totalCount,r=t.pageCount,i=t.currentPage,a=t.prevAndNext,s=t.maxPages,c=u.range(1,Math.ceil(n/r)+1),l=c.length;if(!o(l,i))throw new e.Error("invalid-page","Current page is not in valid range");if(s){var p=i>s/2?i-1-Math.floor(s/2):0,h=p+s;c=h>l?c.slice(-s):c.slice(p,p+s)}var m=u.map(c,function(e){var t=e===i;return{page:e,content:e.toString(),current:t,disabled:t}});if(a){var f=o(l,i-1)?i-1:null;m.unshift({page:f,content:"Prev",current:!1,disabled:1===i});var d=o(l,i+1)?i+1:null;m.push({page:d,content:"Next",current:!1,disabled:null==d||l+1===i})}return m}}],input:{"template.input.js":function(){l.__checkName("EasySearch.Input"),l["EasySearch.Input"]=new l("Template.EasySearch.Input",function(){var e=this;return _.INPUT(_.Attrs(function(){return S.attrMustache(e.lookup("inputAttributes"))}))})},"input.js":["babel-runtime/helpers/classCallCheck","babel-runtime/helpers/createClass","babel-runtime/helpers/possibleConstructorReturn","babel-runtime/helpers/inherits",function(e,t,n){var r;n.import("babel-runtime/helpers/classCallCheck",{default:function(e){r=e}});var o;n.import("babel-runtime/helpers/createClass",{default:function(e){o=e}});var i;n.import("babel-runtime/helpers/possibleConstructorReturn",{default:function(e){i=e}});var a;n.import("babel-runtime/helpers/inherits",{default:function(e){a=e}}),m.InputComponent=function(e){function t(){return r(this,t),i(this,e.apply(this,arguments))}return a(t,e),t.prototype.onCreated=function(){function t(){var t,n=this;(t=e.prototype.onCreated).call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),this.search(this.inputAttributes().value),this.debouncedSearch=u.debounce(function(e){e=e.trim(),n.searchString!==e&&(n.searchString=e,n.eachIndex(function(e,t){e.getComponentDict(t).set("currentPage",1)}),n.search(e))},this.options.timeout)}return t}(),t.prototype.events=function(){function e(){return[{"keyup input":function(){function e(e){"enter"==this.getData().event&&13!=e.keyCode||this.debouncedSearch($(e.target).val())}return e}()}]}return e}(),t.prototype.inputAttributes=function(){function e(){return u.defaults({},this.getData().attributes,t.defaultAttributes)}return e}(),o(t,[{key:"defaultOptions",get:function(){function e(){return{timeout:50}}return e}()}],[{key:"defaultAttributes",get:function(){function e(){return{type:"text",value:""}}return e}()}]),t}(x),m.InputComponent.register("EasySearch.Input")}]},"field-input":{"template.field-input.js":function(){l.__checkName("EasySearch.FieldInput"),l["EasySearch.FieldInput"]=new l("Template.EasySearch.FieldInput",function(){var e=this;return _.INPUT(_.Attrs(function(){return S.attrMustache(e.lookup("inputAttributes"))}))})},"field-input.js":["babel-runtime/helpers/classCallCheck","babel-runtime/helpers/possibleConstructorReturn","babel-runtime/helpers/inherits",function(t,n,o){var i;o.import("babel-runtime/helpers/classCallCheck",{default:function(e){i=e}});var a;o.import("babel-runtime/helpers/possibleConstructorReturn",{default:function(e){a=e}});var s;o.import("babel-runtime/helpers/inherits",{default:function(e){s=e}}),m.FieldInputComponent=function(t){function n(){return i(this,n),a(this,t.apply(this,arguments))}return s(n,t),n.prototype.onCreated=function(){function n(){if(t.prototype.onCreated.call(this),u.isEmpty(this.getData().field))throw new e.Error("no-field","Please provide a field for your field input component")}return n}(),n.prototype.search=function(){function t(t){var n=this;r(t,String),this.eachIndex(function(r,o){var i=r.getComponentDict(o).get("searchDefinition")||{};if(u.isString(i))throw new e.Error("You can either EasySearch.FieldInput or EasySearch.Input");n.options.field&&(i[n.options.field]=t,r.getComponentMethods(o).search(i))})}return t}(),n}(m.InputComponent),m.FieldInputComponent.register("EasySearch.FieldInput")}]},each:{"template.each.js":function(){l.__checkName("EasySearch.Each"),l["EasySearch.Each"]=new l("Template.EasySearch.Each",function(){var e=this;return I.Each(function(){return S.call(e.lookup("doc"))},function(){return["\n      ",I._InOuterTemplateScope(e,function(){return I._TemplateWith(function(){return S.dataMustache(e.lookup("dataScope"),e.lookup("."),e.lookup("@index"))},function(){return S.include(function(){return S.call(e.templateContentBlock)})})}),"\n    "]})})},"each.js":["babel-runtime/helpers/classCallCheck","babel-runtime/helpers/possibleConstructorReturn","babel-runtime/helpers/inherits",function(e,t,n){var r;n.import("babel-runtime/helpers/classCallCheck",{default:function(e){r=e}});var o;n.import("babel-runtime/helpers/possibleConstructorReturn",{default:function(e){o=e}});var i;n.import("babel-runtime/helpers/inherits",{default:function(e){i=e}}),m.EachComponent=function(e){function t(){return r(this,t),o(this,e.apply(this,arguments))}return i(t,e),t.prototype.doc=function(){function e(){var e=this.index.getComponentDict(this.name).get("stopPublication");return this.cursor&&e&&this.cursor.stop(),this.cursor=this.index.getComponentMethods(this.name).getCursor(),this.cursor.mongoCursor}return e}(),t.prototype.dataScope=function(){function e(e,t){return e["@index"]=t,e}return e}(),t}(j),m.EachComponent.register("EasySearch.Each")}]},"if-input-empty":{"template.if-input-empty.js":function(){l.__checkName("EasySearch.IfInputEmpty"),l["EasySearch.IfInputEmpty"]=new l("Template.EasySearch.IfInputEmpty",function(){var e=this;return I.If(function(){return S.call(e.lookup("inputEmpty"))},function(){return["\n        ",I._InOuterTemplateScope(e,function(){return S.include(function(){return S.call(e.templateContentBlock)})}),"\n    "]},function(){return["\n        ",I.If(function(){return S.call(e.templateElseBlock)},function(){return["\n            ",I._InOuterTemplateScope(e,function(){return S.include(function(){return S.call(e.templateElseBlock)})}),"\n        "]}),"\n    "]})})},"if-input-empty.js":["babel-runtime/helpers/classCallCheck","babel-runtime/helpers/possibleConstructorReturn","babel-runtime/helpers/inherits",function(e,t,n){var r;n.import("babel-runtime/helpers/classCallCheck",{default:function(e){r=e}});var o;n.import("babel-runtime/helpers/possibleConstructorReturn",{default:function(e){o=e}});var i;n.import("babel-runtime/helpers/inherits",{default:function(e){i=e}}),m.IfInputEmptyComponent=function(e){function t(){return r(this,t),o(this,e.apply(this,arguments))}return i(t,e),t.prototype.inputEmpty=function(){function e(){return!!this.eachIndex(function(e,t){return e.getComponentMethods(t).searchIsEmpty()},"every")}return e}(),t}(x),m.IfInputEmptyComponent.register("EasySearch.IfInputEmpty")}]},"if-no-results":{"template.if-no-results.js":function(){l.__checkName("EasySearch.IfNoResults"),l["EasySearch.IfNoResults"]=new l("Template.EasySearch.IfNoResults",function(){var e=this;return I.If(function(){return S.call(e.lookup("noResults"))},function(){return["\n        ",I._InOuterTemplateScope(e,function(){return S.include(function(){return S.call(e.templateContentBlock)})}),"\n    "]},function(){return["\n        ",I.If(function(){return S.call(e.templateElseBlock)},function(){return["\n            ",I._InOuterTemplateScope(e,function(){return S.include(function(){return S.call(e.templateElseBlock)})}),"\n        "]}),"\n    "]})})},"if-no-results.js":["babel-runtime/helpers/classCallCheck","babel-runtime/helpers/possibleConstructorReturn","babel-runtime/helpers/inherits",function(e,t,n){var r;n.import("babel-runtime/helpers/classCallCheck",{default:function(e){r=e}});var o;n.import("babel-runtime/helpers/possibleConstructorReturn",{default:function(e){o=e}});var i;n.import("babel-runtime/helpers/inherits",{default:function(e){i=e}}),m.IfNoResultsComponent=function(e){function t(){return r(this,t),o(this,e.apply(this,arguments))}return i(t,e),t.prototype.noResults=function(){function e(){return!!this.eachIndex(function(e,t){return e.getComponentMethods(t).hasNoResults()},"every")}return e}(),t}(x),m.IfNoResultsComponent.register("EasySearch.IfNoResults")}]},"if-searching":{"template.if-searching.js":function(){l.__checkName("EasySearch.IfSearching"),l["EasySearch.IfSearching"]=new l("Template.EasySearch.IfSearching",function(){var e=this;return I.If(function(){return S.call(e.lookup("searching"))},function(){return["\n        ",I._InOuterTemplateScope(e,function(){return S.include(function(){return S.call(e.templateContentBlock)})}),"\n    "]},function(){return["\n        ",I.If(function(){return S.call(e.templateElseBlock)},function(){return["\n            ",I._InOuterTemplateScope(e,function(){return S.include(function(){return S.call(e.templateElseBlock)})}),"\n        "]}),"\n    "]})})},"if-searching.js":["babel-runtime/helpers/classCallCheck","babel-runtime/helpers/possibleConstructorReturn","babel-runtime/helpers/inherits",function(e,t,n){var r;n.import("babel-runtime/helpers/classCallCheck",{default:function(e){r=e}});var o;n.import("babel-runtime/helpers/possibleConstructorReturn",{default:function(e){o=e}});var i;n.import("babel-runtime/helpers/inherits",{default:function(e){i=e}}),m.IfSearchingComponent=function(e){function t(){return r(this,t),o(this,e.apply(this,arguments))}return i(t,e),t.prototype.searching=function(){function e(){return!!this.eachIndex(function(e,t){return e.getComponentMethods(t).isSearching()},"every")}return e}(),t}(x),m.IfSearchingComponent.register("EasySearch.IfSearching")}]},"load-more":{"template.load-more.js":function(){l.__checkName("EasySearch.LoadMore"),l["EasySearch.LoadMore"]=new l("Template.EasySearch.LoadMore",function(){var e=this;return I.If(function(){return S.call(e.lookup("moreDocuments"))},function(){return["\n        ",_.BUTTON(_.Attrs(function(){return S.attrMustache(e.lookup("attributes"))}),I.View("lookup:content",function(){return S.mustache(e.lookup("content"))})),"\n    "]})})},"load-more.js":["babel-runtime/helpers/classCallCheck","babel-runtime/helpers/createClass","babel-runtime/helpers/possibleConstructorReturn","babel-runtime/helpers/inherits",function(e,t,n){var r;n.import("babel-runtime/helpers/classCallCheck",{default:function(e){r=e}});var o;n.import("babel-runtime/helpers/createClass",{default:function(e){o=e}});var i;n.import("babel-runtime/helpers/possibleConstructorReturn",{default:function(e){i=e}});var a;n.import("babel-runtime/helpers/inherits",{default:function(e){a=e}}),m.LoadMoreComponent=function(e){function t(){return r(this,t),i(this,e.apply(this,arguments))}return a(t,e),t.prototype.loadMore=function(){function e(){this.index.getComponentMethods(this.name).loadMore(this.options.count)}return e}(),t.prototype.content=function(){function e(){return this.options.content}return e}(),t.prototype.attributes=function(){function e(){return this.getData().attributes||{}}return e}(),t.prototype.moreDocuments=function(){function e(){return this.index.getComponentMethods(this.name).hasMoreDocuments()}return e}(),t.prototype.events=function(){function e(){return[{"click button":function(){function e(){this.loadMore()}return e}()}]}return e}(),o(t,[{key:"defaultOptions",get:function(){function e(){return{content:"Load more",count:10}}return e}()}]),t}(j),m.LoadMoreComponent.register("EasySearch.LoadMore")}]},pagination:{"template.pagination.js":function(){l.__checkName("EasySearch.Pagination"),l["EasySearch.Pagination"]=new l("Template.EasySearch.Pagination",function(){var e=this;return I.If(function(){return S.call(e.lookup("moreDocuments"))},function(){return["\n        ",I.If(function(){return S.call(e.lookup("customRenderPagination"))},function(){return["\n            ",I._TemplateWith(function(){return{template:S.call(e.lookup("customRenderPagination"))}},function(){return S.include(function(){return S.call(l.__dynamic)})}),"\n        "]},function(){return["\n            ",_.UL({class:"pagination"},"\n                ",I.Each(function(){return S.call(e.lookup("page"))},function(){return["\n                    ",_.LI({class:function(){return["page ",S.mustache(e.lookup("pageClasses"),e.lookup("."))]}},"\n                        ",I.View("lookup:content",function(){return S.mustache(e.lookup("content"))}),"\n                    "),"\n                "]}),"\n            "),"\n        "]}),"\n    "]})})},"pagination.js":["babel-runtime/helpers/classCallCheck","babel-runtime/helpers/createClass","babel-runtime/helpers/possibleConstructorReturn","babel-runtime/helpers/inherits",function(e,t,n){var o;n.import("babel-runtime/helpers/classCallCheck",{default:function(e){o=e}});var i;n.import("babel-runtime/helpers/createClass",{default:function(e){i=e}});var a;n.import("babel-runtime/helpers/possibleConstructorReturn",{default:function(e){a=e}});var u;n.import("babel-runtime/helpers/inherits",{default:function(e){u=e}}),m.PaginationComponent=function(e){function t(){return o(this,t),a(this,e.apply(this,arguments))}return u(t,e),t.prototype.onCreated=function(){function t(){e.prototype.onCreated.call(this),this.index.getComponentMethods(this.name).paginate(1)}return t}(),t.prototype.page=function(){function e(){var e=this.dict.get("count"),t=this.dict.get("limit"),n=this.dict.get("currentPage"),r=this.options.maxPages,o=this.options.prevAndNext;return t&&e?this.options.transformPages(m._getPagesForPagination({totalCount:e,pageCount:t,currentPage:n,maxPages:r,prevAndNext:o})):[]}return e}(),t.prototype.customRenderPagination=function(){function e(){return this.getData().customRenderPagination}return e}(),t.prototype.paginate=function(){function e(e){r(e,Number),this.index.getComponentMethods(this.name).paginate(e)}return e}(),t.prototype.pageClasses=function(){function e(e){return((e.disabled?"disabled":"")+" "+(e.current?"current":"")).trim()}return e}(),t.prototype.moreDocuments=function(){function e(){return this.index.getComponentMethods(this.name).hasMoreDocuments()}return e}(),t.prototype.events=function(){function e(){return[{"click .page:not(.disabled)":function(){function e(e){var t=this.currentData().page;this.dict.set("currentPage",t),this.paginate(t),e.preventDefault()}return e}()}]}return e}(),i(t,[{key:"defaultOptions",get:function(){function e(){return{prevAndNext:!0,maxPages:null,transformPages:function(){function e(e){return e}return e}()}}return e}()}]),t}(j),m.PaginationComponent.register("EasySearch.Pagination")}]},"main.js":function(e,t,n){n.export({Index:function(){return o},SingleIndexComponent:function(){return i},BaseComponent:function(){return a},FieldInputComponent:function(){return u},EachComponent:function(){return s},IfInputEmptyComponent:function(){return c},IfNoResultsComponent:function(){return l},IfSearchingComponent:function(){return p},InputComponent:function(){return h},LoadMoreComponent:function(){return f},PaginationComponent:function(){return d}});var r=m,o=r.Index,i=r.SingleIndexComponent,a=r.BaseComponent,u=r.FieldInputComponent,s=r.EachComponent,c=r.IfInputEmptyComponent,l=r.IfNoResultsComponent,p=r.IfSearchingComponent,h=r.InputComponent,f=r.LoadMoreComponent,d=r.PaginationComponent}}}}}},{extensions:[".js",".json",".html"]});M("./node_modules/meteor/easysearch:components/lib/base.js"),M("./node_modules/meteor/easysearch:components/lib/single-index.js"),M("./node_modules/meteor/easysearch:components/lib/component-methods.js"),M("./node_modules/meteor/easysearch:components/lib/core.js"),M("./node_modules/meteor/easysearch:components/lib/input/template.input.js"),M("./node_modules/meteor/easysearch:components/lib/input/input.js"),M("./node_modules/meteor/easysearch:components/lib/field-input/template.field-input.js"),M("./node_modules/meteor/easysearch:components/lib/field-input/field-input.js"),M("./node_modules/meteor/easysearch:components/lib/each/template.each.js"),M("./node_modules/meteor/easysearch:components/lib/each/each.js"),M("./node_modules/meteor/easysearch:components/lib/if-input-empty/template.if-input-empty.js"),M("./node_modules/meteor/easysearch:components/lib/if-input-empty/if-input-empty.js"),M("./node_modules/meteor/easysearch:components/lib/if-no-results/template.if-no-results.js"),M("./node_modules/meteor/easysearch:components/lib/if-no-results/if-no-results.js"),M("./node_modules/meteor/easysearch:components/lib/if-searching/template.if-searching.js"),M("./node_modules/meteor/easysearch:components/lib/if-searching/if-searching.js"),M("./node_modules/meteor/easysearch:components/lib/load-more/template.load-more.js"),M("./node_modules/meteor/easysearch:components/lib/load-more/load-more.js"),M("./node_modules/meteor/easysearch:components/lib/pagination/template.pagination.js"),M("./node_modules/meteor/easysearch:components/lib/pagination/pagination.js");var D=M("./node_modules/meteor/easysearch:components/lib/main.js");"undefined"==typeof Package&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package["easysearch:components"]=D,{EasySearch:m})}();

!function(){var n=Package.meteor.Meteor,e=Package.meteor.global,o=Package.meteor.meteorEnv,t=Package["easysearch:components"].EasySearch,r=Package.modules.meteorInstall,c=Package.modules.Buffer,i=Package.modules.process,a=Package["ecmascript-runtime"].Symbol,u=Package["ecmascript-runtime"].Map,m=Package["ecmascript-runtime"].Set,s=Package["babel-runtime"].meteorBabelHelpers,f=Package.promise.Promise,p=r({node_modules:{meteor:{"easy:search":{"main.js":["meteor/easysearch:core","meteor/easysearch:components",function(n,e,o){o.export({Index:function(){return m},Engine:function(){return t},ReactiveEngine:function(){return r},Cursor:function(){return c},MongoDBEngine:function(){return i},MinimongoEngine:function(){return a},MongoTextIndexEngine:function(){return u},SingleIndexComponent:function(){return s},BaseComponent:function(){return f},FieldInputComponent:function(){return p},EachComponent:function(){return g},IfInputEmptyComponent:function(){return C},IfNoResultsComponent:function(){return d},IfSearchingComponent:function(){return l},InputComponent:function(){return I},LoadMoreComponent:function(){return P},PaginationComponent:function(){return E}});var t,r,c,i,a,u;o.import("meteor/easysearch:core",{Engine:function(n){t=n},ReactiveEngine:function(n){r=n},Cursor:function(n){c=n},MongoDBEngine:function(n){i=n},MinimongoEngine:function(n){a=n},MongoTextIndexEngine:function(n){u=n}});var m,s,f,p,g,C,d,l,I,P,E;o.import("meteor/easysearch:components",{Index:function(n){m=n},SingleIndexComponent:function(n){s=n},BaseComponent:function(n){f=n},FieldInputComponent:function(n){p=n},EachComponent:function(n){g=n},IfInputEmptyComponent:function(n){C=n},IfNoResultsComponent:function(n){d=n},IfSearchingComponent:function(n){l=n},InputComponent:function(n){I=n},LoadMoreComponent:function(n){P=n},PaginationComponent:function(n){E=n}})}]}}}},{extensions:[".js",".json"]}),g=p("./node_modules/meteor/easy:search/main.js");"undefined"==typeof Package&&(Package={}),function(n,e){for(var o in e)o in n||(n[o]=e[o])}(Package["easy:search"]=g,{EasySearch:t})}();

!function(){var t=Package.meteor.Meteor,e=Package.meteor.global,i=Package.meteor.meteorEnv,n=Package["templating-runtime"].Template,a=Package.blaze.Blaze,r=Package.blaze.UI,o=Package.blaze.Handlebars,s=Package["aldeed:autoform"].AutoForm,u=Package.underscore._,l=Package.htmljs.HTML,c=Package["aldeed:simple-schema"].SimpleSchema,p=Package["aldeed:simple-schema"].MongoObject,f=Package.spacebars.Spacebars;(function(){n.__checkName("afSelectize"),n.afSelectize=new n("Template.afSelectize",function(){var t=this;return l.SELECT(l.Attrs(function(){return f.attrMustache(t.lookup("atts"))}),"\n    ",a.Unless(function(){return f.call(t.lookup("isReactiveOptions"))},function(){return["\n      ",a.Each(function(){return f.call(f.dot(t.lookup("."),"items"))},function(){return["\n        ",a.If(function(){return f.call(f.dot(t.lookup("."),"optgroup"))},function(){return["\n          ",l.OPTGROUP({label:function(){return f.mustache(f.dot(t.lookup("."),"optgroup"))}},"\n          ",a.Each(function(){return f.call(f.dot(t.lookup("."),"items"))},function(){return["\n          ",l.OPTION(l.Attrs(function(){return f.attrMustache(t.lookup("optionAtts"))}),a.View("lookup:..label",function(){return f.mustache(f.dot(t.lookup("."),"label"))})),"\n          "]}),"\n          "),"\n        "]},function(){return["\n          ",l.OPTION(l.Attrs(function(){return f.attrMustache(t.lookup("optionAtts"))}),a.View("lookup:..label",function(){return f.mustache(f.dot(t.lookup("."),"label"))})),"\n        "]}),"\n      "]}),"\n    "]}),"\n  ")})}).call(this),function(){s.addInputType("selectize",{template:"afSelectize",valueOut:function(){if(this[0].selectize)return this[0].selectize.getValue()},valueConverters:{stringArray:function(t){return u.isArray(t)?u.map(t,function(t){return $.trim(t)}):t},number:s.Utility.stringToNumber,numberArray:function(t){return u.isArray(t)?u.map(t,function(t){return t=$.trim(t),s.Utility.stringToNumber(t)}):t},boolean:s.Utility.stringToBool,booleanArray:function(t){return u.isArray(t)?u.map(t,function(t){return t=$.trim(t),s.Utility.stringToBool(t)}):t},date:s.Utility.stringToDate,dateArray:function(t){return u.isArray(t)?u.map(t,function(t){return t=$.trim(t),s.Utility.stringToDate(t)}):t}},contextAdjust:function(e){e.atts.autocomplete="off";var i=u.omit(e.atts,"firstOption"),n=e.atts.firstOption;e.items=[],n===!1||"string"!=typeof n&&"string"!=typeof t.firstOption||e.items.push({name:e.name,label:"string"==typeof n?n:t.firstOption,value:"",_id:"AUTOFORM_EMPTY_FIRST_OPTION",selected:!1});var a=function t(i){return{name:e.name,label:i.label,value:i.value,_id:i.value,selected:u.isArray(e.value)?u.include(e.value,i.value):i.value===e.value}};return u.each(e.selectOptions,function(t){t.optgroup?e.items.push({optgroup:t.optgroup,items:u.map(t.options,a)}):e.items.push(a(t))}),e}}),n.afSelectize.helpers({optionAtts:function(){var t=this,e={value:t.value};return t.selected&&(e.selected=""),e},atts:function(){var t=u.clone(this.atts);return t=s.Utility.addClass(t,"form-control"),delete t.selectizeOptions,delete t.isReactiveOptions,t},isReactiveOptions:function(){var e;return e=u.has(this.atts,"isReactiveOptions")?this.atts.isReactiveOptions:t.isReactiveOptions}}),n.afSelectize.events({"click .selectized":function(t){$(t.toElement).next().children(":first-child").children("input:first").focus()}}),n.afSelectize.rendered=function(){var i=this.data.atts.selectizeOptions||{};i.sortField||(i.sortField="text"),this.$("select").selectize(i);var a;if(a=u.has(this.data.atts,"isReactiveOptions")?this.data.atts.isReactiveOptions:t.isReactiveOptions){var r=!1,o=this.$("select")[0].selectize;this.autorun(function(){var t=n.currentData().items;r=!r,r&&e(o,t)})}},n.afSelectize.destroyed=function(){this.$("select")[0].selectize.destroy()};var t={firstOption:"Select an option",isReactiveOptions:!1};s.Selectize={},s.Selectize.setDefaults=function(e){u.has(e,"firstOption")&&(t.firstOption=e.firstOption),u.has(e,"isReactiveOptions")&&(t.isReactiveOptions=e.isReactiveOptions)};var e=function(t,e){var i=t.items;t.clearOptions(),u.each(e,function(e){e.optgroup?(t.addOptionGroup(e.optgroup,{label:e.optgroup}),u.each(e.items,function(i){t.addOption({value:i.value,text:i.label,optgroup:e.optgroup}),i.selected&&t.addItem(i.value,!0)})):e.value&&(t.addOption({value:e.value,text:e.label}),e.selected&&t.addItem(e.value,!0))}),u.each(i,function(e){t.addItem(e,!0)})}}.call(this),function(){n.__checkName("afSelectizeInput"),n.afSelectizeInput=new n("Template.afSelectizeInput",function(){var t=this;return l.INPUT(l.Attrs({type:"text",value:function(){return f.mustache(f.dot(t.lookup("."),"value"))}},function(){return f.attrMustache(t.lookup("atts"))}))})}.call(this),function(){s.addInputType("selectize-input",{template:"afSelectizeInput",valueOut:function(){if(this[0].selectize)return this[0].selectize.getValue()},valueConverters:{stringArray:function(t){return u.isArray(t)?u.map(t,function(t){return $.trim(t)}):t},number:s.Utility.stringToNumber,numberArray:function(t){return u.isArray(t)?u.map(t,function(t){return t=$.trim(t),s.Utility.stringToNumber(t)}):t},boolean:s.Utility.stringToBool,booleanArray:function(t){return u.isArray(t)?u.map(t,function(t){return t=$.trim(t),s.Utility.stringToBool(t)}):t},date:s.Utility.stringToDate,dateArray:function(t){return u.isArray(t)?u.map(t,function(t){return t=$.trim(t),s.Utility.stringToDate(t)}):t}}}),n.afSelectizeInput.helpers({atts:function t(){var e=u.clone(this.atts);return e=s.Utility.addClass(e,"form-control"),delete e.selectizeOptions,e}}),n.afSelectizeInput.events({"click .selectized":function(t){$(t.toElement).next().children(":first-child").children("input:first").focus()}}),n.afSelectizeInput.rendered=function(){var t=this.data.atts.selectizeOptions||{};t.sortField||(t.sortField="text"),this.$("input").selectize(t)},n.afSelectizeInput.destroyed=function(){this.$("input")[0].selectize.destroy()}}.call(this),"undefined"==typeof Package&&(Package={}),Package["comerc:autoform-selectize"]={}}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,i=Package.jquery.$,o=Package.jquery.jQuery;(function(){!function(e,t){"function"==typeof define&&define.amd?define("sifter",t):"object"==typeof exports?module.exports=t():e.Sifter=t()}(this,function(){var e=function(e,t){this.items=e,this.settings=t||{diacritics:!0}};e.prototype.tokenize=function(e){if(e=o(String(e||"").toLowerCase()),!e||!e.length)return[];var t,n,i,s,l=[],p=e.split(/ +/);for(t=0,n=p.length;t<n;t++){if(i=r(p[t]),this.settings.diacritics)for(s in a)a.hasOwnProperty(s)&&(i=i.replace(new RegExp(s,"g"),a[s]));l.push({string:p[t],regex:new RegExp(i,"i")})}return l},e.prototype.iterator=function(e,t){var n;n=s(e)?Array.prototype.forEach||function(e){for(var t=0,n=this.length;t<n;t++)e(this[t],t,this)}:function(e){for(var t in this)this.hasOwnProperty(t)&&e(this[t],t,this)},n.apply(e,[t])},e.prototype.getScoreFunction=function(e,t){var n,i,o,r;n=this,e=n.prepareSearch(e,t),o=e.tokens,i=e.options.fields,r=o.length;var s=function(e,t){var n,i;return e?(e=String(e||""),i=e.search(t.regex),i===-1?0:(n=t.string.length/e.length,0===i&&(n+=.5),n)):0},a=function(){var e=i.length;return e?1===e?function(e,t){return s(t[i[0]],e)}:function(t,n){for(var o=0,r=0;o<e;o++)r+=s(n[i[o]],t);return r/e}:function(){return 0}}();return r?1===r?function(e){return a(o[0],e)}:"and"===e.options.conjunction?function(e){for(var t,n=0,i=0;n<r;n++){if(t=a(o[n],e),t<=0)return 0;i+=t}return i/r}:function(e){for(var t=0,n=0;t<r;t++)n+=a(o[t],e);return n/r}:function(){return 0}},e.prototype.getSortFunction=function(e,n){var i,o,r,s,a,l,p,u,c,d,h;if(r=this,e=r.prepareSearch(e,n),h=!e.query&&n.sort_empty||n.sort,c=function(e,t){return"$score"===e?t.score:r.items[t.id][e]},a=[],h)for(i=0,o=h.length;i<o;i++)(e.query||"$score"!==h[i].field)&&a.push(h[i]);if(e.query){for(d=!0,i=0,o=a.length;i<o;i++)if("$score"===a[i].field){d=!1;break}d&&a.unshift({field:"$score",direction:"desc"})}else for(i=0,o=a.length;i<o;i++)if("$score"===a[i].field){a.splice(i,1);break}for(u=[],i=0,o=a.length;i<o;i++)u.push("desc"===a[i].direction?-1:1);return l=a.length,l?1===l?(s=a[0].field,p=u[0],function(e,n){return p*t(c(s,e),c(s,n))}):function(e,n){var i,o,r,s,p;for(i=0;i<l;i++)if(p=a[i].field,o=u[i]*t(c(p,e),c(p,n)))return o;return 0}:null},e.prototype.prepareSearch=function(e,t){if("object"==typeof e)return e;t=n({},t);var i=t.fields,o=t.sort,r=t.sort_empty;return i&&!s(i)&&(t.fields=[i]),o&&!s(o)&&(t.sort=[o]),r&&!s(r)&&(t.sort_empty=[r]),{options:t,query:String(e||"").toLowerCase(),tokens:this.tokenize(e),total:0,items:[]}},e.prototype.search=function(e,t){var n=this,i,o,r,s,a,l;return r=this.prepareSearch(e,t),t=r.options,e=r.query,l=t.score||n.getScoreFunction(r),e.length?n.iterator(n.items,function(e,n){o=l(e),(t.filter===!1||o>0)&&r.items.push({score:o,id:n})}):n.iterator(n.items,function(e,t){r.items.push({score:1,id:t})}),a=n.getSortFunction(r,t),a&&r.items.sort(a),r.total=r.items.length,"number"==typeof t.limit&&(r.items=r.items.slice(0,t.limit)),r};var t=function(e,t){return"number"==typeof e&&"number"==typeof t?e>t?1:e<t?-1:0:(e=l(String(e||"")),t=l(String(t||"")),e>t?1:t>e?-1:0)},n=function(e,t){var n,i,o,r;for(n=1,i=arguments.length;n<i;n++)if(r=arguments[n])for(o in r)r.hasOwnProperty(o)&&(e[o]=r[o]);return e},o=function(e){return(e+"").replace(/^\s+|\s+$|/g,"")},r=function(e){return(e+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},s=Array.isArray||i&&i.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},a={a:"[aÀÁÂÃÄÅàáâãäåĀāąĄ]",c:"[cÇçćĆčČ]",d:"[dđĐďĎ]",e:"[eÈÉÊËèéêëěĚĒēęĘ]",i:"[iÌÍÎÏìíîïĪī]",l:"[lłŁ]",n:"[nÑñňŇńŃ]",o:"[oÒÓÔÕÕÖØòóôõöøŌō]",r:"[rřŘ]",s:"[sŠšśŚ]",t:"[tťŤ]",u:"[uÙÚÛÜùúûüůŮŪū]",y:"[yŸÿýÝ]",z:"[zŽžżŻźŹ]"},l=function(){var e,t,n,i,o="",r={};for(n in a)if(a.hasOwnProperty(n))for(i=a[n].substring(2,a[n].length-1),o+=i,e=0,t=i.length;e<t;e++)r[i.charAt(e)]=n;var s=new RegExp("["+o+"]","g");return function(e){return e.replace(s,function(e){return r[e]}).toLowerCase()}}();return e}),function(e,t){"function"==typeof define&&define.amd?define("microplugin",t):"object"==typeof exports?module.exports=t():e.MicroPlugin=t()}(this,function(){var e={};e.mixin=function(e){e.plugins={},e.prototype.initializePlugins=function(e){var n,i,o,r=this,s=[];if(r.plugins={names:[],settings:{},requested:{},loaded:{}},t.isArray(e))for(n=0,i=e.length;n<i;n++)"string"==typeof e[n]?s.push(e[n]):(r.plugins.settings[e[n].name]=e[n].options,s.push(e[n].name));else if(e)for(o in e)e.hasOwnProperty(o)&&(r.plugins.settings[o]=e[o],s.push(o));for(;s.length;)r.require(s.shift())},e.prototype.loadPlugin=function(t){var n=this,i=n.plugins,o=e.plugins[t];if(!e.plugins.hasOwnProperty(t))throw new Error('Unable to find "'+t+'" plugin');i.requested[t]=!0,i.loaded[t]=o.fn.apply(n,[n.plugins.settings[t]||{}]),i.names.push(t)},e.prototype.require=function(e){var t=this,n=t.plugins;if(!t.plugins.loaded.hasOwnProperty(e)){if(n.requested[e])throw new Error('Plugin has circular dependency ("'+e+'")');t.loadPlugin(e)}return n.loaded[e]},e.define=function(t,n){e.plugins[t]={name:t,fn:n}}};var t={isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}};return e}),function(e,t){"function"==typeof define&&define.amd?define("selectize",["jquery","sifter","microplugin"],t):"object"==typeof exports?module.exports=t(require("jquery"),require("sifter"),require("microplugin")):e.Selectize=t(e.jQuery,e.Sifter,e.MicroPlugin)}(this,function(e,t,n){"use strict";var i=function(e,t){if("string"!=typeof t||t.length){var n="string"==typeof t?new RegExp(t,"i"):t,i=function(e){var t=0;if(3===e.nodeType){var o=e.data.search(n);if(o>=0&&e.data.length>0){var r=e.data.match(n),s=document.createElement("span");s.className="highlight";var a=e.splitText(o),l=a.splitText(r[0].length),p=a.cloneNode(!0);s.appendChild(p),a.parentNode.replaceChild(s,a),t=1}}else if(1===e.nodeType&&e.childNodes&&!/(script|style)/i.test(e.tagName))for(var u=0;u<e.childNodes.length;++u)u+=i(e.childNodes[u]);return t};return e.each(function(){i(this)})}},o=function(){};o.prototype={on:function(e,t){this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(t)},off:function(e,t){var n=arguments.length;return 0===n?delete this._events:1===n?delete this._events[e]:(this._events=this._events||{},void(e in this._events!=!1&&this._events[e].splice(this._events[e].indexOf(t),1)))},trigger:function(e){if(this._events=this._events||{},e in this._events!=!1)for(var t=0;t<this._events[e].length;t++)this._events[e][t].apply(this,Array.prototype.slice.call(arguments,1))}},o.mixin=function(e){for(var t=["on","off","trigger"],n=0;n<t.length;n++)e.prototype[t[n]]=o.prototype[t[n]]};var r=/Mac/.test(navigator.userAgent),s=65,a=188,l=13,p=27,u=37,c=38,d=80,h=39,f=40,g=78,v=8,m=46,y=16,w=r?91:17,O=r?18:17,$=9,C=1,b=2,x=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("form").validity,S=function(e){return"undefined"!=typeof e},I=function(e){return"undefined"==typeof e||null===e?null:"boolean"==typeof e?e?"1":"0":e+""},_=function(e){return(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},F=function(e){return(e+"").replace(/\$/g,"$$$$")},k={};k.before=function(e,t,n){var i=e[t];e[t]=function(){return n.apply(e,arguments),i.apply(e,arguments)}},k.after=function(e,t,n){var i=e[t];e[t]=function(){var t=i.apply(e,arguments);return n.apply(e,arguments),t}};var D=function(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}},P=function(e,t){var n;return function(){var i=this,o=arguments;window.clearTimeout(n),n=window.setTimeout(function(){e.apply(i,o)},t)}},A=function(e,t,n){var i,o=e.trigger,r={};e.trigger=function(){var n=arguments[0];return t.indexOf(n)===-1?o.apply(e,arguments):void(r[n]=arguments)},n.apply(e,[]),e.trigger=o;for(i in r)r.hasOwnProperty(i)&&o.apply(e,r[i])},z=function(e,t,n,i){e.on(t,n,function(t){for(var n=t.target;n&&n.parentNode!==e[0];)n=n.parentNode;return t.currentTarget=n,i.apply(this,[t])})},T=function(e){var t={};if("selectionStart"in e)t.start=e.selectionStart,t.length=e.selectionEnd-t.start;else if(document.selection){e.focus();var n=document.selection.createRange(),i=document.selection.createRange().text.length;n.moveStart("character",-e.value.length),t.start=n.text.length-i,t.length=i}return t},j=function(e,t,n){var i,o,r={};if(n)for(i=0,o=n.length;i<o;i++)r[n[i]]=e.css(n[i]);else r=e.css();t.css(r)},q=function(t,n){if(!t)return 0;var i=e("<test>").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).text(t).appendTo("body");j(n,i,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]);var o=i.width();return i.remove(),o},E=function(e){var t=null,n=function(n,i){var o,r,s,a,l,p,u,c;n=n||window.event||{},i=i||{},n.metaKey||n.altKey||(i.force||e.data("grow")!==!1)&&(o=e.val(),n.type&&"keydown"===n.type.toLowerCase()&&(r=n.keyCode,s=r>=97&&r<=122||r>=65&&r<=90||r>=48&&r<=57||32===r,r===m||r===v?(c=T(e[0]),c.length?o=o.substring(0,c.start)+o.substring(c.start+c.length):r===v&&c.start?o=o.substring(0,c.start-1)+o.substring(c.start+1):r===m&&"undefined"!=typeof c.start&&(o=o.substring(0,c.start)+o.substring(c.start+1))):s&&(p=n.shiftKey,u=String.fromCharCode(n.keyCode),u=p?u.toUpperCase():u.toLowerCase(),o+=u)),a=e.attr("placeholder"),!o&&a&&(o=a),l=q(o,e)+4,l!==t&&(t=l,e.width(l),e.triggerHandler("resize")))};e.on("keydown keyup update blur",n),n()},L=function(n,i){var o,r,s,a,l,p=this;l=n[0],l.selectize=p;var u=window.getComputedStyle&&window.getComputedStyle(l,null);if(a=u?u.getPropertyValue("direction"):l.currentStyle&&l.currentStyle.direction,a=a||n.parents("[dir]:first").attr("dir")||"",e.extend(p,{order:0,settings:i,$input:n,tabIndex:n.attr("tabindex")||"",tagType:"select"===l.tagName.toLowerCase()?C:b,rtl:/rtl/i.test(a),eventNS:".selectize"+ ++L.count,highlightedValue:null,isOpen:!1,isDisabled:!1,isRequired:n.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===i.loadThrottle?p.onSearchChange:P(p.onSearchChange,i.loadThrottle)}),p.sifter=new t(this.options,{diacritics:i.diacritics}),p.settings.options){for(r=0,s=p.settings.options.length;r<s;r++)p.registerOption(p.settings.options[r]);delete p.settings.options}if(p.settings.optgroups){for(r=0,s=p.settings.optgroups.length;r<s;r++)p.registerOptionGroup(p.settings.optgroups[r]);delete p.settings.optgroups}p.settings.mode=p.settings.mode||(1===p.settings.maxItems?"single":"multi"),"boolean"!=typeof p.settings.hideSelected&&(p.settings.hideSelected="multi"===p.settings.mode),p.initializePlugins(p.settings.plugins),p.setupCallbacks(),p.setupTemplates(),p.setup()};return o.mixin(L),n.mixin(L),e.extend(L.prototype,{setup:function(){var t=this,n=t.settings,i=t.eventNS,o=e(window),s=e(document),a=t.$input,l,p,u,c,d,h,f,g,v,m,$;if(f=t.settings.mode,m=a.attr("class")||"",l=e("<div>").addClass(n.wrapperClass).addClass(m).addClass(f),p=e("<div>").addClass(n.inputClass).addClass("items").appendTo(l),u=e('<input type="text" autocomplete="off" />').appendTo(p).attr("tabindex",a.is(":disabled")?"-1":t.tabIndex),h=e(n.dropdownParent||l),c=e("<div>").addClass(n.dropdownClass).addClass(f).hide().appendTo(h),d=e("<div>").addClass(n.dropdownContentClass).appendTo(c),t.settings.copyClassesToDropdown&&c.addClass(m),l.css({width:a[0].style.width}),t.plugins.names.length&&($="plugin-"+t.plugins.names.join(" plugin-"),l.addClass($),c.addClass($)),(null===n.maxItems||n.maxItems>1)&&t.tagType===C&&a.attr("multiple","multiple"),t.settings.placeholder&&u.attr("placeholder",n.placeholder),!t.settings.splitOn&&t.settings.delimiter){var b=t.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");t.settings.splitOn=new RegExp("\\s*"+b+"+\\s*")}a.attr("autocorrect")&&u.attr("autocorrect",a.attr("autocorrect")),a.attr("autocapitalize")&&u.attr("autocapitalize",a.attr("autocapitalize")),t.$wrapper=l,t.$control=p,t.$control_input=u,t.$dropdown=c,t.$dropdown_content=d,c.on("mouseenter","[data-selectable]",function(){return t.onOptionHover.apply(t,arguments)}),c.on("mousedown click","[data-selectable]",function(){return t.onOptionSelect.apply(t,arguments)}),z(p,"mousedown","*:not(input)",function(){return t.onItemSelect.apply(t,arguments)}),E(u),p.on({mousedown:function(){return t.onMouseDown.apply(t,arguments)},click:function(){return t.onClick.apply(t,arguments)}}),u.on({mousedown:function(e){e.stopPropagation()},keydown:function(){return t.onKeyDown.apply(t,arguments)},keyup:function(){return t.onKeyUp.apply(t,arguments)},keypress:function(){return t.onKeyPress.apply(t,arguments)},resize:function(){t.positionDropdown.apply(t,[])},blur:function(){return t.onBlur.apply(t,arguments)},focus:function(){return t.ignoreBlur=!1,t.onFocus.apply(t,arguments)},paste:function(){return t.onPaste.apply(t,arguments)}}),s.on("keydown"+i,function(e){t.isCmdDown=e[r?"metaKey":"ctrlKey"],t.isCtrlDown=e[r?"altKey":"ctrlKey"],t.isShiftDown=e.shiftKey}),s.on("keyup"+i,function(e){e.keyCode===O&&(t.isCtrlDown=!1),e.keyCode===y&&(t.isShiftDown=!1),e.keyCode===w&&(t.isCmdDown=!1)}),s.on("mousedown"+i,function(e){if(t.isFocused){if(e.target===t.$dropdown[0]||e.target.parentNode===t.$dropdown[0])return!1;t.$control.has(e.target).length||e.target===t.$control[0]||t.blur(e.target)}}),o.on(["scroll"+i,"resize"+i].join(" "),function(){t.isOpen&&t.positionDropdown.apply(t,arguments)}),o.on("mousemove"+i,function(){t.ignoreHover=!1}),this.revertSettings={$children:a.children().detach(),tabindex:a.attr("tabindex")},a.attr("tabindex",-1).hide().after(t.$wrapper),e.isArray(n.items)&&(t.setValue(n.items),delete n.items),x&&a.on("invalid"+i,function(e){e.preventDefault(),t.isInvalid=!0,t.refreshState()}),t.updateOriginalInput(),t.refreshItems(),t.refreshState(),t.updatePlaceholder(),t.isSetup=!0,a.is(":disabled")&&t.disable(),t.on("change",this.onChange),a.data("selectize",t),a.addClass("selectized"),t.trigger("initialize"),n.preload===!0&&t.onSearchChange("")},setupTemplates:function(){var t=this,n=t.settings.labelField,i=t.settings.optgroupLabelField,o={optgroup:function(e){return'<div class="optgroup">'+e.html+"</div>"},optgroup_header:function(e,t){return'<div class="optgroup-header">'+t(e[i])+"</div>"},option:function(e,t){return'<div class="option">'+t(e[n])+"</div>"},item:function(e,t){return'<div class="item">'+t(e[n])+"</div>"},option_create:function(e,t){return'<div class="create">Add <strong>'+t(e.input)+"</strong>&hellip;</div>"}};t.settings.render=e.extend({},o,t.settings.render)},setupCallbacks:function(){var e,t,n={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(e in n)n.hasOwnProperty(e)&&(t=this.settings[n[e]],t&&this.on(e,t))},onClick:function(e){var t=this;t.isFocused||(t.focus(),e.preventDefault())},onMouseDown:function(t){var n=this,i=t.isDefaultPrevented(),o=e(t.target);if(n.isFocused){if(t.target!==n.$control_input[0])return"single"===n.settings.mode?n.isOpen?n.close():n.open():i||n.setActiveItem(null),!1}else i||window.setTimeout(function(){n.focus()},0)},onChange:function(){this.$input.trigger("change")},onPaste:function(t){var n=this;n.isFull()||n.isInputHidden||n.isLocked?t.preventDefault():n.settings.splitOn&&setTimeout(function(){for(var t=e.trim(n.$control_input.val()||"").split(n.settings.splitOn),i=0,o=t.length;i<o;i++)n.createItem(t[i])},0)},onKeyPress:function(e){if(this.isLocked)return e&&e.preventDefault();var t=String.fromCharCode(e.keyCode||e.which);return this.settings.create&&"multi"===this.settings.mode&&t===this.settings.delimiter?(this.createItem(),e.preventDefault(),!1):void 0},onKeyDown:function(e){var t=e.target===this.$control_input[0],n=this;if(n.isLocked)return void(e.keyCode!==$&&e.preventDefault());switch(e.keyCode){case s:if(n.isCmdDown)return void n.selectAll();break;case p:return void(n.isOpen&&(e.preventDefault(),e.stopPropagation(),n.close()));case g:if(!e.ctrlKey||e.altKey)break;case f:if(!n.isOpen&&n.hasOptions)n.open();else if(n.$activeOption){n.ignoreHover=!0;var i=n.getAdjacentOption(n.$activeOption,1);i.length&&n.setActiveOption(i,!0,!0)}return void e.preventDefault();case d:if(!e.ctrlKey||e.altKey)break;case c:if(n.$activeOption){n.ignoreHover=!0;var o=n.getAdjacentOption(n.$activeOption,-1);o.length&&n.setActiveOption(o,!0,!0)}return void e.preventDefault();case l:return void(n.isOpen&&n.$activeOption&&(n.onOptionSelect({currentTarget:n.$activeOption}),e.preventDefault()));case u:return void n.advanceSelection(-1,e);case h:return void n.advanceSelection(1,e);case $:return n.settings.selectOnTab&&n.isOpen&&n.$activeOption&&(n.onOptionSelect({currentTarget:n.$activeOption}),n.isFull()||e.preventDefault()),void(n.settings.create&&n.createItem()&&e.preventDefault());case v:case m:return void n.deleteSelection(e)}return!n.isFull()&&!n.isInputHidden||(r?e.metaKey:e.ctrlKey)?void 0:void e.preventDefault()},onKeyUp:function(e){var t=this;if(t.isLocked)return e&&e.preventDefault();var n=t.$control_input.val()||"";t.lastValue!==n&&(t.lastValue=n,t.onSearchChange(n),t.refreshOptions(),t.trigger("type",n))},onSearchChange:function(e){var t=this,n=t.settings.load;n&&(t.loadedSearches.hasOwnProperty(e)||(t.loadedSearches[e]=!0,t.load(function(i){n.apply(t,[e,i])})))},onFocus:function(e){var t=this,n=t.isFocused;return t.isDisabled?(t.blur(),e&&e.preventDefault(),!1):void(t.ignoreFocus||(t.isFocused=!0,"focus"===t.settings.preload&&t.onSearchChange(""),n||t.trigger("focus"),t.$activeItems.length||(t.showInput(),t.setActiveItem(null),t.refreshOptions(!!t.settings.openOnFocus)),t.refreshState()))},onBlur:function(e,t){var n=this;if(n.isFocused&&(n.isFocused=!1,!n.ignoreFocus)){if(!n.ignoreBlur&&document.activeElement===n.$dropdown_content[0])return n.ignoreBlur=!0,void n.onFocus(e);var i=function(){n.close(),n.setTextboxValue(""),n.setActiveItem(null),n.setActiveOption(null),n.setCaret(n.items.length),n.refreshState(),(t||document.body).focus(),n.ignoreFocus=!1,n.trigger("blur")};n.ignoreFocus=!0,n.settings.create&&n.settings.createOnBlur?n.createItem(null,!1,i):i()}},onOptionHover:function(e){this.ignoreHover||this.setActiveOption(e.currentTarget,!1)},onOptionSelect:function(t){var n,i,o,r=this;t.preventDefault&&(t.preventDefault(),t.stopPropagation()),i=e(t.currentTarget),i.hasClass("create")?r.createItem(null,function(){r.settings.closeAfterSelect&&r.close()}):(n=i.attr("data-value"),"undefined"!=typeof n&&(r.lastQuery=null,r.setTextboxValue(""),r.addItem(n),r.settings.closeAfterSelect?r.close():!r.settings.hideSelected&&t.type&&/mouse/.test(t.type)&&r.setActiveOption(r.getOption(n))))},onItemSelect:function(e){var t=this;t.isLocked||"multi"===t.settings.mode&&(e.preventDefault(),t.setActiveItem(e.currentTarget,e))},load:function(e){var t=this,n=t.$wrapper.addClass(t.settings.loadingClass);t.loading++,e.apply(t,[function(e){t.loading=Math.max(t.loading-1,0),e&&e.length&&(t.addOption(e),t.refreshOptions(t.isFocused&&!t.isInputHidden)),t.loading||n.removeClass(t.settings.loadingClass),t.trigger("load",e)}])},setTextboxValue:function(e){var t=this.$control_input,n=t.val()!==e;n&&(t.val(e).triggerHandler("update"),this.lastValue=e)},getValue:function(){return this.tagType===C&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(e,t){var n=t?[]:["change"];A(this,n,function(){this.clear(t),this.addItems(e,t)})},setActiveItem:function(t,n){var i=this,o,r,s,a,l,p,u,c;if("single"!==i.settings.mode){if(t=e(t),!t.length)return e(i.$activeItems).removeClass("active"),i.$activeItems=[],void(i.isFocused&&i.showInput());if(o=n&&n.type.toLowerCase(),"mousedown"===o&&i.isShiftDown&&i.$activeItems.length){for(c=i.$control.children(".active:last"),a=Array.prototype.indexOf.apply(i.$control[0].childNodes,[c[0]]),l=Array.prototype.indexOf.apply(i.$control[0].childNodes,[t[0]]),a>l&&(u=a,a=l,l=u),r=a;r<=l;r++)p=i.$control[0].childNodes[r],i.$activeItems.indexOf(p)===-1&&(e(p).addClass("active"),i.$activeItems.push(p));n.preventDefault()}else"mousedown"===o&&i.isCtrlDown||"keydown"===o&&this.isShiftDown?t.hasClass("active")?(s=i.$activeItems.indexOf(t[0]),i.$activeItems.splice(s,1),t.removeClass("active")):i.$activeItems.push(t.addClass("active")[0]):(e(i.$activeItems).removeClass("active"),i.$activeItems=[t.addClass("active")[0]]);i.hideInput(),this.isFocused||i.focus()}},setActiveOption:function(t,n,i){var o,r,s,a,l,p=this;p.$activeOption&&p.$activeOption.removeClass("active"),p.$activeOption=null,t=e(t),t.length&&(p.$activeOption=t.addClass("active"),!n&&S(n)||(o=p.$dropdown_content.height(),r=p.$activeOption.outerHeight(!0),n=p.$dropdown_content.scrollTop()||0,s=p.$activeOption.offset().top-p.$dropdown_content.offset().top+n,a=s,l=s-o+r,s+r>o+n?p.$dropdown_content.stop().animate({scrollTop:l},i?p.settings.scrollDuration:0):s<n&&p.$dropdown_content.stop().animate({scrollTop:a},i?p.settings.scrollDuration:0)))},selectAll:function(){var e=this;"single"!==e.settings.mode&&(e.$activeItems=Array.prototype.slice.apply(e.$control.children(":not(input)").addClass("active")),e.$activeItems.length&&(e.hideInput(),e.close()),e.focus())},hideInput:function(){var e=this;e.setTextboxValue(""),e.$control_input.css({opacity:0,position:"absolute",left:e.rtl?1e4:-1e4}),e.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var e=this;e.isDisabled||(e.ignoreFocus=!0,e.$control_input[0].focus(),window.setTimeout(function(){e.ignoreFocus=!1,e.onFocus()},0))},blur:function(e){this.$control_input[0].blur(),this.onBlur(null,e)},getScoreFunction:function(e){return this.sifter.getScoreFunction(e,this.getSearchOptions())},getSearchOptions:function(){var e=this.settings,t=e.sortField;return"string"==typeof t&&(t=[{field:t}]),{fields:e.searchField,conjunction:e.searchConjunction,sort:t}},search:function(t){var n,i,o,r,s,a=this,l=a.settings,p=this.getSearchOptions();if(l.score&&(s=a.settings.score.apply(this,[t]),"function"!=typeof s))throw new Error('Selectize "score" setting must be a function that returns a function');if(t!==a.lastQuery?(a.lastQuery=t,r=a.sifter.search(t,e.extend(p,{score:s})),a.currentResults=r):r=e.extend(!0,{},a.currentResults),l.hideSelected)for(n=r.items.length-1;n>=0;n--)a.items.indexOf(I(r.items[n].id))!==-1&&r.items.splice(n,1);return r},refreshOptions:function(t){var n,o,r,s,a,l,p,u,c,d,h,f,g,v,m,y;"undefined"==typeof t&&(t=!0);var w=this,O=e.trim(w.$control_input.val()),$=w.search(O),C=w.$dropdown_content,b=w.$activeOption&&I(w.$activeOption.attr("data-value"));for(s=$.items.length,"number"==typeof w.settings.maxOptions&&(s=Math.min(s,w.settings.maxOptions)),a={},l=[],n=0;n<s;n++)for(p=w.options[$.items[n].id],u=w.render("option",p),c=p[w.settings.optgroupField]||"",d=e.isArray(c)?c:[c],o=0,r=d&&d.length;o<r;o++)c=d[o],w.optgroups.hasOwnProperty(c)||(c=""),a.hasOwnProperty(c)||(a[c]=[],l.push(c)),a[c].push(u);for(this.settings.lockOptgroupOrder&&l.sort(function(e,t){var n=w.optgroups[e].$order||0,i=w.optgroups[t].$order||0;return n-i}),h=[],n=0,s=l.length;n<s;n++)c=l[n],w.optgroups.hasOwnProperty(c)&&a[c].length?(f=w.render("optgroup_header",w.optgroups[c])||"",f+=a[c].join(""),h.push(w.render("optgroup",e.extend({},w.optgroups[c],{html:f})))):h.push(a[c].join(""));if(C.html(h.join("")),w.settings.highlight&&$.query.length&&$.tokens.length)for(n=0,s=$.tokens.length;n<s;n++)i(C,$.tokens[n].regex);if(!w.settings.hideSelected)for(n=0,s=w.items.length;n<s;n++)w.getOption(w.items[n]).addClass("selected");g=w.canCreate(O),g&&(C.prepend(w.render("option_create",{input:O})),y=e(C[0].childNodes[0])),w.hasOptions=$.items.length>0||g,w.hasOptions?($.items.length>0?(m=b&&w.getOption(b),m&&m.length?v=m:"single"===w.settings.mode&&w.items.length&&(v=w.getOption(w.items[0])),v&&v.length||(v=y&&!w.settings.addPrecedence?w.getAdjacentOption(y,1):C.find("[data-selectable]:first"))):v=y,w.setActiveOption(v),t&&!w.isOpen&&w.open()):(w.setActiveOption(null),t&&w.isOpen&&w.close())},addOption:function(t){var n,i,o,r=this;if(e.isArray(t))for(n=0,i=t.length;n<i;n++)r.addOption(t[n]);else(o=r.registerOption(t))&&(r.userOptions[o]=!0,r.lastQuery=null,r.trigger("option_add",o,t))},registerOption:function(e){var t=I(e[this.settings.valueField]);return!(!t||this.options.hasOwnProperty(t))&&(e.$order=e.$order||++this.order,this.options[t]=e,t)},registerOptionGroup:function(e){var t=I(e[this.settings.optgroupValueField]);return!!t&&(e.$order=e.$order||++this.order,this.optgroups[t]=e,t)},addOptionGroup:function(e,t){t[this.settings.optgroupValueField]=e,(e=this.registerOptionGroup(t))&&this.trigger("optgroup_add",e,t)},removeOptionGroup:function(e){this.optgroups.hasOwnProperty(e)&&(delete this.optgroups[e],this.renderCache={},this.trigger("optgroup_remove",e))},clearOptionGroups:function(){this.optgroups={},this.renderCache={},this.trigger("optgroup_clear")},updateOption:function(t,n){var i=this,o,r,s,a,l,p,u;if(t=I(t),s=I(n[i.settings.valueField]),null!==t&&i.options.hasOwnProperty(t)){if("string"!=typeof s)throw new Error("Value must be set in option data");u=i.options[t].$order,s!==t&&(delete i.options[t],a=i.items.indexOf(t),a!==-1&&i.items.splice(a,1,s)),n.$order=n.$order||u,i.options[s]=n,l=i.renderCache.item,p=i.renderCache.option,l&&(delete l[t],delete l[s]),p&&(delete p[t],delete p[s]),i.items.indexOf(s)!==-1&&(o=i.getItem(t),r=e(i.render("item",n)),o.hasClass("active")&&r.addClass("active"),o.replaceWith(r)),i.lastQuery=null,i.isOpen&&i.refreshOptions(!1)}},removeOption:function(e,t){var n=this;e=I(e);var i=n.renderCache.item,o=n.renderCache.option;i&&delete i[e],o&&delete o[e],delete n.userOptions[e],delete n.options[e],n.lastQuery=null,n.trigger("option_remove",e),n.removeItem(e,t)},clearOptions:function(){var e=this;e.loadedSearches={},e.userOptions={},e.renderCache={},e.options=e.sifter.items={},e.lastQuery=null,e.trigger("option_clear"),e.clear()},getOption:function(e){return this.getElementWithValue(e,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(t,n){var i=this.$dropdown.find("[data-selectable]"),o=i.index(t)+n;return o>=0&&o<i.length?i.eq(o):e()},getElementWithValue:function(t,n){if(t=I(t),"undefined"!=typeof t&&null!==t)for(var i=0,o=n.length;i<o;i++)if(n[i].getAttribute("data-value")===t)return e(n[i]);return e()},getItem:function(e){return this.getElementWithValue(e,this.$control.children())},addItems:function(t,n){for(var i=e.isArray(t)?t:[t],o=0,r=i.length;o<r;o++)this.isPending=o<r-1,this.addItem(i[o],n)},addItem:function(t,n){var i=n?[]:["change"];A(this,i,function(){var i,o,r,s=this,a=s.settings.mode,l,p,u,c;return t=I(t),s.items.indexOf(t)!==-1?void("single"===a&&s.close()):void(s.options.hasOwnProperty(t)&&("single"===a&&s.clear(n),"multi"===a&&s.isFull()||(i=e(s.render("item",s.options[t])),c=s.isFull(),s.items.splice(s.caretPos,0,t),s.insertAtCaret(i),(!s.isPending||!c&&s.isFull())&&s.refreshState(),s.isSetup&&(r=s.$dropdown_content.find("[data-selectable]"),s.isPending||(o=s.getOption(t),u=s.getAdjacentOption(o,1).attr("data-value"),s.refreshOptions(s.isFocused&&"single"!==a),u&&s.setActiveOption(s.getOption(u))),!r.length||s.isFull()?s.close():s.positionDropdown(),s.updatePlaceholder(),s.trigger("item_add",t,i),s.updateOriginalInput({silent:n})))))})},removeItem:function(e,t){var n=this,i,o,r;i="object"==typeof e?e:n.getItem(e),e=I(i.attr("data-value")),o=n.items.indexOf(e),o!==-1&&(i.remove(),i.hasClass("active")&&(r=n.$activeItems.indexOf(i[0]),n.$activeItems.splice(r,1)),n.items.splice(o,1),n.lastQuery=null,!n.settings.persist&&n.userOptions.hasOwnProperty(e)&&n.removeOption(e,t),o<n.caretPos&&n.setCaret(n.caretPos-1),n.refreshState(),n.updatePlaceholder(),n.updateOriginalInput({silent:t}),n.positionDropdown(),n.trigger("item_remove",e,i))},createItem:function(t,n){var i=this,o=i.caretPos;t=t||e.trim(i.$control_input.val()||"");var r=arguments[arguments.length-1];if("function"!=typeof r&&(r=function(){}),"boolean"!=typeof n&&(n=!0),!i.canCreate(t))return r(),!1;i.lock();var s="function"==typeof i.settings.create?this.settings.create:function(e){var t={};return t[i.settings.labelField]=e,t[i.settings.valueField]=e,t},a=D(function(e){if(i.unlock(),!e||"object"!=typeof e)return r();var t=I(e[i.settings.valueField]);return"string"!=typeof t?r():(i.setTextboxValue(""),i.addOption(e),i.setCaret(o),i.addItem(t),i.refreshOptions(n&&"single"!==i.settings.mode),void r(e))}),l=s.apply(this,[t,a]);return"undefined"!=typeof l&&a(l),!0},refreshItems:function(){this.lastQuery=null,this.isSetup&&this.addItem(this.items),this.refreshState(),this.updateOriginalInput()},refreshState:function(){var e,t=this;t.isRequired&&(t.items.length&&(t.isInvalid=!1),t.$control_input.prop("required",e)),t.refreshClasses()},refreshClasses:function(){var t=this,n=t.isFull(),i=t.isLocked;t.$wrapper.toggleClass("rtl",t.rtl),t.$control.toggleClass("focus",t.isFocused).toggleClass("disabled",t.isDisabled).toggleClass("required",t.isRequired).toggleClass("invalid",t.isInvalid).toggleClass("locked",i).toggleClass("full",n).toggleClass("not-full",!n).toggleClass("input-active",t.isFocused&&!t.isInputHidden).toggleClass("dropdown-active",t.isOpen).toggleClass("has-options",!e.isEmptyObject(t.options)).toggleClass("has-items",t.items.length>0),t.$control_input.data("grow",!n&&!i)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(e){var t,n,i,o,r=this;if(e=e||{},r.tagType===C){for(i=[],t=0,n=r.items.length;t<n;t++)o=r.options[r.items[t]][r.settings.labelField]||"",i.push('<option value="'+_(r.items[t])+'" selected="selected">'+_(o)+"</option>");i.length||this.$input.attr("multiple")||i.push('<option value="" selected="selected"></option>'),r.$input.html(i.join(""))}else r.$input.val(r.getValue()),r.$input.attr("value",r.$input.val());r.isSetup&&(e.silent||r.trigger("change",r.$input.val()))},updatePlaceholder:function(){if(this.settings.placeholder){var e=this.$control_input;this.items.length?e.removeAttr("placeholder"):e.attr("placeholder",this.settings.placeholder),e.triggerHandler("update",{force:!0})}},open:function(){var e=this;e.isLocked||e.isOpen||"multi"===e.settings.mode&&e.isFull()||(e.focus(),e.isOpen=!0,e.refreshState(),e.$dropdown.css({visibility:"hidden",display:"block"}),e.positionDropdown(),e.$dropdown.css({visibility:"visible"}),e.trigger("dropdown_open",e.$dropdown))},close:function(){var e=this,t=e.isOpen;"single"===e.settings.mode&&e.items.length&&e.hideInput(),e.isOpen=!1,e.$dropdown.hide(),e.setActiveOption(null),e.refreshState(),t&&e.trigger("dropdown_close",e.$dropdown)},positionDropdown:function(){var e=this.$control,t="body"===this.settings.dropdownParent?e.offset():e.position();t.top+=e.outerHeight(!0),this.$dropdown.css({width:e.outerWidth(),top:t.top,left:t.left})},clear:function(e){var t=this;t.items.length&&(t.$control.children(":not(input)").remove(),t.items=[],t.lastQuery=null,t.setCaret(0),t.setActiveItem(null),t.updatePlaceholder(),t.updateOriginalInput({silent:e}),t.refreshState(),t.showInput(),t.trigger("clear"))},insertAtCaret:function(t){var n=Math.min(this.caretPos,this.items.length);0===n?this.$control.prepend(t):e(this.$control[0].childNodes[n]).before(t),this.setCaret(n+1)},deleteSelection:function(t){var n,i,o,r,s,a,l,p,u,c=this;if(o=t&&t.keyCode===v?-1:1,
r=T(c.$control_input[0]),c.$activeOption&&!c.settings.hideSelected&&(l=c.getAdjacentOption(c.$activeOption,-1).attr("data-value")),s=[],c.$activeItems.length){for(u=c.$control.children(".active:"+(o>0?"last":"first")),a=c.$control.children(":not(input)").index(u),o>0&&a++,n=0,i=c.$activeItems.length;n<i;n++)s.push(e(c.$activeItems[n]).attr("data-value"));t&&(t.preventDefault(),t.stopPropagation())}else(c.isFocused||"single"===c.settings.mode)&&c.items.length&&(o<0&&0===r.start&&0===r.length?s.push(c.items[c.caretPos-1]):o>0&&r.start===c.$control_input.val().length&&s.push(c.items[c.caretPos]));if(!s.length||"function"==typeof c.settings.onDelete&&c.settings.onDelete.apply(c,[s])===!1)return!1;for("undefined"!=typeof a&&c.setCaret(a);s.length;)c.removeItem(s.pop());return c.showInput(),c.positionDropdown(),c.refreshOptions(!0),l&&(p=c.getOption(l),p.length&&c.setActiveOption(p)),!0},advanceSelection:function(e,t){var n,i,o,r,s,a,l=this;0!==e&&(l.rtl&&(e*=-1),n=e>0?"last":"first",i=T(l.$control_input[0]),l.isFocused&&!l.isInputHidden?(r=l.$control_input.val().length,s=e<0?0===i.start&&0===i.length:i.start===r,s&&!r&&l.advanceCaret(e,t)):(a=l.$control.children(".active:"+n),a.length&&(o=l.$control.children(":not(input)").index(a),l.setActiveItem(null),l.setCaret(e>0?o+1:o))))},advanceCaret:function(e,t){var n=this,i,o;0!==e&&(i=e>0?"next":"prev",n.isShiftDown?(o=n.$control_input[i](),o.length&&(n.hideInput(),n.setActiveItem(o),t&&t.preventDefault())):n.setCaret(n.caretPos+e))},setCaret:function(t){var n=this;if(t="single"===n.settings.mode?n.items.length:Math.max(0,Math.min(n.items.length,t)),!n.isPending){var i,o,r,s,a;for(s=n.$control.children(":not(input)"),i=0,o=s.length;i<o;i++)a=e(s[i]).detach(),i<t?n.$control_input.before(a):n.$control.append(a)}n.caretPos=t},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){var e=this;e.$input.prop("disabled",!0),e.$control_input.prop("disabled",!0).prop("tabindex",-1),e.isDisabled=!0,e.lock()},enable:function(){var e=this;e.$input.prop("disabled",!1),e.$control_input.prop("disabled",!1).prop("tabindex",e.tabIndex),e.isDisabled=!1,e.unlock()},destroy:function(){var t=this,n=t.eventNS,i=t.revertSettings;t.trigger("destroy"),t.off(),t.$wrapper.remove(),t.$dropdown.remove(),t.$input.html("").append(i.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:i.tabindex}).show(),t.$control_input.removeData("grow"),t.$input.removeData("selectize"),e(window).off(n),e(document).off(n),e(document.body).off(n),delete t.$input[0].selectize},render:function(e,t){var n,i,o,r="",s=!1,a=this,l=/^[\t \r\n]*<([a-z][a-z0-9\-_]*(?:\:[a-z][a-z0-9\-_]*)?)/i;return"option"!==e&&"item"!==e||(n=I(t[a.settings.valueField]),s=!!n),s&&(S(a.renderCache[e])||(a.renderCache[e]={}),a.renderCache[e].hasOwnProperty(n))?a.renderCache[e][n]:(r=a.settings.render[e].apply(this,[t,_]),"option"!==e&&"option_create"!==e||(r=r.replace(l,"<$1 data-selectable")),"optgroup"===e&&(i=t[a.settings.optgroupValueField]||"",r=r.replace(l,'<$1 data-group="'+F(_(i))+'"')),"option"!==e&&"item"!==e||(r=r.replace(l,'<$1 data-value="'+F(_(n||""))+'"')),s&&(a.renderCache[e][n]=r),r)},clearCache:function(e){var t=this;"undefined"==typeof e?t.renderCache={}:delete t.renderCache[e]},canCreate:function(e){var t=this;if(!t.settings.create)return!1;var n=t.settings.createFilter;return e.length&&("function"!=typeof n||n.apply(t,[e]))&&("string"!=typeof n||new RegExp(n).test(e))&&(!(n instanceof RegExp)||n.test(e))}}),L.count=0,L.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,allowEmptyOption:!1,closeAfterSelect:!1,scrollDuration:60,loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}},e.fn.selectize=function(t){var n=e.fn.selectize.defaults,i=e.extend({},n,t),o=i.dataAttr,r=i.labelField,s=i.valueField,a=i.optgroupField,l=i.optgroupLabelField,p=i.optgroupValueField,u=function(t,n){var a,l,p,u,c=t.attr(o);if(c)for(n.options=JSON.parse(c),a=0,l=n.options.length;a<l;a++)n.items.push(n.options[a][s]);else{var d=e.trim(t.val()||"");if(!i.allowEmptyOption&&!d.length)return;for(p=d.split(i.delimiter),a=0,l=p.length;a<l;a++)u={},u[r]=p[a],u[s]=p[a],n.options.push(u);n.items=p}},c=function(t,n){var u,c,d,h,f=0,g=n.options,v={},m=function(e){var t=o&&e.attr(o);return"string"==typeof t&&t.length?JSON.parse(t):null},y=function(t,o){t=e(t);var l=I(t.attr("value"));if(l||i.allowEmptyOption)if(v.hasOwnProperty(l)){if(o){var p=v[l][a];p?e.isArray(p)?p.push(o):v[l][a]=[p,o]:v[l][a]=o}}else{var u=m(t)||{};u[r]=u[r]||t.text(),u[s]=u[s]||l,u[a]=u[a]||o,v[l]=u,g.push(u),t.is(":selected")&&n.items.push(l)}},w=function(t){var i,o,r,s,a;for(t=e(t),r=t.attr("label"),r&&(s=m(t)||{},s[l]=r,s[p]=r,n.optgroups.push(s)),a=e("option",t),i=0,o=a.length;i<o;i++)y(a[i],r)};for(n.maxItems=t.attr("multiple")?null:1,h=t.children(),u=0,c=h.length;u<c;u++)d=h[u].tagName.toLowerCase(),"optgroup"===d?w(h[u]):"option"===d&&y(h[u])};return this.each(function(){if(!this.selectize){var o,r=e(this),s=this.tagName.toLowerCase(),a=r.attr("placeholder")||r.attr("data-placeholder");a||i.allowEmptyOption||(a=r.children('option[value=""]').text());var l={placeholder:a,options:[],optgroups:[],items:[]};"select"===s?c(r,l):u(r,l),o=new L(r,e.extend(!0,{},n,l,t))}})},e.fn.selectize.defaults=L.defaults,e.fn.selectize.support={validity:x},L.define("drag_drop",function(t){if(!e.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');if("multi"===this.settings.mode){var n=this;n.lock=function(){var e=n.lock;return function(){var t=n.$control.data("sortable");return t&&t.disable(),e.apply(n,arguments)}}(),n.unlock=function(){var e=n.unlock;return function(){var t=n.$control.data("sortable");return t&&t.enable(),e.apply(n,arguments)}}(),n.setup=function(){var t=n.setup;return function(){t.apply(this,arguments);var i=n.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:n.isLocked,start:function(e,t){t.placeholder.css("width",t.helper.css("width")),i.css({overflow:"visible"})},stop:function(){i.css({overflow:"hidden"});var t=n.$activeItems?n.$activeItems.slice():null,o=[];i.children("[data-value]").each(function(){o.push(e(this).attr("data-value"))}),n.setValue(o),n.setActiveItem(t)}})}}()}}),L.define("dropdown_header",function(t){var n=this;t=e.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",html:function(e){return'<div class="'+e.headerClass+'"><div class="'+e.titleRowClass+'"><span class="'+e.labelClass+'">'+e.title+'</span><a href="javascript:void(0)" class="'+e.closeClass+'">&times;</a></div></div>'}},t),n.setup=function(){var i=n.setup;return function(){i.apply(n,arguments),n.$dropdown_header=e(t.html(t)),n.$dropdown.prepend(n.$dropdown_header)}}()}),L.define("optgroup_columns",function(t){var n=this;t=e.extend({equalizeWidth:!0,equalizeHeight:!0},t),this.getAdjacentOption=function(t,n){var i=t.closest("[data-group]").find("[data-selectable]"),o=i.index(t)+n;return o>=0&&o<i.length?i.eq(o):e()},this.onKeyDown=function(){var e=n.onKeyDown;return function(t){var i,o,r,s;return!this.isOpen||t.keyCode!==u&&t.keyCode!==h?e.apply(this,arguments):(n.ignoreHover=!0,s=this.$activeOption.closest("[data-group]"),i=s.find("[data-selectable]").index(this.$activeOption),s=t.keyCode===u?s.prev("[data-group]"):s.next("[data-group]"),r=s.find("[data-selectable]"),o=r.eq(Math.min(r.length-1,i)),void(o.length&&this.setActiveOption(o)))}}();var i=function(){var e,t=i.width,n=document;return"undefined"==typeof t&&(e=n.createElement("div"),e.innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',e=e.firstChild,n.body.appendChild(e),t=i.width=e.offsetWidth-e.clientWidth,n.body.removeChild(e)),t},o=function(){var o,r,s,a,l,p,u;if(u=e("[data-group]",n.$dropdown_content),r=u.length,r&&n.$dropdown_content.width()){if(t.equalizeHeight){for(s=0,o=0;o<r;o++)s=Math.max(s,u.eq(o).height());u.css({height:s})}t.equalizeWidth&&(p=n.$dropdown_content.innerWidth()-i(),a=Math.round(p/r),u.css({width:a}),r>1&&(l=p-a*(r-1),u.eq(r-1).css({width:l})))}};(t.equalizeHeight||t.equalizeWidth)&&(k.after(this,"positionDropdown",o),k.after(this,"refreshOptions",o))}),L.define("remove_button",function(t){if("single"!==this.settings.mode){t=e.extend({label:"&times;",title:"Remove",className:"remove",append:!0},t);var n=this,i='<a href="javascript:void(0)" class="'+t.className+'" tabindex="-1" title="'+_(t.title)+'">'+t.label+"</a>",o=function(e,t){var n=e.search(/(<\/[^>]+>\s*)$/);return e.substring(0,n)+t+e.substring(n)};this.setup=function(){var r=n.setup;return function(){if(t.append){var s=n.settings.render.item;n.settings.render.item=function(e){return o(s.apply(this,arguments),i)}}r.apply(this,arguments),this.$control.on("click","."+t.className,function(t){if(t.preventDefault(),!n.isLocked){var i=e(t.currentTarget).parent();n.setActiveItem(i),n.deleteSelection()&&n.setCaret(n.items.length)}})}}()}}),L.define("restore_on_backspace",function(e){var t=this;e.text=e.text||function(e){return e[this.settings.labelField]},this.onKeyDown=function(){var n=t.onKeyDown;return function(t){var i,o;return t.keyCode===v&&""===this.$control_input.val()&&!this.$activeItems.length&&(i=this.caretPos-1,i>=0&&i<this.items.length)?(o=this.options[this.items[i]],this.deleteSelection(t)&&(this.setTextboxValue(e.text.apply(this,[o])),this.refreshOptions(!0)),void t.preventDefault()):n.apply(this,arguments)}}()}),L})}).call(this),"undefined"==typeof Package&&(Package={}),Package["jeremy:selectize"]={}}();

!function(){var e=Package.meteor.Meteor,n=Package.meteor.global,t=Package.meteor.meteorEnv,i=Package.underscore._,r=Package["ddp-client"].DDP,o=Package.tracker.Tracker,s=Package.tracker.Deps,c;(function(){(function(){function n(e,n){var t=e.slice();return null!==n.removed&&n.removed.forEach(function(e){t[e._index-1]=void 0}),null!==n.moved&&n.moved.forEach(function(e){t[e.old_index-1]=void 0}),null!==n.copied&&n.copied.forEach(function(n){var r=i.clone(e[n.orig_index-1]);r._index=n.new_index,t[n.new_index-1]=r}),null!==n.moved&&n.moved.forEach(function(n){var i=e[n.old_index-1];i._index=n.new_index,t[n.new_index-1]=i}),null!==n.added&&n.added.forEach(function(e){t[e._index-1]=e}),t.filter(function(e){return void 0!==e})}var t,s=[];c=function(a,f){var d=this,p;if(!(d instanceof c))throw new Error('use "new" to construct a PgSubscription');d._events=[],"string"==typeof a?(p=Array.prototype.slice.call(arguments,0),f=a,e.isClient?a=e.connection:e.isServer&&(t||(t=r.connect(e.absoluteUrl())),a=t)):p=Array.prototype.slice.call(arguments,1),o.Dependency.call(d);var l=i.keys(a._subscriptions);i.extend(d,a.subscribe.apply(a,p));var u=i.difference(i.keys(a._subscriptions),l);if(1!==u.length)throw new Error("Subscription failed!");d.subscriptionId=u[0],s.push({connection:a,name:f,subscriptionId:d.subscriptionId,instance:d,resetOnDiff:!1}),1===i.filter(s,function(e){return e.name===f&&e.connection===a}).length&&a.registerStore(f,{update:function(e){var t=i.filter(s,function(n){return n.subscriptionId===e.id});if(0!==t.length){var r=t[0],o=r.instance;if("added"===e.msg&&e.fields&&e.fields.reset===!0)r.resetOnDiff===!1&&(o.dispatchEvent("reset",e),o.splice(0,o.length));else if("added"===e.msg&&e.fields&&"diff"in e.fields){r.resetOnDiff===!0&&(o.splice(0,o.length),r.resetOnDiff=!1),o.dispatchEvent("update",e.fields.diff,o);var c=n(o,e.fields.diff);c.unshift(o.length),c.unshift(0),o.splice.apply(o,c),o.dispatchEvent("updated",e.fields.diff,o)}o.changed()}}})},c.prototype=new Array,i.extend(c.prototype,o.Dependency.prototype),c.prototype.change=function(){var e=this,n=i.filter(s,function(n){return n.subscriptionId===e.subscriptionId})[0];e.stop();var t=n.connection,r=Array.prototype.slice.call(arguments);r.unshift(n.name);var o=i.keys(t._subscriptions);i.extend(e,t.subscribe.apply(t,r));var c=i.difference(i.keys(t._subscriptions),o);if(1!==c.length)throw new Error("Subscription failed!");e.subscriptionId=n.subscriptionId=c[0],n.resetOnDiff=!0},c.prototype._eventRoot=function(e){return e.split(".")[0]},c.prototype._selectEvents=function(e,n){var t=this,r,o,s;return e instanceof RegExp||(r=t._eventRoot(e),e===r?(o="root",s=r):(o="name",s=e)),i.filter(t._events,function(t){var i;return i=e instanceof RegExp?t.name.match(e):t[o]===s,n?!i:i})},c.prototype.addEventListener=function(e,n){var t=this;if("function"!=typeof n)throw new Error("invalid-listener");t._events.push({name:e,root:t._eventRoot(e),listener:n})},c.prototype.removeEventListener=function(e){var n=this;n._events=n._selectEvents(e,!0)},c.prototype.dispatchEvent=function(e){for(var n=this,t=Array.prototype.slice.call(arguments,1),i=n._selectEvents(e),r=i.length-1;r>=0;r--)if(i[r].listener.apply(n,t)===!1)return!1;return!0},c.prototype.reactive=function(){var e=this;return e.depend(),e}}).call(this)}).call(this),"undefined"==typeof Package&&(Package={}),function(e,n){for(var t in n)t in e||(e[t]=n[t])}(Package["numtel:pg"]={},{PgSubscription:c})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package["templating-runtime"].Template,s=Package.blaze.Blaze,i=Package.blaze.UI,l=Package.blaze.Handlebars,o=Package.spacebars.Spacebars,a=Package.htmljs.HTML,h;(function(){(function(){(function(){function e(e){this.tokens=[],this.tokens.links={},this.options=e||h.defaults,this.rules=p.normal,this.options.gfm&&(this.options.tables?this.rules=p.tables:this.rules=p.gfm)}function t(e,t){if(this.options=t||h.defaults,this.links=e,this.rules=u.normal,this.renderer=this.options.renderer||new n,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.options.breaks?this.rules=u.breaks:this.rules=u.gfm:this.options.pedantic&&(this.rules=u.pedantic)}function n(e){this.options=e||{}}function r(e){this.tokens=[],this.token=null,this.options=e||h.defaults,this.options.renderer=this.options.renderer||new n,this.renderer=this.options.renderer,this.renderer.options=this.options}function s(e,t){return e.replace(t?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function i(e){return e.replace(/&([#\w]+);/g,function(e,t){return t=t.toLowerCase(),"colon"===t?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""})}function l(e,t){return e=e.source,t=t||"",function n(r,s){return r?(s=s.source||s,s=s.replace(/(^|[^\[])\^/g,"$1"),e=e.replace(r,s),n):new RegExp(e,t)}}function o(){}function a(e){for(var t=1,n,r;t<arguments.length;t++){n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}function h(t,n,i){if(i||"function"==typeof n){i||(i=n,n=null),n=a({},h.defaults,n||{});var l=n.highlight,o,p,u=0;try{o=e.lex(t,n)}catch(e){return i(e)}p=o.length;var c=function(e){if(e)return n.highlight=l,i(e);var t;try{t=r.parse(o,n)}catch(t){e=t}return n.highlight=l,e?i(e):i(null,t)};if(!l||l.length<3)return c();if(delete n.highlight,!p)return c();for(;u<o.length;u++)!function(e){return"code"!==e.type?--p||c():l(e.text,e.lang,function(t,n){return t?c(t):null==n||n===e.text?--p||c():(e.text=n,e.escaped=!0,void(--p||c()))})}(o[u])}else try{return n&&(n=a({},h.defaults,n)),r.parse(e.lex(t,n),n)}catch(e){if(e.message+="\nPlease report this to https://github.com/chjj/marked.",(n||h.defaults).silent)return"<p>An error occured:</p><pre>"+s(e.message+"",!0)+"</pre>";throw e}}var p={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:o,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:o,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:o,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};p.bullet=/(?:[*+-]|\d+\.)/,p.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,p.item=l(p.item,"gm")(/bull/g,p.bullet)(),p.list=l(p.list)(/bull/g,p.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+p.def.source+")")(),p.blockquote=l(p.blockquote)("def",p.def)(),p._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",p.html=l(p.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,p._tag)(),p.paragraph=l(p.paragraph)("hr",p.hr)("heading",p.heading)("lheading",p.lheading)("blockquote",p.blockquote)("tag","<"+p._tag)("def",p.def)(),p.normal=a({},p),p.gfm=a({},p.normal,{fences:/^ *(`{3,}|~{3,}) *(\S+)? *\n([\s\S]+?)\s*\1 *(?:\n+|$)/,paragraph:/^/}),p.gfm.paragraph=l(p.paragraph)("(?!","(?!"+p.gfm.fences.source.replace("\\1","\\2")+"|"+p.list.source.replace("\\1","\\3")+"|")(),p.tables=a({},p.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),e.rules=p,e.lex=function(t,n){var r=new e(n);return r.lex(t)},e.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},e.prototype.token=function(e,t,n){for(var e=e.replace(/^ +$/gm,""),r,s,i,l,o,a,h,u,c;e;)if((i=this.rules.newline.exec(e))&&(e=e.substring(i[0].length),i[0].length>1&&this.tokens.push({type:"space"})),i=this.rules.code.exec(e))e=e.substring(i[0].length),i=i[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?i:i.replace(/\n+$/,"")});else if(i=this.rules.fences.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"code",lang:i[2],text:i[3]});else if(i=this.rules.heading.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"heading",depth:i[1].length,text:i[2]});else if(t&&(i=this.rules.nptable.exec(e))){for(e=e.substring(i[0].length),a={type:"table",header:i[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:i[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:i[3].replace(/\n$/,"").split("\n")},u=0;u<a.align.length;u++)/^ *-+: *$/.test(a.align[u])?a.align[u]="right":/^ *:-+: *$/.test(a.align[u])?a.align[u]="center":/^ *:-+ *$/.test(a.align[u])?a.align[u]="left":a.align[u]=null;for(u=0;u<a.cells.length;u++)a.cells[u]=a.cells[u].split(/ *\| */);this.tokens.push(a)}else if(i=this.rules.lheading.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"heading",depth:"="===i[2]?1:2,text:i[1]});else if(i=this.rules.hr.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"hr"});else if(i=this.rules.blockquote.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"blockquote_start"}),i=i[0].replace(/^ *> ?/gm,""),this.token(i,t,!0),this.tokens.push({type:"blockquote_end"});else if(i=this.rules.list.exec(e)){for(e=e.substring(i[0].length),l=i[2],this.tokens.push({type:"list_start",ordered:l.length>1}),i=i[0].match(this.rules.item),r=!1,c=i.length,u=0;u<c;u++)a=i[u],h=a.length,a=a.replace(/^ *([*+-]|\d+\.) +/,""),~a.indexOf("\n ")&&(h-=a.length,a=this.options.pedantic?a.replace(/^ {1,4}/gm,""):a.replace(new RegExp("^ {1,"+h+"}","gm"),"")),this.options.smartLists&&u!==c-1&&(o=p.bullet.exec(i[u+1])[0],l===o||l.length>1&&o.length>1||(e=i.slice(u+1).join("\n")+e,u=c-1)),s=r||/\n\n(?!\s*$)/.test(a),u!==c-1&&(r="\n"===a.charAt(a.length-1),s||(s=r)),this.tokens.push({type:s?"loose_item_start":"list_item_start"}),this.token(a,!1,n),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(i=this.rules.html.exec(e))e=e.substring(i[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:"pre"===i[1]||"script"===i[1]||"style"===i[1],text:i[0]});else if(!n&&t&&(i=this.rules.def.exec(e)))e=e.substring(i[0].length),this.tokens.links[i[1].toLowerCase()]={href:i[2],title:i[3]};else if(t&&(i=this.rules.table.exec(e))){for(e=e.substring(i[0].length),a={type:"table",header:i[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:i[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:i[3].replace(/(?: *\| *)?\n$/,"").split("\n")},u=0;u<a.align.length;u++)/^ *-+: *$/.test(a.align[u])?a.align[u]="right":/^ *:-+: *$/.test(a.align[u])?a.align[u]="center":/^ *:-+ *$/.test(a.align[u])?a.align[u]="left":a.align[u]=null;for(u=0;u<a.cells.length;u++)a.cells[u]=a.cells[u].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(a)}else if(t&&(i=this.rules.paragraph.exec(e)))e=e.substring(i[0].length),this.tokens.push({type:"paragraph",text:"\n"===i[1].charAt(i[1].length-1)?i[1].slice(0,-1):i[1]});else if(i=this.rules.text.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"text",text:i[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var u={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:o,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:__|[\s\S])+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:o,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};u._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,u._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,u.link=l(u.link)("inside",u._inside)("href",u._href)(),u.reflink=l(u.reflink)("inside",u._inside)(),u.normal=a({},u),u.pedantic=a({},u.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),u.gfm=a({},u.normal,{escape:l(u.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:l(u.text)("]|","~]|")("|","|https?://|")()}),u.breaks=a({},u.gfm,{br:l(u.br)("{2,}","*")(),text:l(u.gfm.text)("{2,}","*")()}),t.rules=u,t.output=function(e,n,r){var s=new t(n,r);return s.output(e)},t.prototype.output=function(e){for(var t="",n,r,i,l;e;)if(l=this.rules.escape.exec(e))e=e.substring(l[0].length),t+=l[1];else if(l=this.rules.autolink.exec(e))e=e.substring(l[0].length),"@"===l[2]?(r=":"===l[1].charAt(6)?this.mangle(l[1].substring(7)):this.mangle(l[1]),i=this.mangle("mailto:")+r):(r=s(l[1]),i=r),t+=this.renderer.link(i,null,r);else if(this.inLink||!(l=this.rules.url.exec(e))){if(l=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(l[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(l[0])&&(this.inLink=!1),e=e.substring(l[0].length),t+=this.options.sanitize?s(l[0]):l[0];else if(l=this.rules.link.exec(e))e=e.substring(l[0].length),this.inLink=!0,t+=this.outputLink(l,{href:l[2],title:l[3]}),this.inLink=!1;else if((l=this.rules.reflink.exec(e))||(l=this.rules.nolink.exec(e))){if(e=e.substring(l[0].length),n=(l[2]||l[1]).replace(/\s+/g," "),n=this.links[n.toLowerCase()],!n||!n.href){t+=l[0].charAt(0),e=l[0].substring(1)+e;continue}this.inLink=!0,t+=this.outputLink(l,n),this.inLink=!1}else if(l=this.rules.strong.exec(e))e=e.substring(l[0].length),t+=this.renderer.strong(this.output(l[2]||l[1]));else if(l=this.rules.em.exec(e))e=e.substring(l[0].length),t+=this.renderer.em(this.output(l[2]||l[1]));else if(l=this.rules.code.exec(e))e=e.substring(l[0].length),t+=this.renderer.codespan(s(l[2],!0));else if(l=this.rules.br.exec(e))e=e.substring(l[0].length),t+=this.renderer.br();else if(l=this.rules.del.exec(e))e=e.substring(l[0].length),t+=this.renderer.del(this.output(l[1]));else if(l=this.rules.text.exec(e))e=e.substring(l[0].length),t+=s(this.smartypants(l[0]));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else e=e.substring(l[0].length),r=s(l[1]),i=r,t+=this.renderer.link(i,null,r);return t},t.prototype.outputLink=function(e,t){var n=s(t.href),r=t.title?s(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(n,r,this.output(e[1])):this.renderer.image(n,r,s(e[1]))},t.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/--/g,"—").replace(/(^|[-\u2014\/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014\/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):e},t.prototype.mangle=function(e){for(var t="",n=e.length,r=0,s;r<n;r++)s=e.charCodeAt(r),Math.random()>.5&&(s="x"+s.toString(16)),t+="&#"+s+";";return t},n.prototype.code=function(e,t,n){if(this.options.highlight){var r=this.options.highlight(e,t);null!=r&&r!==e&&(n=!0,e=r)}return t?'<pre><code class="'+this.options.langPrefix+s(t,!0)+'">'+(n?e:s(e,!0))+"\n</code></pre>\n":"<pre><code>"+(n?e:s(e,!0))+"\n</code></pre>"},n.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},n.prototype.html=function(e){return e},n.prototype.heading=function(e,t,n){return"<h"+t+' id="'+this.options.headerPrefix+n.toLowerCase().replace(/[^\w]+/g,"-")+'">'+e+"</h"+t+">\n"},n.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},n.prototype.list=function(e,t){var n=t?"ol":"ul";return"<"+n+">\n"+e+"</"+n+">\n"},n.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},n.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},n.prototype.table=function(e,t){return"<table>\n<thead>\n"+e+"</thead>\n<tbody>\n"+t+"</tbody>\n</table>\n"},n.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},n.prototype.tablecell=function(e,t){var n=t.header?"th":"td",r=t.align?"<"+n+' style="text-align:'+t.align+'">':"<"+n+">";return r+e+"</"+n+">\n"},n.prototype.strong=function(e){return"<strong>"+e+"</strong>"},n.prototype.em=function(e){return"<em>"+e+"</em>"},n.prototype.codespan=function(e){return"<code>"+e+"</code>"},n.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},n.prototype.del=function(e){return"<del>"+e+"</del>"},n.prototype.link=function(e,t,n){if(this.options.sanitize){try{var r=decodeURIComponent(i(e)).replace(/[^\w:]/g,"").toLowerCase()}catch(e){return""}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:"))return""}var s='<a href="'+e+'"';return t&&(s+=' title="'+t+'"'),s+=">"+n+"</a>"},n.prototype.image=function(e,t,n){var r='<img src="'+e+'" alt="'+n+'"';return t&&(r+=' title="'+t+'"'),r+=this.options.xhtml?"/>":">"},r.parse=function(e,t,n){var s=new r(t,n);return s.parse(e)},r.prototype.parse=function(e){this.inline=new t(e.links,this.options,this.renderer),this.tokens=e.reverse();for(var n="";this.next();)n+=this.tok();return n},r.prototype.next=function(){return this.token=this.tokens.pop()},r.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},r.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},r.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e="",t="",n,r,s,i,l;for(s="",n=0;n<this.token.header.length;n++)i={header:!0,align:this.token.align[n]},s+=this.renderer.tablecell(this.inline.output(this.token.header[n]),{header:!0,align:this.token.align[n]});for(e+=this.renderer.tablerow(s),n=0;n<this.token.cells.length;n++){for(r=this.token.cells[n],s="",l=0;l<r.length;l++)s+=this.renderer.tablecell(this.inline.output(r[l]),{header:!1,align:this.token.align[l]});t+=this.renderer.tablerow(s)}return this.renderer.table(e,t);case"blockquote_start":for(var t="";"blockquote_end"!==this.next().type;)t+=this.tok();return this.renderer.blockquote(t);case"list_start":for(var t="",o=this.token.ordered;"list_end"!==this.next().type;)t+=this.tok();return this.renderer.list(t,o);case"list_item_start":for(var t="";"list_item_end"!==this.next().type;)t+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(t);case"loose_item_start":for(var t="";"list_item_end"!==this.next().type;)t+=this.tok();return this.renderer.listitem(t);case"html":var a=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(a);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},o.exec=o,h.options=h.setOptions=function(e){return a(h.defaults,e),h},h.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new n,xhtml:!1},h.Parser=r,h.parser=r.parse,h.Renderer=n,h.Lexer=e,h.lexer=e.lex,h.InlineLexer=t,h.inlineLexer=t.output,h.parse=h,"undefined"!=typeof module&&"object"==typeof exports?module.exports=h:"function"==typeof define&&define.amd?define(function(){return h}):this.marked=h}).call(function(){return this||("undefined"!=typeof window?window:t)}())}).call(this),function(){var e=marked;e.setOptions({gfm:!0,tables:!0,breaks:!0}),h=e}.call(this),function(){if(Package.ui){var e=Package.templating.Template,t=Package.ui.UI,n=Package.htmljs.HTML,r=Package.blaze.Blaze;t.registerHelper("markdown",new e("markdown",function(){var e=this,t="";return e.templateContentBlock&&(t=r._toText(e.templateContentBlock,n.TEXTMODE.STRING)),n.Raw(h(t))}))}}.call(this)}).call(this),"undefined"==typeof Package&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package["perak:markdown"]={},{Markdown:h})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,a=Package.meteor.meteorEnv,n=Package["templating-runtime"].Template,r=Package["reactive-var"].ReactiveVar,s=Package["perak:markdown"].Markdown,c=Package["aldeed:autoform"].AutoForm,o=Package["aldeed:simple-schema"].SimpleSchema,l=Package["aldeed:simple-schema"].MongoObject,i=Package.blaze.Blaze,u=Package.blaze.UI,d=Package.blaze.Handlebars,f=Package.spacebars.Spacebars,k=Package.htmljs.HTML;(function(){n.__checkName("afMarkdown"),n.afMarkdown=new n("Template.afMarkdown",function(){var e=this;return k.DIV({class:"flexcontainer"},"\n    ",k.SECTION({class:"markdownContent"},"\n      ",k.TEXTAREA(k.Attrs({class:"form-control markdownInput"},function(){return f.attrMustache(e.lookup("atts"))},{value:function(){return f.mustache(e.lookup("value"))}})),"\n    "),"\n    ",k.SECTION({class:"markdownPreview"},"\n      ",k.SPAN({class:"form-control preview"},"\n          ",i.View("lookup:markdownText",function(){return f.makeRaw(f.mustache(e.lookup("markdownText")))}),"\n      "),"\n    "),"\n  ")})}).call(this),function(){!function(e,t,a){var n=function(e){var n={text:"",start:0,end:0};if(!e.value)return n;try{if(t.getSelection)n.start=e.selectionStart,n.end=e.selectionEnd,n.text=e.value.slice(n.start,n.end);else if(a.selection){e.focus();var r=a.selection.createRange(),s=a.body.createTextRange();n.text=r.text;try{s.moveToElementText(e),s.setEndPoint("StartToStart",r)}catch(t){s=e.createTextRange(),s.setEndPoint("StartToStart",r)}n.start=e.value.length-s.text.length,n.end=n.start+r.text.length}}catch(e){}return n},r={getPos:function(e){var t=n(e);return{start:t.start,end:t.end}},setPos:function(e,a,n){n=this._caretMode(n),"start"===n?a.end=a.start:"end"===n&&(a.start=a.end),e.focus();try{if(e.createTextRange){var r=e.createTextRange();t.navigator.userAgent.toLowerCase().indexOf("msie")>=0&&(a.start=e.value.substr(0,a.start).replace(/\r/g,"").length,a.end=e.value.substr(0,a.end).replace(/\r/g,"").length),r.collapse(!0),r.moveStart("character",a.start),r.moveEnd("character",a.end-a.start),r.select()}else e.setSelectionRange&&e.setSelectionRange(a.start,a.end)}catch(e){}},getText:function(e){return n(e).text},_caretMode:function(e){switch(e=e||"keep",e===!1&&(e="end"),e){case"keep":case"start":case"end":break;default:e="keep"}return e},replace:function(t,a,r){var s=n(t),c=t.value,o=e(t).scrollTop(),l={start:s.start,end:s.start+a.length};t.value=c.substr(0,s.start)+a+c.substr(s.end),e(t).scrollTop(o),this.setPos(t,l,r)},insertBefore:function(t,a,r){var s=n(t),c=t.value,o=e(t).scrollTop(),l={start:s.start+a.length,end:s.end+a.length};t.value=c.substr(0,s.start)+a+c.substr(s.start),e(t).scrollTop(o),this.setPos(t,l,r)},insertAfter:function(t,a,r){var s=n(t),c=t.value,o=e(t).scrollTop(),l={start:s.start,end:s.end};t.value=c.substr(0,s.end)+a+c.substr(s.end),e(t).scrollTop(o),this.setPos(t,l,r)}};e.extend({selection:function(n){var r="text"===(n||"text").toLowerCase();try{if(t.getSelection){if(r)return t.getSelection().toString();var s=t.getSelection(),c;return s.getRangeAt?c=s.getRangeAt(0):(c=a.createRange(),c.setStart(s.anchorNode,s.anchorOffset),c.setEnd(s.focusNode,s.focusOffset)),e("<div></div>").append(c.cloneContents()).html()}if(a.selection)return r?a.selection.createRange().text:a.selection.createRange().htmlText}catch(e){}return""}}),e.fn.extend({selection:function(e,t){switch(t=t||{},e){case"getPos":return r.getPos(this[0]);case"setPos":return this.each(function(){r.setPos(this,t)});case"replace":return this.each(function(){r.replace(this,t.text,t.caret)});case"insert":return this.each(function(){"before"===t.mode?r.insertBefore(this,t.text,t.caret):r.insertAfter(this,t.text,t.caret)});case"get":default:return r.getText(this[0])}return this}})}(jQuery,window,window.document)}.call(this),function(){marked.setOptions({breaks:!0}),n.registerHelper("renderMarkdown",function e(t){if(t)return marked(t)}),n.afMarkdown.created=function(){this.markdownInput=new r("")},n.afMarkdown.rendered=function(){var e=n.instance().$(".markdownInput");n.instance().markdownInput.set(e.val())},n.afMarkdown.helpers({markdownText:function(){return marked(n.instance().markdownInput.get())}}),n.afMarkdown.events({"keyup .markdownInput":function(e,t){t.markdownInput.set(e.currentTarget.value)},"click .select":function(e,t){e.preventDefault();var a=e.currentTarget.className.split(" ")[0],r=n.instance().$(".markdownInput"),s=r.selection();switch(a){case"markdownBold":r.selection("replace",{text:"**"+s+"**"});break;case"markdownItalic":r.selection("replace",{text:"*"+s+"*"});break;case"markdownList":var c=s.split("\n"),o="";c.forEach(function(e){o=o+"- "+e+"\n"}),r.selection("replace",{text:o+"\n "})}t.markdownInput.set(r.val())},"change .markdownHeader":function(e,t){var a=$(e.currentTarget).find("option:selected").val(),r=n.instance().$(".markdownInput"),s=r.selection();r.selection("replace",{text:a+s}),$(e.currentTarget).prop("selectedIndex",0),t.markdownInput.set(r.val())}}),c.addInputType("markdown",{template:"afMarkdown"})}.call(this),"undefined"==typeof Package&&(Package={}),Package["jorisroling:autoform-markdown"]={}}();

!function(){"undefined"==typeof Package&&(Package={}),Package["natestrauser:animate-css"]={}}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,a=Package.meteor.meteorEnv,o=Package.jquery.$,n=Package.jquery.jQuery,i;(function(){(function(){!function(e,t,a){!function(t){var o="function"==typeof define&&define.amd,n="https:"==a.location.protocol?"https:":"http:",i="cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.12/jquery.mousewheel.min.js";o||e.event.special.mousewheel||e("head").append(decodeURI("%3Cscript src="+n+"//"+i+"%3E%3C/script%3E")),t()}(function(){var o="mCustomScrollbar",n="mCS",r=".mCustomScrollbar",l={setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:!0,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:!0,scrollAmount:"auto",axis:"y",deltaFactor:"auto",disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:!0,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,advanced:{autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:!0,updateOnImageLoad:!0},theme:"light",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},s=0,c={},d=t.attachEvent&&!t.addEventListener?1:0,u=!1,f=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag","mCS_img_loaded","mCS_disabled","mCS_destroyed","mCS_no_scrollbar","mCS-autoHide","mCS-dir-rtl","mCS_no_scrollbar_y","mCS_no_scrollbar_x","mCS_y_hidden","mCS_x_hidden","mCSB_draggerContainer","mCSB_buttonUp","mCSB_buttonDown","mCSB_buttonLeft","mCSB_buttonRight"],h={init:function(t){var t=e.extend(!0,{},l,t),a=m.call(this);if(t.live){var o=t.liveSelector||this.selector||r,i=e(o);if("off"===t.live)return void g(o);c[o]=setTimeout(function(){i.mCustomScrollbar(t),"once"===t.live&&i.length&&g(o)},500)}else g(o);return t.setWidth=t.set_width?t.set_width:t.setWidth,t.setHeight=t.set_height?t.set_height:t.setHeight,t.axis=t.horizontalScroll?"x":v(t.axis),t.scrollInertia=t.scrollInertia>0&&t.scrollInertia<17?17:t.scrollInertia,"object"!=typeof t.mouseWheel&&1==t.mouseWheel&&(t.mouseWheel={enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1}),t.mouseWheel.scrollAmount=t.mouseWheelPixels?t.mouseWheelPixels:t.mouseWheel.scrollAmount,t.mouseWheel.normalizeDelta=t.advanced.normalizeMouseWheelDelta?t.advanced.normalizeMouseWheelDelta:t.mouseWheel.normalizeDelta,t.scrollButtons.scrollType=x(t.scrollButtons.scrollType),p(t),e(a).each(function(){var a=e(this);if(!a.data(n)){a.data(n,{idx:++s,opt:t,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:!1,tweenRunning:!1,sequential:{},langDir:a.css("direction"),cbOffsets:null,trigger:null});var o=a.data(n),i=o.opt,r=a.data("mcs-axis"),l=a.data("mcs-scrollbar-position"),c=a.data("mcs-theme");r&&(i.axis=r),l&&(i.scrollbarPosition=l),c&&(i.theme=c,p(i)),_.call(this),e("#mCSB_"+o.idx+"_container img:not(."+f[2]+")").addClass(f[2]),h.update.call(null,a)}})},update:function(t,a){var o=t||m.call(this);return e(o).each(function(){var t=e(this);if(t.data(n)){var o=t.data(n),i=o.opt,r=e("#mCSB_"+o.idx+"_container"),l=[e("#mCSB_"+o.idx+"_dragger_vertical"),e("#mCSB_"+o.idx+"_dragger_horizontal")];if(!r.length)return;o.tweenRunning&&Q(t),t.hasClass(f[3])&&t.removeClass(f[3]),t.hasClass(f[4])&&t.removeClass(f[4]),C.call(this),b.call(this),"y"===i.axis||i.advanced.autoExpandHorizontalScroll||r.css("width",S(r.children())),o.overflowed=k.call(this),R.call(this),i.autoDraggerLength&&y.call(this),B.call(this),O.call(this);var s=[Math.abs(r[0].offsetTop),Math.abs(r[0].offsetLeft)];"x"!==i.axis&&(o.overflowed[0]?l[0].height()>l[0].parent().height()?M.call(this):($(t,s[0].toString(),{dir:"y",dur:0,overwrite:"none"}),o.contentReset.y=null):(M.call(this),"y"===i.axis?I.call(this):"yx"===i.axis&&o.overflowed[1]&&$(t,s[1].toString(),{dir:"x",dur:0,overwrite:"none"}))),"y"!==i.axis&&(o.overflowed[1]?l[1].width()>l[1].parent().width()?M.call(this):($(t,s[1].toString(),{dir:"x",dur:0,overwrite:"none"}),o.contentReset.x=null):(M.call(this),"x"===i.axis?I.call(this):"yx"===i.axis&&o.overflowed[0]&&$(t,s[0].toString(),{dir:"y",dur:0,overwrite:"none"}))),a&&o&&(2===a&&i.callbacks.onImageLoad&&"function"==typeof i.callbacks.onImageLoad?i.callbacks.onImageLoad.call(this):3===a&&i.callbacks.onSelectorChange&&"function"==typeof i.callbacks.onSelectorChange?i.callbacks.onSelectorChange.call(this):i.callbacks.onUpdate&&"function"==typeof i.callbacks.onUpdate&&i.callbacks.onUpdate.call(this)),N.call(this)}})},scrollTo:function(t,a){if("undefined"!=typeof t&&null!=t){var o=m.call(this);return e(o).each(function(){var o=e(this);if(o.data(n)){var i=o.data(n),r=i.opt,l={trigger:"external",scrollInertia:r.scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:!1,timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},s=e.extend(!0,{},l,a),c=Y.call(this,t),d=s.scrollInertia>0&&s.scrollInertia<17?17:s.scrollInertia;c[0]=X.call(this,c[0],"y"),c[1]=X.call(this,c[1],"x"),s.moveDragger&&(c[0]*=i.scrollRatio.y,c[1]*=i.scrollRatio.x),s.dur=d,setTimeout(function(){null!==c[0]&&"undefined"!=typeof c[0]&&"x"!==r.axis&&i.overflowed[0]&&(s.dir="y",s.overwrite="all",$(o,c[0].toString(),s)),null!==c[1]&&"undefined"!=typeof c[1]&&"y"!==r.axis&&i.overflowed[1]&&(s.dir="x",s.overwrite="none",$(o,c[1].toString(),s))},s.timeout)}})}},stop:function(){var t=m.call(this);return e(t).each(function(){var t=e(this);t.data(n)&&Q(t)})},disable:function(t){var a=m.call(this);return e(a).each(function(){var a=e(this);if(a.data(n)){var o=a.data(n);N.call(this,"remove"),I.call(this),t&&M.call(this),R.call(this,!0),a.addClass(f[3])}})},destroy:function(){var t=m.call(this);return e(t).each(function(){var a=e(this);if(a.data(n)){var i=a.data(n),r=i.opt,l=e("#mCSB_"+i.idx),s=e("#mCSB_"+i.idx+"_container"),c=e(".mCSB_"+i.idx+"_scrollbar");r.live&&g(r.liveSelector||e(t).selector),N.call(this,"remove"),I.call(this),M.call(this),a.removeData(n),Z(this,"mcs"),c.remove(),s.find("img."+f[2]).removeClass(f[2]),l.replaceWith(s.contents()),a.removeClass(o+" _"+n+"_"+i.idx+" "+f[6]+" "+f[7]+" "+f[5]+" "+f[3]).addClass(f[4])}})}},m=function(){return"object"!=typeof e(this)||e(this).length<1?r:this},p=function(t){var a=["rounded","rounded-dark","rounded-dots","rounded-dots-dark"],o=["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"],n=["minimal","minimal-dark"],i=["minimal","minimal-dark"],r=["minimal","minimal-dark"];t.autoDraggerLength=!(e.inArray(t.theme,a)>-1)&&t.autoDraggerLength,t.autoExpandScrollbar=!(e.inArray(t.theme,o)>-1)&&t.autoExpandScrollbar,t.scrollButtons.enable=!(e.inArray(t.theme,n)>-1)&&t.scrollButtons.enable,t.autoHideScrollbar=e.inArray(t.theme,i)>-1||t.autoHideScrollbar,t.scrollbarPosition=e.inArray(t.theme,r)>-1?"outside":t.scrollbarPosition},g=function(e){c[e]&&(clearTimeout(c[e]),Z(c,e))},v=function(e){return"yx"===e||"xy"===e||"auto"===e?"yx":"x"===e||"horizontal"===e?"x":"y"},x=function(e){return"stepped"===e||"pixels"===e||"step"===e||"click"===e?"stepped":"stepless"},_=function(){var t=e(this),a=t.data(n),i=a.opt,r=i.autoExpandScrollbar?" "+f[1]+"_expand":"",l=["<div id='mCSB_"+a.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+a.idx+"_scrollbar mCS-"+i.theme+" mCSB_scrollTools_vertical"+r+"'><div class='"+f[12]+"'><div id='mCSB_"+a.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>","<div id='mCSB_"+a.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+a.idx+"_scrollbar mCS-"+i.theme+" mCSB_scrollTools_horizontal"+r+"'><div class='"+f[12]+"'><div id='mCSB_"+a.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],s="yx"===i.axis?"mCSB_vertical_horizontal":"x"===i.axis?"mCSB_horizontal":"mCSB_vertical",c="yx"===i.axis?l[0]+l[1]:"x"===i.axis?l[1]:l[0],d="yx"===i.axis?"<div id='mCSB_"+a.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",u=i.autoHideScrollbar?" "+f[6]:"",h="x"!==i.axis&&"rtl"===a.langDir?" "+f[7]:"";i.setWidth&&t.css("width",i.setWidth),i.setHeight&&t.css("height",i.setHeight),i.setLeft="y"!==i.axis&&"rtl"===a.langDir?"989999px":i.setLeft,t.addClass(o+" _"+n+"_"+a.idx+u+h).wrapInner("<div id='mCSB_"+a.idx+"' class='mCustomScrollBox mCS-"+i.theme+" "+s+"'><div id='mCSB_"+a.idx+"_container' class='mCSB_container' style='position:relative; top:"+i.setTop+"; left:"+i.setLeft+";' dir="+a.langDir+" /></div>");var m=e("#mCSB_"+a.idx),p=e("#mCSB_"+a.idx+"_container");"y"===i.axis||i.advanced.autoExpandHorizontalScroll||p.css("width",S(p.children())),"outside"===i.scrollbarPosition?("static"===t.css("position")&&t.css("position","relative"),t.css("overflow","visible"),m.addClass("mCSB_outside").after(c)):(m.addClass("mCSB_inside").append(c),p.wrap(d)),w.call(this);var g=[e("#mCSB_"+a.idx+"_dragger_vertical"),e("#mCSB_"+a.idx+"_dragger_horizontal")];g[0].css("min-height",g[0].height()),g[1].css("min-width",g[1].width())},S=function(t){return Math.max.apply(Math,t.map(function(){return e(this).outerWidth(!0)}).get())},b=function(){var t=e(this),a=t.data(n),o=a.opt,i=e("#mCSB_"+a.idx+"_container");o.advanced.autoExpandHorizontalScroll&&"y"!==o.axis&&i.css({position:"absolute",width:"auto"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(i[0].getBoundingClientRect().right+.4)-Math.floor(i[0].getBoundingClientRect().left),position:"relative"}).unwrap()},w=function(){var t=e(this),a=t.data(n),o=a.opt,i=e(".mCSB_"+a.idx+"_scrollbar:first"),r=ae(o.scrollButtons.tabindex)?"tabindex='"+o.scrollButtons.tabindex+"'":"",l=["<a href='#' class='"+f[13]+"' oncontextmenu='return false;' "+r+" />","<a href='#' class='"+f[14]+"' oncontextmenu='return false;' "+r+" />","<a href='#' class='"+f[15]+"' oncontextmenu='return false;' "+r+" />","<a href='#' class='"+f[16]+"' oncontextmenu='return false;' "+r+" />"],s=["x"===o.axis?l[2]:l[0],"x"===o.axis?l[3]:l[1],l[2],l[3]];o.scrollButtons.enable&&i.prepend(s[0]).append(s[1]).next(".mCSB_scrollTools").prepend(s[2]).append(s[3])},C=function(){var t=e(this),a=t.data(n),o=e("#mCSB_"+a.idx),i=t.css("max-height")||"none",r=i.indexOf("%")!==-1,l=t.css("box-sizing");if("none"!==i){var s=r?t.parent().height()*parseInt(i)/100:parseInt(i);"border-box"===l&&(s-=t.innerHeight()-t.height()+(t.outerHeight()-t.innerHeight())),o.css("max-height",Math.round(s))}},y=function(){var t=e(this),a=t.data(n),o=e("#mCSB_"+a.idx),i=e("#mCSB_"+a.idx+"_container"),r=[e("#mCSB_"+a.idx+"_dragger_vertical"),e("#mCSB_"+a.idx+"_dragger_horizontal")],l=[o.height()/i.outerHeight(!1),o.width()/i.outerWidth(!1)],s=[parseInt(r[0].css("min-height")),Math.round(l[0]*r[0].parent().height()),parseInt(r[1].css("min-width")),Math.round(l[1]*r[1].parent().width())],c=d&&s[1]<s[0]?s[0]:s[1],u=d&&s[3]<s[2]?s[2]:s[3];r[0].css({height:c,"max-height":r[0].parent().height()-10}).find(".mCSB_dragger_bar").css({"line-height":s[0]+"px"}),r[1].css({width:u,"max-width":r[1].parent().width()-10})},B=function(){var t=e(this),a=t.data(n),o=e("#mCSB_"+a.idx),i=e("#mCSB_"+a.idx+"_container"),r=[e("#mCSB_"+a.idx+"_dragger_vertical"),e("#mCSB_"+a.idx+"_dragger_horizontal")],l=[i.outerHeight(!1)-o.height(),i.outerWidth(!1)-o.width()],s=[l[0]/(r[0].parent().height()-r[0].height()),l[1]/(r[1].parent().width()-r[1].width())];a.scrollRatio={y:s[0],x:s[1]}},T=function(e,t,a){var o=a?f[0]+"_expanded":"",n=e.closest(".mCSB_scrollTools");"active"===t?(e.toggleClass(f[0]+" "+o),n.toggleClass(f[1]),e[0]._draggable=e[0]._draggable?0:1):e[0]._draggable||("hide"===t?(e.removeClass(f[0]),n.removeClass(f[1])):(e.addClass(f[0]),n.addClass(f[1])))},k=function(){var t=e(this),a=t.data(n),o=e("#mCSB_"+a.idx),i=e("#mCSB_"+a.idx+"_container"),r=null==a.overflowed?i.height():i.outerHeight(!1),l=null==a.overflowed?i.width():i.outerWidth(!1);return[r>o.height(),l>o.width()]},M=function(){var t=e(this),a=t.data(n),o=a.opt,r=e("#mCSB_"+a.idx),l=e("#mCSB_"+a.idx+"_container"),s=[e("#mCSB_"+a.idx+"_dragger_vertical"),e("#mCSB_"+a.idx+"_dragger_horizontal")];if(Q(t),("x"!==o.axis&&!a.overflowed[0]||"y"===o.axis&&a.overflowed[0])&&(s[0].add(l).css("top",0),$(t,"_resetY")),"y"!==o.axis&&!a.overflowed[1]||"x"===o.axis&&a.overflowed[1]){var c=i=0;"rtl"===a.langDir&&(c=r.width()-l.outerWidth(!1),i=Math.abs(c/a.scrollRatio.x)),l.css("left",c),s[1].css("left",i),$(t,"_resetX")}},O=function(){function t(){r=setTimeout(function(){e.event.special.mousewheel?(clearTimeout(r),P.call(a[0])):t()},100)}var a=e(this),o=a.data(n),i=o.opt;if(!o.bindEvents){if(D.call(this),i.contentTouchScroll&&L.call(this),W.call(this),i.mouseWheel.enable){var r;t()}z.call(this),U.call(this),i.advanced.autoScrollOnFocus&&H.call(this),i.scrollButtons.enable&&q.call(this),i.keyboard.enable&&F.call(this),o.bindEvents=!0}},I=function(){var t=e(this),o=t.data(n),i=o.opt,r=n+"_"+o.idx,l=".mCSB_"+o.idx+"_scrollbar",s=e("#mCSB_"+o.idx+",#mCSB_"+o.idx+"_container,#mCSB_"+o.idx+"_container_wrapper,"+l+" ."+f[12]+",#mCSB_"+o.idx+"_dragger_vertical,#mCSB_"+o.idx+"_dragger_horizontal,"+l+">a"),c=e("#mCSB_"+o.idx+"_container");i.advanced.releaseDraggableSelectors&&s.add(e(i.advanced.releaseDraggableSelectors)),o.bindEvents&&(e(a).unbind("."+r),s.each(function(){e(this).unbind("."+r)}),clearTimeout(t[0]._focusTimeout),Z(t[0],"_focusTimeout"),clearTimeout(o.sequential.step),Z(o.sequential,"step"),clearTimeout(c[0].onCompleteTimeout),Z(c[0],"onCompleteTimeout"),o.bindEvents=!1)},R=function(t){var a=e(this),o=a.data(n),i=o.opt,r=e("#mCSB_"+o.idx+"_container_wrapper"),l=r.length?r:e("#mCSB_"+o.idx+"_container"),s=[e("#mCSB_"+o.idx+"_scrollbar_vertical"),e("#mCSB_"+o.idx+"_scrollbar_horizontal")],c=[s[0].find(".mCSB_dragger"),s[1].find(".mCSB_dragger")];"x"!==i.axis&&(o.overflowed[0]&&!t?(s[0].add(c[0]).add(s[0].children("a")).css("display","block"),l.removeClass(f[8]+" "+f[10])):(i.alwaysShowScrollbar?(2!==i.alwaysShowScrollbar&&c[0].add(s[0].children("a")).css("display","none"),l.removeClass(f[10])):(s[0].css("display","none"),l.addClass(f[10])),l.addClass(f[8]))),"y"!==i.axis&&(o.overflowed[1]&&!t?(s[1].add(c[1]).add(s[1].children("a")).css("display","block"),l.removeClass(f[9]+" "+f[11])):(i.alwaysShowScrollbar?(2!==i.alwaysShowScrollbar&&c[1].add(s[1].children("a")).css("display","none"),l.removeClass(f[11])):(s[1].css("display","none"),l.addClass(f[11])),l.addClass(f[9]))),o.overflowed[0]||o.overflowed[1]?a.removeClass(f[5]):a.addClass(f[5])},E=function(e){var t=e.type;switch(t){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return[e.originalEvent.pageY,e.originalEvent.pageX,!1];break;case"touchstart":case"touchmove":case"touchend":var a=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0],o=e.originalEvent.touches.length||e.originalEvent.changedTouches.length;return[a.pageY,a.pageX,o>1];break;default:return[e.pageY,e.pageX,!1]}},D=function(){function t(e){var t=f.find("iframe");if(t.length){var a=e?"auto":"none";t.css("pointer-events",a)}}function o(e,t,a,o){if(f[0].idleTimer=l.scrollInertia<233?250:0,m.attr("id")===c[1])var n="x",s=(m[0].offsetLeft-t+o)*r.scrollRatio.x;else var n="y",s=(m[0].offsetTop-e+a)*r.scrollRatio.y;$(i,s.toString(),{dir:n,drag:!0})}var i=e(this),r=i.data(n),l=r.opt,s=n+"_"+r.idx,c=["mCSB_"+r.idx+"_dragger_vertical","mCSB_"+r.idx+"_dragger_horizontal"],f=e("#mCSB_"+r.idx+"_container"),h=e("#"+c[0]+",#"+c[1]),m,p,g,v=l.advanced.releaseDraggableSelectors?h.add(e(l.advanced.releaseDraggableSelectors)):h;h.bind("mousedown."+s+" touchstart."+s+" pointerdown."+s+" MSPointerDown."+s,function(o){if(o.stopImmediatePropagation(),o.preventDefault(),ee(o)){u=!0,d&&(a.onselectstart=function(){return!1}),t(!1),Q(i),m=e(this);var n=m.offset(),r=E(o)[0]-n.top,s=E(o)[1]-n.left,c=m.height()+n.top,f=m.width()+n.left;r<c&&r>0&&s<f&&s>0&&(p=r,g=s),T(m,"active",l.autoExpandScrollbar)}}).bind("touchmove."+s,function(e){e.stopImmediatePropagation(),e.preventDefault();var t=m.offset(),a=E(e)[0]-t.top,n=E(e)[1]-t.left;o(p,g,a,n)}),e(a).bind("mousemove."+s+" pointermove."+s+" MSPointerMove."+s,function(e){if(m){var t=m.offset(),a=E(e)[0]-t.top,n=E(e)[1]-t.left;if(p===a)return;o(p,g,a,n)}}).add(v).bind("mouseup."+s+" touchend."+s+" pointerup."+s+" MSPointerUp."+s,function(e){m&&(T(m,"active",l.autoExpandScrollbar),m=null),u=!1,d&&(a.onselectstart=null),t(!0)})},L=function(){function t(e,t){var a=[1.5*t,2*t,t/1.5,t/2];return e>90?t>4?a[0]:a[3]:e>60?t>3?a[3]:a[2]:e>30?t>8?a[1]:t>6?a[0]:t>4?t:a[2]:t>8?t:a[3]}function a(e,t,a,n,i,r){e&&$(o,e.toString(),{dur:t,scrollEasing:a,dir:n,overwrite:i,drag:r})}var o=e(this),i=o.data(n),r=i.opt,l=n+"_"+i.idx,s=e("#mCSB_"+i.idx),c=e("#mCSB_"+i.idx+"_container"),d=[e("#mCSB_"+i.idx+"_dragger_vertical"),e("#mCSB_"+i.idx+"_dragger_horizontal")],f,h,m,p,g=[],v=[],x,_,S,b,w,C,y=0,B,T="yx"===r.axis?"none":"all",k=[];c.bind("touchstart."+l+" pointerdown."+l+" MSPointerDown."+l,function(e){if(te(e)&&!u&&!E(e)[2]){var t=c.offset();f=E(e)[0]-t.top,h=E(e)[1]-t.left,k=[E(e)[0],E(e)[1]]}}).bind("touchmove."+l+" pointermove."+l+" MSPointerMove."+l,function(e){if(te(e)&&!u&&!E(e)[2]){e.stopImmediatePropagation(),_=J();var t=s.offset(),o=E(e)[0]-t.top,n=E(e)[1]-t.left,l="mcsLinearOut";if(g.push(o),v.push(n),k[2]=Math.abs(E(e)[0]-k[0]),k[3]=Math.abs(E(e)[1]-k[1]),i.overflowed[0])var m=d[0].parent().height()-d[0].height(),p=f-o>0&&o-f>-(m*i.scrollRatio.y)&&(2*k[3]<k[2]||"yx"===r.axis);if(i.overflowed[1])var x=d[1].parent().width()-d[1].width(),S=h-n>0&&n-h>-(x*i.scrollRatio.x)&&(2*k[2]<k[3]||"yx"===r.axis);(p||S)&&e.preventDefault(),C="yx"===r.axis?[f-o,h-n]:"x"===r.axis?[null,h-n]:[f-o,null],c[0].idleTimer=250,i.overflowed[0]&&a(C[0],y,l,"y","all",!0),i.overflowed[1]&&a(C[1],y,l,"x",T,!0)}}),s.bind("touchstart."+l+" pointerdown."+l+" MSPointerDown."+l,function(e){if(te(e)&&!u&&!E(e)[2]){e.stopImmediatePropagation(),Q(o),x=J();var t=s.offset();m=E(e)[0]-t.top,p=E(e)[1]-t.left,g=[],v=[]}}).bind("touchend."+l+" pointerup."+l+" MSPointerUp."+l,function(e){if(te(e)&&!u&&!E(e)[2]){e.stopImmediatePropagation(),S=J();var o=s.offset(),n=E(e)[0]-o.top,l=E(e)[1]-o.left;if(!(S-_>30)){w=1e3/(S-x);var d="mcsEaseOut",f=w<2.5,h=f?[g[g.length-2],v[v.length-2]]:[0,0];b=f?[n-h[0],l-h[1]]:[n-m,l-p];var y=[Math.abs(b[0]),Math.abs(b[1])];w=f?[Math.abs(b[0]/4),Math.abs(b[1]/4)]:[w,w];var k=[Math.abs(c[0].offsetTop)-b[0]*t(y[0]/w[0],w[0]),Math.abs(c[0].offsetLeft)-b[1]*t(y[1]/w[1],w[1])];C="yx"===r.axis?[k[0],k[1]]:"x"===r.axis?[null,k[1]]:[k[0],null],B=[4*y[0]+r.scrollInertia,4*y[1]+r.scrollInertia];var M=parseInt(r.contentTouchScroll)||0;C[0]=y[0]>M?C[0]:0,C[1]=y[1]>M?C[1]:0,i.overflowed[0]&&a(C[0],B[0],d,"y",T,!1),i.overflowed[1]&&a(C[1],B[1],d,"x",T,!1)}}})},W=function(){function o(){return t.getSelection?t.getSelection().toString():a.selection&&"Control"!=a.selection.type?a.selection.createRange().text:0}function i(e,t,a){c.type=a&&m?"stepped":"stepless",c.scrollAmount=10,j(r,e,t,"mcsLinearOut",a?60:null)}var r=e(this),l=r.data(n),s=l.opt,c=l.sequential,d=n+"_"+l.idx,f=e("#mCSB_"+l.idx+"_container"),h=f.parent(),m;f.bind("mousedown."+d,function(e){m||(m=1,u=!0)}).add(a).bind("mousemove."+d,function(e){if(m&&o()){var t=f.offset(),a=E(e)[0]-t.top+f[0].offsetTop,n=E(e)[1]-t.left+f[0].offsetLeft;a>0&&a<h.height()&&n>0&&n<h.width()?c.step&&i("off",null,"stepped"):("x"!==s.axis&&l.overflowed[0]&&(a<0?i("on",38):a>h.height()&&i("on",40)),"y"!==s.axis&&l.overflowed[1]&&(n<0?i("on",37):n>h.width()&&i("on",39)))}}).bind("mouseup."+d,function(e){m&&(m=0,i("off",null)),u=!1})},P=function(){function t(e){var t=null;try{var a=e.contentDocument||e.contentWindow.document;t=a.body.innerHTML}catch(e){}return null!==t}var a=e(this),o=a.data(n);if(o){var i=o.opt,r=n+"_"+o.idx,l=e("#mCSB_"+o.idx),s=[e("#mCSB_"+o.idx+"_dragger_vertical"),e("#mCSB_"+o.idx+"_dragger_horizontal")],c=e("#mCSB_"+o.idx+"_container").find("iframe"),u=l;c.length&&c.each(function(){var a=this;t(a)&&(u=u.add(e(a).contents().find("body")))}),u.bind("mousewheel."+r,function(t,n){if(Q(a),!A(a,t.target)){var r="auto"!==i.mouseWheel.deltaFactor?parseInt(i.mouseWheel.deltaFactor):d&&t.deltaFactor<100?100:t.deltaFactor||100;if("x"===i.axis||"x"===i.mouseWheel.axis)var c="x",u=[Math.round(r*o.scrollRatio.x),parseInt(i.mouseWheel.scrollAmount)],f="auto"!==i.mouseWheel.scrollAmount?u[1]:u[0]>=l.width()?.9*l.width():u[0],h=Math.abs(e("#mCSB_"+o.idx+"_container")[0].offsetLeft),m=s[1][0].offsetLeft,p=s[1].parent().width()-s[1].width(),g=t.deltaX||t.deltaY||n;else var c="y",u=[Math.round(r*o.scrollRatio.y),parseInt(i.mouseWheel.scrollAmount)],f="auto"!==i.mouseWheel.scrollAmount?u[1]:u[0]>=l.height()?.9*l.height():u[0],h=Math.abs(e("#mCSB_"+o.idx+"_container")[0].offsetTop),m=s[0][0].offsetTop,p=s[0].parent().height()-s[0].height(),g=t.deltaY||n;"y"===c&&!o.overflowed[0]||"x"===c&&!o.overflowed[1]||(i.mouseWheel.invert&&(g=-g),i.mouseWheel.normalizeDelta&&(g=g<0?-1:1),(g>0&&0!==m||g<0&&m!==p||i.mouseWheel.preventDefault)&&(t.stopImmediatePropagation(),t.preventDefault()),$(a,(h-g*f).toString(),{dir:c}))}})}},A=function(t,a){var o=a.nodeName.toLowerCase(),i=t.data(n).opt.mouseWheel.disableOver,r=["select","textarea"];return e.inArray(o,i)>-1&&!(e.inArray(o,r)>-1&&!e(a).is(":focus"))},z=function(){var t=e(this),a=t.data(n),o=n+"_"+a.idx,i=e("#mCSB_"+a.idx+"_container"),r=i.parent(),l=e(".mCSB_"+a.idx+"_scrollbar ."+f[12]);l.bind("touchstart."+o+" pointerdown."+o+" MSPointerDown."+o,function(e){u=!0}).bind("touchend."+o+" pointerup."+o+" MSPointerUp."+o,function(e){u=!1}).bind("click."+o,function(o){if(e(o.target).hasClass(f[12])||e(o.target).hasClass("mCSB_draggerRail")){Q(t);var n=e(this),l=n.find(".mCSB_dragger");if(n.parent(".mCSB_scrollTools_horizontal").length>0){if(!a.overflowed[1])return;var s="x",c=o.pageX>l.offset().left?-1:1,d=Math.abs(i[0].offsetLeft)-c*(.9*r.width())}else{if(!a.overflowed[0])return;var s="y",c=o.pageY>l.offset().top?-1:1,d=Math.abs(i[0].offsetTop)-c*(.9*r.height())}$(t,d.toString(),{dir:s,scrollEasing:"mcsEaseInOut"})}})},H=function(){var t=e(this),o=t.data(n),i=o.opt,r=n+"_"+o.idx,l=e("#mCSB_"+o.idx+"_container"),s=l.parent();l.bind("focusin."+r,function(o){var n=e(a.activeElement),r=l.find(".mCustomScrollBox").length,c=0;n.is(i.advanced.autoScrollOnFocus)&&(Q(t),clearTimeout(t[0]._focusTimeout),t[0]._focusTimer=r?(c+17)*r:0,t[0]._focusTimeout=setTimeout(function(){var e=[oe(n)[0],oe(n)[1]],a=[l[0].offsetTop,l[0].offsetLeft],o=[a[0]+e[0]>=0&&a[0]+e[0]<s.height()-n.outerHeight(!1),a[1]+e[1]>=0&&a[0]+e[1]<s.width()-n.outerWidth(!1)],r="yx"!==i.axis||o[0]||o[1]?"all":"none";"x"===i.axis||o[0]||$(t,e[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:r,dur:c}),"y"===i.axis||o[1]||$(t,e[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:r,dur:c})},t[0]._focusTimer))})},U=function(){var t=e(this),a=t.data(n),o=n+"_"+a.idx,i=e("#mCSB_"+a.idx+"_container").parent();i.bind("scroll."+o,function(t){0===i.scrollTop()&&0===i.scrollLeft()||e(".mCSB_"+a.idx+"_scrollbar").css("visibility","hidden")})},q=function(){var t=e(this),a=t.data(n),o=a.opt,i=a.sequential,r=n+"_"+a.idx,l=".mCSB_"+a.idx+"_scrollbar",s=e(l+">a");s.bind("mousedown."+r+" touchstart."+r+" pointerdown."+r+" MSPointerDown."+r+" mouseup."+r+" touchend."+r+" pointerup."+r+" MSPointerUp."+r+" mouseout."+r+" pointerout."+r+" MSPointerOut."+r+" click."+r,function(n){function r(e,a){i.scrollAmount=o.snapAmount||o.scrollButtons.scrollAmount,j(t,e,a)}if(n.preventDefault(),ee(n)){var l=e(this).attr("class");switch(i.type=o.scrollButtons.scrollType,n.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if("stepped"===i.type)return;u=!0,a.tweenRunning=!1,r("on",l);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if("stepped"===i.type)return;u=!1,i.dir&&r("off",l);break;case"click":if("stepped"!==i.type||a.tweenRunning)return;r("on",l)}}})},F=function(){var t=e(this),o=t.data(n),i=o.opt,r=o.sequential,l=n+"_"+o.idx,s=e("#mCSB_"+o.idx),c=e("#mCSB_"+o.idx+"_container"),d=c.parent(),u="input,textarea,select,datalist,keygen,[contenteditable='true']";s.attr("tabindex","0").bind("blur."+l+" keydown."+l+" keyup."+l,function(n){function l(e,a){r.type=i.keyboard.scrollType,r.scrollAmount=i.snapAmount||i.keyboard.scrollAmount,"stepped"===r.type&&o.tweenRunning||j(t,e,a)}switch(n.type){case"blur":o.tweenRunning&&r.dir&&l("off",null);break;case"keydown":case"keyup":var s=n.keyCode?n.keyCode:n.which,f="on";if("x"!==i.axis&&(38===s||40===s)||"y"!==i.axis&&(37===s||39===s)){if((38===s||40===s)&&!o.overflowed[0]||(37===s||39===s)&&!o.overflowed[1])return;"keyup"===n.type&&(f="off"),e(a.activeElement).is(u)||(n.preventDefault(),n.stopImmediatePropagation(),l(f,s))}else if(33===s||34===s){if((o.overflowed[0]||o.overflowed[1])&&(n.preventDefault(),n.stopImmediatePropagation()),"keyup"===n.type){Q(t);var h=34===s?-1:1;if("x"===i.axis||"yx"===i.axis&&o.overflowed[1]&&!o.overflowed[0])var m="x",p=Math.abs(c[0].offsetLeft)-h*(.9*d.width());else var m="y",p=Math.abs(c[0].offsetTop)-h*(.9*d.height());$(t,p.toString(),{dir:m,scrollEasing:"mcsEaseInOut"})}}else if((35===s||36===s)&&!e(a.activeElement).is(u)&&((o.overflowed[0]||o.overflowed[1])&&(n.preventDefault(),n.stopImmediatePropagation()),"keyup"===n.type)){if("x"===i.axis||"yx"===i.axis&&o.overflowed[1]&&!o.overflowed[0])var m="x",p=35===s?Math.abs(d.width()-c.outerWidth(!1)):0;else var m="y",p=35===s?Math.abs(d.height()-c.outerHeight(!1)):0;$(t,p.toString(),{dir:m,scrollEasing:"mcsEaseInOut"})}}})},j=function(t,a,o,i,r){function l(e){var a="stepped"!==u.type,o=r?r:e?a?d.scrollInertia/1.5:d.scrollInertia:1e3/60,n=e?a?7.5:40:2.5,s=[Math.abs(h[0].offsetTop),Math.abs(h[0].offsetLeft)],f=[c.scrollRatio.y>10?10:c.scrollRatio.y,c.scrollRatio.x>10?10:c.scrollRatio.x],m="x"===u.dir[0]?s[1]+u.dir[1]*(f[1]*n):s[0]+u.dir[1]*(f[0]*n),p="x"===u.dir[0]?s[1]+u.dir[1]*parseInt(u.scrollAmount):s[0]+u.dir[1]*parseInt(u.scrollAmount),g="auto"!==u.scrollAmount?p:m,v=i?i:e?a?"mcsLinearOut":"mcsEaseInOut":"mcsLinear",x=!!e;return e&&o<17&&(g="x"===u.dir[0]?s[1]:s[0]),$(t,g.toString(),{dir:u.dir[0],scrollEasing:v,dur:o,onComplete:x}),e?void(u.dir=!1):(clearTimeout(u.step),void(u.step=setTimeout(function(){l()},o)))}function s(){clearTimeout(u.step),Z(u,"step"),Q(t)}var c=t.data(n),d=c.opt,u=c.sequential,h=e("#mCSB_"+c.idx+"_container"),m="stepped"===u.type;switch(a){case"on":if(u.dir=[o===f[16]||o===f[15]||39===o||37===o?"x":"y",o===f[13]||o===f[15]||38===o||37===o?-1:1],Q(t),ae(o)&&"stepped"===u.type)return;l(m);break;case"off":s(),(m||c.tweenRunning&&u.dir)&&l(!0)}},Y=function(t){var a=e(this).data(n).opt,o=[];return"function"==typeof t&&(t=t()),t instanceof Array?o=t.length>1?[t[0],t[1]]:"x"===a.axis?[null,t[0]]:[t[0],null]:(o[0]=t.y?t.y:t.x||"x"===a.axis?null:t,o[1]=t.x?t.x:t.y||"y"===a.axis?null:t),"function"==typeof o[0]&&(o[0]=o[0]()),"function"==typeof o[1]&&(o[1]=o[1]()),o},X=function(t,a){if(null!=t&&"undefined"!=typeof t){var o=e(this),i=o.data(n),r=i.opt,l=e("#mCSB_"+i.idx+"_container"),s=l.parent(),c=typeof t;a||(a="x"===r.axis?"x":"y");var d="x"===a?l.outerWidth(!1):l.outerHeight(!1),u="x"===a?l[0].offsetLeft:l[0].offsetTop,f="x"===a?"left":"top";switch(c){case"function":return t();break;case"object":var m=t.jquery?t:e(t);if(!m.length)return;return"x"===a?oe(m)[1]:oe(m)[0];break;case"string":case"number":if(ae(t))return Math.abs(t);if(t.indexOf("%")!==-1)return Math.abs(d*parseInt(t)/100);if(t.indexOf("-=")!==-1)return Math.abs(u-parseInt(t.split("-=")[1]));if(t.indexOf("+=")!==-1){var p=u+parseInt(t.split("+=")[1]);return p>=0?0:Math.abs(p)}if(t.indexOf("px")!==-1&&ae(t.split("px")[0]))return Math.abs(t.split("px")[0]);if("top"===t||"left"===t)return 0;if("bottom"===t)return Math.abs(s.height()-l.outerHeight(!1));if("right"===t)return Math.abs(s.width()-l.outerWidth(!1));if("first"===t||"last"===t){var m=l.find(":"+t);return"x"===a?oe(m)[1]:oe(m)[0]}return e(t).length?"x"===a?oe(e(t))[1]:oe(e(t))[0]:(l.css(f,t),void h.update.call(null,o[0]))}}},N=function(t){function a(){clearTimeout(u[0].autoUpdate),u[0].autoUpdate=setTimeout(function(){return d.advanced.updateOnSelectorChange&&(x=r(),x!==v)?(l(3),void(v=x)):(d.advanced.updateOnContentResize&&(S=[u.outerHeight(!1),u.outerWidth(!1),m.height(),m.width(),g()[0],g()[1]],S[0]===_[0]&&S[1]===_[1]&&S[2]===_[2]&&S[3]===_[3]&&S[4]===_[4]&&S[5]===_[5]||(l(S[0]!==_[0]||S[1]!==_[1]),_=S)),d.advanced.updateOnImageLoad&&(w=o(),w!==b&&(u.find("img").each(function(){i(this)}),b=w)),void((d.advanced.updateOnSelectorChange||d.advanced.updateOnContentResize||d.advanced.updateOnImageLoad)&&a()))},60)}function o(){var e=0;return d.advanced.updateOnImageLoad&&(e=u.find("img").length),e}function i(t){function a(e,t){return function(){return t.apply(e,arguments)}}function o(){this.onload=null,e(t).addClass(f[2]),l(2)}if(e(t).hasClass(f[2]))return void l();var n=new Image;n.onload=a(n,o),n.src=t.src}function r(){d.advanced.updateOnSelectorChange===!0&&(d.advanced.updateOnSelectorChange="*");var t=0,a=u.find(d.advanced.updateOnSelectorChange);return d.advanced.updateOnSelectorChange&&a.length>0&&a.each(function(){t+=e(this).height()+e(this).width()}),t}function l(e){clearTimeout(u[0].autoUpdate),h.update.call(null,s[0],e)}var s=e(this),c=s.data(n),d=c.opt,u=e("#mCSB_"+c.idx+"_container");if(t)return clearTimeout(u[0].autoUpdate),void Z(u[0],"autoUpdate");var m=u.parent(),p=[e("#mCSB_"+c.idx+"_scrollbar_vertical"),e("#mCSB_"+c.idx+"_scrollbar_horizontal")],g=function(){return[p[0].is(":visible")?p[0].outerHeight(!0):0,p[1].is(":visible")?p[1].outerWidth(!0):0]},v=r(),x,_=[u.outerHeight(!1),u.outerWidth(!1),m.height(),m.width(),g()[0],g()[1]],S,b=o(),w;a()},V=function(e,t,a){return Math.round(e/t)*t-a},Q=function(t){var a=t.data(n),o=e("#mCSB_"+a.idx+"_container,#mCSB_"+a.idx+"_container_wrapper,#mCSB_"+a.idx+"_dragger_vertical,#mCSB_"+a.idx+"_dragger_horizontal");o.each(function(){K.call(this)})},$=function(t,a,o){function i(e){return s&&c.callbacks[e]&&"function"==typeof c.callbacks[e]}function r(){return[c.callbacks.alwaysTriggerOffsets||_>=S[0]+w,c.callbacks.alwaysTriggerOffsets||_<=-C]}function l(){var e=[h[0].offsetTop,h[0].offsetLeft],a=[v[0].offsetTop,v[0].offsetLeft],n=[h.outerHeight(!1),h.outerWidth(!1)],i=[f.height(),f.width()];t[0].mcs={content:h,top:e[0],left:e[1],draggerTop:a[0],draggerLeft:a[1],topPct:Math.round(100*Math.abs(e[0])/(Math.abs(n[0])-i[0])),leftPct:Math.round(100*Math.abs(e[1])/(Math.abs(n[1])-i[1])),direction:o.dir}}var s=t.data(n),c=s.opt,d={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:!1,dur:c.scrollInertia,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},o=e.extend(d,o),u=[o.dur,o.drag?0:o.dur],f=e("#mCSB_"+s.idx),h=e("#mCSB_"+s.idx+"_container"),m=h.parent(),p=c.callbacks.onTotalScrollOffset?Y.call(t,c.callbacks.onTotalScrollOffset):[0,0],g=c.callbacks.onTotalScrollBackOffset?Y.call(t,c.callbacks.onTotalScrollBackOffset):[0,0];if(s.trigger=o.trigger,0===m.scrollTop()&&0===m.scrollLeft()||(e(".mCSB_"+s.idx+"_scrollbar").css("visibility","visible"),m.scrollTop(0).scrollLeft(0)),"_resetY"!==a||s.contentReset.y||(i("onOverflowYNone")&&c.callbacks.onOverflowYNone.call(t[0]),s.contentReset.y=1),"_resetX"!==a||s.contentReset.x||(i("onOverflowXNone")&&c.callbacks.onOverflowXNone.call(t[0]),s.contentReset.x=1),"_resetY"!==a&&"_resetX"!==a){switch(!s.contentReset.y&&t[0].mcs||!s.overflowed[0]||(i("onOverflowY")&&c.callbacks.onOverflowY.call(t[0]),s.contentReset.x=null),!s.contentReset.x&&t[0].mcs||!s.overflowed[1]||(i("onOverflowX")&&c.callbacks.onOverflowX.call(t[0]),s.contentReset.x=null),c.snapAmount&&(a=V(a,c.snapAmount,c.snapOffset)),o.dir){case"x":var v=e("#mCSB_"+s.idx+"_dragger_horizontal"),x="left",_=h[0].offsetLeft,S=[f.width()-h.outerWidth(!1),v.parent().width()-v.width()],b=[a,0===a?0:a/s.scrollRatio.x],w=p[1],C=g[1],y=w>0?w/s.scrollRatio.x:0,B=C>0?C/s.scrollRatio.x:0;
break;case"y":var v=e("#mCSB_"+s.idx+"_dragger_vertical"),x="top",_=h[0].offsetTop,S=[f.height()-h.outerHeight(!1),v.parent().height()-v.height()],b=[a,0===a?0:a/s.scrollRatio.y],w=p[0],C=g[0],y=w>0?w/s.scrollRatio.y:0,B=C>0?C/s.scrollRatio.y:0}b[1]<0||0===b[0]&&0===b[1]?b=[0,0]:b[1]>=S[1]?b=[S[0],S[1]]:b[0]=-b[0],t[0].mcs||(l(),i("onInit")&&c.callbacks.onInit.call(t[0])),clearTimeout(h[0].onCompleteTimeout),!s.tweenRunning&&(0===_&&b[0]>=0||_===S[0]&&b[0]<=S[0])||(G(v[0],x,Math.round(b[1]),u[1],o.scrollEasing),G(h[0],x,Math.round(b[0]),u[0],o.scrollEasing,o.overwrite,{onStart:function(){o.callbacks&&o.onStart&&!s.tweenRunning&&(i("onScrollStart")&&(l(),c.callbacks.onScrollStart.call(t[0])),s.tweenRunning=!0,T(v),s.cbOffsets=r())},onUpdate:function(){o.callbacks&&o.onUpdate&&i("whileScrolling")&&(l(),c.callbacks.whileScrolling.call(t[0]))},onComplete:function(){if(o.callbacks&&o.onComplete){"yx"===c.axis&&clearTimeout(h[0].onCompleteTimeout);var e=h[0].idleTimer||0;h[0].onCompleteTimeout=setTimeout(function(){i("onScroll")&&(l(),c.callbacks.onScroll.call(t[0])),i("onTotalScroll")&&b[1]>=S[1]-y&&s.cbOffsets[0]&&(l(),c.callbacks.onTotalScroll.call(t[0])),i("onTotalScrollBack")&&b[1]<=B&&s.cbOffsets[1]&&(l(),c.callbacks.onTotalScrollBack.call(t[0])),s.tweenRunning=!1,h[0].idleTimer=0,T(v,"hide")},e)}}}))}},G=function(e,a,o,n,i,r,l){function s(){w.stop||(x||h.call(),x=J()-g,c(),x>=w.time&&(w.time=x>w.time?x+v-(x-w.time):x+v-1,w.time<x+1&&(w.time=x+1)),w.time<n?w.id=b(s):p.call())}function c(){n>0?(w.currVal=f(w.time,_,C,n,i),S[a]=Math.round(w.currVal)+"px"):S[a]=o+"px",m.call()}function d(){v=1e3/60,w.time=x+v,b=t.requestAnimationFrame?t.requestAnimationFrame:function(e){return c(),setTimeout(e,.01)},w.id=b(s)}function u(){null!=w.id&&(t.requestAnimationFrame?t.cancelAnimationFrame(w.id):clearTimeout(w.id),w.id=null)}function f(e,t,a,o,n){switch(n){case"linear":case"mcsLinear":return a*e/o+t;break;case"mcsLinearOut":return e/=o,e--,a*Math.sqrt(1-e*e)+t;break;case"easeInOutSmooth":return e/=o/2,e<1?a/2*e*e+t:(e--,-a/2*(e*(e-2)-1)+t);break;case"easeInOutStrong":return e/=o/2,e<1?a/2*Math.pow(2,10*(e-1))+t:(e--,a/2*(-Math.pow(2,-10*e)+2)+t);break;case"easeInOut":case"mcsEaseInOut":return e/=o/2,e<1?a/2*e*e*e+t:(e-=2,a/2*(e*e*e+2)+t);break;case"easeOutSmooth":return e/=o,e--,-a*(e*e*e*e-1)+t;break;case"easeOutStrong":return a*(-Math.pow(2,-10*e/o)+1)+t;break;case"easeOut":case"mcsEaseOut":default:var i=(e/=o)*e,r=i*e;return t+a*(.499999999999997*r*i+-2.5*i*i+5.5*r+-6.5*i+4*e)}}e._mTween||(e._mTween={top:{},left:{}});var l=l||{},h=l.onStart||function(){},m=l.onUpdate||function(){},p=l.onComplete||function(){},g=J(),v,x=0,_=e.offsetTop,S=e.style,b,w=e._mTween[a];"left"===a&&(_=e.offsetLeft);var C=o-_;w.stop=0,"none"!==r&&u(),d()},J=function(){return t.performance&&t.performance.now?t.performance.now():t.performance&&t.performance.webkitNow?t.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},K=function(){var e=this;e._mTween||(e._mTween={top:{},left:{}});for(var a=["top","left"],o=0;o<a.length;o++){var n=a[o];e._mTween[n].id&&(t.requestAnimationFrame?t.cancelAnimationFrame(e._mTween[n].id):clearTimeout(e._mTween[n].id),e._mTween[n].id=null,e._mTween[n].stop=1)}},Z=function(e,t){try{delete e[t]}catch(a){e[t]=null}},ee=function(e){return!(e.which&&1!==e.which)},te=function(e){var t=e.originalEvent.pointerType;return!(t&&"touch"!==t&&2!==t)},ae=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},oe=function(e){var t=e.parents(".mCSB_container");return[e.offset().top-t.offset().top,e.offset().left-t.offset().left]};e.fn[o]=function(t){return h[t]?h[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):h.init.apply(this,arguments)},e[o]=function(t){return h[t]?h[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):h.init.apply(this,arguments)},e[o].defaults=l,t[o]=!0,e(t).load(function(){e(r)[o](),e.extend(e.expr[":"],{mcsInView:e.expr[":"].mcsInView||function(t){var a=e(t),o=a.parents(".mCSB_container"),n,i;if(o.length)return n=o.parent(),i=[o[0].offsetTop,o[0].offsetLeft],i[0]+oe(a)[0]>=0&&i[0]+oe(a)[0]<n.height()-a.outerHeight(!1)&&i[1]+oe(a)[1]>=0&&i[1]+oe(a)[1]<n.width()-a.outerWidth(!1)},mcsOverflow:e.expr[":"].mcsOverflow||function(t){var a=e(t).data(n);if(a)return a.overflowed[0]||a.overflowed[1]}})})})}(n,window,document)}).call(this)}).call(this),"undefined"==typeof Package&&(Package={}),Package["maazalik:malihu-jquery-custom-scrollbar"]={}}();

!function(){"undefined"==typeof Package&&(Package={}),Package["app-app"]={}}();

!function(){"undefined"==typeof Package&&(Package={}),Package["standard-minifier-js"]={}}();

!function(){"undefined"==typeof Package&&(Package={}),Package["seba:minifiers-autoprefixer"]={}}();

!function(){"undefined"==typeof Package&&(Package={}),Package["npm-container"]={}}();

!function(){var t=Package.meteor.Meteor,n=Package.meteor.global,e=Package.meteor.meteorEnv,o=Package["ddp-client"].DDP,c=Package.underscore._,i,r;(function(){(function(){i={}}).call(this),function(){r=function t(n,e,c){c=c||{},this._discovery=n,this._serviceName=e,this._query=c.query||{},this._ddpOptions=c.ddpOptions,this._watchTimeout=c.watchTimeout||5e3,this._currUrl=null,this._ddpUrls={},this._connection=o.connect(this._getDefaultURL(),this._ddpOptions),this._connection.disconnect(),this._newConnectionWatcher=this._watchForNewConnections()},r.prototype.getConnection=function(){return this._connection},r.prototype._getDefaultURL=function(){return t.isServer?"":location.origin},r.prototype._watchForNewConnections=function(){function n(){var t=e._connection.status(),n=o&&"offline"==t.status;if(!t.connected&&!n){var c=e._discovery.pickEndpoint(e._serviceName);c&&(e._connection.reconnect({url:c}),o=!0)}}var e=this,o=!1;n();var c=t.setInterval(n,e._watchTimeout),i={stop:function(){t.clearTimeout(c)}};return i}}.call(this),function(){i.discoverConnection=function(t){return o.connect("/"+t)}}.call(this)}).call(this),"undefined"==typeof Package&&(Package={}),function(t,n){for(var e in n)e in t||(t[e]=n[e])}(Package["meteorhacks:cluster"]={},{Cluster:i})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,a=Package.meteor.meteorEnv,n=Package.underscore._,o=Package.modules.meteorInstall,r=Package.modules.Buffer,s=Package.modules.process,c=Package["ecmascript-runtime"].Symbol,u=Package["ecmascript-runtime"].Map,m=Package["ecmascript-runtime"].Set,i=Package["babel-runtime"].meteorBabelHelpers,l=Package.promise.Promise,p,d=o({node_modules:{meteor:{webapp:{"webapp_client.js":function(){p={_isCssLoaded:function(){function e(){return 0===document.styleSheets.length||n.find(document.styleSheets,function(e){return e.cssText&&!e.cssRules?!e.cssText.match(/meteor-css-not-found-error/):!n.find(e.cssRules,function(e){return".meteor-css-not-found-error"===e.selectorText})})}return e}()}}}}}},{extensions:[".js",".json"]});d("./node_modules/meteor/webapp/webapp_client.js"),"undefined"==typeof Package&&(Package={}),function(e,t){for(var a in t)a in e||(e[a]=t[a])}(Package.webapp={},{WebApp:p})}();

!function(){"undefined"==typeof Package&&(Package={}),Package["hot-code-push"]={}}();

!function(){var e=Package.meteor.Meteor,n=Package.meteor.global,a=Package.meteor.meteorEnv,r;(function(){var n=0,a=!1;r={hold:function(){if(!e.isCordova)return{release:function(){}};if(a)throw new Error("Can't show launch screen once it's hidden");n++;var r=!1,o=function(){e.isCordova&&(r||(r=!0,n--,0===n&&"undefined"!=typeof navigator&&navigator.splashscreen&&(a=!0,navigator.splashscreen.hide())))};return{release:o}}}}).call(this),function(){var n=r.hold(),a=Package.templating&&Package.templating.Template;e.startup(function(){a?Package["iron:router"]?Package["iron:router"].Router.onAfterAction(function(){n.release()}):(a.body.onRendered(function(){n.release()}),setTimeout(function(){n.release()},6e3)):n.release()})}.call(this),"undefined"==typeof Package&&(Package={}),function(e,n){for(var a in n)a in e||(e[a]=n[a])}(Package["launch-screen"]={},{LaunchScreen:r})}();

!function(){var e=Package.meteor.Meteor,a=Package.meteor.global,c=Package.meteor.meteorEnv,n;(function(){}).call(this),"undefined"==typeof Package&&(Package={}),function(e,a){for(var c in a)c in e||(e[c]=a[c])}(Package["meteorhacks:async"]={},{Async:n})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,a=Package.underscore._,r=Package.url.URL,o=Package.modules.meteorInstall,c=Package.modules.Buffer,s=Package.modules.process,i=Package["ecmascript-runtime"].Symbol,l=Package["ecmascript-runtime"].Map,p=Package["ecmascript-runtime"].Set,u=Package["babel-runtime"].meteorBabelHelpers,f=Package.promise.Promise,d,m,h,g=o({node_modules:{meteor:{http:{"httpcall_common.js":function(){function e(e,t){return e.length>t?e.slice(0,t)+"...":e}var t=500;d=function n(a,r){var o="failed ["+a+"]";if(r){var c="string"==typeof r?r:r.toString();o+=" "+e(c.replace(/\n/g," "),t)}return new Error(o)},m=function e(t){var n=(t.headers["content-type"]||";").split(";")[0];if(a.include(["application/json","text/javascript","application/javascript","application/x-javascript"],n))try{t.data=JSON.parse(t.content)}catch(e){t.data=null}else t.data=null},h={},h.get=function(){return h.call.apply(this,["GET"].concat(a.toArray(arguments)))},h.post=function(){return h.call.apply(this,["POST"].concat(a.toArray(arguments)))},h.put=function(){return h.call.apply(this,["PUT"].concat(a.toArray(arguments)))},h.del=function(){return h.call.apply(this,["DELETE"].concat(a.toArray(arguments)))},h.patch=function(){return h.call.apply(this,["PATCH"].concat(a.toArray(arguments)))}},"httpcall_client.js":function(t,n,o){h.call=function(t,n,o,c){if(c||"function"!=typeof o||(c=o,o=null),o=o||{},"function"!=typeof c)throw new Error("Can't make a blocking HTTP call from the client; callback required.");t=(t||"").toUpperCase();var s={},i=o.content;o.data&&(i=JSON.stringify(o.data),s["Content-Type"]="application/json");var l,p;if(i||"GET"===t||"HEAD"===t?l=o.params:p=o.params,n=r._constructUrl(n,o.query,l),o.followRedirects===!1)throw new Error("Option followRedirects:false not supported on client.");if(a.has(o,"npmRequestOptions"))throw new Error("Option npmRequestOptions not supported on client.");var f,h;if(o.auth){var g=o.auth.indexOf(":");if(g<0)throw new Error('auth option should be of the form "username:password"');f=o.auth.substring(0,g),h=o.auth.substring(g+1)}p&&(i=r._encodeParams(p)),a.extend(s,o.headers||{}),c=function(e){return function(t,n){t&&n&&(t.response=n),e(t,n)}}(c),c=a.once(c);try{var y;if("undefined"!=typeof XMLHttpRequest)y=new XMLHttpRequest;else{if("undefined"==typeof ActiveXObject)throw new Error("Can't create XMLHttpRequest");y=new ActiveXObject("Microsoft.XMLHttp")}y.open(t,n,!0,f,h);for(var v in u.sanitizeForInObject(s))y.setRequestHeader(v,s[v]);var P=!1,k;if(o.timeout&&(k=e.setTimeout(function(){P=!0,y.abort()},o.timeout)),y.onreadystatechange=function(t){if(4===y.readyState)if(k&&e.clearTimeout(k),P)c(new Error("timeout"));else if(y.status){var n={};n.statusCode=y.status,n.content=y.responseText,n.headers={};var r=y.getAllResponseHeaders();""===r&&y.getResponseHeader("content-type")&&(r="content-type: "+y.getResponseHeader("content-type"));var o=r.split(/\r?\n/);a.each(o,function(e){var t=/^(.*?):(?:\s+)(.*)$/.exec(e);t&&3===t.length&&(n.headers[t[1].toLowerCase()]=t[2])}),m(n);var s=null;n.statusCode>=400&&(s=d(n.statusCode,n.content)),c(s,n)}else c(new Error("network"))},o.beforeSend){var w=a.once(o.beforeSend);if(!1===w.call(null,y,o))return y.abort()}y.send(i)}catch(e){c(e)}}},"deprecated.js":function(){e.http=h}}}}},{extensions:[".js",".json"]});g("./node_modules/meteor/http/httpcall_common.js"),g("./node_modules/meteor/http/httpcall_client.js"),g("./node_modules/meteor/http/deprecated.js"),"undefined"==typeof Package&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package.http={},{HTTP:h})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package.ejson.EJSON,o;(function(){(function(){if("function"!=typeof e&&"object"!=typeof e||"undefined"==typeof URL)if("function"!=typeof e&&"object"!=typeof e||"undefined"==typeof webkitURL)var e=function(e){"use strict";var t=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||e.MSBlobBuilder||function(e){var t=function(e){return Object.prototype.toString.call(e).match(/^\[object\s(.*)\]$/)[1]},n=function e(){this.data=[]},r=function e(t,n,r){this.data=t,this.size=t.length,this.type=n,this.encoding=r},o=n.prototype,i=r.prototype,a=e.FileReaderSync,s=function(e){this.code=this[this.name=e]},f="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),u=f.length,l=e.URL||e.webkitURL||e,c=l.createObjectURL,d=l.revokeObjectURL,p=l,b=e.btoa,y=e.atob,w=e.ArrayBuffer,h=e.Uint8Array;for(r.fake=i.fake=!0;u--;)s.prototype[f[u]]=u+1;return l.createObjectURL||(p=e.URL={}),p.createObjectURL=function(e){var t=e.type,n;return null===t&&(t="application/octet-stream"),e instanceof r?(n="data:"+t,"base64"===e.encoding?n+";base64,"+e.data:"URI"===e.encoding?n+","+decodeURIComponent(e.data):b?n+";base64,"+b(e.data):n+","+encodeURIComponent(e.data)):c?c.call(l,e):void 0},p.revokeObjectURL=function(e){"data:"!==e.substring(0,5)&&d&&d.call(l,e)},o.append=function(e){var n=this.data;if(h&&(e instanceof w||e instanceof h)){for(var o="",i=new h(e),f=0,u=i.length;f<u;f++)o+=String.fromCharCode(i[f]);n.push(o)}else if("Blob"===t(e)||"File"===t(e)){if(!a)throw new s("NOT_READABLE_ERR");var l=new a;n.push(l.readAsBinaryString(e))}else e instanceof r?"base64"===e.encoding&&y?n.push(y(e.data)):"URI"===e.encoding?n.push(decodeURIComponent(e.data)):"raw"===e.encoding&&n.push(e.data):("string"!=typeof e&&(e+=""),n.push(unescape(encodeURIComponent(e))))},o.getBlob=function(e){return arguments.length||(e=null),new r(this.data.join(""),e,"raw")},o.toString=function(){return"[object BlobBuilder]"},i.slice=function(e,t,n){var o=arguments.length;return o<3&&(n=null),new r(this.data.slice(e,o>1?t:this.data.length),n,this.encoding)},i.toString=function(){return"[object Blob]"},n}(e);return function e(n,r){var o=r?r.type||"":"",i=new t;if(n)for(var a=0,s=n.length;a<s;a++)i.append(n[a]);return i.getBlob(o)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content||this);else self.URL=webkitURL}).call(this),function(){function t(e,t){for(var n=atob(e.split(",")[1]),r=[],o=0;o<n.length;o++)r.push(n.charCodeAt(o));return new Blob([new Uint8Array(r)],{type:t})}function n(t){if(t){if(!(t instanceof e.Error))throw t;console.error(t.message)}}o=function e(n,o){var i=this;if(!n)throw new Error("DataMan constructor requires a data argument");if("undefined"!=typeof File&&n instanceof File)i.blob=n,i._type=n.type;else if("undefined"!=typeof Blob&&n instanceof Blob)i.blob=n,i._type=n.type;else if("undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer||r.isBinary(n)){if("undefined"==typeof Blob)throw new Error("Browser must support Blobs to handle an ArrayBuffer or Uint8Array");if(!o)throw new Error("DataMan constructor requires a type argument when passed an ArrayBuffer or Uint8Array");i.blob=new Blob([n],{type:o}),i._type=o}else{if("string"!=typeof n)throw new Error("DataMan constructor received data that it doesn't support");if("data:"===n.slice(0,5))i._type=n.slice(5,n.indexOf(";")),i.blob=t(n,i._type);else{if("http:"!==n.slice(0,5)&&"https:"!==n.slice(0,6))throw new Error("DataMan constructor received unrecognized data string");if(!o)throw new Error("DataMan constructor requires a type argument when passed a URL");i.url=n,i._type=o}}},o.prototype.getBlob=function e(t){var n=this;if(!t){if(n.url)throw new Error("DataMan.getBlob requires a callback when managing a URL");return n.blob}if(n.blob)t(null,n.blob);else if(n.url){var r=new XMLHttpRequest;r.open("GET",n.url,!0),r.responseType="blob",r.onload=function(e){n.blob=r.response,t(null,n.blob)},r.onerror=function(e){t(e)},r.send()}},o.prototype.getBinary=function e(t,r,o){function i(e){if("undefined"==typeof FileReader)return void o(new Error("Browser does not support FileReader"));var t=new FileReader;t.onload=function(e){o(null,new Uint8Array(e.target.result))},t.onerror=function(e){o(e)},t.readAsArrayBuffer(e)}var a=this;"function"==typeof t&&(o=t),o=o||n,a.getBlob(function(e,n){if(e)o(e);else if("number"==typeof t&&"number"==typeof r){var s=n.size;if(t>=s)return void o(new Error("DataMan.getBinary: start position beyond end of data ("+s+")"));r=Math.min(s,r);var f=n.slice||n.webkitSlice||n.mozSlice;if("undefined"==typeof f)return void o(new Error("Browser does not support File.slice"));i(f.call(n,t,r,a._type))}else i(n)})},o.prototype.saveAs=function e(t){var n=this;if("undefined"==typeof window)throw new Error("window must be defined to use saveLocal");return window.saveAs?void n.getBlob(function(e,n){if(e)throw e;window.saveAs(n,t)}):void console.warn("DataMan.saveAs: window.saveAs not supported by this browser - add cfs-filesaver package")},o.prototype.getDataUri=function e(t){var n=this;if("function"!=typeof t)throw new Error("getDataUri requires callback function");if("undefined"==typeof FileReader)return void t(new Error("Browser does not support FileReader"));var r=new FileReader;r.onload=function(e){var n=e.target.result;t(null,n)},r.onerror=function(e){t(e)},n.getBlob(function(e,n){e?t(e):r.readAsDataURL(n)})},o.prototype.size=function e(t){var n=this;if(!t){if(n.url)throw new Error("On the client, DataMan.size requires a callback when getting size for a URL on the client");if("number"==typeof n._size)return n._size;var r=n.getBlob();return n._size=r.size,n._size}"number"==typeof n._size?t(null,n._size):n.getBlob(function(e,r){e?t(e):(n._size=r.size,t(null,n._size))})},o.prototype.type=function e(){return this._type}}.call(this)}).call(this),"undefined"==typeof Package&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package["cfs:data-man"]={},{DataMan:o})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,o=Package.meteor.meteorEnv,i=Package["cfs:base-package"].FS,n=Package.tracker.Tracker,a=Package.tracker.Deps,r=Package.check.check,l=Package.check.Match,s=Package["ddp-client"].DDP,c=Package.mongo.Mongo,p=Package.http.HTTP,f=Package["cfs:data-man"].DataMan,u=Package["raix:eventemitter"].EventEmitter;(function(){(function(){function t(e,t,o){var i;return i=t&&e.hasStored(t)?e.type({store:t}):e.type(),"string"==typeof i&&0===i.indexOf(o)}function o(e){return e===Object(e)&&Object.getPrototypeOf(e)===Object.prototype}i.File=function(e,t){var n=this;n.createdByTransform=!!t,e instanceof i.File||o(e)?i.Utility.extend(n,i.Utility.cloneFileRecord(e,{full:!0})):e&&n.attachData(e)},i.File.prototype=new u,i.File.prototype.attachData=function t(o,n,a){function r(e){s.data=new f(o,e,c),s.type(s.data.type()),s.size()?l():a?s.data.size(function(e,t){e?a&&a(e):(s.size(t),l())}):(s.size(s.data.size()),l())}function l(){s.name()||"string"!=typeof o||("http:"===o.slice(0,5)||"https:"===o.slice(0,6)?i.Utility.getFileExtension(o).length&&s.name(i.Utility.getFileName(o)):"data:"!==o.slice(0,5)&&s.name(i.Utility.getFileName(o))),a&&a()}var s=this;if(a||"function"!=typeof n||(a=n,n={}),n=n||{},!o)throw new Error("FS.File.attachData requires a data argument with some data");var c;if("undefined"!=typeof File&&o instanceof File)s.name(o.name),s.updatedAt(o.lastModifiedDate),s.size(o.size),r(o.type);else if("undefined"!=typeof Blob&&o instanceof Blob)s.updatedAt(new Date),s.size(o.size),r(o.type);else if("string"!=typeof o||"http:"!==o.slice(0,5)&&"https:"!==o.slice(0,6))r(n.type);else if(c=i.Utility.extend({},n),c.type&&delete c.type,a)e.call("_cfs_getUrlInfo",o,c,function(e,t){i.debug&&console.log("URL HEAD RESULT:",t),e?a(e):(i.Utility.extend(s,{original:t}),r(t.type))});else{if(e.isClient)throw new Error("FS.File.attachData requires a callback when attaching a URL on the client");var p=e.call("_cfs_getUrlInfo",o,c);i.Utility.extend(s,{original:p}),r(p.type)}return s},i.File.prototype.uploadProgress=function(){var e=this;return e.getFileRecord(),e.uploadedAt?100:Math.round((e.chunkCount||0)/(e.chunkSum||1)*100)},i.File.prototype.controlledByDeps=function(){var e=this;return e.createdByTransform&&a.active},i.File.prototype.getCollection=function(){var e=this;if(e.collection)return e.collection;if(e.collectionName)return e.collection=i._collections[e.collectionName],e.collection},i.File.prototype.isMounted=i.File.prototype.getCollection,i.File.prototype.getFileRecord=function(){var e=this;if(e.controlledByDeps())return e;if(e.isMounted()){i.debug&&console.log("GET FILERECORD: "+e._id);var t=e.collection.files.findOne({_id:e._id})||{};return i.Utility.extend(e,t),t}return{}},i.File.prototype.update=function(t,o,n){var a=this;return i.debug&&console.log("UPDATE: "+JSON.stringify(t)),n||"function"!=typeof o||(n=o,o={}),n=n||i.Utility.defaultCallback,a.isMounted()?a.collection.files.update({_id:a._id},t,o,function(t,o){o>0&&e.isClient&&a.getFileRecord(),n(t,o)}):void n(new Error("Cannot update a file that is not associated with a collection"))},i.File.prototype._saveChanges=function(e){var t=this;if(t.isMounted()){i.debug&&console.log("FS.File._saveChanges:",e||"all");var o={$set:{}};if("_original"===e)o.$set.original=t.original;else if("string"==typeof e){var n=t.copies[e];n&&(o.$set["copies."+e]=n)}else o.$set.original=t.original,o.$set.copies=t.copies;t.update(o)}},i.File.prototype.remove=function(e){var t=this;return i.debug&&console.log("REMOVE: "+t._id),e=e||i.Utility.defaultCallback,t.isMounted()?t.collection.files.remove({_id:t._id},function(o,i){o||(delete t._id,delete t.collection,delete t.collectionName),e(o,i)}):void e(new Error("Cannot remove a file that is not associated with a collection"))},i.File.prototype.getExtension=function(e){var t=this;return t.extension(e)},i.File.prototype.isImage=function(e){return t(this,(e||{}).store,"image/")},i.File.prototype.isVideo=function(e){return t(this,(e||{}).store,"video/")},i.File.prototype.isAudio=function(e){return t(this,(e||{}).store,"audio/")},i.File.prototype.formattedSize=function e(t){var o=this;if("function"!=typeof numeral)throw new Error("You must add the numeral package if you call FS.File.formattedSize");t=t||{},t=t.hash||t;var i=o.size(t)||0;return numeral(i).format(t.formatString||"0.00 b")},i.File.prototype.isUploaded=function(){var e=this;return e.getFileRecord(),!!e.uploadedAt},i.File.prototype.hasStored=function(e,t){var o=this;return o.getFileRecord(),i.Utility.isEmpty(o.copies)?!!t:"string"==typeof e&&!!(o.copies&&o.copies[e]&&o.copies[e].key)},i.File.prototype.hasCopy=i.File.prototype.hasStored,i.File.prototype.getCopyInfo=function(e){var t=this;return t.getFileRecord(),t.copies&&t.copies[e]||null},i.File.prototype._getInfo=function(e,t){var o=this;return t=t||{},t.updateFileRecordFirst&&o.getFileRecord(),e?o.copies&&o.copies[e]||{}:o.original||{}},i.File.prototype._setInfo=function(e,t,o,i){var n=this;"string"==typeof e?(n.copies=n.copies||{},n.copies[e]=n.copies[e]||{},n.copies[e][t]=o,i&&n._saveChanges(e)):(n.original=n.original||{},n.original[t]=o,i&&n._saveChanges("_original"))},i.File.prototype.name=function(e,t){var o=this;return t||("object"!=typeof e||null===e)&&"undefined"!=typeof e?(t=t||{},o._setInfo(t.store,"name",e,"boolean"!=typeof t.save||t.save)):(t=e||{},t=t.hash||t,o._getInfo(t.store,t).name)},i.File.prototype.extension=function(e,t){var o=this;if(t||("object"!=typeof e||null===e)&&"undefined"!=typeof e){t=t||{};var n=i.Utility.setFileExtension(o.name(t)||"",e);return o._setInfo(t.store,"name",n,"boolean"!=typeof t.save||t.save)}return t=e||{},i.Utility.getFileExtension(o.name(t)||"")},i.File.prototype.size=function(e,t){var o=this;return t||("object"!=typeof e||null===e)&&"undefined"!=typeof e?(t=t||{},o._setInfo(t.store,"size",e,"boolean"!=typeof t.save||t.save)):(t=e||{},t=t.hash||t,o._getInfo(t.store,t).size)},i.File.prototype.type=function(e,t){var o=this;return t||("object"!=typeof e||null===e)&&"undefined"!=typeof e?(t=t||{},o._setInfo(t.store,"type",e,"boolean"!=typeof t.save||t.save)):(t=e||{},t=t.hash||t,o._getInfo(t.store,t).type)},i.File.prototype.updatedAt=function(e,t){var o=this;return t||("object"!=typeof e||null===e||e instanceof Date)&&"undefined"!=typeof e?(t=t||{},o._setInfo(t.store,"updatedAt",e,"boolean"!=typeof t.save||t.save)):(t=e||{},t=t.hash||t,o._getInfo(t.store,t).updatedAt)},"function"!=typeof Object.getPrototypeOf&&("object"==typeof"".__proto__?Object.getPrototypeOf=function(e){return e.__proto__}:Object.getPrototypeOf=function(e){return e.constructor.prototype})}).call(this)}).call(this),"undefined"==typeof Package&&(Package={}),Package["cfs:file"]={}}();

!function(){var e=Package.meteor.Meteor,a=Package.meteor.global,c=Package.meteor.meteorEnv,o=Package["cfs:base-package"].FS,g=Package.mongo.Mongo;(function(){}).call(this),"undefined"==typeof Package&&(Package={}),Package["cfs:tempstore"]={}}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,a=Package.meteor.meteorEnv,o,n;(function(){o=Package.http&&Package.http.HTTP||{},o.methods=function(){throw new Error("HTTP.methods not implemented on client-side")}}).call(this),"undefined"==typeof Package&&(Package={}),function(e,t){for(var a in t)a in e||(e[a]=t[a])}(Package["cfs:http-methods"]={},{HTTP:o,_methodHTTP:n})}();

!function(){var e=Package.meteor.Meteor,n=Package.meteor.global,t=Package.meteor.meteorEnv,o=Package["cfs:http-methods"].HTTP,i;(function(){(function(){o.publish=function(){throw new Error("HTTP.publish not implemented on client-side")},o.publishFormats=function(){throw new Error("HTTP.publishFormats not implemented on client-side")},o.unpublish=function(){throw new Error("HTTP.unpublish not implemented on client-side")}}).call(this)}).call(this),"undefined"==typeof Package&&(Package={}),function(e,n){for(var t in n)t in e||(e[t]=n[t])}(Package["cfs:http-publish"]={},{_publishHTTP:i})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,o=Package.meteor.meteorEnv,i=Package["cfs:base-package"].FS,n=Package.check.check,a=Package.check.Match,r=Package.ejson.EJSON,s=Package["cfs:http-methods"].HTTP,l,c;(function(){(function(){l=__meteor_runtime_config__.ROOT_URL_PATH_PREFIX||"",l.length>0&&("/"!==l.slice(0,1)&&(l="/"+l),"/"===l.slice(-1)&&(l=l.slice(0,-1))),e.isCordova&&(l=e.absoluteUrl(l.replace(/^\/+/,"")).replace(/\/+$/,"")),c="/cfs",i.HTTP=i.HTTP||{},i.HTTP.uploadUrl=l+c+"/files",i.HTTP.setBaseUrl=function t(o){"/"!==o.slice(0,1)&&(o="/"+o),"/"===o.slice(-1)&&(o=o.slice(0,-1)),c=o,i.HTTP.uploadUrl=l+c+"/files",e.isServer&&!i.Utility.isEmpty(_existingMountPoints)&&mountUrls()},i.File.prototype.url=function(t){var o=this;if(t=t||{},t=i.Utility.extend({store:null,auth:null,download:!1,metadata:!1,brokenIsFine:!1,uploading:null,storing:null,filename:null},t.hash||t),t.uploading&&!o.isUploaded())return t.uploading;if(o.isMounted()){var n=t.store||o.collection.primaryStore.name;if(!o.hasStored(n)){if(t.storing)return t.storing;if(!t.brokenIsFine)return null}var a=t.filename||o.name({store:n});a="string"==typeof a&&a.length?"/"+a:"";var r="";if(e.isClient&&"undefined"!=typeof Accounts&&"function"==typeof Accounts._storedLoginToken){if(t.auth!==!1){e.userId();var s={authToken:Accounts._storedLoginToken()||""};t.auth===+t.auth&&(s.expiration=i.HTTP.now()+1e3*t.auth);var T=JSON.stringify(s);r=i.Utility.btoa(T)}}else"string"==typeof t.auth&&(r=t.auth);var f={};""!==r&&(f.token=r),t.download&&(f.download=!0),t.store&&(f.store=t.store);var u=i.Utility.encodeParams(f);u.length&&(u="?"+u);var g;return g=t.metadata?"/record":"/files",l+c+g+"/"+o.collection.name+"/"+o._id+a+u}}}).call(this),function(){i.HTTP.setHeadersForGet=function e(){},i.HTTP.now=function(){return new Date(new Date+i.HTTP._serverTimeDiff)},i.HTTP._storage=function(){var e,t,o;try{o="test",(e=window.localStorage).setItem(o,o),t=e.getItem(o)!==o,e.removeItem(o),t&&(e=!1)}catch(e){console.log("Error initializing storage for FS.HTTP"),console.log(e)}return e},i.HTTP.storage=i.HTTP._storage(),i.HTTP._prefix="fsHTTP.",i.HTTP._serverTimeDiff=0,i.HTTP.storage&&(i.HTTP._serverTimeDiff=1*i.HTTP.storage.getItem(i.HTTP._prefix+"timeDiff")||0,e.startup(function(){s.get(l+"/cfs/servertime",function(e,t){if(e)console.log(e.message);else{var o=new Date((+t.content));i.HTTP._serverTimeDiff=o-new Date,i.HTTP.storage.setItem(i.HTTP._prefix+"timeDiff",i.HTTP._serverTimeDiff)}})}))}.call(this)}).call(this),"undefined"==typeof Package&&(Package={}),Package["cfs:access-point"]={}}();

!function(){var e=Package.meteor.Meteor,n=Package.meteor.global,t=Package.meteor.meteorEnv,a=Package.tracker.Tracker,c=Package.tracker.Deps,o,r,i;(function(){(function(){o=function(){},r={changed:o,depend:o},i=function(e,n){var t=this,a=n===!1?r:new c.Dependency;t.value=e,t.onChange=function(){},t.changed=function(){a.changed(),t.onChange(t.value)},t.get=function(){return a.depend(),t.value},t.set=function(e){t.value!==e&&(t.value=e,t.changed())},t.dec=function(e){t.value-=e||1,t.changed()},t.inc=function(e){t.value+=e||1,t.changed()},t.getset=function(e){return"undefined"==typeof e?t.get():void t.set(e)},t.toString=function(){var e=t.get();return e?e.toString():""},t.toText=t.toString}}).call(this)}).call(this),"undefined"==typeof Package&&(Package={}),function(e,n){for(var t in n)t in e||(e[t]=n[t])}(Package["cfs:reactive-property"]={},{ReactiveProperty:i})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,o=Package.tracker.Tracker,r=Package.tracker.Deps,i;(function(){(function(){var e=function(){},t={changed:e,depend:e};i=function(e){var n=this;n.lookup={},n._length=0,n.first,n.last,n.sort=e&&e.sort||function(e,t){return e.key<t.key},n.isReactive=!e||e.reactive!==!1,(e===!0||e&&e.sort===!0)&&(n.sort=function(e,t){return e.key>t.key}),n._listDeps=n.isReactive?new r.Dependency:t,n._lengthDeps=n.isReactive?new r.Dependency:t},i.prototype.length=function(){var e=this;return e._lengthDeps.depend(),e._length},i.prototype.reset=function(){var e=this;e.first=void 0,e.last=void 0,e.lookup={},e._length=0,e._lengthDeps.changed(),e._listDeps.changed()},i.prototype.update=function(e,t){var n=this;if("undefined"==typeof n.lookup[e])throw new Error('Reactive list cannot update, key "'+e+'" not found');n.lookup[e].value=t,n._listDeps.changed()},i.prototype.insert=function(e,t){var n=this;if("undefined"!=typeof n.lookup[e])throw new Error('Reactive list could not insert: key "'+e+'" allready found');for(var o={key:e,value:t},r=n.first,i=!1;"undefined"!=typeof r&&!i;)n.sort(o,r)&&("undefined"==typeof r.prev&&(n.first=o),o.prev=r.prev,o.next=r,r.prev&&(r.prev.next=o),r.prev=o,i=!0),r=r.next;i||(o.prev=n.last,n.last&&(n.last.next=o),n.last=o,0===n._length&&(n.first=o)),n.lookup[e]=o,n._length++,n._lengthDeps.changed(),n._listDeps.changed()},i.prototype.remove=function(e){var t=this,n=t.lookup[e];if("undefined"!=typeof n){var o=n.prev,r=n.next;"undefined"!=typeof o?o.next=r:t.first=r,"undefined"!=typeof r?r.prev=o:t.last=o,t.lookup[e].last=null,t.lookup[e].prev=null,t.lookup[e]=null,o=null,delete t.lookup[e],t._length--,t._lengthDeps.changed(),t._listDeps.changed()}},i.prototype.getLastItem=function(e){var t=this,n=e?t.first:t.last;if("undefined"!=typeof n)return t.remove(n.key),n.value},i.prototype.getFirstItem=function(){return this.getLastItem(!0)},i.prototype.forEach=function(e,t,n){var o=this;if("function"!=typeof e)throw new Error("ReactiveList forEach requires a function");t||o._listDeps.depend();for(var r=n?o.last:o.first;r;)e(r.value,r.key),r=n?r.prev:r.next},i.prototype.forEachReverse=function(e,t){this.forEach(e,t,!0)},i.prototype.fetch=function(e){var t=this,n=[];return t.forEach(function e(t){n.push(t)},e),n}}).call(this)}).call(this),"undefined"==typeof Package&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package["cfs:reactive-list"]={},{ReactiveList:i})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,a=Package.tracker.Tracker,r=Package.tracker.Deps,o=Package["cfs:reactive-property"].ReactiveProperty,i,s,u;(function(){(function(){"undefined"==typeof i&&Package["micro-queue"]&&(i=Package["micro-queue"].MicroQueue),"undefined"==typeof s&&Package["reactive-list"]&&(s=Package["reactive-list"].ReactiveList),"undefined"==typeof i&&Package["cfs:micro-queue"]&&(i=Package["cfs:micro-queue"].MicroQueue),"undefined"==typeof s&&Package["cfs:reactive-list"]&&(s=Package["cfs:reactive-list"].ReactiveList),u=function(e){var t=this,n=5;t.reactive=!e||e.reactive!==!1;var a="undefined"!=typeof i&&i||void 0;if(a="undefined"!=typeof s&&s||a,e&&"undefined"!=typeof e.spinalQueue&&(a=e.spinalQueue),"undefined"==typeof a)throw console.log("Error: You need to add a spinal queue to the project"),console.log('Please add "micro-queue", "reactive-list" to the project'),new Error('Please add "micro-queue", "reactive-list" or other spinalQueue compatible packages');t.invocations=new a({sort:e&&(e.filo||e.lifo),reactive:t.reactive}),t._processList=new a({reactive:t.reactive}),t._maxProcessing=new o(e&&e.maxProcessing||1,t.reactive),t._isProcessing=new o(0,t.reactive),t._paused=new o(e&&e.isPaused||!1,t.reactive),t._running=new o((!1),t.reactive),t._errors=new o(0,t.reactive),t._failures=new o(0,t.reactive),t._jumpOnFailure=!e||e.jumpOnFailure!==!1,t._maxLength=new o(0,t.reactive),t._autostart=new o(!e||e.autostart!==!1,t.reactive),t._maxFailures=new o(e&&e.maxFailures||5,t.reactive),t.title=e&&e.name||"Queue",t.debug=!(!e||!e.debug),t.total=t._maxLength.get,t.isPaused=t._paused.get,t.processing=t._isProcessing.get,t.errors=t._errors.get,t.failures=t._failures.get,t.isRunning=t._running.get,t.maxProcessing=t._maxProcessing.getset,t._maxProcessing.onChange=function(){t.updateThrottleUp(),t.updateThrottleDown()},t.autostart=t._autostart.getset,t.maxFailures=t._maxFailures.getset,t.onPaused=e&&e.onPaused||function(){t.debug&&console.log(t.title+" ENDED")},t.onEnded=e&&e.onEnded||function(){t.debug&&console.log(t.title+" ENDED")},t.onRelease=e&&e.onRelease||function(){t.debug&&console.log(t.title+" RELEASED")},t.onAutostart=e&&e.onAutostart||function(){t.debug&&console.log(t.title+" Autostart")}},u.prototype.processingList=function(){var e=this;return e._processList.fetch()},u.prototype.isHalted=function(){var e=this;return!e._running.get()||e._paused.get()},u.prototype.length=function(){var e=this;return e.invocations.length()},u.prototype.progress=function(){var e=this,t=e._maxLength.get()-e.invocations.length()-e._isProcessing.get();return e._maxLength.value>0?Math.round(t/e._maxLength.value*100):0},u.prototype.usage=function(){var e=this;return Math.round(e._isProcessing.get()/e._maxProcessing.get()*100)},u.prototype.reset=function(){var e=this;e.debug&&console.log(e.title+" RESET"),e._running.set(!1),e._paused.set(!1),e.invocations.reset(),e._processList.reset(),e._maxLength.set(0),e._failures.set(0),e._errors.set(0)},u.prototype._autoStartTasks=function(){var e=this;e._paused.value||(!e._running.value&&e._autostart.value&&(e.onAutostart(),e._running.set(!0)),e._running.value&&e.next(null))},u.prototype.add=function(e,t,n){var a=this,r=a._jumpOnFailure||"undefined"==typeof n,o=r?a._maxLength.value+1:n;a.invocations.insert(o,{_id:o,data:e,failures:t||0}),r&&a._maxLength.inc(),a._autoStartTasks()},u.prototype.updateThrottleUp=function(){var e=this,t=e._maxProcessing.value-e._isProcessing.value;!e._paused.value&&e._running.value&&t>0&&e.invocations._length>0&&(e._isProcessing.inc(),e.runTask(e.invocations.getFirstItem()),e.updateThrottleUp())},u.prototype.updateThrottleDown=function(){var e=this,t=e._isProcessing.value-e._maxProcessing.value;t>0&&e._processList.forEachReverse(function(e){t>0&&e.queue instanceof u&&(t--,e.queue.pause())},!0)},u.prototype.next=function(e){var t=this;t.updateThrottleUp(),t._running.value&&0===t._isProcessing.value&&null!==e&&(t.onRelease(t.invocations._length),t.invocations._length||(t._running.set(!1),t.onEnded()))},u.prototype.runTaskDone=function(t,n){var a=this;if(t instanceof e.Error)a._maxFailures.value>0&&n.failures++,a._failures.inc(),console.error('Error: "'+a.title+'" '+t.message+", "+t.stack),n.failures<a._maxFailures.value?a.add(n.data,n.failures,n._id):(a._errors.inc(),a.errorHandler(n.data,a.add,n.failures));else if(t instanceof Error)throw t;if(t&&null===t&&a.invocations.insert(n._id,{data:n.data,failures:n.failures,_id:n._id}),t===""+t){var r={pause:function(){a.pause()},stop:function(){a.stop()},reset:function(){a.reset()},cancel:function(){a.cancel()}};if("function"!=typeof r[t])throw new Error('Unknown queue command "'+t+'"');r[t]()}a._isProcessing.value>0&&a._isProcessing.dec(),a._processList.remove(n._id),n.data=null,n.failures=null,n._id=null,n=null,delete n,e.setTimeout(function(){a.next()},0)},u.prototype.runTask=function(e){var t=this;try{e.data instanceof u?(t._processList.insert(e._id,{id:e._id,queue:e.data}),t.queueTaskHandler(e.data,function n(a){t.runTaskDone(a,e)},e.failures)):(t._processList.insert(e._id,e.data),t.taskHandler(e.data,function n(a){t.runTaskDone(a,e)},e.failures))}catch(e){throw new Error("Error while running taskHandler for queue, Error: "+e.message)}},u.prototype.queueTaskHandler=function(e,t,n){var a=this;e.onRelease=function(e){e>0?t(null):t()},e.run()},u.prototype.taskHandler=function(e,t,n){var a=this;if("function"!=typeof e)throw new Error("Default task handler expects a function");try{e(t,n)}catch(e){t(e)}},u.prototype.errorHandler=function(e,t,n){var a=this;a.debug&&console.log("Terminate at "+n+" failures")},u.prototype.pause=function(){var e=this;e._paused.value||(e._paused.set(!0),e._processList.forEach(function(e){e.queue instanceof u&&e.queue.pause()},!0),e.onPaused())},u.prototype.resume=function(){var e=this;e.run()},u.prototype.run=function(){var e=this;!e._paused.value&&e._running.value||!e.invocations._length||(e._paused.set(!1),e._running.set(!0),e.next(null))},u.prototype.stop=function(){var e=this;e._running.set(!1)},u.prototype.cancel=function(){var e=this;e.reset()}}).call(this)}).call(this),"undefined"==typeof Package&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package["cfs:power-queue"]={},{PowerQueue:u})}();

!function(){var e=Package.meteor.Meteor,n=Package.meteor.global,t=Package.meteor.meteorEnv,r=Package["cfs:base-package"].FS,a=Package["cfs:power-queue"].PowerQueue,o=Package["cfs:reactive-list"].ReactiveList,i,u,s,l,c,f,p;(function(){(function(){i=function(n,t,a,o){if(o||"function"!=typeof a||(o=a,a=null),a=a||{},"function"!=typeof o)throw new Error("Can't make a blocking HTTP call from the client; callback required.");n=(n||"").toUpperCase();var i={},l=a.content;a.data&&(l=JSON.stringify(a.data),i["Content-Type"]="application/json");var p,d;l||"GET"===n||"HEAD"===n?p=a.params:d=a.params;var h=/^(.*?)(\?.*)?$/.exec(t);if(t=u(h[1],h[2],a.query,p),a.followRedirects===!1)throw new Error("Option followRedirects:false not supported on client.");var g,m;if(a.auth){var y=a.auth.indexOf(":");if(y<0)throw new Error('auth option should be of the form "username:password"');g=a.auth.substring(0,y),m=a.auth.substring(y+1)}d&&(l=s(d)),r.Utility.extend(i,a.headers||{}),o=function(e){return function(n,t){n&&t&&(n.response=t),e(n,t)}}(o),o=r.Utility.once(o);try{var k;if("undefined"!=typeof XMLHttpRequest)k=new XMLHttpRequest;else{if("undefined"==typeof ActiveXObject)throw new Error("Can't create XMLHttpRequest");k=new ActiveXObject("Microsoft.XMLHttp")}k.open(n,t,!0,g,m);var v;"ejson-binary"===a.responseType?(k.responseType="arraybuffer",v=!0):k.responseType=a.responseType;for(var w in i)k.setRequestHeader(w,i[w]);var T=!1,b;a.timeout&&(b=e.setTimeout(function(){T=!0,k.abort()},a.timeout)),k.onreadystatechange=function(n){if(4===k.readyState)if(b&&e.clearTimeout(b),T)o(new Error("timeout"));else if(k.status){var t={};t.statusCode=k.status;var i=k.response||k.responseText;if("json"===a.responseType&&"string"==typeof i)try{i=JSON.parse(i)}catch(e){i=null}if(v&&"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&i instanceof ArrayBuffer){for(var u=new Uint8Array(i),s=i.byteLength,l=EJSON.newBinary(s),p=0;p<s;p++)l[p]=u[p];i=l}t.content=i,t.headers={};var d=k.getAllResponseHeaders();""===d&&k.getResponseHeader("content-type")&&(d="content-type: "+k.getResponseHeader("content-type"));var h=d.split(/\r?\n/);r.Utility.each(h,function(e){var n=/^(.*?):(?:\s+)(.*)$/.exec(e);n&&3===n.length&&(t.headers[n[1].toLowerCase()]=n[2])}),f(t);var g=null;t.statusCode>=400&&(g=c(t.statusCode,t.content)),o(g,t)}else o(new Error("network"))},k.send(l)}catch(e){o(e)}},u=function(e,n,t,r){var a=e,o=n?n.slice(1):null;if("string"==typeof t&&(o=String(t)),r){o=o||"";var i=s(r);o&&i&&(o+="&"),o+=i}var u=a;return null!==o&&(u+="?"+o),u},s=function(e){var n=[];return r.Utility.each(e,function(e,t){n.length&&n.push("&"),n.push(l(t),"=",l(e))}),n.join("").replace(/%20/g,"+")},l=function(e){return encodeURIComponent(e).replace(/[!'()]/g,escape).replace(/\*/g,"%2A")},c=function(e,n){var t=160,r=function(e,n){return e.length>n?e.slice(0,n)+"...":e},a="failed ["+e+"]";return n&&(a+=" "+r(n.replace(/\n/g," "),t)),new Error(a)},f=function(e){var n=(e.headers["content-type"]||";").split(";")[0];if(r.Utility.include(["application/json","text/javascript"],n))try{e.data=JSON.parse(e.content)}catch(n){e.data=null}else e.data=null}}).call(this),function(){r.HTTP=r.HTTP||{}}.call(this),function(){var n=2097152,t=function(n,t){r.debug&&console.log("uploading chunk "+n.chunk+", bytes "+n.start+" to "+Math.min(n.end,n.fileObj.size())+" of "+n.fileObj.size()),n.fileObj.data.getBinary(n.start,n.end,function a(o,u){o?t(new e.Error(o.error,o.message)):(r.debug&&console.log("PUT to URL",n.url,n.urlParams),i("PUT",n.url,{params:r.Utility.extend({chunk:n.chunk},n.urlParams),content:u,headers:{"Content-Type":n.fileObj.type()}},function(r,a){n=null,r?t(new e.Error(r.error,r.message)):t()}))})},u=function(e,n,t){};p=function(e){e=e||{};var i=new a({name:"HTTPUploadTransferQueue",maxProcessing:1,maxFailures:5,jumpOnFailure:!0,autostart:!0,isPaused:!1,filo:!1,debug:r.debug});return i.files={},i.cancel=i.reset,i.isUploadingFile=function(e){return!!(e&&e._id&&e.collectionName&&(i.files[e.collectionName]||{})[e._id])},i.resumeUploadingFile=function(e){if(!(e instanceof r.File))throw new Error("Transfer queue expects a FS.File");e.isMounted()&&(i.files[e.collectionName]=i.files[e.collectionName]||{},i.files[e.collectionName][e._id]=!1,i.uploadFile(e))},i.uploadFile=function(e){if(r.debug&&console.log("HTTP uploadFile"),!(e instanceof r.File))throw new Error("Transfer queue expects a FS.File");if("number"!=typeof e.size())throw new Error("TransferQueue upload failed: fileObj size not set");if(!i.isUploadingFile(e)&&!e.isUploaded()&&e.isMounted()){var s=e.collectionName,l=e._id;if(e.chunkSize=e.collection.options.chunkSize||r.config.uploadChunkSize||n,e.chunkCount=0,e.chunkSum=Math.ceil(e.size()/e.chunkSize),0===e.chunkSum)return;e.update({$set:{chunkSize:e.chunkSize,chunkCount:e.chunkCount,chunkSum:e.chunkSum}});var c=new a({onEnded:function n(){i.files[s][l]=!1,e.emit("uploaded")},spinalQueue:o,maxProcessing:1,maxFailures:5,jumpOnFailure:!0,autostart:!1,isPaused:!1,filo:!1});c.taskHandler=t,c.errorHandler=u,i.files[s]=i.files[s]||{},i.files[s][l]=!0;var f=r.HTTP.uploadUrl+"/"+s;l&&(f+="/"+l);var p="";if("undefined"!=typeof Accounts){var d={authToken:Accounts._storedLoginToken()||""},h=JSON.stringify(d);p=r.Utility.btoa(h)}var g={filename:e.name()};""!==p&&(g.token=p);for(var m=0,y;m<e.chunkSum;m++)y=m*e.chunkSize,c.add({chunk:m,name:e.name(),url:f,urlParams:g,fileObj:e,start:y,end:(m+1)*e.chunkSize});i.add(c)}},i},r.HTTP.uploadQueue=new p,r.File.prototype.resume=function(e){var n=this;r.uploadQueue.resumeUploadingFile(n)}}.call(this)}).call(this),"undefined"==typeof Package&&(Package={}),Package["cfs:upload-http"]={}}();

!function(){var e=Package.meteor.Meteor,o=Package.meteor.global,t=Package.meteor.meteorEnv,n=Package["cfs:base-package"].FS,i=Package.tracker.Tracker,l=Package.tracker.Deps,r=Package.check.check,a=Package.check.Match,s=Package["ddp-client"].DDP,c=Package["raix:eventemitter"].EventEmitter,d=Package.mongo.Mongo;(function(){(function(){n.Collection=function(o,t){var i=this;if(i.storesLookup={},i.primaryStore={},i.options={filter:null,stores:[],chunkSize:null},n.HTTP&&n.HTTP.uploadQueue?i.options.uploader=n.HTTP.uploadQueue.uploadFile:n.DDP&&n.DDP.uploadQueue&&(i.options.uploader=n.DDP.uploadQueue.uploadFile),n.Utility.extend(i.options,t||{}),i.name=o,n.Utility.isEmpty(i.options.stores))throw new Error("You must specify at least one store. Please consult the documentation.");n.Utility.each(i.options.stores,function(t,l){if(0===l&&(i.primaryStore=t),"undefined"!=typeof i.storesLookup[t.name])throw new Error("FS.Collection store names must be uniq, duplicate found: "+t.name);i.storesLookup[t.name]=t,e.isServer&&(t.on("stored",function(e,l){if(e===t.name){if(l.collectionName===o){var r=i.emit("stored",l,t.name);n.debug&&!r&&console.log(l.name({store:t.name})+" was successfully saved to the "+t.name+' store. You are seeing this informational message because you enabled debugging and you have not defined any listeners for the "stored" event on the '+o+" collection.")}l.emit("stored",t.name)}}),t.on("error",function(e,l,r){if(e===t.name){if(r.collectionName===o){l=new Error("Error storing file to the "+t.name+" store: "+l.message);var a=i.emit("error",l,r,t.name);n.debug&&!a&&console.log(l.message)}r.emit("error",t.name)}}))});var l={transform:function(e){var t=new n.File(e,(!0));return t.collectionName=o,t}},r="cfs."+o+".filerecord";if(i.files=new d.Collection(r,l),i._validators={download:{allow:[],deny:[]}},i.filters&&i.filters(i.options.filter),n._collections[o]=this,e.isServer&&n.FileWorker&&n.FileWorker.observe(this),i.files.find().observe({removed:function(e){i.emit("removed",e)}}),n.TempStore)n.TempStore.on("stored",function(e,t){if(e.collectionName===o){var l=i.emit("uploaded",e);n.debug&&!l&&console.log(e.name()+' was successfully uploaded. You are seeing this informational message because you enabled debugging and you have not defined any listeners for the "uploaded" event on the '+o+" collection.")}}),n.TempStore.on("error",function(e,t){t.collectionName===o&&i.emit("error",new Error("Error storing uploaded file to TempStore: "+e.message),t)});else if(e.isServer)throw new Error("FS.Collection constructor: FS.TempStore must be defined before constructing any FS.Collections.")},n.Collection.prototype=new c}).call(this),function(){n.Collection.prototype.insert=function(o,t){function i(o){e.isClient?r.options.uploader&&r.options.uploader(o):e.isServer&&o.createReadStream().pipe(n.TempStore.createWriteStream(o))}function l(e){return r.allowsFile(e)?(e.collectionName=r.name,t?e._id=r.files.insert(n.Utility.cloneFileRecord(e),function(o,n){o?e._id&&delete e._id:(e._id=n,i(e)),t(o,o?void 0:e)}):(e._id=r.files.insert(n.Utility.cloneFileRecord(e)),i(e)),e):n.Utility.handleError(t,"FS.Collection insert: file does not pass collection filters")}var r=this;if(e.isClient&&!t&&(t=n.Utility.defaultCallback),o instanceof n.File)return l(o);var a=new n.File(o);return t?a.attachData(o,function e(o){o?t(o):l(a)}):(a.attachData(o),l(a)),a},n.Collection.prototype.update=function(e,o,t,i){var l=this;if(e instanceof n.File){if(e.collectionName===l.files._name)return e.update(o,t,i);throw new Error('FS.Collection cannot update file belongs to: "'+e.collectionName+'" not: "'+l.files._name+'"')}return l.files.update(e,o,t,i)},n.Collection.prototype.remove=function(e,o){var t=this;if(e instanceof n.File){if(e.collectionName===t.files._name)return e.remove(o);throw new Error('FS.Collection cannot remove file belongs to: "'+e.collectionName+'" not: "'+t.files._name+'"')}return o=o||n.Utility.defaultCallback,t.files.remove(e,o)},n.Collection.prototype.findOne=function(e){var o=this;return o.files.findOne.apply(o.files,arguments)},n.Collection.prototype.find=function(e){var o=this;return o.files.find.apply(o.files,arguments)},n.Collection.prototype.allow=function(e){var o=this;if(e.download){if(!(e.download instanceof Function))throw new Error("allow: Value for `download` must be a function");o._validators.download.allow.push(e.download),delete e.download}return o.files.allow.call(o.files,e)},n.Collection.prototype.deny=function(e){var o=this;if(e.download){if(!(e.download instanceof Function))throw new Error("deny: Value for `download` must be a function");o._validators.download.deny.push(e.download),delete e.download}return o.files.deny.call(o.files,e)},n.Collection.prototype.allowsFile=function e(o){return!0}}.call(this)}).call(this),"undefined"==typeof Package&&(Package={}),Package["cfs:collection"]={}}();

!function(){var e=Package.meteor.Meteor,n=Package.meteor.global,t=Package.meteor.meteorEnv,i=Package["cfs:base-package"].FS;(function(){(function(){function e(e,n){for(var t,i=!1,o=0,a=e.length;o<a;o++){if(t=e[o],t===n){i=!0;break}if("image/*"===t&&0===n.indexOf("image/")){i=!0;break}if("audio/*"===t&&0===n.indexOf("audio/")){i=!0;break}if("video/*"===t&&0===n.indexOf("video/")){i=!0;break}}return i}i.Collection.prototype.filters=function e(n){var t=this;if(n){if(i.Utility.each(["allow","deny"],function(e){if(n[e]){if("object"!=typeof n[e])throw new Error(e+" filter must be an object")}else n[e]={}}),"undefined"==typeof n.maxSize)n.maxSize=null;else if(n.maxSize&&"number"!=typeof n.maxSize)throw new Error("maxSize filter must be an number");i.Utility.each(["allow","deny"],function(e){if(n[e].extensions){if(!i.Utility.isArray(n[e].extensions))throw new Error(e+".extensions filter must be an array of extensions");for(var t=0,o=n[e].extensions.length;t<o;t++)n[e].extensions[t]=n[e].extensions[t].toLowerCase()}else n[e].extensions=[]}),i.Utility.each(["allow","deny"],function(e){if(n[e].contentTypes){if(!i.Utility.isArray(n[e].contentTypes))throw new Error(e+".contentTypes filter must be an array of content types")}else n[e].contentTypes=[]}),t.options.filter=n}t.files.deny({insert:function(e,n){return!t.allowsFile(n)},update:function(e,n,i,o){return!t.allowsFile(n)},fetch:[]}),Package&&Package.insecure&&t.allow({insert:function(){return!0},update:function(){return!0},remove:function(){return!0},download:function(){return!0},fetch:[],transform:null})},i.Collection.prototype.allowsFile=function n(t){var o=this,a=o.options.filter;if(!a)return!0;var r=0===a.allow.extensions.length,l=0===a.allow.contentTypes.length,s=t.name(),f=t.type();if(!l&&!f)return a.onInvalid&&a.onInvalid(s+" has an unknown content type"),!1;var c=t.size();if(!c||isNaN(c))return a.onInvalid&&a.onInvalid(s+" has an unknown file size"),!1;if(s){var u=t.getExtension();if(!r&&i.Utility.indexOf(a.allow.extensions,u)===-1||i.Utility.indexOf(a.deny.extensions,u)!==-1)return a.onInvalid&&a.onInvalid(s+' has the extension "'+u+'", which is not allowed'),!1}return!l&&!e(a.allow.contentTypes,f)||e(a.deny.contentTypes,f)?(a.onInvalid&&a.onInvalid(s+' is of the type "'+f+'", which is not allowed'),!1):!("number"==typeof a.maxSize&&c>a.maxSize)||(a.onInvalid&&a.onInvalid(s+" is too big"),!1)}}).call(this)}).call(this),"undefined"==typeof Package&&(Package={}),Package["cfs:collection-filters"]={}}();

!function(){var e=Package.meteor.Meteor,a=Package.meteor.global,c=Package.meteor.meteorEnv,o=Package["cfs:base-package"].FS,g=Package["ddp-client"].DDP,k=Package["cfs:power-queue"].PowerQueue,P=Package.mongo.Mongo;(function(){}).call(this),"undefined"==typeof Package&&(Package={}),Package["cfs:worker"]={}}();

!function(){var e=Package.meteor.Meteor,o=Package.meteor.global,a=Package.meteor.meteorEnv,r=Package.spacebars.Spacebars,n=Package["ecmascript-runtime"].Symbol,t=Package["ecmascript-runtime"].Map,s=Package["ecmascript-runtime"].Set,m=Package["babel-runtime"].meteorBabelHelpers,i=Package.promise.Promise,c=Package.modules.meteorInstall,p=Package.modules.Buffer,v=Package.modules.process,l,f,g=c({node_modules:{meteor:{mrstn:{"init.coffee.js":["meteor/templating",function(o,a,r){l="object"==typeof l?l:{};var n=l,t;r.import("meteor/templating",{Template:function(e){t=e}}),f={OS:{response:{},models:{}}},f.constants={OS:{host:"10.0.0.3",owner:"718f3e83ce7b47678dad72e253609edb",services:[{name:"Keystone",port:"5000",version:"v3"},{name:"Glance",port:"9292",version:"v2"},{name:"Nova",port:"8774",version:"v2.1"},{name:"Cinder",port:"8776",version:"v2"},{name:"Ceilometer",port:"8777",version:"v2"},{name:"Swift",port:"8080",version:"v1"},{name:"Heat",port:"8004",version:"v1"},{name:"Neutron",port:"9696",version:"v2.0"},{name:"DNS",port:"9001",version:"v2"}]}},e.isClient&&t.registerHelper("App",function(){return f})}]}}}},{extensions:[".js",".json",".coffee"]});g("./node_modules/meteor/mrstn/init.coffee.js"),"undefined"==typeof Package&&(Package={}),function(e,o){for(var a in o)a in e||(e[a]=o[a])}(Package.mrstn={},{App:f})}();

!function(){var e=Package.meteor.Meteor,n=Package.meteor.global,t=Package.meteor.meteorEnv,o=Package.underscore._,c=Package["ecmascript-runtime"].Symbol,r=Package["ecmascript-runtime"].Map,i=Package["ecmascript-runtime"].Set,s=Package["babel-runtime"].meteorBabelHelpers,u=Package.promise.Promise,l=Package.modules.meteorInstall,a=Package.modules.Buffer,f=Package.modules.process,m,p,d=l({node_modules:{meteor:{"app-ctrl-collections":{"namespace.coffee.js":["meteor/mrstn",function(e,n,t){m="object"==typeof m?m:{};var o=m,c;t.import("meteor/mrstn",{App:function(e){c=e}}),c.sync={},c.sync.patterns={},c.Publications={},c.Collections={},c.Collections.construct={},c.Collections.construct.default={},c.Collections.construct.custom={},c.Publications={},c.Subscriptions={public:[],user:[],projectDepend:[]}}],"subscriptions.coffee.js":function(){m="object"==typeof m?m:{};var e=m},"collections.coffee.js":["meteor/mrstn","meteor/mongo",function(n,t,c){m="object"==typeof m?m:{};var r=m,i;c.import("meteor/mrstn",{App:function(e){i=e}});var s;c.import("meteor/mongo",{Mongo:function(e){s=e}}),i.Collections.construct.default=function(n){if(i[n].config&&i[n].config.sync&&(i[n].model=new s.Collection(null,{transform:function(){function e(e){return new i[n].Item(e)}return e}()}),i[n].model.allow({insert:function(){function e(){return!0}return e}(),update:function(){function e(){return!0}return e}(),remove:function(){function e(){return!0}return e}()})),i[n].model||(i[n].model=new s.Collection(n,{transform:function(){function e(e){return new i[n].Item(e)}return e}()})),i[n].Item=function(e){return o.extend(this,e)},o.extend(i[n].Item.prototype,{name:function(){function e(){return this._id||this.name}return e}()}),i.Collections.construct.custom(n,i[n].Item.prototype,i[n].model),e.isClient&&i[n].API&&void 0===i[n].config.syncCustom)return i.sync.defineDefaults(n)},i.Collections.construct.custom=function(e,n,t){return i[e].get=function(n){return i[e].model.findOne(n||{})},i[e].list=function(n){return i[e].model.find(n||{})},i[e].exist=function(){return!i[e].blank()},i[e].blank=function(){return 0===i[e].list().count()},i[e].name=function(n){var t;return t=i[e].get({$or:[{id:n},{_id:n}]}),t?t.name?t.name:t.id?t.id:t._id:""}}}],"client.coffee.js":["meteor/mrstn",function(n,t,o){m="object"==typeof m?m:{};var c=m,r;o.import("meteor/mrstn",{App:function(e){r=e}}),r.sync.defineDefaults=function(n){if(e.isClient)return r[n].sync={},r[n].sync=function(n,t){return e.call("App."+n+".sync",t,function(e,t){return e?console.log(e):console.log("Sync "+n)})}}}]}}}},{extensions:[".js",".json",".coffee"]});d("./node_modules/meteor/app-ctrl-collections/namespace.coffee.js"),d("./node_modules/meteor/app-ctrl-collections/subscriptions.coffee.js"),d("./node_modules/meteor/app-ctrl-collections/collections.coffee.js"),d("./node_modules/meteor/app-ctrl-collections/client.coffee.js"),"undefined"==typeof Package&&(Package={}),function(e,n){for(var t in n)t in e||(e[t]=n[t])}(Package["app-ctrl-collections"]={},{App:p})}();

!function(){var a;"undefined"==typeof Package&&(Package={}),function(a,n){for(var c in n)c in a||(a[c]=n[c])}(Package["app-ctrl-jobs"]={},{App:a})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,a=Package.meteor.meteorEnv,n=Package["templating-runtime"].Template,r=Package["reactive-var"].ReactiveVar,c=Package["perak:markdown"].Markdown,o=Package["aldeed:autoform"].AutoForm,s=Package["aldeed:simple-schema"].SimpleSchema,i=Package["aldeed:simple-schema"].MongoObject,u=Package.blaze.Blaze,l=Package.blaze.UI,d=Package.blaze.Handlebars,f=Package.spacebars.Spacebars,k=Package.htmljs.HTML;(function(){n.__checkName("afMarkdownEditor"),n.afMarkdownEditor=new n("Template.afMarkdownEditor",function(){var e=this;return k.DIV({"data-template":"bootstrap-markdown-editor"},"\n    ",k.UL({class:"nav nav-tabs",role:"tablist"},"\n      ",k.LI({class:function(){return u.If(function(){return f.dataMustache(e.lookup("isTabActive"),"#write")},function(){return" active "})}},k.Raw('<a href="#write">Write</a>')),"\n      ",k.LI({class:function(){return u.If(function(){return f.dataMustache(e.lookup("isTabActive"),"#preview")},function(){return" active "})}},k.Raw('<a href="#preview">Preview</a>')),"\n    "),"\n    ",k.DIV({class:"tab-content"},"\n      ",k.DIV({id:"write",class:function(){return["tab-pane ",u.If(function(){return f.dataMustache(e.lookup("isTabActive"),"#write")},function(){return" active "})]}},"\n        ",k.DIV({class:"markdown-container"},"\n          ",k.SECTION({class:"markdown-write"},"\n            ",k.TEXTAREA(k.Attrs({class:"form-control markdownInput"},function(){return f.attrMustache(e.lookup("atts"))},{value:function(){return f.mustache(e.lookup("value"))}})),"\n          "),"\n        "),"\n      "),"\n      ",k.DIV({id:"preview",class:function(){return["tab-pane ",u.If(function(){return f.dataMustache(e.lookup("isTabActive"),"#preview")},function(){return" active "})]}},"\n        ",k.DIV({class:"markdown-container"},"\n          ",k.SECTION({class:"markdown-preview"},"\n            ",k.SPAN({class:"form-control"}," ",u.View("lookup:markdownText",function(){return f.makeRaw(f.mustache(e.lookup("markdownText")))})," "),"\n          "),"\n        "),"\n      "),"\n    "),"\n  ")})}).call(this),function(){!function(e,t,a){var n=function(e){var n={text:"",start:0,end:0};if(!e.value)return n;try{if(t.getSelection)n.start=e.selectionStart,n.end=e.selectionEnd,n.text=e.value.slice(n.start,n.end);else if(a.selection){e.focus();var r=a.selection.createRange(),c=a.body.createTextRange();n.text=r.text;try{c.moveToElementText(e),c.setEndPoint("StartToStart",r)}catch(t){c=e.createTextRange(),c.setEndPoint("StartToStart",r)}n.start=e.value.length-c.text.length,n.end=n.start+r.text.length}}catch(e){}return n},r={getPos:function(e){var t=n(e);return{start:t.start,end:t.end}},setPos:function(e,a,n){n=this._caretMode(n),"start"===n?a.end=a.start:"end"===n&&(a.start=a.end),e.focus();try{if(e.createTextRange){var r=e.createTextRange();t.navigator.userAgent.toLowerCase().indexOf("msie")>=0&&(a.start=e.value.substr(0,a.start).replace(/\r/g,"").length,a.end=e.value.substr(0,a.end).replace(/\r/g,"").length),r.collapse(!0),r.moveStart("character",a.start),r.moveEnd("character",a.end-a.start),r.select()}else e.setSelectionRange&&e.setSelectionRange(a.start,a.end)}catch(e){}},getText:function(e){return n(e).text},_caretMode:function(e){switch(e=e||"keep",e===!1&&(e="end"),e){case"keep":case"start":case"end":break;default:e="keep"}return e},replace:function(t,a,r){var c=n(t),o=t.value,s=e(t).scrollTop(),i={start:c.start,end:c.start+a.length};t.value=o.substr(0,c.start)+a+o.substr(c.end),e(t).scrollTop(s),this.setPos(t,i,r)},insertBefore:function(t,a,r){var c=n(t),o=t.value,s=e(t).scrollTop(),i={start:c.start+a.length,end:c.end+a.length};t.value=o.substr(0,c.start)+a+o.substr(c.start),e(t).scrollTop(s),this.setPos(t,i,r)},insertAfter:function(t,a,r){var c=n(t),o=t.value,s=e(t).scrollTop(),i={start:c.start,end:c.end};t.value=o.substr(0,c.end)+a+o.substr(c.end),e(t).scrollTop(s),this.setPos(t,i,r)}};e.extend({selection:function(n){var r="text"===(n||"text").toLowerCase();try{if(t.getSelection){if(r)return t.getSelection().toString();var c=t.getSelection(),o;return c.getRangeAt?o=c.getRangeAt(0):(o=a.createRange(),o.setStart(c.anchorNode,c.anchorOffset),o.setEnd(c.focusNode,c.focusOffset)),e("<div></div>").append(o.cloneContents()).html()}if(a.selection)return r?a.selection.createRange().text:a.selection.createRange().htmlText}catch(e){}return""}}),e.fn.extend({selection:function(e,t){switch(t=t||{},e){case"getPos":return r.getPos(this[0]);case"setPos":return this.each(function(){r.setPos(this,t)});case"replace":return this.each(function(){r.replace(this,t.text,t.caret)});case"insert":return this.each(function(){"before"===t.mode?r.insertBefore(this,t.text,t.caret):r.insertAfter(this,t.text,t.caret)});case"get":default:return r.getText(this[0])}return this}})}(jQuery,window,window.document)}.call(this),function(){o.addInputType("markdownEditor",{template:"afMarkdownEditor"}),marked.setOptions({breaks:!0}),n.registerHelper("renderMarkdown",function e(t){if(t)return marked(t)}),n.afMarkdownEditor.created=function(){this.markdownInput=new r(""),this.tabActive=new r("#write")},n.afMarkdownEditor.rendered=function(){var e=n.instance().$(".markdownInput");n.instance().markdownInput.set(e.val())},n.afMarkdownEditor.helpers({markdownText:function(){return marked(n.instance().markdownInput.get())},isTabActive:function(e){return n.instance().tabActive.get()===e}}),n.afMarkdownEditor.events({"keyup .markdownInput":function(e,t){t.markdownInput.set(e.currentTarget.value)},"click .select":function(e,t){e.preventDefault();var a=e.currentTarget.className.split(" ")[0],r=n.instance().$(".markdownInput"),c=r.selection();switch(a){case"markdownBold":r.selection("replace",{text:"**"+c+"**"});break;case"markdownItalic":r.selection("replace",{text:"*"+c+"*"});break;case"markdownList":var o=c.split("\n"),s="";o.forEach(function(e){s=s+"- "+e+"\n"}),r.selection("replace",{text:s+"\n "})}t.markdownInput.set(r.val())},"change .markdownHeader":function(e,t){var a=$(e.currentTarget).find("option:selected").val(),r=n.instance().$(".markdownInput"),c=r.selection();r.selection("replace",{text:a+c}),$(e.currentTarget).prop("selectedIndex",0),t.markdownInput.set(r.val())},"click .nav-tabs li":function(e,t){t.tabActive.set(e.target.attributes.href.value)}})}.call(this),"undefined"==typeof Package&&(Package={}),Package["lnmunhoz:autoform-markdown-editor"]={}}();

!function(){var e=Package.meteor.Meteor,o=Package.meteor.global,t=Package.meteor.meteorEnv,a=Package.underscore._,c=Package["ecmascript-runtime"].Symbol,r=Package["ecmascript-runtime"].Map,n=Package["ecmascript-runtime"].Set,l=Package["babel-runtime"].meteorBabelHelpers,s=Package.promise.Promise,p=Package.modules.meteorInstall,m=Package.modules.Buffer,i=Package.modules.process,f,u,d=p({node_modules:{meteor:{"app-collection-posts":{"namespacing.coffee.js":["meteor/mrstn",function(e,o,t){f="object"==typeof f?f:{};var a=f,c;t.import("meteor/mrstn",{App:function(e){c=e}});var r;r="Posts",c[r]={},c[r].Schemas={},c[r].config={model:r,methodNamePrefix:"App."+r}}],"collections.coffee.js":["meteor/mrstn",function(e,o,t){f="object"==typeof f?f:{};var a=f,c;t.import("meteor/mrstn",{App:function(e){c=e}});var r;r=c.Posts.config,void 0!==r.construct&&"default"!==r.construct||c.Collections.construct.default(r.model),c.Subscriptions.public.push(r.model)}],"schema.coffee.js":["meteor/mrstn",function(e,o,t){f="object"==typeof f?f:{};var a=f,c;t.import("meteor/mrstn",{App:function(e){c=e}}),c.Posts.Schemas.create=function(){var e;return e={title:{type:String,label:"Заголовок",autoform:{placeholder:"Заголовок"}},preview:{type:String,label:"Предпросмотр",autoform:{placeholder:"Предпросмотр"}},text:{type:String,label:"Основная часть",autoform:{placeholder:"Основная часть",type:"markdown"}},published:{type:Boolean,label:"Опубликовать"}},new SimpleSchema(e)},c.Posts.Schemas.update=function(){var e;return e={title:{type:String,label:"Заголовок",autoform:{placeholder:"Заголовок"}},preview:{type:String,label:"Предпросмотр",autoform:{placeholder:"Предпросмотр"}},text:{type:String,label:"Основная часть",autoform:{placeholder:"Основная часть",type:"markdown"}},published:{type:Boolean,label:"Опубликовать"}},new SimpleSchema(e)}}]}}}},{extensions:[".js",".json",".coffee"]});d("./node_modules/meteor/app-collection-posts/namespacing.coffee.js"),d("./node_modules/meteor/app-collection-posts/collections.coffee.js"),d("./node_modules/meteor/app-collection-posts/schema.coffee.js"),"undefined"==typeof Package&&(Package={}),function(e,o){for(var t in o)t in e||(e[t]=o[t])}(Package["app-collection-posts"]={},{App:u})}();

!function(){var a;"undefined"==typeof Package&&(Package={}),function(a,n){for(var e in n)e in a||(a[e]=n[e])}(Package["app-collection-credentials"]={},{App:a})}();

!function(){var e=Package.meteor.Meteor,o=Package.meteor.global,a=Package.meteor.meteorEnv,t=Package.underscore._,c=Package["accounts-base"].Accounts,n=Package["ecmascript-runtime"].Symbol,m=Package["ecmascript-runtime"].Map,r=Package["ecmascript-runtime"].Set,s=Package["babel-runtime"].meteorBabelHelpers,i=Package.promise.Promise,l=Package.modules.meteorInstall,p=Package.modules.Buffer,u=Package.modules.process,f,g,d=l({node_modules:{meteor:{"app-emails":{"namespacing.coffee.js":["meteor/mrstn",function(e,o,a){f="object"==typeof f?f:{};var t=f,c;a.import("meteor/mrstn",{App:function(e){c=e}});var n;n="EmailTemplates",c[n]={},c[n].config={model:n}}],"collection.coffee.js":["meteor/mrstn","meteor/mongo",function(o,a,t){f="object"==typeof f?f:{};var c=f,n;t.import("meteor/mrstn",{App:function(e){n=e}});var m;t.import("meteor/mongo",{Mongo:function(e){m=e}});var r;r=n.EmailTemplates.config,void 0!==r.construct&&"default"!==r.construct||n.Collections.construct.default(r.model),e.isServer&&n.Publications.admin(r.model)}]}}}},{extensions:[".js",".json",".coffee"]});d("./node_modules/meteor/app-emails/namespacing.coffee.js"),d("./node_modules/meteor/app-emails/collection.coffee.js"),"undefined"==typeof Package&&(Package={}),function(e,o){for(var a in o)a in e||(e[a]=o[a])}(Package["app-emails"]={},{App:g,Accounts:c})}();

!function(){var e=Package.meteor.Meteor,n=Package.meteor.global,t=Package.meteor.meteorEnv,o=Package["easy:search"].EasySearch,r=Package["ecmascript-runtime"].Symbol,i=Package["ecmascript-runtime"].Map,a=Package["ecmascript-runtime"].Set,u=Package["babel-runtime"].meteorBabelHelpers,c=Package.promise.Promise,l=Package.modules.meteorInstall,s=Package.modules.Buffer,m=Package.modules.process,f,p,d=l({node_modules:{meteor:{"app-indexer":{"indexer.coffee.js":["meteor/mrstn","meteor/easy:search",function(e,n,t){f="object"==typeof f?f:{};var o=f,r;t.import("meteor/mrstn",{App:function(e){r=e}});var i,a;t.import("meteor/easy:search",{Index:function(e){i=e},MinimongoEngine:function(e){a=e}}),r.Index={},r.addIndexerForCollection=function(e,n){return r[e].Index=new i({collection:r[e].model,fields:n,engine:new a})}}],"indexes.coffee.js":["meteor/mrstn",function(e,n,t){f="object"==typeof f?f:{};var o=f,r;t.import("meteor/mrstn",{App:function(e){r=e}}),r.Indexes={Autoform:{hiddenString:function(){function e(e){return{type:String,defaultValue:e,autoform:{type:"hidden"}}}return e}(),ServerSelectize:function(){function e(){return{type:String,label:"Сервер",autoform:{type:"selectize",options:function(){function e(){return r.Servers.model.find().map(function(e){return{value:e.id,label:e.name}})}return e}(),selectizeOptions:{placeholder:"Выберете сервер",plugins:{remove_button:{}},load:function(){function e(e,n){return this.clear(),this.clearOptions(),n(r.Servers.Index.search(e)._mongoCursor.map(function(e){return{value:e.id,text:e.name}}))}return e}()}}}}return e}(),VolumeSelectize:function(){function e(){return{type:String,label:"Диск",optional:!0,autoform:{type:"selectize",options:function(){function e(){return r.Volumes.model.find().map(function(e){return{value:e.id,label:e.name}})}return e}(),selectizeOptions:{placeholder:"Выберете диск",plugins:{remove_button:{}},load:function(){function e(e,n){return this.clear(),this.clearOptions(),n(r.Volumes.Index.search(e)._mongoCursor.map(function(e){return{value:e.id,text:e.name}}))}return e}()}}}}return e}(),SubnetPoolSelectize:{type:String,label:"Пул адресов",autoform:{type:"selectize",options:function(){function e(){return r.SubnetPools.model.find().map(function(e){return{value:e.id,label:e.name}})}return e}(),selectizeOptions:{placeholder:"Выбор пула адресов",plugins:{remove_button:{}},load:function(){function e(e,n){return this.clear(),this.clearOptions(),n(r.SubnetPools.Index.search(e)._mongoCursor.map(function(e){return{value:e.id,text:e.name}}))}return e}()}}}}}}]}}}},{extensions:[".js",".json",".coffee"]});d("./node_modules/meteor/app-indexer/indexer.coffee.js"),d("./node_modules/meteor/app-indexer/indexes.coffee.js"),"undefined"==typeof Package&&(Package={}),function(e,n){for(var t in n)t in e||(e[t]=n[t])}(Package["app-indexer"]={},{App:p})}();

!function(){var e=Package.meteor.Meteor,o=Package.meteor.global,n=Package.meteor.meteorEnv,t=Package.spacebars.Spacebars,c=Package.underscore._,r=Package["ecmascript-runtime"].Symbol,a=Package["ecmascript-runtime"].Map,s=Package["ecmascript-runtime"].Set,l=Package["babel-runtime"].meteorBabelHelpers,i=Package.promise.Promise,m=Package.modules.meteorInstall,u=Package.modules.Buffer,f=Package.modules.process,p,d,g=m({node_modules:{meteor:{"app-collection-bills":{"namespacing.coffee.js":["meteor/mrstn",function(e,o,n){p="object"==typeof p?p:{};var t=p,c;n.import("meteor/mrstn",{App:function(e){c=e}});var r;r="Bills",c[r]={},c[r].config={model:r,construct:"default"}}],"collection.coffee.js":["meteor/mrstn",function(o,n,t){p="object"==typeof p?p:{};var c=p,r;t.import("meteor/mrstn",{App:function(e){r=e}});var a;a=r.Bills.config,void 0!==a.construct&&"default"!==a.construct||r.Collections.construct.default(a.model),r.Subscriptions.user.push(a.model),e.isServer&&r.Publications.byOwnerOSID(a.model)}],"methods_common.coffee.js":["meteor/mrstn",function(o,n,t){p="object"==typeof p?p:{};var c=p,r;t.import("meteor/mrstn",{App:function(e){r=e}}),e.isClient&&(r.Bills.balance=function(){var o;return o=r.Bills.model.findOne({user:e.userId()}),!!o&&o.balance}),e.isServer&&(r.Bills.balance=function(e){var o;return e=r.Users.get(e),o=r.Bills.model.findOne({user:e._id}),o.balance}),r.Bills.getForUser=function(e){return e=r.Users.get(e),r.Bills.model.findOne({owner:e.id})}}]}}}},{extensions:[".js",".json",".coffee"]});g("./node_modules/meteor/app-collection-bills/namespacing.coffee.js"),g("./node_modules/meteor/app-collection-bills/collection.coffee.js"),g("./node_modules/meteor/app-collection-bills/methods_common.coffee.js"),"undefined"==typeof Package&&(Package={}),function(e,o){for(var n in o)n in e||(e[n]=o[n])}(Package["app-collection-bills"]={},{App:d})}();

!function(){var e=Package.meteor.Meteor,o=Package.meteor.global,t=Package.meteor.meteorEnv,c=Package.underscore._,a=Package["ecmascript-runtime"].Symbol,n=Package["ecmascript-runtime"].Map,s=Package["ecmascript-runtime"].Set,r=Package["babel-runtime"].meteorBabelHelpers,i=Package.promise.Promise,m=Package.modules.meteorInstall,l=Package.modules.Buffer,p=Package.modules.process,u,f,d=m({node_modules:{meteor:{"app-collection-deposits":{"namespacing.coffee.js":["meteor/mrstn",function(e,o,t){u="object"==typeof u?u:{};var c=u,a;t.import("meteor/mrstn",{App:function(e){a=e}});var n;n="Deposits",a[n]={},a[n].config={model:n}}],"collection.coffee.js":["meteor/mrstn",function(o,t,c){u="object"==typeof u?u:{};var a=u,n;c.import("meteor/mrstn",{App:function(e){n=e}});var s;s=n.Deposits.config,void 0!==s.construct&&"default"!==s.construct||n.Collections.construct.default(s.model),e.isClient&&n.Subscriptions.user.push(s.model),e.isServer&&n.Publications.byOwnerOSID(s.model)}]}}}},{extensions:[".js",".json",".coffee"]});d("./node_modules/meteor/app-collection-deposits/namespacing.coffee.js"),d("./node_modules/meteor/app-collection-deposits/collection.coffee.js"),"undefined"==typeof Package&&(Package={}),function(e,o){for(var t in o)t in e||(e[t]=o[t])}(Package["app-collection-deposits"]={},{App:f})}();

!function(){var e=Package.meteor.Meteor,o=Package.meteor.global,t=Package.meteor.meteorEnv,a=Package.underscore._,c=Package["ecmascript-runtime"].Symbol,n=Package["ecmascript-runtime"].Map,r=Package["ecmascript-runtime"].Set,m=Package["babel-runtime"].meteorBabelHelpers,s=Package.promise.Promise,i=Package.modules.meteorInstall,l=Package.modules.Buffer,p=Package.modules.process,u,f,g=i({node_modules:{meteor:{"app-collection-payments":{"namespacing.coffee.js":["meteor/mrstn",function(e,o,t){u="object"==typeof u?u:{};var a=u,c;t.import("meteor/mrstn",{App:function(e){c=e}});var n;n="Payments",c[n]={},c[n].config={model:n}}],"collection.coffee.js":["meteor/mrstn",function(o,t,a){u="object"==typeof u?u:{};var c=u,n;a.import("meteor/mrstn",{App:function(e){n=e}});var r;r=n.Payments.config,void 0!==r.construct&&"default"!==r.construct||n.Collections.construct.default(r.model),e.isClient&&n.Subscriptions.user.push(r.model),e.isServer&&n.Publications.byOwnerOSID(r.model)}]}}}},{extensions:[".js",".json",".coffee"]});g("./node_modules/meteor/app-collection-payments/namespacing.coffee.js"),g("./node_modules/meteor/app-collection-payments/collection.coffee.js"),"undefined"==typeof Package&&(Package={}),function(e,o){for(var t in o)t in e||(e[t]=o[t])}(Package["app-collection-payments"]={},{App:f})}();

!function(){var e=Package.meteor.Meteor,o=Package.meteor.global,c=Package.meteor.meteorEnv,t=Package.underscore._,a=Package["ecmascript-runtime"].Symbol,r=Package["ecmascript-runtime"].Map,n=Package["ecmascript-runtime"].Set,s=Package["babel-runtime"].meteorBabelHelpers,i=Package.promise.Promise,m=Package["cfs:base-package"].FS,p=Package.modules.meteorInstall,l=Package.modules.Buffer,u=Package.modules.process,f,P,g=p({node_modules:{meteor:{"app-collection-pictures":{"namespacing.coffee.js":["meteor/mrstn",function(e,o,c){f="object"==typeof f?f:{};var t=f,a;c.import("meteor/mrstn",{App:function(e){a=e}});var r;r="Pictures",a[r]={},a[r].config={model:r}}],"collection.coffee.js":["meteor/mrstn",function(o,c,t){f="object"==typeof f?f:{};var a=f,r;t.import("meteor/mrstn",{App:function(e){r=e}});var n;n=r.Pictures.config,r.Pictures.model=new m.Collection("Pictures",{stores:[new m.Store.FileSystem("Pictures",{path:u.env.PWD+"/uploads"})]}),r.Subscriptions.public.push(n.model),e.isServer&&r.Publications.public(n.model)}]}}}},{extensions:[".js",".json",".coffee"]});g("./node_modules/meteor/app-collection-pictures/namespacing.coffee.js"),g("./node_modules/meteor/app-collection-pictures/collection.coffee.js"),"undefined"==typeof Package&&(Package={}),function(e,o){for(var c in o)c in e||(e[c]=o[c])}(Package["app-collection-pictures"]={},{App:P})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,r=Package.meteor.meteorEnv,s=Package.underscore._,o=Package.spacebars.Spacebars,n=Package.http.HTTP,c=Package.check.check,i=Package.check.Match,a=Package.ejson.EJSON,p=Package["ecmascript-runtime"].Symbol,u=Package["ecmascript-runtime"].Map,l=Package["ecmascript-runtime"].Set,f=Package["babel-runtime"].meteorBabelHelpers,h=Package.promise.Promise,m=Package.modules.meteorInstall,k=Package.modules.Buffer,g=Package.modules.process,d,P,y=m({node_modules:{meteor:{"app-openstack":{"namespacing.coffee.js":["meteor/mrstn",function(e,t,r){d="object"==typeof d?d:{};var s=d,o;r.import("meteor/mrstn",{App:function(e){o=e}})}],"client.coffee.js":["meteor/mrstn",function(t,r,s){d="object"==typeof d?d:{};var o=d,n;s.import("meteor/mrstn",{App:function(e){n=e}}),this.OpenStack=function(){function t(){return e.isClient&&(this._checkClient(),this._id=e.user()._id,this.id=e.user().id,this.project=e.user().currentProject),this}return t.prototype._checkClient=function(){var t;if(t=function t(r){throw new e.Error(r)},e.userId()||t("Unauthorized user"),!e.user().id)return t("Unverified user")},t}()}],client:{"call.coffee.js":["meteor/mrstn",function(t,r,s){d="object"==typeof d?d:{};var o=d,n;s.import("meteor/mrstn",{App:function(e){n=e}});var c;OpenStack.prototype._buildRequestEnv=function(){},OpenStack.prototype.call=function(t){var r,s;return this.service=n[this.ns].config.service,r="App.OS."+this.service+".request",t?e.call(r,this,t):(s=this,e.call(r,this,function(e,t){return new c(s).process(e,t)}))},c=function(){function e(e){var t;return t=e,Object.keys(e).map(function(r){return t[r]=e[r]}),Object.assign(this,t),this}return e.prototype._getResponseType=function(){if(this.result.statusCode>=200&&this.result.statusCode<300&&(this.type="success"),this.result.statusCode>=300&&this.result.statusCode<400&&(this.type="warn"),this.result.statusCode>=400)return this.type="error"},e.prototype.process=function(e,t){return this.error=e,this.result=t,this.error?(console.log(this.error),sAlert.error(this.error)):(this._getResponseType(),"error"===this.type?(console.log(this.result),this.processError()):(console.log(this.result),sAlert[this.type](this.ns+" :: "+this.action+" :: "+this.type)))},e.prototype.processError=function(){var e;return e=this,Object.keys(this.result.data).map(function(t){var r;return r=e.result.data[t].message,sAlert.error(r)})},e}()}]}}}}},{extensions:[".js",".json",".coffee"]});y("./node_modules/meteor/app-openstack/namespacing.coffee.js"),y("./node_modules/meteor/app-openstack/client.coffee.js"),y("./node_modules/meteor/app-openstack/client/call.coffee.js"),"undefined"==typeof Package&&(Package={}),function(e,t){for(var r in t)r in e||(e[r]=t[r])}(Package["app-openstack"]={},{App:P})}();

!function(){var t=Package.meteor.Meteor,e=Package.meteor.global,o=Package.meteor.meteorEnv,a=Package.underscore._,n=Package["ecmascript-runtime"].Symbol,r=Package["ecmascript-runtime"].Map,s=Package["ecmascript-runtime"].Set,i=Package["babel-runtime"].meteorBabelHelpers,c=Package.promise.Promise,p=Package.modules.meteorInstall,u=Package.modules.Buffer,h=Package.modules.process,m,f,k=p({node_modules:{meteor:{"app-os-tokens":{"namespacing.coffee.js":["meteor/mrstn",function(t,e,o){m="object"==typeof m?m:{};var a=m,n;o.import("meteor/mrstn",{App:function(t){n=t}});var r;r="Tokens",n[r]={},n[r].API={},n[r].config={model:r,pathName:"tokens",service:"Keystone"}}],"api.coffee.js":["meteor/mrstn",function(t,e,o){m="object"==typeof m?m:{};var a=m,n;o.import("meteor/mrstn",{App:function(t){n=t}});var r,s,c=function t(e,o){function a(){this.constructor=e}for(var n in i.sanitizeForInObject(o))p.call(o,n)&&(e[n]=o[n]);return a.prototype=o.prototype,e.prototype=new a,e.__super__=o.prototype,e},p={}.hasOwnProperty;s=n.Tokens.config,OpenStack.prototype.Tokens=function(){return new r(this)},r=function(t){function e(t){return t.ns=this.constructor.name,Object.assign(this,t),this._buildRequestEnv(),this}return c(e,t),e.prototype.authenticate=function(t){return this.action="authenticate",this.request={method:"POST",path:"/"+s.pathName+"/auth/tokens",data:t},this},e.prototype.check=function(){return this.action="check",this.request={method:"HEAD",path:"/"+s.pathName+"/auth/tokens"},this},e.prototype.validate=function(){return this.action="validate",this.request={method:"GET",path:"/"+s.pathName+"/auth/tokens"},this},e.prototype.revoke=function(){return this.action="revoke",this.request={method:"DELETE",path:"/"+s.pathName+"/auth/tokens"},this},e.prototype.catalog=function(){return this.action="catalog",this.request={method:"GET",path:"/"+s.pathName+"/auth/catalog"},this},e.prototype.projects=function(){return this.action="projects",this.request={method:"GET",path:"/"+s.pathName+"/auth/projects"},this},e.prototype.domains=function(){return this.action="domains",this.request={method:"GET",path:"/"+s.pathName+"/auth/domains"},this},e}(OpenStack)}]}}}},{extensions:[".js",".json",".coffee"]});k("./node_modules/meteor/app-os-tokens/namespacing.coffee.js"),k("./node_modules/meteor/app-os-tokens/api.coffee.js"),"undefined"==typeof Package&&(Package={}),function(t,e){for(var o in e)o in t||(t[o]=e[o])}(Package["app-os-tokens"]={},{App:f})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,o=Package.meteor.meteorEnv,r=Package["iron:router"].Router,n=Package["iron:router"].RouteController,c=Package.underscore._,a=Package["aldeed:autoform"].AutoForm,i=Package.mongo.Mongo,s=Package["ecmascript-runtime"].Symbol,p=Package["ecmascript-runtime"].Map,u=Package["ecmascript-runtime"].Set,m=Package["babel-runtime"].meteorBabelHelpers,l=Package.promise.Promise,f=Package["iron:core"].Iron,d=Package["aldeed:simple-schema"].SimpleSchema,h=Package["aldeed:simple-schema"].MongoObject,j=Package["aldeed:collection2-core"].Collection2,g=Package.modules.meteorInstall,P=Package.modules.Buffer,y=Package.modules.process,b,k,v=g({node_modules:{meteor:{"app-os-projects":{"namespacing.coffee.js":["meteor/mrstn",function(e,t,o){b="object"==typeof b?b:{};var r=b,n;o.import("meteor/mrstn",{App:function(e){n=e}});var c;c="Projects",n[c]={},n[c].API={},n[c].Schemas={},n[c].config={model:c,pathName:"projects",service:"Keystone",methodNamePrefix:"App."+c,methods:[],one:"project",many:"projects",sync:{enabled:!0,default:"list",dashboard:!0,projectDepend:!1}}}],"collections.coffee.js":["meteor/mrstn",function(t,o,r){b="object"==typeof b?b:{};var n=b,a;r.import("meteor/mrstn",{App:function(e){a=e}});var s,p;s=a.Projects.config,p=s.model,e.isClient&&(a[p].model=new i.Collection(null,{transform:function(){function e(e){return new a[p].Item(e)}return e}()}),a[p].model.allow({insert:function(){function e(){return!0}return e}(),update:function(){function e(){return!0}return e}(),remove:function(){function e(){return!0}return e}()}),a[p].Item=function(e){return c.extend(this,e)},c.extend(a[p].Item.prototype,{current:function(){function t(){var t,o;return o=e.user(),t=this.id,!(!o||t!==o.currentProject)}return t}(),name:function(){function e(){return this._id||this.name}return e}()}),a.Collections.construct.custom(p,a[p].Item.prototype,a[p].model)),e.isClient&&a.addIndexerForCollection(s.model,["name"])}],"api.coffee.js":["meteor/mrstn",function(e,t,o){b="object"==typeof b?b:{};var r=b,n;o.import("meteor/mrstn",{App:function(e){n=e}});var c,a,i=function e(t,o){function r(){this.constructor=t}for(var n in m.sanitizeForInObject(o))s.call(o,n)&&(t[n]=o[n]);return r.prototype=o.prototype,t.prototype=new r,t.__super__=o.prototype,t},s={}.hasOwnProperty;a=n.Projects.config,OpenStack.prototype.Projects=function(){return new c(this)},c=function(e){function t(e){return e.ns=this.constructor.name,Object.assign(this,e),this._buildRequestEnv(),this}return i(t,e),t.prototype.list=function(){return this.action="list",this.request={method:"GET",path:"/"+a.pathName},this},t.prototype.details=function(e){return this.action="details",this.request={method:"GET",path:"/"+a.pathName+"/"+e},this},t.prototype.create=function(e){return this.action="create",this.request={method:"POST",path:"/"+a.pathName,data:e},this},t.prototype.delete=function(e){return this.action="delete",this.request={method:"DELETE",path:"/"+a.pathName+"/"+e},this},t.prototype.update=function(e,t){return this.action="update",this.request={method:"PATCH",path:"/"+a.pathName+"/"+e,data:t},this},t}(OpenStack)}],"methods_common.coffee.js":["meteor/mrstn",function(t,o,r){b="object"==typeof b?b:{};var n=b,c;r.import("meteor/mrstn",{App:function(e){c=e}});var a="function"==typeof s&&"symbol"==typeof s.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof s&&e.constructor===s&&e!==s.prototype?"symbol":typeof e},i;i=c.Projects.config,c[i.model].get=function(t){var o,r,n;switch(o={},"undefined"==typeof t?"undefined":a(t)){case"string":o=c[i.model].model.findOne({$or:[{_id:t},{id:t}]});break;case"object":o=c[i.model].model.findOne({$or:[{_id:t._id},{id:t.id}]});break;case"undefined":if(e.isServer)throw e.Error("Не указан проект");e.isClient&&(n=e.userId(),n&&(r=e.users.findOne(n),o=c[i.model].model.findOne({id:r.currentProject})))}return o},c[i.model].isEnabled=function(e){return c[i.model].get(e).enabled}}],"schema.coffee.js":["meteor/mrstn",function(t,o,r){b="object"==typeof b?b:{};var n=b,c;r.import("meteor/mrstn",{App:function(e){c=e}});var i;i=c.Projects.config,c[i.model].Schemas.create=function(){return new d({project:{type:Object,optional:!1},"project.name":{type:String,label:"Название",autoform:{placeholder:"Название"}},"project.description":{type:String,label:"Описание",optional:!0,autoform:{placeholder:"Описание"}}})},c[i.model].Schemas.update=function(){var e;return e={project:{type:Object,optional:!1},"project.name":{type:String,label:"Название",autoform:{placeholder:"Название"}},"project.description":{type:String,label:"Описание",optional:!0,autoform:{placeholder:"Описание"}}},new d(e)},e.isClient&&a.hooks({"App.Projects.create":{onSubmit:function(){function t(t){return this.event.preventDefault(),e.call("App.Projects.create",t,function(e,t){return e?(console.log(e),sAlert.error(e.error)):(c.Sync.resetProject(),console.log(t),t[0].id&&sAlert.success("Проект создан"),204===t[1].statusCode?sAlert.success("Роль присвоена"):void 0)}),this.done(),!1}return t}()}})}]}}}},{extensions:[".js",".json",".coffee"]});v("./node_modules/meteor/app-os-projects/namespacing.coffee.js"),v("./node_modules/meteor/app-os-projects/collections.coffee.js"),v("./node_modules/meteor/app-os-projects/api.coffee.js"),v("./node_modules/meteor/app-os-projects/methods_common.coffee.js"),v("./node_modules/meteor/app-os-projects/schema.coffee.js"),"undefined"==typeof Package&&(Package={}),function(e,t){for(var o in t)o in e||(e[o]=t[o])}(Package["app-os-projects"]={},{App:k})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,o=Package.meteor.meteorEnv,n=Package.underscore._,r=Package["aldeed:autoform"].AutoForm,a=Package["ecmascript-runtime"].Symbol,i=Package["ecmascript-runtime"].Map,s=Package["ecmascript-runtime"].Set,c=Package["babel-runtime"].meteorBabelHelpers,u=Package.promise.Promise,p=Package["aldeed:simple-schema"].SimpleSchema,m=Package["aldeed:simple-schema"].MongoObject,l=Package["aldeed:collection2-core"].Collection2,h=Package.modules.meteorInstall,f=Package.modules.Buffer,d=Package.modules.process,v=Package.mongo.Mongo,g,y,_=h({node_modules:{meteor:{"app-os-servers":{"namespacing.coffee.js":["meteor/mrstn",function(t,o,n){g="object"==typeof g?g:{};var r=g,a;n.import("meteor/mrstn",{App:function(e){a=e}});var i;i="Servers",a[i]={},a[i].API={},a[i].Schemas={},a[i].sync={},a.Servers.sync.item=function(t,o){var n,r,i;if(!o)throw console.warn("Мы не умеем и (пока) не хотим синхронизировать без проекта."),new e.Error("Не представлен сервер");throw i=a.Projects.findOwnerID(o),n=(new OpenStack).auth(i,o).Servers().details(t),r=n.call(request),console.log(EJSON.stringify(r,{indent:!0})),new e.Error(Number,"До сих пор не решили, как синхронизировать. Атата.")},a[i].config={model:i,one:"server",many:"servers",pathName:"servers",service:"Nova",sync:{enabled:!0,default:"list",dashboard:!0,scoped:!0,projectDepend:!0}}}],"schema.coffee.js":["meteor/mrstn",function(e,t,o){g="object"==typeof g?g:{};var n=g,r;o.import("meteor/mrstn",{App:function(e){r=e}});var a;a="",r.Servers.SchemasHooks={create:function(){function e(e){var t;return t=e.server,t.block_device_mapping_v2=[{boot_index:0,uuid:t.imageRef,source_type:"image",volume_size:t.block_device_mapping_v2.volume_size,destination_type:"volume",delete_on_termination:!1}],t.networks=[t.networks],e.server=t,e}return e}()},r.Servers.Schemas.create=function(){var e;return e={server:{type:Object,label:"Имя сервера",optional:!1},"server.name":{type:String,label:"Имя сервера",autoform:{placeholder:"Имя сервера"}},"server.flavorRef":{type:String,label:"Размер сервера",autoform:{type:"selectize",options:function(){function e(){return r.Flavors.model.find().map(function(e){return{value:e.id,label:e.name}})}return e}(),selectizeOptions:{placeholder:"Выберете размер сервера",plugins:{remove_button:{}},load:function(){function e(e,t){return this.clear(),this.clearOptions(),t(r.Flavors.Index.search(e)._mongoCursor.map(function(e){return{value:e.id,text:e.name}}))}return e}()}}},"server.imageRef":{type:String,label:"Образ",autoform:{type:"selectize",options:function(){function e(){return r.Images.model.find().map(function(e){return{value:e.id,label:e.name}})}return e}(),selectizeOptions:{placeholder:"Выберете образ",plugins:{remove_button:{}},load:function(){function e(e,t){return this.clear(),this.clearOptions(),t(r.Images.Index.search(e)._mongoCursor.map(function(e){return{value:e.id,text:e.name}}))}return e}()}}},"server.key_name":{type:String,label:"Ключ доступа",autoform:{type:"selectize",options:function(){function e(){return r.Keypairs.model.find().map(function(e){return{value:e.name,label:e.name}})}return e}(),selectizeOptions:{placeholder:"Выбор ключа доступа",plugins:{remove_button:{}},load:function(){function e(e,t){return this.clear(),this.clearOptions(),t(r.Keypairs.Index.search(e)._mongoCursor.map(function(e){return{value:e.name,text:e.name}}))}return e}()}}},"server.networks.uuid":{type:String,label:"Сеть",autoform:{type:"selectize",options:function(){function e(){return r.Networks.model.find({"router:external":!1}).map(function(e){return{value:e.id,label:e.name}})}return e}(),selectizeOptions:{placeholder:"Выбор сети",plugins:{remove_button:{}},load:function(){function e(e,t){return this.clear(),this.clearOptions(),t(r.Networks.Index.search(e)._mongoCursor.map(function(e){return e["router:external"]===!1&&{value:e.id,text:e.name}}).filter(function(e){if(e)return!0}))}return e}()}}},"server.block_device_mapping_v2.volume_size":{type:Number,label:"Размер диска",min:1,autoform:{placeholder:"Размер диска, Гб",step:"1"}}},new p(e)}}],"collection.coffee.js":["meteor/mrstn","meteor/mongo",function(t,o,n){g="object"==typeof g?g:{};var r=g,a;n.import("meteor/mrstn",{App:function(e){a=e}});var i;n.import("meteor/mongo",{Mongo:function(e){i=e}});var s;s=a.Servers.config,void 0!==s.construct&&"default"!==s.construct||a.Collections.construct.default(s.model),e.isClient&&a.addIndexerForCollection(s.model,["name"])}],"api.coffee.js":["meteor/mrstn",function(e,t,o){g="object"==typeof g?g:{};var n=g,r;o.import("meteor/mrstn",{App:function(e){r=e}});var a,i,s=function e(t,o){function n(){this.constructor=t}for(var r in c.sanitizeForInObject(o))u.call(o,r)&&(t[r]=o[r]);return n.prototype=o.prototype,t.prototype=new n,t.__super__=o.prototype,t},u={}.hasOwnProperty;i=r.Servers.config,OpenStack.prototype.Servers=function(){return new a(this)},a=function(e){function t(e){return e.ns=this.constructor.name,Object.assign(this,e),this._buildRequestEnv(),this}return s(t,e),t.prototype.list=function(e){return this.action="list",this.request={method:"GET",path:"/"+i.pathName},this},t.prototype.listDetail=function(e){return this.action="listDetail",this.request={method:"GET",path:"/"+i.pathName+"/detail"},this},t.prototype.details=function(e){return this.action="details",this.request={method:"GET",path:"/"+i.pathName+"/"+e},this},t.prototype.create=function(e){return this.action="create",this.request={method:"POST",path:"/"+i.pathName,data:e},this},t.prototype.delete=function(e){return this.action="delete",this.request={method:"DELETE",path:"/"+i.pathName+"/"+e},this},t.prototype.update=function(e,t){return this.action="update",this.request={method:"PUT",path:"/"+i.pathName+"/"+e,data:t},this},t.prototype.action=function(e,t){return this.action="action",this.request={method:"POST",path:"/"+i.pathName+"/"+e+"/action",data:t},this},t.prototype.instanceActions=function(e){return this.action="action",this.request={method:"GET",path:"/"+i.pathName+"/"+e+"/os-instance-actions"},this},t.prototype.instanceActionDetails=function(e,t){return this.action="action",this.request={method:"GET",path:"/"+i.pathName+"/"+e+"/os-instance-actions/"+{requestId:t}},this},t.prototype.AttachmentsDetach=function(e,t){return this.action="AttachmentsDetach",this.request={method:"DELETE",path:"/"+i.pathName+"/"+e+"/os-volume_attachments",data:t},this},t.prototype.AttachmentsAttach=function(e,t,o){return this.action="AttachmentsAttach",this.request={method:"POST",path:"/"+i.pathName+"/"+e+"/os-volume_attachments/"+t,data:o},this},t}(OpenStack)}]}}}},{extensions:[".js",".json",".coffee"]});_("./node_modules/meteor/app-os-servers/namespacing.coffee.js"),_("./node_modules/meteor/app-os-servers/schema.coffee.js"),_("./node_modules/meteor/app-os-servers/collection.coffee.js"),_("./node_modules/meteor/app-os-servers/api.coffee.js"),"undefined"==typeof Package&&(Package={}),function(e,t){for(var o in t)o in e||(e[o]=t[o])}(Package["app-os-servers"]={},{App:y})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,o=Package.meteor.meteorEnv,n=Package.underscore._,a=Package["aldeed:autoform"].AutoForm,r=Package["ecmascript-runtime"].Symbol,s=Package["ecmascript-runtime"].Map,i=Package["ecmascript-runtime"].Set,c=Package["babel-runtime"].meteorBabelHelpers,u=Package.promise.Promise,m=Package["aldeed:simple-schema"].SimpleSchema,l=Package["aldeed:simple-schema"].MongoObject,p=Package["aldeed:collection2-core"].Collection2,d=Package.modules.meteorInstall,f=Package.modules.Buffer,h=Package.modules.process,v=Package.mongo.Mongo,g,b,y=d({node_modules:{meteor:{"app-os-volumes":{"namespacing.coffee.js":["meteor/mrstn",function(e,t,o){g="object"==typeof g?g:{};var n=g,a;o.import("meteor/mrstn",{App:function(e){a=e}});var r;r="Volumes",a[r]={},a[r].API={},a[r].Schemas={},a[r].SchemasHooks={},a[r].config={model:r,pathName:"volumes",service:"Cinder",one:"volume",many:"volumes",sync:{enabled:!0,default:"list",dashboard:!0,scoped:!0,projectDepend:!0}}}],"schema.coffee.js":["meteor/mrstn",function(e,t,o){g="object"==typeof g?g:{};var n=g,a;o.import("meteor/mrstn",{App:function(e){a=e}}),a.Volumes.SchemasHooks.create=function(e){return e.bootable||delete e.volume.imageRef,e},a.Volumes.SchemasHooks.extend=function(e){return(new OpenStack).Volumes().action(e.volume_id,e.volumes).call(),!1},a.Volumes.SchemasHooks.attach=function(e){return console.log("attach",e),(new OpenStack).Volumes().action(e.volume_id,e.volumes).call(),!1},a.Volumes.Schemas.create=function(){var e;return e={bootable:{type:String,label:"Загрузочный",defaultValue:!1,autoform:{type:"boolean-checkbox"}},volume:{type:Object,optional:!1},"volume.name":{type:String,label:"Имя",autoform:{placeholder:"Имя диска"}},"volume.size":{type:Number,label:"Размер диска",min:0,autoform:{placeholder:"Размер диска"}},"volume.imageRef":{type:String,label:"Образ диска",optional:!0,autoform:{type:"selectize",options:function(){function e(){return a.Images.model.find().map(function(e){return{value:e.id,label:e.name}})}return e}(),selectizeOptions:{placeholder:"Образ (необязательно)",plugins:{remove_button:{}},load:function(){function e(e,t){return this.clear(),this.clearOptions(),t(a.Images.Index.search(e)._mongoCursor.map(function(e){return{value:e.id,text:e.name}}))}return e}()}}}},new m(e)},a.Volumes.Schemas.extend=function(){var e;return e={volume_id:{type:String,autoform:{afFieldInput:{type:"hidden"},afFormGroup:{label:!1}}},"volumes.os-extend.new_size":{type:Number,label:"Новый размер диска",min:0,autoform:{placeholder:"Введите желаемый размер диска, Гб"}}},new m(e)},a.Volumes.Schemas.attach=function(){var e;return e={"volumes.os-attach":{type:Object},"volumes.os-attach.mountpoint":{type:String,label:"Точка монтирования",autoform:{placeholder:"/dev/vdc"}},"volumes.os-attach.instance_uuid":{type:String,label:"Сервер",autoform:{type:"selectize",options:function(){function e(){return a.Servers.model.find().map(function(e){return{value:e.id,label:e.name}})}return e}(),selectizeOptions:{placeholder:"Выберете сервер",plugins:{remove_button:{}},load:function(){function e(e,t){return this.clear(),this.clearOptions(),t(a.Servers.Index.search(e)._mongoCursor.map(function(e){return{value:e.id,text:e.name}}))}return e}()}}},volume_id:{type:String,autoform:{afFieldInput:{type:"hidden"},afFormGroup:{label:!1}}}},new m(e)}}],"collection.coffee.js":["meteor/mrstn","meteor/mongo",function(t,o,n){g="object"==typeof g?g:{};var a=g,r;n.import("meteor/mrstn",{App:function(e){r=e}});var s;n.import("meteor/mongo",{Mongo:function(e){s=e}});var i;i=r.Volumes.config,void 0!==i.construct&&"default"!==i.construct||r.Collections.construct.default(i.model),e.isClient&&r.addIndexerForCollection(i.model,["name"]),r.Volumes.listAttachedFor=function(e){return r.Volumes.list({attachments:{$elemMatch:{server_id:e}}})}}],"api.coffee.js":["meteor/mrstn",function(e,t,o){g="object"==typeof g?g:{};var n=g,a;o.import("meteor/mrstn",{App:function(e){a=e}});var r,s,i=function e(t,o){function n(){this.constructor=t}for(var a in c.sanitizeForInObject(o))u.call(o,a)&&(t[a]=o[a]);return n.prototype=o.prototype,t.prototype=new n,t.__super__=o.prototype,t},u={}.hasOwnProperty;s=a.Volumes.config,OpenStack.prototype.Volumes=function(){return new r(this)},r=function(e){function t(e){return e.ns=this.constructor.name,Object.assign(this,e),this._buildRequestEnv(),this}return i(t,e),t.prototype.list=function(){return this.action="list",this.request={method:"GET",path:"/"+this.project+"/"+s.pathName},this},t.prototype.listDetail=function(){return this.action="listDetail",this.request={method:"GET",path:"/"+this.project+"/"+s.pathName+"/detail"},this},t.prototype.details=function(e){return this.action="details",this.request={method:"GET",path:"/"+this.project+"/"+s.pathName+"/"+e},this},t.prototype.create=function(e){return this.action="create",this.request={method:"POST",path:"/"+this.project+"/"+s.pathName,data:e},this},t.prototype.delete=function(e){return this.action="delete",this.request={method:"DELETE",path:"/"+this.project+"/"+s.pathName+"/"+e},this},t.prototype.update=function(e,t){return this.action="update",this.request={method:"PUT",path:"/"+this.project+"/"+s.pathName+"/"+e,data:t},this},t.prototype.action=function(e,t){return this.action="action",this.request={method:"POST",path:"/"+this.project+"/"+s.pathName+"/"+e+"/action",data:t},this},t}(OpenStack)}]}}}},{extensions:[".js",".json",".coffee"]});y("./node_modules/meteor/app-os-volumes/namespacing.coffee.js"),y("./node_modules/meteor/app-os-volumes/schema.coffee.js"),y("./node_modules/meteor/app-os-volumes/collection.coffee.js"),y("./node_modules/meteor/app-os-volumes/api.coffee.js"),"undefined"==typeof Package&&(Package={}),function(e,t){for(var o in t)o in e||(e[o]=t[o])}(Package["app-os-volumes"]={},{App:b})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,o=Package.meteor.meteorEnv,a=Package.underscore._,r=Package["aldeed:autoform"].AutoForm,n=Package["ecmascript-runtime"].Symbol,c=Package["ecmascript-runtime"].Map,i=Package["ecmascript-runtime"].Set,s=Package["babel-runtime"].meteorBabelHelpers,p=Package.promise.Promise,m=Package["aldeed:simple-schema"].SimpleSchema,u=Package["aldeed:simple-schema"].MongoObject,l=Package["aldeed:collection2-core"].Collection2,f=Package.modules.meteorInstall,d=Package.modules.Buffer,h=Package.modules.process,y=Package.mongo.Mongo,g,k,P=f({node_modules:{meteor:{"app-os-keypairs":{"namespacing.coffee.js":["meteor/mrstn",function(e,t,o){g="object"==typeof g?g:{};var a=g,r;o.import("meteor/mrstn",{App:function(e){r=e}});var n;n="Keypairs",r[n]={},r[n].API={},r[n].Schemas={},r[n].config={model:n,one:"keypair",many:"keypairs",pathName:"os-keypairs",service:"Nova",sync:{enabled:!0,default:"list",dashboard:!0,scoped:!0,projectDepend:!0}}}],"schema.coffee.js":["meteor/mrstn",function(e,t,o){g="object"==typeof g?g:{};var a=g,r;o.import("meteor/mrstn",{App:function(e){r=e}}),r.Keypairs.Schemas.create=function(){var e;return e={keypair:{type:Object,optional:!1},"keypair.name":{type:String,label:"Название",autoform:{placeholder:"Название"}},"keypair.public_key":{type:String,label:"Публичный ключ",optional:!0,autoform:{placeholder:"Описание (не обязательно)"}}},new m(e)}}],"collection.coffee.js":["meteor/mrstn","meteor/mongo",function(t,o,a){g="object"==typeof g?g:{};var r=g,n;a.import("meteor/mrstn",{App:function(e){n=e}});var c;a.import("meteor/mongo",{Mongo:function(e){c=e}});var i;i=n.Keypairs.config,void 0!==i.construct&&"default"!==i.construct||n.Collections.construct.default(i.model),e.isClient&&n.addIndexerForCollection(i.model,["name"])}],"api.coffee.js":["meteor/mrstn",function(e,t,o){g="object"==typeof g?g:{};var a=g,r;o.import("meteor/mrstn",{App:function(e){r=e}});var n,c,i=function e(t,o){function a(){this.constructor=t}for(var r in s.sanitizeForInObject(o))p.call(o,r)&&(t[r]=o[r]);return a.prototype=o.prototype,t.prototype=new a,t.__super__=o.prototype,t},p={}.hasOwnProperty;c=r.Keypairs.config,OpenStack.prototype.Keypairs=function(){return new n(this)},n=function(e){function t(e){return e.ns=this.constructor.name,Object.assign(this,e),this._buildRequestEnv(),this}return i(t,e),t.prototype.create=function(e){return this.action="create",this.request={method:"POST",path:"/"+c.pathName,data:e},this},t.prototype.list=function(){return this.action="list",this.request={method:"GET",path:"/"+c.pathName},this},t.prototype.details=function(e){return this.action="details",this.request={method:"GET",path:"/"+c.pathName+"/"+e},this},t.prototype.delete=function(e){return this.action="delete",this.request={method:"DELETE",path:"/"+c.pathName+"/"+e},this},t}(OpenStack)}]}}}},{extensions:[".js",".json",".coffee"]});P("./node_modules/meteor/app-os-keypairs/namespacing.coffee.js"),P("./node_modules/meteor/app-os-keypairs/schema.coffee.js"),P("./node_modules/meteor/app-os-keypairs/collection.coffee.js"),P("./node_modules/meteor/app-os-keypairs/api.coffee.js"),"undefined"==typeof Package&&(Package={}),function(e,t){for(var o in t)o in e||(e[o]=t[o])}(Package["app-os-keypairs"]={},{App:k})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,o=Package.meteor.meteorEnv,r=Package.underscore._,a=Package["ecmascript-runtime"].Symbol,n=Package["ecmascript-runtime"].Map,s=Package["ecmascript-runtime"].Set,i=Package["babel-runtime"].meteorBabelHelpers,c=Package.promise.Promise,p=Package.modules.meteorInstall,m=Package.modules.Buffer,l=Package.modules.process,u,f,d=p({node_modules:{meteor:{"app-os-flavors":{"namespacing.coffee.js":["meteor/mrstn",function(e,t,o){u="object"==typeof u?u:{};var r=u,a;o.import("meteor/mrstn",{App:function(e){a=e}});var n;n="Flavors",a[n]={},a[n].API={},a[n].config={model:n,one:"flavor",many:"flavors",pathName:"flavors",service:"Nova",sync:{enabled:!0,default:"list",dashboard:!1,scoped:!0,projectDepend:!0}}}],"collection.coffee.js":["meteor/mrstn","meteor/mongo",function(t,o,r){u="object"==typeof u?u:{};var a=u,n;r.import("meteor/mrstn",{App:function(e){n=e}});var s;r.import("meteor/mongo",{Mongo:function(e){s=e}});var i;i=n.Flavors.config,void 0!==i.construct&&"default"!==i.construct||n.Collections.construct.default(i.model),e.isClient&&n.addIndexerForCollection(i.model,["name"])}],"api.coffee.js":["meteor/mrstn",function(e,t,o){u="object"==typeof u?u:{};var r=u,a;o.import("meteor/mrstn",{App:function(e){a=e}});var n,s,c=function e(t,o){function r(){this.constructor=t}for(var a in i.sanitizeForInObject(o))p.call(o,a)&&(t[a]=o[a]);return r.prototype=o.prototype,t.prototype=new r,t.__super__=o.prototype,t},p={}.hasOwnProperty;s=a.Flavors.config,OpenStack.prototype.Flavors=function(){return new n(this)},n=function(e){function t(e){return e.ns=this.constructor.name,Object.assign(this,e),this._buildRequestEnv(),this}return c(t,e),t.prototype.list=function(){return this.action="list",this.request={method:"GET",path:"/"+s.pathName},this},t.prototype.listDetail=function(){return this.action="listDetail",this.request={method:"GET",path:"/"+s.pathName+"/detail"},this},t.prototype.details=function(e){return this.action="details",this.request={method:"GET",path:"/"+s.pathName+"/"+e},this},t.prototype.create=function(e){return this.action="create",this.request={method:"POST",path:"/"+s.pathName},this},t.prototype.delete=function(e){return this.action="delete",this.request={method:"DELETE",path:"/"+s.pathName+"/"+e},this},t}(OpenStack)}]}}}},{extensions:[".js",".json",".coffee"]});d("./node_modules/meteor/app-os-flavors/namespacing.coffee.js"),d("./node_modules/meteor/app-os-flavors/collection.coffee.js"),d("./node_modules/meteor/app-os-flavors/api.coffee.js"),"undefined"==typeof Package&&(Package={}),function(e,t){for(var o in t)o in e||(e[o]=t[o])}(Package["app-os-flavors"]={},{App:f})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,o=Package.meteor.meteorEnv,n=Package.underscore._,a=Package["aldeed:autoform"].AutoForm,i=Package["ecmascript-runtime"].Symbol,r=Package["ecmascript-runtime"].Map,s=Package["ecmascript-runtime"].Set,c=Package["babel-runtime"].meteorBabelHelpers,p=Package.promise.Promise,m=Package["aldeed:simple-schema"].SimpleSchema,l=Package["aldeed:simple-schema"].MongoObject,u=Package["aldeed:collection2-core"].Collection2,f=Package.modules.meteorInstall,d=Package.modules.Buffer,g=Package.modules.process,h=Package.mongo.Mongo,P,k,y=f({node_modules:{meteor:{"app-os-floatingips":{"namespacing.coffee.js":["meteor/mrstn",function(e,t,o){P="object"==typeof P?P:{};var n=P,a;o.import("meteor/mrstn",{App:function(e){a=e}});var i;i="FloatingIPs",a[i]={},a[i].API={},a[i].Schemas={},a[i].config={model:i,one:"floatingip",many:"floatingips",pathName:"floatingips",service:"Neutron",sync:{enabled:!0,default:"list",dashboard:!0,scoped:!1,projectDepend:!0}}}],"schema.coffee.js":["meteor/mrstn",function(e,t,o){P="object"==typeof P?P:{};var n=P,a;o.import("meteor/mrstn",{App:function(e){a=e}});var i;i=a.FloatingIPs.config,a.FloatingIPs.Schemas.create=function(){var e,t;return e={"router:external":!0},t={floatingip:{type:Object,optional:!1}},1===a.Networks.model.find().count()?t["floatingip.floating_network_id"]={type:String,defaultValue:a.Networks.model.findOne(e).id,autoform:{value:a.Networks.model.findOne(e).id,afFieldInput:{type:"hidden"},afFormGroup:{label:!1}}}:t["floatingip.floating_network_id"]={type:String,label:"Сеть",autoform:{type:"selectize",options:function(){function t(){return a.Networks.model.find(e).map(function(e){return{value:e.id,label:e.name}})}return t}(),selectizeOptions:{placeholder:"Выбор сети",plugins:{remove_button:{}},load:function(){function e(e,t){return this.clear(),this.clearOptions(),t(a.Indexes.Networks.search(e)._mongoCursor.map(function(e){return{value:e.id,text:e.name}}))}return e}()}}},new m(t)}}],"collection.coffee.js":["meteor/mrstn","meteor/mongo",function(e,t,o){P="object"==typeof P?P:{};var n=P,a;o.import("meteor/mrstn",{App:function(e){a=e}});var i;o.import("meteor/mongo",{Mongo:function(e){i=e}});var r;r=a.FloatingIPs.config,void 0!==r.construct&&"default"!==r.construct||a.Collections.construct.default(r.model)}],"api.coffee.js":["meteor/mrstn",function(e,t,o){P="object"==typeof P?P:{};var n=P,a;o.import("meteor/mrstn",{App:function(e){a=e}});var i,r,s=function e(t,o){function n(){this.constructor=t}for(var a in c.sanitizeForInObject(o))p.call(o,a)&&(t[a]=o[a]);return n.prototype=o.prototype,t.prototype=new n,t.__super__=o.prototype,t},p={}.hasOwnProperty;r=a.FloatingIPs.config,OpenStack.prototype.FloatingIPs=function(){return new i(this)},i=function(e){function t(e){return e.ns=this.constructor.name,Object.assign(this,e),this._buildRequestEnv(),this}return s(t,e),t.prototype.list=function(e){return this.action="list",this.request={method:"GET",path:"/"+r.pathName},this},t.prototype.details=function(e){return this.action="details",this.request={method:"GET",path:"/"+r.pathName+"/"+e},this},t.prototype.create=function(e){return this.action="create",this.request={method:"POST",path:"/"+r.pathName,data:e},this},t.prototype.delete=function(e){return this.action="delete",this.request={method:"DELETE",path:"/"+r.pathName+"/"+e},this},t.prototype.update=function(e,t){return this.action="update",this.request={method:"PUT",path:"/"+r.pathName+"/"+e,data:t},this},t}(OpenStack)}]}}}},{extensions:[".js",".json",".coffee"]});y("./node_modules/meteor/app-os-floatingips/namespacing.coffee.js"),y("./node_modules/meteor/app-os-floatingips/schema.coffee.js"),y("./node_modules/meteor/app-os-floatingips/collection.coffee.js"),y("./node_modules/meteor/app-os-floatingips/api.coffee.js"),"undefined"==typeof Package&&(Package={}),function(e,t){for(var o in t)o in e||(e[o]=t[o])}(Package["app-os-floatingips"]={},{App:k})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,o=Package.meteor.meteorEnv,r=Package.underscore._,n=Package["aldeed:autoform"].AutoForm,a=Package["ecmascript-runtime"].Symbol,i=Package["ecmascript-runtime"].Map,u=Package["ecmascript-runtime"].Set,c=Package["babel-runtime"].meteorBabelHelpers,s=Package.promise.Promise,p=Package["aldeed:simple-schema"].SimpleSchema,l=Package["aldeed:simple-schema"].MongoObject,m=Package["aldeed:collection2-core"].Collection2,d=Package.modules.meteorInstall,f=Package.modules.Buffer,h=Package.modules.process,g=Package.mongo.Mongo,y,b,k=d({node_modules:{meteor:{"app-os-routers":{"namespacing.coffee.js":["meteor/mrstn",function(e,t,o){y="object"==typeof y?y:{};var r=y,n;o.import("meteor/mrstn",{App:function(e){n=e}});var a;a="Routers",n[a]={},n[a].API={},n[a].Schemas={},n[a].SchemasHooks={},n[a].config={model:a,one:"router",many:"routers",pathName:"routers",service:"Neutron",sync:{enabled:!0,default:"list",dashboard:!0,scoped:!1,projectDepend:!0}}}],"schema.coffee.js":["meteor/mrstn",function(e,t,o){y="object"==typeof y?y:{};var r=y,n;o.import("meteor/mrstn",{App:function(e){n=e}});var a;a=n.Routers.config,n.Routers.SchemasHooks.create=function(e){return console.log(e),"FALSE"===e.ext&&delete e.router.external_gateway_info,e},n.Routers.Schemas.create=function(){var e,t;return t={ext:{type:String,label:"Присоединить к внешней сети",defaultValue:!1,autoform:{type:"boolean-checkbox"}},router:{type:Object,optional:!1},"router.name":{type:String,label:"Название",autoform:{placeholder:"Название"}},"router.description":{type:String,label:"Описание",optional:!0,autoform:{placeholder:"Описание"}},"router.admin_state_up":{type:Boolean,label:"Включен",defaultValue:!0},"router.external_gateway_info":{type:Object,optional:!0}},e={"router:external":!0},1===n.Networks.model.find().count()?t["router.external_gateway_info.network_id"]={type:String,defaultValue:n.Networks.model.findOne(e).id,optional:!0,autoform:{value:n.Networks.model.findOne(e).id,afFieldInput:{type:"hidden"},afFormGroup:{label:!1}}}:t["router.external_gateway_info.network_id"]={type:String,label:"Сеть",optional:!0,autoform:{type:"selectize",options:function(){function t(){return n.Networks.model.find(e).map(function(e){return{value:e.id,label:e.name}})}return t}(),selectizeOptions:{placeholder:"Выберете Сеть",plugins:{remove_button:{}},load:function(){function e(e,t){return this.clear(),this.clearOptions(),t(n.Networks.Index.search(e)._mongoCursor.map(function(e){return{value:e.id,text:e.name}}))}return e}()}}},new p(t)},n.Routers.SchemasHooks.addRouterInterface=function(e){return(new OpenStack).Routers().addRouterInterface(e.router_id,e.router).call(),!1},n.Routers.Schemas.addRouterInterface=function(){var e;return e={router_id:{type:String,optional:!0,autoform:{afFieldInput:{type:"hidden"},afFormGroup:{label:!1}}},router:{type:Object,optional:!1},"router.subnet_id":{type:String,label:"Подсеть",autoform:{type:"selectize",options:function(){function e(){return n.Subnets.model.find(external).map(function(e){return{value:e.id,label:e.name||e.id}})}return e}(),selectizeOptions:{placeholder:"Выберете Подсеть",plugins:{remove_button:{}},load:function(){function e(e,t){return this.clear(),this.clearOptions(),t(n.Subnets.Index.search(e)._mongoCursor.map(function(e){return{value:e.id,text:e.name}}))}return e}()}}}},new p(e)}}],"collection.coffee.js":["meteor/mrstn","meteor/mongo",function(e,t,o){y="object"==typeof y?y:{};var r=y,n;o.import("meteor/mrstn",{App:function(e){n=e}});var a;o.import("meteor/mongo",{Mongo:function(e){a=e}});var i;i=n.Routers.config,void 0!==i.construct&&"default"!==i.construct||n.Collections.construct.default(i.model)}],"api.coffee.js":["meteor/mrstn",function(e,t,o){y="object"==typeof y?y:{};var r=y,n;o.import("meteor/mrstn",{App:function(e){n=e}});var a,i,u=function e(t,o){function r(){this.constructor=t}for(var n in c.sanitizeForInObject(o))s.call(o,n)&&(t[n]=o[n]);return r.prototype=o.prototype,t.prototype=new r,t.__super__=o.prototype,t},s={}.hasOwnProperty;i=n.Routers.config,OpenStack.prototype.Routers=function(){return new a(this)},a=function(e){function t(e){return e.ns=this.constructor.name,Object.assign(this,e),this._buildRequestEnv(),this}return u(t,e),t.prototype.list=function(){return this.action="list",this.request={method:"GET",path:"/"+i.pathName},this},t.prototype.details=function(e){return this.action="details",this.request={method:"GET",path:"/"+i.pathName+"/"+e},this},t.prototype.create=function(e){return this.action="create",this.request={method:"POST",path:"/"+i.pathName,data:e},this},t.prototype.delete=function(e){return this.action="delete",this.request={method:"DELETE",path:"/"+i.pathName+"/"+e},this},t.prototype.update=function(e,t){return this.action="update",this.request={method:"PUT",path:"/"+i.pathName+"/"+e,data:t},this},t.prototype.addRouterInterface=function(e,t){return this.action="addRouterInterface",this.request={method:"PUT",path:"/"+i.pathName+"/"+e+"/add_router_interface",data:t},this},t.prototype.removeRouterInterface=function(e,t){return this.action="removeRouterInterface",this.request={method:"PUT",path:"/"+i.pathName+"/"+e+"/remove_router_interface",data:t},this},t}(OpenStack)}]}}}},{extensions:[".js",".json",".coffee"]});k("./node_modules/meteor/app-os-routers/namespacing.coffee.js"),k("./node_modules/meteor/app-os-routers/schema.coffee.js"),k("./node_modules/meteor/app-os-routers/collection.coffee.js"),k("./node_modules/meteor/app-os-routers/api.coffee.js"),"undefined"==typeof Package&&(Package={}),function(e,t){for(var o in t)o in e||(e[o]=t[o])}(Package["app-os-routers"]={},{App:b})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,o=Package.meteor.meteorEnv,a=Package.underscore._,r=Package["aldeed:autoform"].AutoForm,n=Package["ecmascript-runtime"].Symbol,s=Package["ecmascript-runtime"].Map,c=Package["ecmascript-runtime"].Set,i=Package["babel-runtime"].meteorBabelHelpers,p=Package.promise.Promise,m=Package["aldeed:simple-schema"].SimpleSchema,u=Package["aldeed:simple-schema"].MongoObject,f=Package["aldeed:collection2-core"].Collection2,l=Package.modules.meteorInstall,d=Package.modules.Buffer,h=Package.modules.process,g=Package.mongo.Mongo,P,k,y=l({node_modules:{meteor:{"app-os-ports":{"namespacing.coffee.js":["meteor/mrstn",function(e,t,o){P="object"==typeof P?P:{};var a=P,r;o.import("meteor/mrstn",{App:function(e){r=e}});var n;n="Ports",r[n]={},r[n].API={},r[n].Schemas={},r[n].SchemasHooks={},r[n].config={model:n,one:"port",many:"ports",pathName:"ports",service:"Neutron",sync:{enabled:!0,default:"list",dashboard:!0,scoped:!1,projectDepend:!0}}}],"collection.coffee.js":["meteor/mrstn","meteor/mongo",function(e,t,o){P="object"==typeof P?P:{};var a=P,r;o.import("meteor/mrstn",{App:function(e){r=e}});var n;o.import("meteor/mongo",{Mongo:function(e){n=e}});var s;s=r.Ports.config,void 0!==s.construct&&"default"!==s.construct||r.Collections.construct.default(s.model)}],"api.coffee.js":["meteor/mrstn",function(e,t,o){P="object"==typeof P?P:{};var a=P,r;o.import("meteor/mrstn",{App:function(e){r=e}});var n,s,c=function e(t,o){function a(){this.constructor=t}for(var r in i.sanitizeForInObject(o))p.call(o,r)&&(t[r]=o[r]);return a.prototype=o.prototype,t.prototype=new a,t.__super__=o.prototype,t},p={}.hasOwnProperty;s=r.Ports.config,OpenStack.prototype.Ports=function(){return new n(this)},n=function(e){function t(e){return e.ns=this.constructor.name,Object.assign(this,e),this._buildRequestEnv(),this}return c(t,e),t.prototype.list=function(){return this.action="list",this.request={method:"GET",path:"/"+s.pathName},this},t.prototype.details=function(e){return this.action="details",this.request={method:"GET",path:"/"+s.pathName+"/"+e},this},t.prototype.create=function(e){return this.action="create",this.request={method:"POST",path:"/"+s.pathName,data:e},this},t.prototype.delete=function(e){return this.action="delete",this.request={method:"DELETE",path:"/"+s.pathName+"/"+e},this},t.prototype.update=function(e,t){return this.action="update",this.request={method:"PUT",path:"/"+s.pathName+"/"+e,data:t},this},t}(OpenStack)}]}}}},{extensions:[".js",".json",".coffee"]});y("./node_modules/meteor/app-os-ports/namespacing.coffee.js"),y("./node_modules/meteor/app-os-ports/collection.coffee.js"),y("./node_modules/meteor/app-os-ports/api.coffee.js"),"undefined"==typeof Package&&(Package={}),function(e,t){for(var o in t)o in e||(e[o]=t[o])}(Package["app-os-ports"]={},{App:k})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,o=Package.meteor.meteorEnv,n=Package.underscore._,a=Package["aldeed:autoform"].AutoForm,r=Package["ecmascript-runtime"].Symbol,s=Package["ecmascript-runtime"].Map,c=Package["ecmascript-runtime"].Set,i=Package["babel-runtime"].meteorBabelHelpers,p=Package.promise.Promise,m=Package["aldeed:simple-schema"].SimpleSchema,u=Package["aldeed:simple-schema"].MongoObject,l=Package["aldeed:collection2-core"].Collection2,f=Package.modules.meteorInstall,d=Package.modules.Buffer,h=Package.modules.process,k=Package.mongo.Mongo,g,w,y=f({node_modules:{meteor:{"app-os-networks":{"namespacing.coffee.js":["meteor/mrstn",function(e,t,o){g="object"==typeof g?g:{};var n=g,a;o.import("meteor/mrstn",{App:function(e){a=e}});var r;r="Networks",a[r]={},a[r].API={},a[r].Schemas={},a[r].config={model:r,one:"network",many:"networks",pathName:"networks",service:"Neutron",sync:{enabled:!0,default:"list",dashboard:!0,scoped:!1,projectDepend:!0}}}],"schema.coffee.js":["meteor/mrstn",function(e,t,o){g="object"==typeof g?g:{};var n=g,a;o.import("meteor/mrstn",{App:function(e){a=e}});var r;r=a.Projects.config,a.Networks.Schemas.create=function(){var e;return e={network:{type:Object,optional:!1},"network.name":{type:String,label:"Название",autoform:{placeholder:"Название"}},"network.admin_state_up":{type:Boolean,label:"Включено",defaultValue:!0}},new m(e)},a.Networks.Schemas.update=function(){var e;return e={network:{type:Object,optional:!1},"network.name":{type:String,label:"Название"},"network.admin_state_up":{type:Boolean,label:"Включено"},"network.router:external":{type:Boolean,label:"Внешняя",optional:!0}},new m(e)}}],"collection.coffee.js":["meteor/mrstn","meteor/mongo",function(t,o,n){g="object"==typeof g?g:{};var a=g,r;n.import("meteor/mrstn",{App:function(e){r=e}});var s;n.import("meteor/mongo",{Mongo:function(e){s=e}});var c;c=r.Networks.config,void 0!==c.construct&&"default"!==c.construct||r.Collections.construct.default(c.model),e.isClient&&r.addIndexerForCollection(c.model,["name"])}],"api.coffee.js":["meteor/mrstn",function(e,t,o){g="object"==typeof g?g:{};var n=g,a;o.import("meteor/mrstn",{App:function(e){a=e}});var r,s,c=function e(t,o){function n(){this.constructor=t}for(var a in i.sanitizeForInObject(o))p.call(o,a)&&(t[a]=o[a]);return n.prototype=o.prototype,t.prototype=new n,t.__super__=o.prototype,t},p={}.hasOwnProperty;s=a.Networks.config,OpenStack.prototype.Networks=function(){return new r(this)},r=function(e){function t(e){return e.ns=this.constructor.name,Object.assign(this,e),this._buildRequestEnv(),this}return c(t,e),t.prototype.list=function(){return this.action="list",this.request={method:"GET",path:"/"+s.pathName},this},t.prototype.details=function(e){return this.action="details",this.request={method:"GET",path:"/"+s.pathName+"/"+e},this},t.prototype.create=function(e){return this.action="create",this.request={method:"POST",path:"/"+s.pathName,data:e},this},t.prototype.delete=function(e){return this.action="delete",this.request={method:"DELETE",path:"/"+s.pathName+"/"+e},this},t.prototype.update=function(e,t){return this.action="update",this.request={method:"PUT",path:"/"+s.pathName+"/"+e,data:t},this},t}(OpenStack)}]}}}},{extensions:[".js",".json",".coffee"]});y("./node_modules/meteor/app-os-networks/namespacing.coffee.js"),y("./node_modules/meteor/app-os-networks/schema.coffee.js"),y("./node_modules/meteor/app-os-networks/collection.coffee.js"),y("./node_modules/meteor/app-os-networks/api.coffee.js"),"undefined"==typeof Package&&(Package={}),function(e,t){for(var o in t)o in e||(e[o]=t[o])}(Package["app-os-networks"]={},{App:w})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,o=Package.meteor.meteorEnv,n=Package.underscore._,s=Package["ecmascript-runtime"].Symbol,a=Package["ecmascript-runtime"].Map,r=Package["ecmascript-runtime"].Set,c=Package["babel-runtime"].meteorBabelHelpers,i=Package.promise.Promise,p=Package.modules.meteorInstall,u=Package.modules.Buffer,m=Package.modules.process,l,f,d=p({node_modules:{meteor:{"app-os-subnet-pools":{"namespacing.coffee.js":["meteor/mrstn",function(e,t,o){l="object"==typeof l?l:{};var n=l,s;o.import("meteor/mrstn",{App:function(e){s=e}});var a;a="SubnetPools",s[a]={},s[a].API={},s[a].config={model:a,pathName:"subnetpools",one:"subnetpool",many:"subnetpools",service:"Neutron",sync:{enabled:!0,default:"list",dashboard:!0,scoped:!1,projectDepend:!0}}}],"collection.coffee.js":["meteor/mrstn","meteor/mongo",function(t,o,n){l="object"==typeof l?l:{};var s=l,a;n.import("meteor/mrstn",{App:function(e){a=e}});var r;n.import("meteor/mongo",{Mongo:function(e){r=e}});var c;c=a.SubnetPools.config,void 0!==c.construct&&"default"!==c.construct||a.Collections.construct.default(c.model),e.isClient&&a.addIndexerForCollection(c.model,["name"])}],"api.coffee.js":["meteor/mrstn",function(e,t,o){l="object"==typeof l?l:{};var n=l,s;o.import("meteor/mrstn",{App:function(e){s=e}});var a,r,i=function e(t,o){function n(){this.constructor=t}for(var s in c.sanitizeForInObject(o))p.call(o,s)&&(t[s]=o[s]);return n.prototype=o.prototype,t.prototype=new n,t.__super__=o.prototype,t},p={}.hasOwnProperty;r=s.SubnetPools.config,OpenStack.prototype.SubnetPools=function(){return new a(this)},a=function(e){function t(e){return e.ns=this.constructor.name,Object.assign(this,e),this._buildRequestEnv(),this}return i(t,e),t.prototype.list=function(){return this.action="list",this.request={method:"GET",path:"/"+r.pathName},this},t.prototype.details=function(e){return this.action="details",this.request={method:"GET",path:"/"+r.pathName+"/"+e},this},t.prototype.create=function(e){return this.action="create",this.request={method:"POST",path:"/"+r.pathName,data:e},this},t.prototype.delete=function(e){return this.action="delete",this.request={method:"DELETE",path:"/"+r.pathName+"/"+e},this},t.prototype.update=function(e,t){return this.action="update",this.request={method:"PUT",path:"/"+r.pathName+"/"+e,data:t},this},t}(OpenStack)}]}}}},{extensions:[".js",".json",".coffee"]});d("./node_modules/meteor/app-os-subnet-pools/namespacing.coffee.js"),d("./node_modules/meteor/app-os-subnet-pools/collection.coffee.js"),d("./node_modules/meteor/app-os-subnet-pools/api.coffee.js"),"undefined"==typeof Package&&(Package={}),function(e,t){for(var o in t)o in e||(e[o]=t[o])}(Package["app-os-subnet-pools"]={},{App:f})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,o=Package.meteor.meteorEnv,n=Package.underscore._,a=Package["aldeed:autoform"].AutoForm,r=Package["ecmascript-runtime"].Symbol,s=Package["ecmascript-runtime"].Map,i=Package["ecmascript-runtime"].Set,c=Package["babel-runtime"].meteorBabelHelpers,u=Package.promise.Promise,p=Package["aldeed:simple-schema"].SimpleSchema,l=Package["aldeed:simple-schema"].MongoObject,m=Package["aldeed:collection2-core"].Collection2,d=Package.modules.meteorInstall,f=Package.modules.Buffer,b=Package.modules.process,h=Package.mongo.Mongo,g,P,k=d({node_modules:{meteor:{"app-os-subnets":{"namespacing.coffee.js":["meteor/mrstn",function(e,t,o){g="object"==typeof g?g:{};var n=g,a;o.import("meteor/mrstn",{App:function(e){a=e}});var r;r="Subnets",a[r]={},a[r].API={},a[r].Schemas={},a[r].SchemasHooks={},a[r].config={model:r,pathName:"subnets",service:"Neutron",one:"subnet",many:"subnets",sync:{enabled:!0,default:"list",dashboard:!0,scoped:!1,projectDepend:!0}}}],"schema.coffee.js":["meteor/mrstn",function(e,t,o){g="object"==typeof g?g:{};var n=g,a;o.import("meteor/mrstn",{App:function(e){a=e}});var r;r=a.Subnets.config,a.Subnets.SchemasHooks.create=function(e){return e.subnet.ip_version=a.SubnetPools.model.findOne({id:e.subnet.subnetpool_id}).ip_version,e},a.Subnets.Schemas.create=function(){var e;return e={subnet:{type:Object,optional:!1},"subnet.name":{type:String,label:"Название",autoform:{placeholder:"Название подсети"}},"subnet.description":{type:String,label:"Описание",optional:!0,autoform:{placeholder:"Описание"}},"subnet.enable_dhcp":{type:Boolean,label:"DHCP Включен",defaultValue:!0},"subnet.network_id":{type:String,label:"Сеть",autoform:{type:"selectize",options:function(){function e(){return a.Networks.model.find({"router:external":!1}).map(function(e){return{value:e.id,label:e.name}})}return e}(),selectizeOptions:{placeholder:"Выбор сети",plugins:{remove_button:{}},load:function(){function e(e,t){var o;return this.clear(),this.clearOptions(),o=a.Networks.Index.search(e)._mongoCursor.map(function(e){if(e["router:external"]===!1)return{value:e.id,text:e.name}}),t(o.filter(Boolean))}return e}()}}}},1===a.SubnetPools.list().count()?e["subnet.subnetpool_id"]={type:String,label:"Пул адресов",defaultValue:a.SubnetPools.model.findOne().id,autoform:{type:"hidden"}}:e["subnet.subnetpool_id"]=a.Indexes.Autoform.SubnetPoolSelectize,new p(e)}}],"collection.coffee.js":["meteor/mrstn","meteor/mongo",function(t,o,n){g="object"==typeof g?g:{};var a=g,r;n.import("meteor/mrstn",{App:function(e){r=e}});var s;n.import("meteor/mongo",{Mongo:function(e){s=e}});var i;i=r.Subnets.config,void 0!==i.construct&&"default"!==i.construct||r.Collections.construct.default(i.model),e.isClient&&r.addIndexerForCollection(i.model,["name"])}],"api.coffee.js":["meteor/mrstn",function(e,t,o){g="object"==typeof g?g:{};var n=g,a;o.import("meteor/mrstn",{App:function(e){a=e}});var r,s,i=function e(t,o){function n(){this.constructor=t}for(var a in c.sanitizeForInObject(o))u.call(o,a)&&(t[a]=o[a]);return n.prototype=o.prototype,t.prototype=new n,t.__super__=o.prototype,t},u={}.hasOwnProperty;s=a.Subnets.config,OpenStack.prototype.Subnets=function(){return new r(this)},r=function(e){function t(e){return e.ns=this.constructor.name,Object.assign(this,e),this._buildRequestEnv(),this}return i(t,e),t.prototype.list=function(){return this.action="list",this.request={method:"GET",path:"/"+s.pathName},this},t.prototype.details=function(e){return this.action="details",this.request={method:"GET",path:"/"+s.pathName+"/"+e},this},t.prototype.create=function(e){return this.action="create",this.request={method:"POST",path:"/"+s.pathName,data:e},this},t.prototype.delete=function(e){return this.action="delete",this.request={method:"DELETE",path:"/"+s.pathName+"/"+e},this},t.prototype.update=function(e,t){return this.action="update",this.request={method:"PUT",path:"/"+s.pathName+"/"+e,data:t},this},t}(OpenStack)}]}}}},{extensions:[".js",".json",".coffee"]});k("./node_modules/meteor/app-os-subnets/namespacing.coffee.js"),k("./node_modules/meteor/app-os-subnets/schema.coffee.js"),k("./node_modules/meteor/app-os-subnets/collection.coffee.js"),k("./node_modules/meteor/app-os-subnets/api.coffee.js"),"undefined"==typeof Package&&(Package={}),function(e,t){for(var o in t)o in e||(e[o]=t[o])}(Package["app-os-subnets"]={},{App:P})}();

!function(){var e=Package.meteor.Meteor,o=Package.meteor.global,a=Package.meteor.meteorEnv,c=Package.underscore._,r=Package["ecmascript-runtime"].Symbol,t=Package["ecmascript-runtime"].Map,n=Package["ecmascript-runtime"].Set,s=Package["babel-runtime"].meteorBabelHelpers,p=Package.promise.Promise,m=Package.modules.meteorInstall,f=Package.modules.Buffer,i=Package.modules.process,u,g,l=m({node_modules:{meteor:{"app-os-group":{"namespacing.coffee.js":function(){u="object"==typeof u?u:{};var e=u},"collection.coffee.js":function(){u="object"==typeof u?u:{};var e=u},"api.coffee.js":function(){u="object"==typeof u?u:{};var e=u}}}}},{extensions:[".js",".json",".coffee"]});l("./node_modules/meteor/app-os-group/namespacing.coffee.js"),l("./node_modules/meteor/app-os-group/collection.coffee.js"),l("./node_modules/meteor/app-os-group/api.coffee.js"),"undefined"==typeof Package&&(Package={}),function(e,o){for(var a in o)a in e||(e[a]=o[a])}(Package["app-os-group"]={},{App:g})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,o=Package.meteor.meteorEnv,n=Package.underscore._,s=Package["numtel:pg"].PgSubscription,r=Package["ecmascript-runtime"].Symbol,a=Package["ecmascript-runtime"].Map,c=Package["ecmascript-runtime"].Set,i=Package["babel-runtime"].meteorBabelHelpers,m=Package.promise.Promise,p=Package.modules.meteorInstall,u=Package.modules.Buffer,l=Package.modules.process,f,g,d=p({node_modules:{meteor:{"app-os-role-assignments":{"namespacing.coffee.js":["meteor/mrstn",function(e,t,o){f="object"==typeof f?f:{};var n=f,s;o.import("meteor/mrstn",{App:function(e){s=e}});var r;r="RoleAssignments",s[r]={},s[r].API={},s[r].config={model:r,one:"role_assignment",many:"role_assignments",pathName:"role_assignments",service:"Keystone",sync:{enabled:!0,default:"list",dashboard:!0,projectDepend:!1}}}],"collection.coffee.js":["meteor/mrstn","meteor/mongo",function(e,t,o){f="object"==typeof f?f:{};var n=f,s;o.import("meteor/mrstn",{App:function(e){s=e}});var r;o.import("meteor/mongo",{Mongo:function(e){r=e}});var a;a=s.RoleAssignments.config,void 0!==a.construct&&"default"!==a.construct||s.Collections.construct.default(a.model)}],"api.coffee.js":["meteor/mrstn",function(e,t,o){f="object"==typeof f?f:{};var n=f,s;o.import("meteor/mrstn",{App:function(e){s=e}});var r,a,c=function e(t,o){function n(){this.constructor=t}for(var s in i.sanitizeForInObject(o))m.call(o,s)&&(t[s]=o[s]);return n.prototype=o.prototype,t.prototype=new n,t.__super__=o.prototype,t},m={}.hasOwnProperty;a=s.RoleAssignments.config,OpenStack.prototype.RoleAssignments=function(){return new r(this)},r=function(e){function t(e){return e.ns=this.constructor.name,Object.assign(this,e),this._buildRequestEnv(),this}return c(t,e),t.prototype.list=function(e){return null==e&&(e=""),this.action="list",this.request={method:"GET",path:"/"+a.pathName+e},this},t.prototype.assignToUserOnProject=function(e,t,o){return this.action="assignToUserOnProject",this.request={method:"PUT",path:"/projects/"+t+"/users/"+e+"/roles/"+o},this},t}(OpenStack),s[a.model].isUserOwnProject=function(e,t){var o;return o=s.Projects.findOwnerID(t),e===o}}]}}}},{extensions:[".js",".json",".coffee"]});d("./node_modules/meteor/app-os-role-assignments/namespacing.coffee.js"),d("./node_modules/meteor/app-os-role-assignments/collection.coffee.js"),d("./node_modules/meteor/app-os-role-assignments/api.coffee.js"),"undefined"==typeof Package&&(Package={}),function(e,t){for(var o in t)o in e||(e[o]=t[o])}(Package["app-os-role-assignments"]={},{App:g})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,o=Package.meteor.meteorEnv,a=Package.underscore._,n=Package["ecmascript-runtime"].Symbol,r=Package["ecmascript-runtime"].Map,i=Package["ecmascript-runtime"].Set,s=Package["babel-runtime"].meteorBabelHelpers,c=Package.promise.Promise,p=Package.modules.meteorInstall,m=Package.modules.Buffer,u=Package.modules.process,h,f,d=p({node_modules:{meteor:{"app-os-images":{"namespacing.coffee.js":["meteor/mrstn",function(e,t,o){h="object"==typeof h?h:{};var a=h,n;o.import("meteor/mrstn",{App:function(e){n=e}});var r;r="Images",n[r]={},n[r].API={},n[r].config={model:r,one:"image",many:"images",pathName:"images",service:"Glance",sync:{enabled:!0,default:"list",dashboard:!1,scoped:!1,projectDepend:!0}}}],"collection.coffee.js":["meteor/mrstn","meteor/mongo",function(t,o,a){h="object"==typeof h?h:{};var n=h,r;a.import("meteor/mrstn",{App:function(e){r=e}});var i;a.import("meteor/mongo",{Mongo:function(e){i=e}});var s;s=r.Images.config,void 0!==s.construct&&"default"!==s.construct||r.Collections.construct.default(s.model),e.isClient&&r.addIndexerForCollection(s.model,["name"])}],"api.coffee.js":["meteor/mrstn",function(e,t,o){h="object"==typeof h?h:{};var a=h,n;o.import("meteor/mrstn",{App:function(e){n=e}});var r,i,c=function e(t,o){function a(){this.constructor=t}for(var n in s.sanitizeForInObject(o))p.call(o,n)&&(t[n]=o[n]);return a.prototype=o.prototype,t.prototype=new a,t.__super__=o.prototype,t},p={}.hasOwnProperty;i=n.Images.config,OpenStack.prototype.Images=function(){return new r(this)},r=function(e){function t(e){return e.ns=this.constructor.name,Object.assign(this,e),this._buildRequestEnv(),this}return c(t,e),t.prototype.list=function(){return this.action="list",this.request={method:"GET",path:"/"+i.pathName},this},t.prototype.details=function(e){return this.action="details",this.request={method:"GET",path:"/"+i.pathName+"/"+e},this},t.prototype.create=function(e){return this.action="create",this.request={method:"POST",path:"/"+i.pathName,data:e},this},t.prototype.delete=function(e){return this.action="delete",this.request={method:"DELETE",path:"/"+i.pathName+"/"+e},this},t.prototype.deactivate=function(e,t){return this.action="deactivate",this.request={method:"GET",path:"/"+i.pathName+"/"+e+"/actions/deactivate"},this},t.prototype.reactivate=function(e){return this.action="reactivate",this.request={method:"GET",path:"/"+i.pathName+"/"+e+"/actions/reactivate"},this},t.prototype.update=function(e,t){return this.action="update",this.request={method:"PATCH",path:"/"+i.pathName+"/"+e,data:t},this},t}(OpenStack)}]}}}},{extensions:[".js",".json",".coffee"]});d("./node_modules/meteor/app-os-images/namespacing.coffee.js"),d("./node_modules/meteor/app-os-images/collection.coffee.js"),d("./node_modules/meteor/app-os-images/api.coffee.js"),"undefined"==typeof Package&&(Package={}),function(e,t){for(var o in t)o in e||(e[o]=t[o])}(Package["app-os-images"]={},{App:f})}();

!function(){var n;"undefined"==typeof Package&&(Package={}),function(n,a){for(var e in a)e in n||(n[e]=a[e])}(Package["app-os-ctrl-neutron"]={},{App:n})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,o=Package.meteor.meteorEnv,r=Package["accounts-base"].Accounts,n=Package.check.check,s=Package.check.Match,i=Package["vsivsi:job-collection"].Job,a=Package["vsivsi:job-collection"].JobCollection,c=Package["ecmascript-runtime"].Symbol,u=Package["ecmascript-runtime"].Map,p=Package["ecmascript-runtime"].Set,m=Package["babel-runtime"].meteorBabelHelpers,d=Package.promise.Promise,f=Package.modules.meteorInstall,h=Package.modules.Buffer,l=Package.modules.process,g,y,P=f({node_modules:{meteor:{"app-users":{"namespacing.coffee.js":["meteor/mrstn",function(e,t,o){g="object"==typeof g?g:{};var r=g,n;o.import("meteor/mrstn",{App:function(e){n=e}});var s;s="Users",n[s]={},n[s].API={},n[s].config={model:s,pathName:"users",service:"Keystone",methodNamePrefix:"App."+s}}],"api.coffee.js":["meteor/mrstn",function(e,t,o){g="object"==typeof g?g:{};var r=g,n;o.import("meteor/mrstn",{App:function(e){n=e}});var s,i,a=function e(t,o){function r(){this.constructor=t}for(var n in m.sanitizeForInObject(o))c.call(o,n)&&(t[n]=o[n]);return r.prototype=o.prototype,t.prototype=new r,t.__super__=o.prototype,t},c={}.hasOwnProperty;i=n.Users.config,OpenStack.prototype.Users=function(){return new s(this)},s=function(e){function t(e){return e.ns=this.constructor.name,Object.assign(this,e),this._buildRequestEnv(),this}return a(t,e),t.prototype.list=function(){return this.action="list",this.request={method:"GET",path:"/"+i.pathName},this},t.prototype.create=function(e){return this.action="create",this.request={method:"POST",path:"/"+i.pathName,data:e},this},t.prototype.details=function(e){return this.action="details",this.request={method:"GET",path:"/"+i.pathName+"/"+itemID},this},t.prototype.delete=function(e){return this.action="delete",this.request={method:"DELETE",path:"/"+i.pathName+"/"+e},this},t.prototype.update=function(e,t){return this.action="update",this.request={method:"PATCH",path:"/"+i.pathName+"/"+e,data:t},this},t.prototype.groups=function(e){return this.action="groups",this.request={method:"GET",path:"/"+i.pathName+"/"+e+"/groups"},this},t.prototype.projects=function(e){return this.action="projects",this.request={method:"GET",path:"/"+i.pathName+"/"+e+"/projects"},this},t.prototype.password=function(e,t){return this.action="password",this.request={method:"POST",path:"/"+i.pathName+"/"+e+"/password",data:t},this},t}(OpenStack)}],"methods_common.coffee.js":["meteor/mrstn",function(t,o,r){g="object"==typeof g?g:{};var n=g,s;r.import("meteor/mrstn",{App:function(e){s=e}});var i="function"==typeof c&&"symbol"==typeof c.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof c&&e.constructor===c&&e!==c.prototype?"symbol":typeof e},a;a=s.Users.config,s[a.model].get=function(t){var o,r;switch(o={},"undefined"==typeof t?"undefined":i(t)){case"string":return e.users.findOne({$or:[{_id:t},{id:t}]});case"object":if(console.warn("user from object "),t._id&&(o=e.users.findOne({_id:t._id})),t.id)return o=e.users.findOne({id:t.id});break;case"undefined":if(e.isClient&&(r=e.userId()))return e.users.findOne({_id:r});break;default:throw new e.Error("Unauthorized: users.get")}},s[a.model].exist=function(e){var t;return t=s[a.model].findByName(e),!!t},s[a.model].isAdmin=function(t){var o;return o=e.users.findOne({_id:t}),!(!o||"admin"!==o.role)},s[a.model].novice=function(t){return t=e.isClient?e.user():s.Users.get(t),t?t.profile.novice:void 0},s[a.model].findByName=function(t){return e.users.findOne({$or:[{username:t.toLowerCase()},{emails:{$elemMatch:{address:t.toLowerCase()}}}]})},e.isClient&&(s[a.model].setCurrentProject=function(){return e.call(a.methodNamePrefix+".setCurrentProject",project,function(e,t){return console.log(e),console.log(t),e?sAlert.error(e):sAlert.success(t)})}),s[a.model].isUserPayable=function(e){var t;return t=s.Bills.getForUser(e),!!(t.enabled&&t.balance>=0)},s.Users.projects=function(e){return s.RoleAssignments.model.find({actor:e.id}).map(function(e){return e.target})},s[a.model].hasAccessToProject=function(e,t){var o;return e=s[a.model].get(e),t=s.Projects.get(t),!(!e||!t)&&(o=s.RoleAssignments.model.findOne({actor:e.id,target:t.id}),!!o)}}]}}}},{extensions:[".js",".json",".coffee"]});P("./node_modules/meteor/app-users/namespacing.coffee.js"),P("./node_modules/meteor/app-users/api.coffee.js"),P("./node_modules/meteor/app-users/methods_common.coffee.js"),"undefined"==typeof Package&&(Package={}),function(e,t){for(var o in t)o in e||(e[o]=t[o])}(Package["app-users"]={},{App:y})}();

!function(){var a;"undefined"==typeof Package&&(Package={}),function(a,n){for(var e in n)e in a||(a[e]=n[e])}(Package["app-oauth"]={},{App:a})}();

!function(){var e=Package.meteor.Meteor,o=Package.meteor.global,t=Package.meteor.meteorEnv,r=Package.underscore._,n=Package.mongo.Mongo,c=Package["ecmascript-runtime"].Symbol,i=Package["ecmascript-runtime"].Map,s=Package["ecmascript-runtime"].Set,a=Package["babel-runtime"].meteorBabelHelpers,u=Package.promise.Promise,p=Package.modules.meteorInstall,m=Package.modules.Buffer,f=Package.modules.process,l,d,g=p({node_modules:{meteor:{"app-price-list":{"namespacing.coffee.js":["meteor/mrstn",function(e,o,t){l="object"==typeof l?l:{};var r=l,n;t.import("meteor/mrstn",{App:function(e){n=e}});var c;c="PriceList",n[c]={},n[c].config={model:c}}],"collection.coffee.js":["meteor/mrstn",function(o,t,r){l="object"==typeof l?l:{};var n=l,c;r.import("meteor/mrstn",{App:function(e){c=e}});var i;i=c.PriceList.config,void 0!==i.construct&&"default"!==i.construct||c.Collections.construct.default(i.model),c.Subscriptions.public.push("PriceList"),e.isServer&&c.Publications.public(i.model)}],"calculate.coffee.js":["meteor/mrstn",function(e,o,t){l="object"==typeof l?l:{};var r=l,n;t.import("meteor/mrstn",{App:function(e){n=e}});var i="function"==typeof c&&"symbol"==typeof c.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof c&&e.constructor===c&&e!==c.prototype?"symbol":typeof e},s,a;a=n.PriceList.config,s=function(){function e(){return this}return e.prototype.flavor=function(e,o,t){var r,c;return null==o&&(o="hr"),null==t&&(t=30),r=n.Flavors.model.findOne({_id:e})||n.Flavors.model.findOne({id:e}),"object"===("undefined"==typeof e?"undefined":i(e))&&(r=e),c=this.vcpus(r.vcpus)+this.ram(r.ram),this.sum(c,o,t)},e.prototype.vcpus=function(e){var o;return o=n.PriceList.model.findOne({resource:"vcpus"}),e*o.price},e.prototype.ram=function(e){var o;return o=n.PriceList.model.findOne({resource:"memory"}),e*o.price/1024},e.prototype.volume=function(e,o,t){var r,c,i,s;return null==o&&(o="hr"),null==t&&(t=30),e.size&&(c=e.size),(e._id||e.id)&&(c=Volumes.findOne(e).size),s=n.PriceList.model.findOne({resource:"disk.usage"}),i=c*s.price,r=i,this.sum(r,o,t)},e.prototype.sum=function(e,o,t){return"hr"===o?e:"day"===o?24*e:"month"===o?24*e*t:void 0},e}(),n[a.model].calc=new s}]}}}},{extensions:[".js",".json",".coffee"]});g("./node_modules/meteor/app-price-list/namespacing.coffee.js"),g("./node_modules/meteor/app-price-list/collection.coffee.js"),g("./node_modules/meteor/app-price-list/calculate.coffee.js"),"undefined"==typeof Package&&(Package={}),function(e,o){for(var t in o)t in e||(e[t]=o[t])}(Package["app-price-list"]={},{App:d})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package["reactive-var"].ReactiveVar,o=Package.tracker.Tracker,s=Package.tracker.Deps,c=Package.check.check,u=Package.check.Match,i=Package.session.Session,a=Package["ecmascript-runtime"].Symbol,f=Package["ecmascript-runtime"].Map,p=Package["ecmascript-runtime"].Set,d=Package["babel-runtime"].meteorBabelHelpers,l=Package.promise.Promise,m=Package.modules.meteorInstall,y=Package.modules.Buffer,v=Package.modules.process,h,g,k=m({node_modules:{meteor:{"app-ctrl-sync":{events:{"collection.coffee.js":["meteor/mrstn","meteor/mongo",function(t,n,r){h="object"==typeof h?h:{};var o=h,s;r.import("meteor/mrstn",{App:function(e){s=e}});var c;r.import("meteor/mongo",{Mongo:function(e){c=e}}),s.Events={},s.Collections.construct.default("Events"),s.Events.model.allow({insert:function(){function e(){return!1}return e}(),update:function(){function e(){return!1}return e}(),remove:function(){function e(){return!1}return e}()}),s.Events.exist=function(){return 0!==s.Events.model.find().count()},s.Events.list=function(){return s.Events.model.find()},e.isClient&&e.startup(function(){return e.subscribe("Events",30)})}]},controller:{"_controller.coffee.js":["meteor/mrstn","./constructor","./events","./helpers","./sync-default","./sync-custom",function(e,t,n){h="object"==typeof h?h:{};var r=h,o;n.import("meteor/mrstn",{App:function(e){o=e}});var s;n.import("./constructor",{default:function(e){s=e}}),n.import("./events"),n.import("./helpers"),n.import("./sync-default"),n.import("./sync-custom"),o.Sync=new s}],"constructor.coffee":["./constructor.coffee.js",function(e,t,n){n.exports=e("./constructor.coffee.js")}],"constructor.coffee.js":["meteor/mrstn","meteor/mongo",function(e,t,n){h="object"==typeof h?h:{};var r=h,o;n.import("meteor/mrstn",{App:function(e){o=e}});var s;n.import("meteor/mongo",{Mongo:function(e){s=e}});var c;c=function(){function e(){return this.models=new s.Collection(null),this.models.allow({insert:function(){function e(){return!0}return e}()},{update:function(){function e(){return!0}return e}()},{remove:function(){function e(){return!0}return e}()}),this._buildModelsList(),this}return e.prototype._buildModelsList=function(){var e;return e=this,Object.keys(o).map(function(t){var n;try{if(n=o[t].config.sync,n.enabled)return e.models.insert({ns:t,updated:!1,syncByList:n.scoped,public:!n.dashboard,projectDepend:n.projectDepend,default:n.default,state:"init"})}catch(e){}}),this},e.prototype.initialize=function(){return this.syncRoles(),this.syncProjects()},e}(),n.export("default",t.default=c)}],"events.coffee":["./events.coffee.js",function(e,t,n){n.exports=e("./events.coffee.js")}],"events.coffee.js":["meteor/mrstn","./constructor",function(t,n,r){h="object"==typeof h?h:{};var o=h,s;r.import("meteor/mrstn",{App:function(e){s=e}});var c;r.import("./constructor",{default:function(e){c=e}}),c.prototype.resetUser=function(){var t;return e.subscribe("Events",30),t=this,t.models.find({projectDepend:!1}).map(function(e){return t.models.update({ns:e.ns},{$set:{updated:!1}},function(){return t._update(e.ns)})})},c.prototype.resetProject=function(){var t;return e.subscribe("Events",30),t=this,t.models.find().map(function(e){return t.models.update({ns:e.ns},{$set:{updated:!1}},function(){return t._update(e.ns)})})},c.prototype.addEvent=function(e){var t;return t=this,this._setStatePending(e.ns,function(){return t._update(e.ns)})},c.prototype.check=function(){var t,n;if(n=e.user(),n&&!n.profile.novice)return t=this,this.models.find().fetch().map(function(r){if("updated"!==r.state){if(!r.onlyScopedAuth)return t._update(r.ns);if(n=e.user(),n.currentProject)return t._update(r.ns)}})},c.prototype._isStateUpdated=function(e,t){return"updated"===this.models.findOne({ns:e}).state},c.prototype._setStatePending=function(e,t){return this.models.update({ns:e},{$set:{state:"pending"}},t)},c.prototype._setStateUpdating=function(e){var t;return t=this.models.update({ns:e},{$set:{state:"updating"}})},c.prototype._setStateUpdated=function(e){var t;return t=this.models.update({ns:e},{$set:{state:"updated"}})},c.prototype._update=function(e){var t;if(t=this.models.findOne({ns:e}),"updating"!==t.state)switch(this._setStateUpdating(e),e){case"Projects":return this.syncProjects();case"RoleAssignments":return this.syncRoles();default:return this.syncDefault(e)}},r.export("default",n.default=c)}],"helpers.coffee":["./helpers.coffee.js",function(e,t,n){n.exports=e("./helpers.coffee.js")}],"helpers.coffee.js":["meteor/mrstn","./constructor",function(t,n,r){h="object"==typeof h?h:{};var o=h,s;r.import("meteor/mrstn",{App:function(e){s=e}});var c;r.import("./constructor",{default:function(e){c=e}}),c.prototype.list=function(){return this.models.find()},c.prototype._checkUser=function(){var t;if(t=e.user(),!t)throw{message:"Unauthorized"};if(!t.currentProject)throw{message:"Unauthorized"};if(!t._id||!t.id)throw{message:"Unauthorized"}},r.export("default",n.default=c)}],"sync-custom.coffee":["./sync-custom.coffee.js",function(e,t,n){n.exports=e("./sync-custom.coffee.js")}],"sync-custom.coffee.js":["meteor/mrstn","./constructor",function(t,n,r){h="object"==typeof h?h:{};var o=h,s;r.import("meteor/mrstn",{App:function(e){s=e}});var c;r.import("./constructor",{default:function(e){c=e}}),c.prototype.syncRoles=function(){return e.call("App.RoleAssignments.list",function(e,t){var n,r;if(e&&console.log("error",e),t&&(n=t.data.role_assignments.length,r=0,t.data.role_assignments.map(function(e){return r+=s.RoleAssignments.model.update({id:e.id},{$set:e},{upsert:!0})}),n===r))return s.Sync._setStateUpdated("RoleAssignments")})},c.prototype.syncProjects=function(){var t;return t=this,e.call("App.Projects.list",function(e,t){var n,r;if(e&&console.log("error",e),t&&(n=t.data.projects.length,r=0,t.data.projects.map(function(e){return r+=s.Projects.model.update({id:e.id},{$set:e},{upsert:!0})}),n===r))return s.Sync._setStateUpdated("Projects")})},c.prototype.syncKeypairs=function(e){},r.export("default",n.default=c)}],"sync-default.coffee":["./sync-default.coffee.js",function(e,t,n){n.exports=e("./sync-default.coffee.js")}],"sync-default.coffee.js":["meteor/mrstn","./constructor",function(e,t,n){h="object"==typeof h?h:{};var r=h,o;n.import("meteor/mrstn",{App:function(e){o=e}});var s;n.import("./constructor",{default:function(e){s=e}}),s.prototype.syncDefault=function(e,t){var n,r;r=this,this._checkUser();try{return this._getItems(e,t,function(t,n){var s,c,u,i,a,f;return t?console.log(t):n.statusCode?200===n.statusCode?(u=o[e].config.many,u||console.log("need key for "+e),n.data[u]||console.log("Need key for",Object.keys(n.data)),c=n.data[u].map(function(e){return e.keypair?e.keypair:e}),f=function(){switch(e){case"Keypairs":return"name";default:return"id"}}(),c.map(function(t){var n;return o[e].model.update((n={},n[""+f]=t[""+f],n),{$set:t},{upsert:!0})}),s=o[e].list().fetch(),a=[],i=function e(t){return j[""+f]===t[""+f]},s.map(function(e){var t;if(t=!0,c.map(function(n){if(n.id===e.id)return t=!1}),t)return a.push(e)}),a.map(function(t){return o[e].model.remove(t)}),r._setStateUpdated(e)):console.log(e,n):void 0})}catch(t){return n=t,console.log(e,n)}},s.prototype._buildList=function(e,t,n){},s.prototype._getItems=function(e,t,n){var r;return r=(new OpenStack)[e](),t?r.details(t).call(n):r.listDetail?r.listDetail().call(n):r.list().call(n)},n.export("default",t.default=s)}]},client:{"observers.coffee.js":["meteor/mrstn",function(t,n,r){h="object"==typeof h?h:{};var s=h,c;r.import("meteor/mrstn",{App:function(e){c=e}}),c.Events.model.find().observeChanges({added:function(){function e(e,t){return c.Sync.addEvent(t)}return e}()}),o.autorun(function(){var t,n;if(n=e.user(),n&&(t=i.get("currentUserId"),n._id!==t&&(i.set("currentUserId",n._id),n.id)))return c.Sync.resetUser(),c.Sync.resetProject()}),e.users.find().observe({added:function(){function e(e){return c.Sync.initialize()}return e}(),changed:function(){function t(){var t,n;if(t=e.user().currentProject,t&&(n=i.get("currentProject"),n!==t))return i.set("currentProject",t),c.Sync.resetProject()}return t}(),removed:function(){function e(){return i.set("currentUserId",void 0)}return e}()}),c.RoleAssignments.model.find().observeChanges({added:function(){function e(e,t){return c.Sync.check()}return e}(),changed:function(){function e(){return c.Sync.check()}return e}(),removed:function(){function e(){return c.Sync.check()}return e}()})}]}}}}},{extensions:[".js",".json",".coffee"]});k("./node_modules/meteor/app-ctrl-sync/events/collection.coffee.js"),k("./node_modules/meteor/app-ctrl-sync/controller/_controller.coffee.js"),k("./node_modules/meteor/app-ctrl-sync/client/observers.coffee.js"),"undefined"==typeof Package&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package["app-ctrl-sync"]={},{App:g})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,o=Package.meteor.meteorEnv,r=Package["iron:router"].Router,i=Package["iron:router"].RouteController,n=Package["ecmascript-runtime"].Symbol,a=Package["ecmascript-runtime"].Map,s=Package["ecmascript-runtime"].Set,c=Package["babel-runtime"].meteorBabelHelpers,u=Package.promise.Promise,f=Package.modules.meteorInstall,p=Package.modules.Buffer,m=Package.modules.process,h=Package["iron:core"].Iron,l,d,v=f({node_modules:{meteor:{"app-ctrl-routing":{"rules.coffee.js":function(){l="object"==typeof l?l:{};var t=l;r.configure({layoutTemplate:"layoutDashboard",trackPageView:!0,loadingTemplate:"loading",notFoundTemplate:"notFound"}),e.startup(function(){var t,o,i,n,a;return i=["home","welcome","marketing","test"],t=["accountSingleSign"],o=["administrative","postCreate","postEdit","blog","administrativeTesting","administrativeFlavors","administrativeImages","administrativeRoles","administrativeEmailsOverview","administrativeEmailTemplateShow","administrativeEmailTemplates","administrativeEmailSend","administrativeEmails"],n=function(){var t;return t=e.user(),"admin"===t.role},a=function(){var t;return t=e.user(),!!t&&(!t.profile.verified&&!t.profile.hasProjects)},r.onBeforeAction(function(){return n()||r.go("home"),this.next()},{only:o}),r.onBeforeAction(function(){return e.userId()?a()&&r.go("novice"):r.go("home"),this.next()},{except:[].concat(i,o,t)})})},dashboard:{"_.coffee.js":["./finances","./keypairs","./networks","./projects","./routers","./servers","./volumes",function(e,t,o){l="object"==typeof l?l:{};var r=l;o.import("./finances"),o.import("./keypairs"),o.import("./networks"),o.import("./projects"),o.import("./routers"),o.import("./servers"),o.import("./volumes")}],"finances.coffee":["./finances.coffee.js",function(e,t,o){o.exports=e("./finances.coffee.js")}],"finances.coffee.js":function(){l="object"==typeof l?l:{};var e=l;r.map(function(){return this.route("finances",{path:"/finances"})})},"keypairs.coffee":["./keypairs.coffee.js",function(e,t,o){o.exports=e("./keypairs.coffee.js")}],"keypairs.coffee.js":["meteor/mrstn",function(e,t,o){l="object"==typeof l?l:{};var i=l,n;o.import("meteor/mrstn",{App:function(e){n=e}}),r.map(function(){return this.route("keypairsList",{path:"/keypairs"}),this.route("keypairAdd",{path:"/keypairs/add"}),this.route("keypairShow",{path:"/keypairs/show/:_id",data:function(){function e(){return n.Keypairs.model.findOne(this.params._id)}return e}()})})}],"networks.coffee":["./networks.coffee.js",function(e,t,o){o.exports=e("./networks.coffee.js")}],"networks.coffee.js":function(){l="object"==typeof l?l:{};var e=l;r.map(function(){return this.route("networksOverview",{path:"/networks"}),this.route("networkCreate",{path:"/network/create"}),this.route("subnetCreate",{path:"/subnets/create"})})},"projects.coffee":["./projects.coffee.js",function(e,t,o){o.exports=e("./projects.coffee.js")}],"projects.coffee.js":["meteor/mrstn",function(e,t,o){l="object"==typeof l?l:{};var i=l,n;o.import("meteor/mrstn",{App:function(e){n=e}}),r.map(function(){return this.route("projectsList",{path:"/projects"}),this.route("projectCreate",{path:"/projects/create"}),this.route("projectShow",{path:"/projects/show/:name",data:function(){function e(){return{name:this.params.name}}return e}()})})}],"routers.coffee":["./routers.coffee.js",function(e,t,o){o.exports=e("./routers.coffee.js")}],"routers.coffee.js":["meteor/mrstn",function(e,t,o){l="object"==typeof l?l:{};var i=l,n;o.import("meteor/mrstn",{App:function(e){n=e}}),r.map(function(){return this.route("routersList",{path:"/routers"}),this.route("routerShow",{path:"/router/show/:id",data:function(){function e(){return n.Routers.get({id:this.params.id})}return e}()}),this.route("routerCreate",{path:"/router/create"})})}],"servers.coffee":["./servers.coffee.js",function(e,t,o){o.exports=e("./servers.coffee.js")}],"servers.coffee.js":["meteor/mrstn",function(e,t,o){l="object"==typeof l?l:{};var i=l,n;o.import("meteor/mrstn",{App:function(e){n=e}}),r.map(function(){return this.route("serversList",{path:"/servers"}),this.route("serverShow",{path:"/server/show/:id",data:function(){function e(){return n.Servers.get({id:this.params.id})}return e}()}),this.route("serverCreate",{path:"/server/create"})})}],"volumes.coffee":["./volumes.coffee.js",function(e,t,o){o.exports=e("./volumes.coffee.js")}],"volumes.coffee.js":["meteor/mrstn",function(e,t,o){l="object"==typeof l?l:{};var i=l,n;o.import("meteor/mrstn",{App:function(e){n=e}}),r.map(function(){return this.route("volumesList",{path:"/volumes"}),this.route("volumeShow",{path:"/volumes/show/:id",data:function(){function e(){return n.Volumes.get({id:this.params.id})}return e}()}),this.route("volumeCreate",{path:"/volumes/create"}),this.route("volumeEdit",{path:"/volumes/edit/:id",data:function(){function e(){return n.Volumes.get({id:this.params.id})}return e}()})})}]},identity:{"_.coffee.js":["./accounts","./novice",function(e,t,o){l="object"==typeof l?l:{};var r=l;o.import("./accounts"),o.import("./novice")}],"accounts.coffee":["./accounts.coffee.js",function(e,t,o){o.exports=e("./accounts.coffee.js")}],"accounts.coffee.js":function(){l="object"==typeof l?l:{};var t=l;r.map(function(){return this.route("profile",{path:"/profile"}),this.route("accountSingleSign",{layoutTemplate:"layoutAccounts",path:"/sign"}),this.route("accountEdit",{path:"/profile/edit"}),this.route("accountVerification",{path:"/account/verify/:token",action:function(){var t;return t=this.params.token,Accounts.verifyEmail(t,function(t){return t?console.log(t):(e.call("userVerify"),r.go("/"))})}}),this.route("accountReset",{layoutTemplate:"layoutAccounts",path:"/account/reset/:token",data:function(){return this.token=this.params.token}})})},"novice.coffee":["./novice.coffee.js",function(e,t,o){o.exports=e("./novice.coffee.js")}],"novice.coffee.js":function(){l="object"==typeof l?l:{};var e=l;r.map(function(){return this.route("novice",{path:"/novice",name:"novice",layoutTemplate:"layoutDashboard"})})}},public:{"_.coffee.js":["./basic","./posts",function(e,t,o){l="object"==typeof l?l:{};var r=l;o.import("./basic"),o.import("./posts")}],"basic.coffee":["./basic.coffee.js",function(e,t,o){o.exports=e("./basic.coffee.js")}],"basic.coffee.js":function(){l="object"==typeof l?l:{};var t=l;r.map(function(){return this.route("home",{name:"home",path:"/",action:function(){return e.userId()?r.go("dashboard"):r.go("welcome")}}),this.route("welcome",{path:"/welcome",name:"welcome",layoutTemplate:"layoutPublic"}),this.route("dashboard",{name:"dashboard",path:"/dashboard",layoutTemplate:"layoutDashboard"}),this.route("marketing",{name:"marketing",path:"/subscribe",layoutTemplate:"layoutMarketing"})})},"posts.coffee":["./posts.coffee.js",function(e,t,o){o.exports=e("./posts.coffee.js")}],"posts.coffee.js":["meteor/mrstn",function(e,t,o){l="object"==typeof l?l:{};var i=l,n;o.import("meteor/mrstn",{App:function(e){n=e}}),r.map(function(){return this.route("blog",{path:"/blog"}),this.route("postCreate",{path:"/blog/create"}),this.route("postShow",{path:"/blog/show/:id",data:function(){function e(){return n.Posts.model.findOne(this.params.id)}return e}()}),this.route("postEdit",{path:"/blog/edit/:id",data:function(){function e(){return n.Posts.model.findOne(this.params.id)}return e}()})})}]},admin:{"administrative.coffee.js":function(){l="object"==typeof l?l:{};var e=l;r.map(function(){return this.route("administrative",{path:"/admin"}),this.route("administrativeTesting",{path:"/adminTesting"}),this.route("administrativeFlavors",{path:"/admin/flavors"}),this.route("administrativeImages",{path:"/admin/images"}),this.route("administrativeRoles",{path:"/admin/roles"}),this.route("administrativeEmailsOverview",{path:"/admin/emails"}),this.route("administrativeEmailTemplateShow",{path:"/admin/emails/templates/:_id",data:function(){return EmailTemplates.findOne({_id:this.params._id})}})})}}}}}},{extensions:[".js",".json",".coffee"]});v("./node_modules/meteor/app-ctrl-routing/rules.coffee.js"),v("./node_modules/meteor/app-ctrl-routing/dashboard/_.coffee.js"),v("./node_modules/meteor/app-ctrl-routing/identity/_.coffee.js"),v("./node_modules/meteor/app-ctrl-routing/public/_.coffee.js"),v("./node_modules/meteor/app-ctrl-routing/admin/administrative.coffee.js"),"undefined"==typeof Package&&(Package={}),function(e,t){for(var o in t)o in e||(e[o]=t[o])}(Package["app-ctrl-routing"]={},{App:d})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,a=Package.meteor.meteorEnv,o=Package.underscore._,r=Package["ecmascript-runtime"].Symbol,n=Package["ecmascript-runtime"].Map,c=Package["ecmascript-runtime"].Set,i=Package["babel-runtime"].meteorBabelHelpers,s=Package.promise.Promise,p=Package.modules.meteorInstall,m=Package.modules.Buffer,u=Package.modules.process,g,l,f=p({node_modules:{meteor:{"app-interactivity":{"interactivity.coffee.js":function(){g="object"==typeof g?g:{};var e=g,t;t=function(){function e(){}return e.prototype.buttonAnimateStart=function(e,t){var a;return a=$(e.target),$(e.target).prop("className")===!1&&(a=$(e.target).find("input.button")),a.prop("disabled",!0),$(a).hasClass("processing")===!1&&$(a).addClass("processing"),console.log("start")},e.prototype.buttonAnimateStop=function(e,t){var a;return a=$(".button"),a.prop("disabled",!1),$(a).hasClass("processing")&&$(a).removeClass("processing"),console.log("stop")},e}(),l=new t}}}}},{extensions:[".js",".json",".coffee"]});f("./node_modules/meteor/app-interactivity/interactivity.coffee.js"),"undefined"==typeof Package&&(Package={}),function(e,t){for(var a in t)a in e||(e[a]=t[a])}(Package["app-interactivity"]={},{Interactivity:l})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,o=Package.meteor.meteorEnv,c=Package.underscore._,n=Package.check.check,r=Package.check.Match,a=Package["ecmascript-runtime"].Symbol,s=Package["ecmascript-runtime"].Map,u=Package["ecmascript-runtime"].Set,i=Package["babel-runtime"].meteorBabelHelpers,m=Package.promise.Promise,p=Package.modules.meteorInstall,f=Package.modules.Buffer,k=Package.modules.process,b,l,g=p({node_modules:{meteor:{"app-startup":{client:{"subscribe.coffee.js":["meteor/mrstn",function(t,o,c){b="object"==typeof b?b:{};var n=b,r;c.import("meteor/mrstn",{App:function(e){r=e}}),e.startup(function(){return e.subscribe("userData",function(){return e.subscribe("Events",30)}),r.Subscriptions.public.map(function(t){return e.subscribe(t)})})}],"schemas.coffee.js":["meteor/mrstn",function(t,o,c){b="object"==typeof b?b:{};var n=b,r;c.import("meteor/mrstn",{App:function(e){r=e}});var s="function"==typeof a&&"symbol"==typeof a.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof a&&e.constructor===a&&e!==a.prototype?"symbol":typeof e};e.startup(function(){return Object.keys(r).map(function(e){if("Projects"!==e&&"object"===s(r[e].Schemas)&&"object"===s(r[e].API))return Object.keys(r[e].Schemas).map(function(t){var o;return AutoForm.hooks((o={},o["App."+e+"."+t]={onSubmit:function(){function o(o){var c,n;return this.event.preventDefault(),r[e].SchemasHooks&&r[e].SchemasHooks[t]&&(o=r[e].SchemasHooks[t](o),o===!1)?(this.done(),!1):(c=r[e].config.one?r[e].config.one:r[e].config.pathName.match(/(.*).$/)[1],n={},n[""+c]=o[""+c],o=n,(new OpenStack)[e]()[t](o).call(),this.done(),!1)}return o}()},o))})})})}]}}}}},{extensions:[".js",".json",".coffee"]});g("./node_modules/meteor/app-startup/client/subscribe.coffee.js"),g("./node_modules/meteor/app-startup/client/schemas.coffee.js"),"undefined"==typeof Package&&(Package={}),function(e,t){for(var o in t)o in e||(e[o]=t[o])}(Package["app-startup"]={},{App:l})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,a=Package.tracker.Tracker,r=Package.tracker.Deps,o=Package.retry.Retry,i=Package["ddp-client"].DDP,s=Package.mongo.Mongo,c=Package.underscore._,u,l;(function(){var t=__meteor_runtime_config__.autoupdateVersion||"unknown",n=__meteor_runtime_config__.autoupdateVersionRefreshable||"unknown";u=new s.Collection("meteor_autoupdate_clientVersions"),l={},l.newClientAvailable=function(){return!!u.findOne({_id:"version",version:{$ne:t}})||!!u.findOne({_id:"version-refreshable",version:{$ne:n}})},l._ClientVersions=u;var a=!1,r=new o({minCount:0,baseTimeout:3e4}),i=0;l._retrySubscription=function(){e.subscribe("meteor_autoupdate_clientVersions",{onError:function(t){e._debug("autoupdate subscription failed:",t),i++,r.retryLater(i,function(){l._retrySubscription()})},onReady:function(){if(Package.reload)var r=function(r){var i=this;if("version-refreshable"===r._id&&r.version!==n){n=r.version;var s=r.assets&&r.assets.allCss||[],u=[];c.each(document.getElementsByTagName("link"),function(e){"__meteor-css__"===e.className&&u.push(e)});var l=function(t,n){var r=c.once(n);if(t.onload=function(){a=!0,r()},!a)var o=e.setInterval(function(){t.sheet&&(r(),e.clearInterval(o))},50)},d=c.after(s.length,function(){c.each(u,function(e){e.parentNode.removeChild(e)})}),f=function(t){document.getElementsByTagName("head").item(0).appendChild(t),l(t,function(){e.setTimeout(d,200)})};0!==s.length?c.each(s,function(e){var t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("class","__meteor-css__"),t.setAttribute("href",e.url),f(t)}):d()}else"version"===r._id&&r.version!==t&&(o&&o.stop(),Package.reload&&Package.reload.Reload._reload())},o=u.find().observe({added:r,changed:r})}})},l._retrySubscription()}).call(this),"undefined"==typeof Package&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package.autoupdate={},{Autoupdate:l})}();

Mongo=Package.mongo.Mongo,Session=Package.session.Session,Tracker=Package.tracker.Tracker,Deps=Package.tracker.Deps,Router=Package["iron:router"].Router,RouteController=Package["iron:router"].RouteController,CollectionHooks=Package["matb33:collection-hooks"].CollectionHooks,EJSON=Package.ejson.EJSON,HTTP=Package["dandv:http-more"].HTTP,Job=Package["vsivsi:job-collection"].Job,JobCollection=Package["vsivsi:job-collection"].JobCollection,ServiceConfiguration=Package["service-configuration"].ServiceConfiguration,VK=Package["mrt:accounts-vk"].VK,JadeCompiler=Package["mquandalle:jade-compiler"].JadeCompiler,Showdown=Package.markdown.Showdown,ReactiveVar=Package["reactive-var"].ReactiveVar,moment=Package["mrt:moment"].moment,$=Package.jquery.$,jQuery=Package.jquery.jQuery,Chartist=Package["mfpierre:chartist-js"].Chartist,AutoForm=Package["aldeed:autoform"].AutoForm,Random=Package.random.Random,sAlert=Package["juliancwirko:s-alert"].sAlert,EasySearch=Package["easy:search"].EasySearch,Spacebars=Package.spacebars.Spacebars,Template=Package["templating-runtime"].Template,PgSubscription=Package["numtel:pg"].PgSubscription,Cluster=Package["meteorhacks:cluster"].Cluster,Meteor=Package.meteor.Meteor,global=Package.meteor.global,meteorEnv=Package.meteor.meteorEnv,WebApp=Package.webapp.WebApp,_=Package.underscore._,DDP=Package["ddp-client"].DDP,LaunchScreen=Package["launch-screen"].LaunchScreen,Blaze=Package.ui.Blaze,UI=Package.ui.UI,Handlebars=Package.ui.Handlebars,Iron=Package["iron:core"].Iron,Accounts=Package["app-emails"].Accounts,Async=Package["meteorhacks:async"].Async,FS=Package["cfs:base-package"].FS,SimpleSchema=Package["aldeed:simple-schema"].SimpleSchema,MongoObject=Package["aldeed:simple-schema"].MongoObject,Collection2=Package["aldeed:collection2-core"].Collection2,meteorInstall=Package.modules.meteorInstall,Buffer=Package.modules.Buffer,process=Package.modules.process,Symbol=Package["ecmascript-runtime"].Symbol,Map=Package["ecmascript-runtime"].Map,Set=Package["ecmascript-runtime"].Set,meteorBabelHelpers=Package["babel-runtime"].meteorBabelHelpers,Promise=Package.promise.Promise,App=Package["app-startup"].App,Interactivity=Package["app-interactivity"].Interactivity,Autoupdate=Package.autoupdate.Autoupdate,Reload=Package.reload.Reload,HTML=Package.htmljs.HTML;

var require=meteorInstall({client:{_to_refactory:{emails:{templates:{list:{"template.administrativeEmailTemplates.js":function(){Template.__checkName("administrativeEmailTemplates"),Template.administrativeEmailTemplates=new Template("Template.administrativeEmailTemplates",function(){var e=this;return HTML.LI({class:"tab","data-tab":"administrativeEmailTemplates","data-tab-stage":function(){return Spacebars.mustache(e.lookup("stage"))}},HTML.Raw("<h1>Шаблоны </h1>\n"),HTML.TABLE(HTML.TR(HTML.TH("Название"))),"\n",Blaze.Each(function(){return Spacebars.call(e.lookup("templates"))},function(){return HTML.TR(HTML.TD(HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),Spacebars.kw({route:"administrativeEmailTemplateShow"}))}},Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))}))))}))})},"administrativeEmailTemplates.coffee.js":function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.administrativeEmailTemplates.helpers({templates:function(){return EmailTemplates.find()}})}},show:{"template.administrativeEmailTemplateShow.js":function(){Template.__checkName("administrativeEmailTemplateShow"),Template.administrativeEmailTemplateShow=new Template("Template.administrativeEmailTemplateShow",function(){var e=this;return HTML.FORM({id:"updateEmailTemplate"},HTML.INPUT({id:"name",name:"name",type:"text",placeholder:"Название шаблона",value:function(){return Spacebars.mustache(e.lookup("name"))}}),"\n",HTML.TEXTAREA({id:"description",placeholder:"Короткое описание",value:function(){return Spacebars.mustache(e.lookup("description"))}}),"\n",HTML.TEXTAREA({id:"text",name:"text",rows:"10",placeholder:"Шаблон в Jade",value:function(){return Spacebars.mustache(e.lookup("text"))}}),HTML.Raw('\n<input type="submit" value="Обновить шаблон">'))})},"administrativeEmailTemplateShow.coffee.js":function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.administrativeEmailTemplateShow.events({"submit form":function(e,t){var a;return e.preventDefault(),a={name:t.find("#name").value,description:t.find("#description").value,text:t.find("#text").value},Meteor.call("emailTemplatesUpdate",a,function(e,t){if(e&&Notice({message:e}),t)return Notice("numberAffected: "+t.numberAffected)})}})}}},overview:{"template.administrativeEmails.js":function(){Template.__checkName("administrativeEmails"),Template.administrativeEmails=new Template("Template.administrativeEmails",function(){var e=this;return HTML.LI({class:"tab","data-tab":"administrativeEmails","data-tab-stage":function(){return Spacebars.mustache(e.lookup("stage"))},id:"active"},HTML.Raw("<h1>administrativeEmails</h1>"))})}},send:{"template.administrativeEmailSend.js":function(){Template.__checkName("administrativeEmailSend"),Template.administrativeEmailSend=new Template("Template.administrativeEmailSend",function(){var e=this;return HTML.LI({class:"tab","data-tab":"administrativeEmailSend","data-tab-stage":function(){return Spacebars.mustache(e.lookup("stage"))}},HTML.Raw("<h1>Отправить письмо</h1>\n"),HTML.FORM(HTML.Raw('<input type="text" placeholder="to">'),"\n",HTML.Raw('<input type="text" placeholder="from">'),"\n",HTML.TEXTAREA({rows:"10",placeholder:"placeholder"}),"\n",HTML.Raw('<input type="submit">')))})}},"template.administrativeEmailsOverview.js":function(){Template.__checkName("administrativeEmailsOverview"),Template.administrativeEmailsOverview=new Template("Template.administrativeEmailsOverview",function(){var e=this;return HTML.DIV({class:"resource"},HTML.Raw('\n\n<ul class="tabs-control"><a href="#" data-nav-tab="administrativeEmailsOverview" data-nav-stage="1" id="active"><li>Обзор</li></a>\n<a href="#" data-nav-tab="administrativeEmailSend" data-nav-stage="2"><li>Отправить</li></a>\n<a href="#" data-nav-tab="administrativeEmailTemplates" data-nav-stage="3"><li>Шаблоны</li></a>\n\n\n\n\n\n\n\n</ul>\n'),HTML.UL({class:"tabs","data-tab-container":""},Blaze._TemplateWith(function(){return{stage:Spacebars.call(1)}},function(){return Spacebars.include(e.lookupTemplate("administrativeEmails"))}),"\n",Blaze._TemplateWith(function(){return{stage:Spacebars.call(2)}},function(){return Spacebars.include(e.lookupTemplate("administrativeEmailSend"))}),"\n",Blaze._TemplateWith(function(){return{stage:Spacebars.call(3)}},function(){return Spacebars.include(e.lookupTemplate("administrativeEmailTemplates"))}),"\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n",""))})}},blog:{create:{"template.postCreate.js":function(){Template.__checkName("postCreate"),Template.postCreate=new Template("Template.postCreate",function(){var e=this;return HTML.DIV({class:"block"},HTML.Raw('<div class="block-header"><div class="block-header-left"><h2 class="title">Новости</h2>\n<span class="divider"></span>\n<span class="description">Создать</span></div>\n<div class="block-header-right"></div></div>\n'),HTML.DIV({class:"block-content"},Blaze._TemplateWith(function(){return{schema:Spacebars.call(Spacebars.dot(e.lookup("App"),"Posts","Schemas","create")),id:Spacebars.call("App.Posts.create"),type:Spacebars.call("method"),meteormethod:Spacebars.call("App.Posts.create")}},function(){return Spacebars.include(e.lookupTemplate("quickForm"))})))})}},edit:{"template.postEdit.js":function(){Template.__checkName("postEdit"),Template.postEdit=new Template("Template.postEdit",function(){var e=this;return HTML.DIV({class:"block"},HTML.DIV({class:"block-header"},HTML.Raw('<div class="block-header-left"><h2 class="title">Новости</h2>\n<span class="divider"></span>\n<span class="description">Обзор</span></div>'),"\n",HTML.DIV({class:"block-header-right"},Blaze.If(function(){return Spacebars.call(e.lookup("userIsAdmin"))},function(){return HTML.A({class:"button","data-modal-open":"postCreate"},"Создать")}))),"\n",HTML.DIV({class:"block-content"},Blaze._TemplateWith(function(){return{schema:Spacebars.call(Spacebars.dot(e.lookup("App"),"Posts","Schemas","update")),doc:Spacebars.call(e.lookup(".")),id:Spacebars.call("App.Posts.create"),type:Spacebars.call("method-update"),meteormethod:Spacebars.call("App.Posts.update")}},function(){return Spacebars.include(e.lookupTemplate("quickForm"))}),"\n",HTML.A({class:["button"," ","alert"],"data-delete-post":function(){return Spacebars.mustache(e.lookup("_id"))}},"Удалить")))})},"postEdit.coffee.js":["meteor/mrstn",function(e,t,a){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var r=__coffeescriptShare,n;a.import("meteor/mrstn",{App:function(e){n=e}}),Template.postEdit.events({"click [data-delete-post]":function(){function e(e,t){var a,r;return a=$(e.target).data("delete-post"),r=n.Posts.get(a),Meteor.call("App.Posts.delete",a,function(e,t){return e?(console.log("error",e),sAlert.error(e)):sAlert.success("Пост "+r.title+" удален")})}return e}()})}]},list:{"template.blog.js":function(){Template.__checkName("blog"),Template.blog=new Template("Template.blog",function(){var e=this;return HTML.DIV({class:"block"},HTML.DIV({class:"block-header"},HTML.Raw('<div class="block-header-left"><h2 class="title">Новости</h2>\n<span class="divider"></span>\n<span class="description">Обзор</span></div>'),"\n",HTML.DIV({class:"block-header-right"},Blaze.If(function(){return Spacebars.call(e.lookup("userIsAdmin"))},function(){return HTML.A({class:"button","data-modal-open":"postCreate"},"Создать")}))),"\n",HTML.DIV({class:"block-content"},Blaze.Each(function(){return Spacebars.call(Spacebars.dot(e.lookup("App"),"Posts","list"))},function(){return[HTML.H2(Blaze.View("lookup:title",function(){return Spacebars.mustache(e.lookup("title"))})," "),HTML.P(Blaze.View("lookup:preview",function(){return Spacebars.mustache(e.lookup("preview"))})),Spacebars.include(e.lookupTemplate("markdown"),function(){return Blaze.View("lookup:text",function(){return Spacebars.mustache(e.lookup("text"))})}),Blaze.If(function(){return Spacebars.call(e.lookup("userIsAdmin"))},function(){return HTML.UL(HTML.LI(HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),Spacebars.kw({route:"postEdit",id:e.lookup("_id")}))}},"Редактировать ")),"\n",HTML.LI(HTML.A({href:"#","data-delete-pub":function(){return Spacebars.mustache(e.lookup("_id"))}},"Удалить")))})]})))})},"blog.coffee.js":function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.blog.helpers({userIsAdmin:function(){return"admin"===Meteor.user().role}})}},preview:{"template.postPreview.js":function(){Template.__checkName("blogPreview"),Template.blogPreview=new Template("Template.blogPreview",function(){var e=this;return""})},"postPreview.coffee.js":function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.blogPreview.helpers({post:function(){return App.Posts.model.findOne({_id:this.params.id})}})}},show:{"template.postShow.js":function(){Template.__checkName("postShow"),Template.postShow=new Template("Template.postShow",function(){var e=this;return HTML.DIV({class:"blog"},HTML.DIV({class:"post"},HTML.H1(Blaze.View("lookup:title",function(){return Spacebars.mustache(e.lookup("title"))})),"\n","","\n",HTML.P(Blaze.View("lookup:text",function(){return Spacebars.mustache(e.lookup("text"))}))))})},"postShow.coffee.js":function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.postShow.helpers({post:function(){return console.log(this)}})}}},marketing:{"template.marketing.js":function(){Template.__checkName("marketing"),Template.marketing=new Template("Template.marketing",function(){var e=this;return[HTML.NAV({class:"topbar"},HTML.UL(HTML.A({class:"brand",href:function(){return Spacebars.mustache(e.lookup("pathFor"),Spacebars.kw({route:"home"}))}},HTML.Raw('<li><span class="name">VSCall</span></li>')))),HTML.DIV({class:"marketing-content"},HTML.Raw("<h1>Добро пожаловать!</h1>"),"\n",HTML.Raw("<p>Мы работаем над развитием проекта и будем сообщать только о самых важных событиях.  </p>"),"\n",HTML.P("Письма будут приходить на ","\n",HTML.B(Blaze.View("lookup:emails",function(){return Spacebars.mustache(e.lookup("emails"))})),"\n",HTML.Raw('<a class="accent" id="logout" href="#">(выйти)</a>')),"\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n",Blaze.If(function(){return Spacebars.call(e.lookup("voted"))},function(){return HTML.DIV({class:["button"," ","success"],id:"revote"},"Проголосовать заново")},function(){return Spacebars.include(e.lookupTemplate("suggestionForm"))}))]})},"template.suggestionForm.js":function(){Template.__checkName("suggestionForm"),Template.suggestionForm=new Template("Template.suggestionForm",function(){var e=this;return HTML.FORM({id:"suggestionForm"},HTML.Raw('<h3 class="alert">Депеша разработчикам</h3>\n<p>Меня интересуют...</p>\n<div class="checkbox"><input type="checkbox" name="servers" id="servers" value="servers">\n<label for="servers">Виртуальные серверы</label></div>\n<div class="checkbox"><input type="checkbox" name="containers" id="containers" value="containers">\n<label for="containers">Контейнеры</label></div>\n<div class="checkbox"><input type="checkbox" name="network" id="network" value="network">\n<label for="network">Частная сеть</label></div>\n<div class="checkbox"><input type="checkbox" name="bigdata" id="bigdata" value="bigdata">\n<label for="bigdata">Big Data</label></div>\n<div class="checkbox"><input type="checkbox" name="database" id="database" value="database">\n<label for="database">Базы данных</label></div>\n<p>Я перенесу проекты сюда, ради...</p>\n<div class="checkbox"><input type="checkbox" name="func" id="func" value="func">\n<label for="func">Богатого функционала</label></div>\n<div class="checkbox"><input type="checkbox" name="ha" id="ha" value="ha">\n<label for="ha">Высокой надежности</label></div>\n<div class="checkbox"><input type="checkbox" name="cost" id="cost" value="cost">\n<label for="cost">Низкой цены</label></div>\n<div class="checkbox"><input type="checkbox" name="perfomance" id="perfomance" value="perfomance">\n<label for="perfomance">Более высокой производительности</label></div>\n<div class="checkbox"><input type="checkbox" name="images" id="images" value="images">\n<label for="images">Готовых образов и приложений</label></div>\n<div class="checkbox"><input type="checkbox" name="multiuser" id="multiuser" value="multiuser">\n<label for="multiuser">Многопользовательского доступа к ресурсам</label></div>\n<div class="checkbox"><input type="checkbox" name="api" id="api" value="api">\n<label for="api">API и библиотеки к нему</label></div>\n<div class="checkbox"><input type="checkbox" name="panel" id="panel" value="panel">\n<label for="panel">Удобной панели управления</label></div>\n\n\n\n\n\n\n\n\n\n\n<p>Пару слов. Пожелания, вопросы, добрые напутствия</p>\n'),HTML.TEXTAREA({name:"message",rows:"7",placeholder:"Текст. Хорошее сообщение мы опубликуем."}),HTML.Raw('\n<input type="submit" value="Отправить">'))})},"marketing.coffee.js":function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.marketing.onRendered(function(){var e,t;return e=Suggestions.find().fetch(),t=0!==e.length,Session.set("voted",t)}),Template.marketing.events({"click #revote":function(e,t){return Session.set("voted",!1)}}),Template.marketing.helpers({emails:function(){var e;return e=Meteor.user(),e.emails[0].address},inviteLink:function(){return console.log(Router.current().path),console.log(Router.current().originalUrl),console.log(Router.current().url),Router.current().path},voted:function(){return Session.get("voted")}})},"suggestionForm.coffee.js":function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.suggestionForm.events({"submit #suggestionForm":function(e,t){var a,r;return e.preventDefault(),a=t.findAll("input[type=checkbox]:checked"),r=_.map(a,function(e){return e.defaultValue}),Meteor.call("suggestionSend",{suggestions:r,message:e.target.message.value}),Session.set("notice","Достигнуто максимальное число дисков"),console.log("sent"),Session.set("voted",!0),Session.set("notice","Сообщение отправлено")}})}}},dashboard:{servers:{actions:{addFixedIp:{"template.addFixedIp.js":function(){Template.__checkName("addFixedIp"),Template.addFixedIp=new Template("Template.addFixedIp",function(){var e=this;return HTML.FORM({class:"inline",id:"addFixedIp",name:"addFixedIp"},Blaze.If(function(){return Spacebars.call(e.lookup("preselected"))},function(){return HTML.INPUT({type:"hidden",name:"server",value:function(){return Spacebars.mustache(e.lookup("server"))}})},function(){return HTML.SELECT({name:"server"},Blaze.Each(function(){return Spacebars.call(e.lookup("targets"))},function(){return Blaze.If(function(){return Spacebars.call(e.lookup("selected"))},function(){return HTML.OPTION({selected:"true"},Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))})," ")},function(){return HTML.OPTION(Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))})," ")})}))}),HTML.Raw('\n<a class="button success" data-modal-open="networkCreate">Создать сеть</a>\n'),Blaze.Unless(function(){return Spacebars.call(e.lookup("networks"))},function(){return HTML.A({class:["button"," ","success"],"data-modal-open":"networkCreate"},"Создать сеть")},function(){return[null,null,HTML.SELECT({name:"networkId",placeholder:"sdfsdf"},null,"\n",Blaze.Each(function(){return Spacebars.call(e.lookup("networks"))},function(){return HTML.OPTION({value:function(){return Spacebars.mustache(e.lookup("id"))}},Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))}))})),HTML.INPUT({type:"submit",value:"Подключить интерфейс",id:"input"})]}))})},"addFixedIp.coffee.js":["meteor/mrstn",function(e,t,a){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var r=__coffeescriptShare,n;a.import("meteor/mrstn",{App:function(e){n=e}}),Template.addFixedIp.helpers({preselected:function(){function e(){return!!this.server}return e}(),targets:function(){function e(){return this.server?n.Servers.list().map(function(e){return e.id===self.server&&(e.selected=!0),e}):n.Servers.list()}return e}(),networks:function(){function e(){return n.Networks.list({"router:external":{$ne:!0},subnets:{$ne:[]}})}return e}()}),Template.addFixedIp.events({"submit #addFixedIp":function(){function e(e,t){var a,r;return e.preventDefault(),Interactivity.buttonAnimate(t),r=e.target.server.value,a={addFixedIp:{networkId:e.target.networkId.value}},console.log("event"),(new OpenStack).Servers().action(r,a).call(function(){return Interactivity.buttonAnimate(t)})}return e}()})}]},addFloatingIp:{"template.addFloatingIp.js":function(){Template.__checkName("addFloatingIp"),Template.addFloatingIp=new Template("Template.addFloatingIp",function(){var e=this;return[HTML.FORM({id:"addFloatingIp",class:"inline"},"","\n",Blaze.If(function(){return Spacebars.call(e.lookup("preselected"))},function(){return HTML.INPUT({type:"hidden",name:"server",value:function(){return Spacebars.mustache(e.lookup("server"))}})},function(){return HTML.SELECT({name:"server"},Blaze.Each(function(){return Spacebars.call(e.lookup("targets"))},function(){return Blaze.If(function(){return Spacebars.call(e.lookup("selected"))},function(){return HTML.OPTION({selected:"true"},Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))})," ")},function(){return HTML.OPTION(Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))})," ")})}))}),"\n",HTML.SELECT({name:"address",placeholder:"Выбрать внешний IP-адрес"},Blaze.Each(function(){return Spacebars.call(e.lookup("floatingIps"))},function(){return HTML.OPTION({value:function(){return Spacebars.mustache(e.lookup("floating_ip_address"))}},Blaze.View("lookup:floating_ip_address",function(){return Spacebars.mustache(e.lookup("floating_ip_address"))}))})),"\n",HTML.Raw('<input type="submit" value="Назначить IP-адрес">')),Spacebars.include(e.lookupTemplate("floatingipCreate"))]})},"addFloatingIp.coffee.js":["meteor/mrstn",function(e,t,a){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var r=__coffeescriptShare,n;a.import("meteor/mrstn",{App:function(e){n=e}}),Template.addFloatingIp.helpers({floatingIps:function(){function e(){return n.FloatingIPs.list()}return e}(),preselected:function(){function e(){return!!this.server}return e}(),targets:function(){function e(){var e;return e=this,this.server?n.Servers.list().map(function(t){return t.id===e.server&&(t.selected=!0),t}):n.Servers.list()}return e}()}),Template.addFloatingIp.events({"submit #addFloatingIp":function(){function e(e,t){var a,r;return e.preventDefault(),a={},_.each(e.target,function(e){if(e.name)return a[e.name]=e.value}),e.preventDefault(),r=e.target.server.value,a={addFloatingIp:{address:e.target.address.value}},(new OpenStack).Servers().action(r,a).call()}return e}()})}]},console:{"template.serverConsole.js":function(){Template.__checkName("serverConsole"),Template.serverConsole=new Template("Template.serverConsole",function(){var e=this;return Blaze.Unless(function(){return Spacebars.call(e.lookup("gotConsole"))},function(){return HTML.A({class:"button","data-server":function(){return Spacebars.mustache(e.lookup("id"))},"data-server-action":"os-getVNCConsole","data-server-action-value":"novnc"},"Получить консоль")},function(){return HTML.A({class:["button"," ","success"],href:function(){return Spacebars.mustache(e.lookup("gotConsole"))},target:"_blank"},"Открыть консоль ")})})},"serverConsole.coffee.js":function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.serverConsole.rendered=function(){return Session.set("console","")},Template.serverConsole.events({"click [data-server-action]":function(e,t){var a,r,n,o,s,c,l;return c=Template.instance(),s=$(e.target),o=s.data("server"),a=s.data("server-action"),l=s.data("server-action-value"),n={},n[""+a]={},r=n,l&&(r[a].type=l),(new OpenStack).Servers().action(o,r).call(function(e,t){return e?(console.log(e),sAlert.warning("Не удалось получить консоль")):200!==t.statusCode?sAlert.warning("Не удалось получить консоль"):c.cons?(Session.set("console",t.data.console.url),sAlert.success("Консоль создана")):void 0})}}),Template.serverConsole.helpers({gotConsole:function(){return Session.get("console")}})}},power:{"template.serverPower.js":function(){Template.__checkName("serverPower"),Template.serverPower=new Template("Template.serverPower",function(){var e=this;return HTML.UL({class:"inline"},Blaze.If(function(){return Spacebars.dataMustache(e.lookup("compare"),e.lookup("status"),"is","ACTIVE|ERROR")},function(){return HTML.LI(HTML.A({class:["button"," ","alert"],"data-server":function(){return Spacebars.mustache(e.lookup("id"))},"data-server-action":"os-stop"},"Выключить"))}),"\n",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("compare"),e.lookup("status"),"is","SHUTOFF")},function(){return HTML.LI(HTML.A({class:["button"," ","success"],"data-server":function(){return Spacebars.mustache(e.lookup("id"))},"data-server-action":"os-start"},"Включить "))}),"\n",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("compare"),e.lookup("status"),"isNotEqual","PAUSED|SHUTOFF")},function(){return HTML.LI(HTML.A({class:["button"," ","warning"],"data-server":function(){return Spacebars.mustache(e.lookup("id"))},"data-server-action":"reboot","data-server-action-value":"SOFT"},"Перезапуск (soft) "))}),"\n",HTML.LI(HTML.A({class:["button"," ","warning"],"data-server":function(){return Spacebars.mustache(e.lookup("id"))},"data-server-action":"reboot","data-server-action-value":"HARD"},"Перезапуск (hard) ")),"\n",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("compare"),e.lookup("status"),"isNotEqual","PAUSED|SHUTOFF")},function(){return HTML.LI(HTML.A({class:"button","data-server":function(){return Spacebars.mustache(e.lookup("id"))},"data-server-action":"pause"},"Приостановить"))}),"\n",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("compare"),e.lookup("status"),"is","PAUSED")},function(){return HTML.LI(HTML.A({class:"button","data-server":function(){return Spacebars.mustache(e.lookup("id"))},"data-server-action":"unpause"},"Восстановить"))}),"\n\n",HTML.LI(HTML.A({class:"button","data-server":function(){return Spacebars.mustache(e.lookup("id"))},"data-server-action":"lock"},"Заблокировать   ")),"\n",HTML.LI(HTML.A({class:"button","data-server":function(){return Spacebars.mustache(e.lookup("id"))},"data-server-action":"unlock"},"Разблокировать   ")))})},"serverPower.coffee.js":function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.serverPower.events({"click [data-server-action]":function(e,t){var a,r,n,o,s,c;return s=$(e.target),o=s.data("server"),a=s.data("server-action"),c=s.data("server-action-value"),n={},n[""+a]={},r=n,c&&(r[a].type=c),(new OpenStack).Servers().action(o,r).call()}})}},resize:{"template.serverResize.js":function(){Template.__checkName("serverResize"),Template.serverResize=new Template("Template.serverResize",function(){var e=this;return HTML.FORM({id:"serverResize",class:"inline"},Blaze.If(function(){return Spacebars.call(e.lookup("preselected"))},function(){return HTML.INPUT({type:"hidden",name:"server",value:function(){return Spacebars.mustache(e.lookup("server"))}})},function(){return HTML.SELECT({name:"flavorRef"},Blaze.Each(function(){return Spacebars.call(e.lookup("servers"))},function(){return HTML.OPTION({value:function(){return Spacebars.mustache(e.lookup("id"))}},Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))}))}))}),"\n",HTML.SELECT({name:"flavorRef"},Blaze.Each(function(){return Spacebars.call(e.lookup("flavors"))},function(){return HTML.OPTION({value:function(){return Spacebars.mustache(e.lookup("id"))}},Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))}),": ",Blaze.View("lookup:vcpus",function(){return Spacebars.mustache(e.lookup("vcpus"))})," VCPU, ",Blaze.View("lookup:ram",function(){return Spacebars.mustache(e.lookup("ram"))}),"Мб ")})),HTML.Raw('\n<input type="submit" valut="Изменить">'))})},"template.serverResizeVerify.js":function(){Template.__checkName("serverResizeVerify"),Template.serverResizeVerify=new Template("Template.serverResizeVerify",function(){var e=this;return[HTML.FORM({id:"serverResizeConfirm"},HTML.INPUT({type:"hidden",value:function(){return Spacebars.mustache(e.lookup("server"))},name:"server"}),"\n",HTML.Raw('<button class="button success" type="submit">Подтвердить изменение размера</button>')),HTML.FORM({id:"serverResizeRevert"},HTML.INPUT({type:"hidden",value:function(){return Spacebars.mustache(e.lookup("server"))},name:"server"}),"\n",HTML.Raw('<button class="button alert" type="submit">Отменить изменение размера</button>'))]})},"serverResize.coffee.js":["meteor/mrstn",function(e,t,a){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var r=__coffeescriptShare,n;a.import("meteor/mrstn",{App:function(e){n=e}}),Template.serverResize.helpers({preselected:function(){function e(){return!!this.server}return e}(),servers:function(){function e(){return n.Servers.model.find()}return e}(),flavors:function(){function e(){return n.Flavors.model.find({},{sort:{ram:1}})}return e}()}),Template.serverResize.events({"submit #serverResize":function(){function e(e,t){var a,r;return e.preventDefault(),a={resize:{flavorRef:e.target.flavorRef.value}},r=e.target.server.value,(new OpenStack).Servers().action(r,a).call()}return e}()})}],"serverResizeVerify.coffee.js":function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.serverResizeVerify.events({"submit #serverResizeConfirm":function(e,t){var a,r;return e.preventDefault(),r=e.target.server.value,a={confirmResize:{}},(new OpenStack).Servers().action(r,a).call()},"submit #serverResizeRevert":function(e,t){var a,r;return e.preventDefault(),r=e.target.server.value,a={revertResize:{}},(new OpenStack).Servers().action(r,a).call()}})}},changePassword:{"changePassword.coffee.js":function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare}}},create:{"template.serverCreate.js":function(){Template.__checkName("serverCreate"),Template.serverCreate=new Template("Template.serverCreate",function(){var e=this;return[HTML.DIV({class:"block"},HTML.Raw('<div class="block-header"><div class="block-header-left"><h2 class="title">Серверы</h2>\n<span class="divider"></span>\n<span class="description">Создать</span></div></div>'),"\n",HTML.DIV({class:"block-content"},Blaze._TemplateWith(function(){return{schema:Spacebars.call(Spacebars.dot(e.lookup("App"),"Servers","Schemas","create")),id:Spacebars.call("App.Servers.create"),type:Spacebars.call("normal"),class:Spacebars.call("small")}},function(){return Spacebars.include(e.lookupTemplate("quickForm"))}),"\n",""))]})},"template.serverCreateEnd.js":function(){Template.__checkName("serverCreateEnd"),Template.serverCreateEnd=new Template("Template.serverCreateEnd",function(){var e=this;return HTML.LI({class:"tab","data-tab":"serverEnd","data-tab-stage":function(){return Spacebars.mustache(e.lookup("stage"))}},HTML.DIV({class:"block"},HTML.Raw('<div class="block-header"><div class="block-header-left"><h2 class="title">Сервер</h2>\n<span class="divider"></span>\n<span class="description">Создать</span></div></div>'),"\n",HTML.DIV({class:"block-content"},HTML.Raw('<div class="block-subheader"><h3 class="title">Название </h3>\n</div>'),"\n",HTML.Raw('<input id="vmName" type="text" placeholder="Название машины" name="name">'),"\n",HTML.Raw('<div class="block-subheader"><h3 class="title">Доступ</h3>\n<div class="description">SSH-ключ для входа </div></div>'),"\n",HTML.Raw('<input type="hidden" name="keypair" value="null" id="keypair">'),"\n",HTML.TABLE({class:"as-form"},HTML.TR(HTML.TH("Ключ"),"\n",null,"\n",HTML.TH()),"\n",Blaze.Each(function(){return Spacebars.call(e.lookup("keypairs"))},function(){return HTML.TR({class:"keypair-selector","data-keypair-selected":"false"},HTML.TD(" ",Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))})),"\n",null,"\n",HTML.TD({class:"right"},Blaze.If(function(){return Spacebars.call(e.lookup("selected"))},function(){return HTML.A({class:["button"," ","success"," ","hovered"],"data-keypair-select":function(){return Spacebars.mustache(e.lookup("name"))}},"Выбрано")},function(){return HTML.A({class:"button","data-keypair-select":function(){return Spacebars.mustache(e.lookup("name"))}},"Выбрать")})))})),"\n",HTML.Raw('<a class="button" href="#" data-modal-open="keypairAdd">Добавить SSH-ключ</a>'))))})},"template.serverCreateFlavor.js":function(){Template.__checkName("serverCreateFlavor"),Template.serverCreateFlavor=new Template("Template.serverCreateFlavor",function(){var e=this;return HTML.LI({class:"tab","data-tab":"serverCreateFlavor","data-tab-stage":function(){return Spacebars.mustache(e.lookup("stage"))},id:"active"},HTML.DIV({class:"block"},HTML.Raw('<div class="block-header"><div class="block-header-left"><h2 class="title">Сервер</h2>\n<span class="divider"></span>\n<span class="description">Создать</span></div></div>'),"\n",HTML.DIV({class:"block-content"},HTML.Raw('<div class="block-subheader"><h3 class="title">Процессор и память</h3>\n<div class="description">Выберете подходящий размер сервера</div></div>'),"\n",HTML.TABLE({class:"as-form"},HTML.INPUT({type:"hidden",name:"flavor",value:function(){return Spacebars.mustache(e.lookup("Session"),"currentFlavor")},id:"flavor"}),"\n",HTML.TR(HTML.TH("Название"),"\n",HTML.TH("Количество ядер","\n",HTML.SMALL("(VCPU)")),"\n",HTML.TH("Память","\n",HTML.SMALL("(Мб)")),"\n",HTML.TH("Цена ","\n",HTML.SMALL("(рублей/час)")),"\n",HTML.TH("Цена ","\n",HTML.SMALL("(рублей/месяц)")),"\n",HTML.TH()),"\n",Blaze.Each(function(){return Spacebars.call(e.lookup("flavors"))},function(){return HTML.TR({class:"flavor-selector","data-flavor-select":function(){return Spacebars.mustache(e.lookup("id"))},"data-flavor-selected":"false"},HTML.TD(HTML.B(Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))}))),"\n",HTML.TD(Blaze.View("lookup:vcpus",function(){return Spacebars.mustache(e.lookup("vcpus"))})),"\n",HTML.TD(Blaze.View("lookup:ram",function(){return Spacebars.mustache(e.lookup("ram"))})),"\n",HTML.TD(Blaze.View("lookup:priceHr",function(){return Spacebars.mustache(e.lookup("priceHr"))})),"\n",HTML.TD(Blaze.View("lookup:priceMonth",function(){return Spacebars.mustache(e.lookup("priceMonth"))})),"\n",HTML.TD(Blaze.If(function(){return Spacebars.call(e.lookup("selected"))},function(){return HTML.A({class:["button"," ","success"," ","hovered"]},"Выбрано")},function(){return HTML.A({class:"button"},"Выбрать")})))})),"\n",HTML.Raw('<div class="block-subheader"><h3 class="title">Диск</h3>\n<div class="description">Выберете размер диска</div></div>'),"\n",HTML.DIV({class:"block-content"},HTML.INPUT({type:"number",name:"volume","data-volume-size":function(){return Spacebars.mustache(e.lookup("id"))},value:function(){return Spacebars.mustache(e.lookup("size"))},placeholder:"Размер диска, Гб"})))))})},"template.serverCreateImage.js":function(){Template.__checkName("serverCreateImage"),Template.serverCreateImage=new Template("Template.serverCreateImage",function(){var e=this;return HTML.LI({class:"tab","data-tab":"serverCreateImage","data-tab-stage":function(){return Spacebars.mustache(e.lookup("stage"))}},HTML.DIV({class:"block"},HTML.Raw('<div class="block-header"><div class="block-header-left"><h2 class="title">Сервер</h2>\n<span class="divider"></span>\n<span class="description">Создать</span></div></div>'),"\n",HTML.DIV({
class:"block-content"},HTML.Raw('<div class="block-subheader"><h3 class="title">Образ</h3>\n<div class="description">Выберете подходящий дистрибутив операционной системы и размер диска</div></div>'),"\n",HTML.UL({class:"block-grid-3"},HTML.Raw('<input type="hidden" name="image" value="null" id="image">'),"\n",Blaze.Each(function(){return Spacebars.call(e.lookup("images"))},function(){return HTML.LI({class:"card",id:"disabled","data-image":function(){return Spacebars.mustache(e.lookup("id"))}},HTML.DIV({class:"icon"},Spacebars.include(e.lookupTemplate("imagePic"))),"\n",HTML.DIV({class:"name"},Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))})),"\n",HTML.DIV({class:"details"},HTML.DIV({class:"requirements"},"requirements"),"\n",HTML.DIV({class:"param"},HTML.DIV({class:"value"},Blaze.View("lookup:min_disk",function(){return Spacebars.mustache(e.lookup("min_disk"))})),"\n",HTML.DIV({class:"unit"},"GB Drive"))),"\n",HTML.DIV({class:["button"," ","hovered"," ","success"],id:"selected"},"Выбрано"),"\n",HTML.DIV({class:"button",id:"unselected"},"Выбрать"))})))))})},"template.serverCreateNetwork.js":function(){Template.__checkName("serverCreateNetwork"),Template.serverCreateNetwork=new Template("Template.serverCreateNetwork",function(){var e=this;return HTML.LI({class:"tab","data-tab":"serverNetwork","data-tab-stage":function(){return Spacebars.mustache(e.lookup("stage"))}},HTML.DIV({class:"block"},HTML.Raw('<div class="block-header"><div class="block-header-left"><h2 class="title">Сервер</h2>\n<span class="divider"></span>\n<span class="description">Создать</span></div></div>'),"\n",HTML.DIV({class:"block-content"},HTML.Raw('<div class="block-subheader"><h3 class="title">Сеть</h3>\n<div class="description">Выберете подходящий дистрибутив операционной системы и размер диска</div></div>'),"\n",Blaze.Unless(function(){return Spacebars.call(e.lookup("networkNotBlank"))},function(){return[HTML.P({class:"center"},"Для начала, необходимо создать сеть"),HTML.A({class:["button"," ","success"," ","center"],"data-modal-open":"networkCreate"},"Создать сеть")]},function(){return[HTML.TABLE({class:"as-form"},HTML.INPUT({type:"hidden",name:"network",value:function(){return Spacebars.mustache(e.lookup("Session"),"currentNetwork")},id:"network"}),"\n",HTML.TR(HTML.TH("Сеть"),"\n",HTML.TH("Подсети"),"\n",HTML.TH()),"\n",Blaze.Each(function(){return Spacebars.call(e.lookup("networks"))},function(){return HTML.TR({class:"network-selector","data-network":function(){return Spacebars.mustache(e.lookup("id"))},"data-network-selected":"false"},HTML.TD(Blaze.If(function(){return Spacebars.call(e.lookup("name"))},function(){return Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))})},function(){return Blaze.View("lookup:_id",function(){return Spacebars.mustache(e.lookup("_id"))})})),"\n",Blaze.If(function(){return Spacebars.call(e.lookup("subnets"))},function(){return[HTML.TD(Blaze.View("lookup:subnetsList",function(){return Spacebars.mustache(e.lookup("subnetsList"))})),HTML.TD({class:"right"},Blaze.If(function(){return Spacebars.call(e.lookup("selected"))},function(){return HTML.A({class:["button"," ","success"],"data-network-select":function(){return Spacebars.mustache(e.lookup("id"))}},"Выбрано")},function(){return HTML.A({class:["button"," ","info"],"data-network-select":function(){return Spacebars.mustache(e.lookup("id"))}},"Выбрать")}))]},function(){return[HTML.TD(HTML.SMALL("Нет подсетей")),HTML.TD({class:"right"},HTML.A({class:["button"," ","warning"],"data-modal-open":"subnetCreate"},"Добавить подсеть "))]}))})),HTML.A({class:["button"," ","success"],"data-modal-open":"networkCreate"},"Создать сеть"),null]}))))})},"serverCreate.coffee.js":function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,t,a;t=3,Template.serverCreate.onRendered(function(){var e;return $("#titlePage").text("Добавить сервер"),e=[{id:1,boot_index:"0",size:"10"}],Session.set("volumes",EJSON.toJSONValue(e))}),Template.serverCreate.onRendered(function(){return Session.set("currentKeypair",null),Session.set("currentNetwork",null),Session.set("currentFlavor",null)}),Template.serverCreate.events({"submit #computeCreate":function(e,t){var r,n;if(e.preventDefault(),n={},_.each(e.target,function(e){if(e.name){if("radio"!==e.type)return n[e.name]=e.value;if($(e).prop("checked"))return n[e.name]=e.value}}),r={server:{name:n.name,imageRef:n.image,flavorRef:n.flavor,key_name:n.keypair,networks:[{uuid:n.network}],block_device_mapping_v2:[{boot_index:0,uuid:n.image,source_type:"image",volume_size:n.volume,destination_type:"volume",delete_on_termination:!1}]}},a(n))return Session.set("notice","Запрос на создание сервера "+e.target.name.value+" создан"),Meteor.call("serverCreate",r,function(e,t){return console.log(t),e&&console.log(e),202===t.statusCode?sAlert.success("Сервер успешно запущен"):OSResponse.error(t)})}}),a=function(e){var t;return t=0,"null"!==e.name&&""!==e.name||(Notice({type:"error",title:"Создание сервера",message:"Введите имя сервера"}),t+=1),"null"===e.flavor&&(t+=1,Notice({type:"error",title:"Создание сервера",message:"Не выбран размер сервера"})),"null"===e.image&&(t+=1,Notice({type:"error",title:"Создание сервера",message:"Не выбран образ сервера"})),"null"===e.keypair&&(t+=1,Notice({type:"error",title:"Создание сервера",message:"Не выбран SSH ключ"})),"null"===e.volume&&(t+=1,Notice({type:"error",title:"Создание сервера",message:"Не указан размер диска"})),0===t||(console.log("Count of Errors: "+t),!1)}},"serverCreateEnd.coffee.js":["meteor/mrstn",function(e,t,a){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var r=__coffeescriptShare,n;a.import("meteor/mrstn",{App:function(e){n=e}}),Template.serverCreateEnd.helpers({keypairs:function(){function e(){return n.Keypairs.list().map(function(e){return e.selected=e.name&&e.name===Session.get("currentKeypair"),e})}return e}()}),Template.serverCreateEnd.events({"click [data-keypair]":function(){function e(e,t){return $("[data-keypair]").attr("id","disabled"),$(e.currentTarget).attr("id","enabled"),$("input#keypair").val($(e.currentTarget).attr("data-keypair"))}return e}(),"click [data-keypair-select]":function(){function e(e,t){var a,r;if(a=$(t.find(e.currentTarget)),r=a.attr("data-keypair-select"),Session.set("currentKeypair",r),r)return $("input#keypair").val(r),$(".keypair-selector").each(function(){return $(this).attr("data-keypair")===network?($(this).attr("data-keypair-selected","true"),$(this).addClass("active")):($(this).attr("data-keypair-selected","false"),$(this).removeClass("active"))})}return e}()})}],"serverCreateFlavor.coffee.js":["meteor/mrstn",function(e,t,a){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var r=__coffeescriptShare,n;a.import("meteor/mrstn",{App:function(e){n=e}}),Template.serverCreateFlavor.helpers({flavors:function(){function e(){var e;return e=n.Flavors.model.find({},{sort:{ram:1}}).map(function(e){return e.id&&e.id===Session.get("currentFlavor")?e.selected=!0:e.selected=!1,e.priceHr=+n.PriceList.calc.flavor(e,"hr").toFixed(3),e.priceMonth=+n.PriceList.calc.flavor(e,"month").toFixed(2),e}),n.Flavors.list()}return e}()}),Template.serverCreateFlavor.events({"click [data-flavor-select]":function(){function e(e,t){var a,r;if(r=$(t.find(e.currentTarget)),a=r.attr("data-flavor-select"),Session.set("currentFlavor",a),a)return $("[data-flavor-selected]").each(function(){return $(this).attr("data-flavor-select")===a?($(this).attr("data-flavor-selected","true"),$("input#flavor").val(a)):$(this).attr("data-flavor-selected","false")}),$(".flavor-selector").removeClass("active"),r.addClass("active")}return e}()})}],"serverCreateImage.coffee.js":["meteor/mrstn",function(e,t,a){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var r=__coffeescriptShare,n;a.import("meteor/mrstn",{App:function(e){n=e}}),Template.serverCreateImage.helpers({images:function(){function e(){return n.Images.model.find({container_format:{$nin:["ari","aki"]}})}return e}()}),Template.serverCreateImage.events({"click [data-image]":function(){function e(e,t){return $("[data-image]").attr("id","disabled"),$(e.currentTarget).attr("id","enabled"),$("input#image").val($(e.currentTarget).attr("data-image"))}return e}()})}],"serverCreateNetwork.coffee.js":["meteor/mrstn",function(e,t,a){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var r=__coffeescriptShare,n;a.import("meteor/mrstn",{App:function(e){n=e}}),Template.serverCreateNetwork.helpers({networkNotBlank:function(){function e(){return n.Networks.model.find({"router:external":{$ne:!0}}).count()>0}return e}(),subnetsCount:function(){function e(){return Subnets.find().count()}return e}(),subnetsList:function(){function e(){var e,t;return t=this.subnets,e="",t.map(function(t,a,r){var n;return n=Subnets.findOne({id:t}).cidr,e+=a<r.length-1?n+", ":n}),e}return e}(),networks:function(){function e(){return n.Networks.model.find({"router:external":{$ne:!0}}).map(function(e){return e.selected=e.id&&e.id===Session.get("currentNetwork"),e})}return e}()}),Template.serverCreateNetwork.events({"click [data-network]":function(){function e(e,t){return $("[data-network]").attr("id","disabled"),$(e.currentTarget).attr("id","enabled"),$("input#network").val($(e.currentTarget).attr("data-network"))}return e}(),"click [data-network-select]":function(){function e(e,t){var a,r;if(a=$(t.find(e.currentTarget)),r=a.attr("data-network-select"),Session.set("currentNetwork",r),r)return $("input#network").val(r),$(".network-selector").each(function(){return $(this).attr("data-network")===r?($(this).attr("data-network-selected","true"),$(this).addClass("active")):($(this).attr("data-network-selected","false"),$(this).removeClass("active"))})}return e}()})}]},list:{"template.serverListSubNav.js":function(){Template.__checkName("serverListSubNav"),Template.serverListSubNav=new Template("Template.serverListSubNav",function(){var e=this;return HTML.UL({class:"subnav"},HTML.Raw('<li class="right switch" id="switch-view"><i class="fa fa-list switch-table-view" id="active"></i>\n<i class="fa fa-th-large switch-grid-view"></i></li>\n'),HTML.LI({class:["link"," ","right"]},HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"serverCreate")}},HTML.Raw('<i class="fa">Create</i>'))))})},"template.serversList.js":function(){Template.__checkName("serversList"),Template.serversList=new Template("Template.serversList",function(){var e=this;return HTML.DIV({class:"block"},Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("App"),"Servers","blank"))},function(){return HTML.DIV({class:"col-12"},Spacebars.include(e.lookupTemplate("serversNotExist")))},function(){return[HTML.DIV({class:"block-header"},HTML.DIV({class:"block-header-left"},HTML.H2({class:"title"},"Серверы"),"\n",HTML.SPAN({class:"divider"}),"\n",HTML.SPAN({class:"description"},"Обзор")),"\n",HTML.DIV({class:"block-header-right"},HTML.A({class:"button",href:function(){return Spacebars.mustache(e.lookup("pathFor"),Spacebars.kw({route:"serverCreate"}))}},"Создать"))),HTML.DIV({class:"block-content"},HTML.TABLE({class:"with-pic"},HTML.TR(null,"\n",HTML.TH("Имя"),"\n",HTML.TH("Статус"),"\n",HTML.TH("Образ"),"\n",HTML.TH("Размер"),"\n",HTML.TH("Диски"),"\n",HTML.TH("Управление")),"\n",Blaze.Each(function(){return Spacebars.call(Spacebars.dot(e.lookup("App"),"Servers","list"))},function(){return HTML.TR({"data-id":function(){return Spacebars.mustache(e.lookup("_id"))}},null,"\n",null,"\n",HTML.TD(HTML.A({class:"name",href:function(){return Spacebars.mustache(e.lookup("pathFor"),"serverShow")}},Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))}))),"\n",HTML.TD(Spacebars.include(e.lookupTemplate("status"))),"\n",HTML.TD(Blaze._TemplateWith(function(){return Spacebars.call(e.lookup("image"))},function(){return Spacebars.include(e.lookupTemplate("imageInline"))})),"\n",HTML.TD(Blaze._TemplateWith(function(){return Spacebars.call(e.lookup("flavor"))},function(){return Spacebars.include(e.lookupTemplate("flavorInline"))})),"\n",HTML.TD(Spacebars.include(e.lookupTemplate("volumesInline"))),"\n",HTML.TD(HTML.A(HTML.I({class:["fa"," ","fa-trash"],"data-server-delete":function(){return Spacebars.mustache(e.lookup("id"))}}))))})))]}))})},"serversList.coffee.js":["meteor/mrstn",function(e,t,a){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var r=__coffeescriptShare,n;a.import("meteor/mrstn",{App:function(e){n=e}}),Template.serversList.events({"click [data-server-delete]":function(){function e(e,t){var a;return a=$(e.target).data("server-delete"),(new OpenStack).Servers().delete(a).call()}return e}()})}]},no:{"template.serversListViewNoServers.js":function(){Template.__checkName("serversNotExist"),Template.serversNotExist=new Template("Template.serversNotExist",function(){var e=this;return[HTML.DIV({class:"block-header"},HTML.Raw('<div class="block-header-left"><h2 class="title">Серверы</h2>\n<span class="divider"></span>\n<span class="description">Обзор</span></div>'),"\n",HTML.DIV({class:"block-header-right"},HTML.A({class:"button",href:function(){return Spacebars.mustache(e.lookup("pathFor"),Spacebars.kw({route:"serverCreate"}))}},"Создать"))),HTML.DIV({class:"block-content"},HTML.DIV({class:"blank-resource"},HTML.Raw('<img src="https://placehold.it/450x250">'),"\n",HTML.Raw('<h1 class="header">Серверы</h1>'),"\n",HTML.Raw('<p class="about">Пожалуй, уже классический ресурс — вирутальный сервер</p>'),"\n",HTML.A({class:["link"," ","button"," ","alert"],href:function(){return Spacebars.mustache(e.lookup("pathFor"),Spacebars.kw({route:"serverCreate"}))}},"Добавить")))]})}},show:{"template.serverShow.js":function(){Template.__checkName("serverShow"),Template.serverShow=new Template("Template.serverShow",function(){var e=this;return HTML.DIV({class:"resource"},HTML.Raw('<ul class="tabs-control"><a href="#" data-nav-tab="serverShowOverview" data-nav-stage="1" id="active"><li>Обзор</li></a>\n<a href="#" data-nav-tab="serverShowControl" data-nav-stage="2"><li>Управление</li></a>\n<a href="#" data-nav-tab="serverShowUsage" data-nav-stage="3"><li>Статистика</li></a>\n<a href="#" data-nav-tab="serverShowEvents" data-nav-stage="4"><li>События</li></a></ul>\n'),HTML.UL({class:"tabs","data-tab-container":""},Blaze._TemplateWith(function(){return Spacebars.call(e.lookup("."))},function(){return Spacebars.include(e.lookupTemplate("serverShowOverview"))}),"\n",Blaze._TemplateWith(function(){return Spacebars.call(e.lookup("."))},function(){return Spacebars.include(e.lookupTemplate("serverShowControl"))}),"\n",Blaze._TemplateWith(function(){return Spacebars.call(e.lookup("."))},function(){return Spacebars.include(e.lookupTemplate("serverShowUsage"))}),"\n",Blaze._TemplateWith(function(){return Spacebars.call(e.lookup("."))},function(){return Spacebars.include(e.lookupTemplate("serverShowEvents"))}),"\n",""))})},"template.serverShowControl.js":function(){Template.__checkName("serverShowControl"),Template.serverShowControl=new Template("Template.serverShowControl",function(){var e=this;return HTML.LI({class:"tab","data-tab":"serverShowControl","data-tab-stage":"2"},HTML.DIV({class:"block"},HTML.DIV({class:"block-header"},HTML.Raw('<div class="block-header-left"><h2 class="title">Серверы</h2>\n<span class="divider"></span>\n<span class="description">Обзор</span></div>'),"\n",HTML.DIV({class:"block-header-right"},Blaze._TemplateWith(function(){return Spacebars.call(e.lookup("."))},function(){return Spacebars.include(e.lookupTemplate("serverShowStateInline"))}))),"\n",HTML.DIV({class:"block-content"},HTML.Raw('<div class="block-subheader"><h3 class="title">Управление</h3></div>'),"\n",Spacebars.include(e.lookupTemplate("serverConsole")),"\n",Spacebars.include(e.lookupTemplate("serverPower")),"\n",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("compare"),e.lookup("status"),"is","VERIFY_RESIZE")},function(){return Blaze._TemplateWith(function(){return{server:Spacebars.call(e.lookup("id"))}},function(){return Spacebars.include(e.lookupTemplate("serverResizeVerify"))})}),"\n","","\n","","\n",HTML.Raw('<div class="block-subheader"><h3 class="title">Изменить размер</h3>\n</div>'),"\n","","\n",Blaze._TemplateWith(function(){return{server:Spacebars.call(e.lookup("id"))}},function(){return Spacebars.include(e.lookupTemplate("serverResize"))}),"\n",Blaze.Unless(function(){return Spacebars.call(e.lookup("serverHasFloatingIp"))},function(){return Blaze.If(function(){return Spacebars.call(e.lookup("serverHasFixedIp"))},function(){return[HTML.H4({class:["center"," ","center"]},"Назначить IP-адрес"),Blaze._TemplateWith(function(){return{server:Spacebars.call(e.lookup("id"))}},function(){return Spacebars.include(e.lookupTemplate("addFloatingIp"))})]})}),"\n",HTML.Raw('<div class="block-subheader"><h3 class="title">Добавить интерфейс </h3></div>'),"\n",Blaze._TemplateWith(function(){return{server:Spacebars.call(e.lookup("id"))}},function(){return Spacebars.include(e.lookupTemplate("addFixedIp"))}),"\n","","\n","","\n","","\n","","\n","")))})},"template.serverShowEvents.js":function(){Template.__checkName("serverShowEvents"),Template.serverShowEvents=new Template("Template.serverShowEvents",function(){var e=this;return HTML.LI({class:"tab","data-tab":"serverShowEvents","data-tab-stage":"4"},Blaze.View("lookup:instanceWatcher",function(){return Spacebars.mustache(e.lookup("instanceWatcher"),e.lookup("."))}),"\n",HTML.DIV({class:"block"},HTML.DIV({class:"block-header"},HTML.Raw('<div class="block-header-left"><h2 class="title">Серверы</h2>\n<span class="divider"></span>\n<span class="description">Обзор</span></div>'),"\n",HTML.DIV({class:"block-header-right"},Blaze._TemplateWith(function(){return Spacebars.call(e.lookup("."))},function(){return Spacebars.include(e.lookupTemplate("serverShowStateInline"))}))),"\n",HTML.DIV({class:"block-content"},HTML.Raw('<div class="block-subheader"><h3 class="title">События</h3></div>'),"\n",Blaze.Unless(function(){return Spacebars.call(e.lookup("instanceActions"))},function(){return HTML.DIV({class:"block-content"},HTML.DIV({class:"blank-resource"},Spacebars.include(e.lookupTemplate("serverShowEventsRequest")),"\n",HTML.A({class:["link"," ","button"," ","success"],id:"updateActions"},"Получить")))},function(){return[HTML.TABLE(HTML.THEAD(HTML.TR(HTML.TH("Запрос"),"\n",HTML.TH("Действие"),"\n",HTML.TH("Дата"))),"\n",HTML.TBODY(Blaze.Each(function(){return Spacebars.call(e.lookup("instanceActions"))},function(){return HTML.TR(HTML.TD(Blaze.View("lookup:request_id",function(){return Spacebars.mustache(e.lookup("request_id"))})),"\n",HTML.TD(Blaze.View("lookup:action",function(){return Spacebars.mustache(e.lookup("action"))})),"\n",HTML.TD(Blaze.View("lookup:start_time",function(){return Spacebars.mustache(e.lookup("start_time"))})))}))),HTML.A({class:["button"," ","success"],id:"updateActions"},"Обновить")]}))))})},"template.serverShowEventsRequest.js":function(){Template.__checkName("serverShowEventsRequest"),Template.serverShowEventsRequest=new Template("Template.serverShowEventsRequest",function(){var e=this;return HTML.Raw('<h1 class="header">События</h1><p class="about">Последние действия с сервером</p>')})},"template.serverShowOverview.js":function(){Template.__checkName("serverShowOverview"),Template.serverShowOverview=new Template("Template.serverShowOverview",function(){var e=this;return HTML.LI({class:"tab","data-tab":"serverShowOverview","data-tab-stage":"1",id:"active"},HTML.DIV({class:"block"},HTML.DIV({class:"block-header"},HTML.DIV({class:"block-header-left"},HTML.Raw('<h2 class="title">Серверы</h2>'),"\n",HTML.Raw('<span class="divider"></span>'),"\n",HTML.SPAN({class:"description"},Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))}),"  ")),"\n",HTML.DIV({class:"block-header-right"},Blaze._TemplateWith(function(){return Spacebars.call(e.lookup("."))},function(){return Spacebars.include(e.lookupTemplate("serverShowStateInline"))}))),"\n",HTML.DIV({class:"block-content"},"","\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n",HTML.DIV({class:"kv-tables"},HTML.DIV({class:"kv-table"},"","\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n",Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("image"),"id"))},function(){return HTML.DIV({class:"item"},HTML.DIV({class:"key"},"Образ"),"\n",HTML.DIV({class:"value"},Blaze._TemplateWith(function(){return{id:Spacebars.call(Spacebars.dot(e.lookup("image"),"id"))}},function(){return Spacebars.include(e.lookupTemplate("imageInline"))})))}),"\n",Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("flavor"),"id"))},function(){return HTML.DIV({class:"item"},HTML.DIV({class:"key"},"Размер"),"\n",HTML.DIV({class:"value"},Blaze._TemplateWith(function(){return{id:Spacebars.call(Spacebars.dot(e.lookup("flavor"),"id"))}},function(){return Spacebars.include(e.lookupTemplate("flavorInline"))})))}),"\n",Blaze.If(function(){return Spacebars.call(e.lookup("volume_attachments"))},function(){return HTML.DIV({class:"item"},HTML.DIV({class:"key"},"Диски"),"\n",HTML.DIV({class:"value"},HTML.UL(Blaze.Each(function(){return Spacebars.call(e.lookup("volume_attachments"))},function(){return HTML.LI(Spacebars.With(function(){return Spacebars.call(e.lookup("volume"))},function(){return[Blaze.Each(function(){return Spacebars.call(e.lookup("attachments"))},function(){return HTML.B(Blaze.View("lookup:device",function(){return Spacebars.mustache(e.lookup("device"))})," ")}),null,null,null,null,HTML.SPAN(Blaze.View("lookup:size",function(){return Spacebars.mustache(e.lookup("size"))}),"Гб "),Blaze.If(function(){return Spacebars.call(e.lookup("isBootable"))},function(){return HTML.SPAN("(Загрузочный)")})]}))}))))}),"\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n","")),"\n",Blaze.If(function(){return Spacebars.call(e.lookup("fault"))},function(){return[Spacebars.With(function(){return Spacebars.call(e.lookup("fault"))},function(){return Blaze.View("lookup:message",function(){return Spacebars.mustache(e.lookup("message"))})}),null,null,null]})),"\n",HTML.DIV({class:"block-content"},HTML.Raw('<div class="block-subheader"><h3 class="title">Сетевые соединения</h3>\n</div>'),"\n",HTML.TABLE(HTML.THEAD(HTML.TR(HTML.TH("Сеть"),"\n",HTML.TH("IP-Адрес"),"\n",HTML.TH("Внешний IP"),"\n",HTML.TH("MAC"),"\n",HTML.TD())),"\n",Blaze.Each(function(){return Spacebars.call(e.lookup("addresses"))},function(){return HTML.TR(HTML.TD(Blaze.View("lookup:network",function(){return Spacebars.mustache(e.lookup("network"))})),"\n",HTML.TD(HTML.SPAN(Blaze.View("lookup:addr",function(){return Spacebars.mustache(e.lookup("addr"))})),"\n",HTML.SMALL("IPv",Blaze.View("lookup:version",function(){return Spacebars.mustache(e.lookup("version"))}))),"\n",HTML.TD(Blaze.Each(function(){return Spacebars.call(e.lookup("floatings"))},function(){return Blaze.View("lookup:ip",function(){return Spacebars.mustache(e.lookup("ip"))})})),"\n",HTML.TD(Blaze.View("lookup:MAC",function(){return Spacebars.mustache(e.lookup("MAC"))})),"\n",HTML.TD({class:"right"},HTML.A({class:"button","data-remove-fixed-ip":function(){return Spacebars.mustache(e.lookup("addr"))},"data-server":function(){return Spacebars.mustache(e.lookup("server"))}},"Отключить")))})))))})},"template.serverShowStateInline.js":function(){Template.__checkName("serverShowStateInline"),Template.serverShowStateInline=new Template("Template.serverShowStateInline",function(){var e=this;return HTML.UL({class:"block-header-show-state-inline"},Blaze.If(function(){return Spacebars.call(e.lookup("image"))},function(){return HTML.LI(Blaze._TemplateWith(function(){return{id:Spacebars.call(Spacebars.dot(e.lookup("image"),"id"))}},function(){return Spacebars.include(e.lookupTemplate("imageInline"))}))}),"\n",Blaze.If(function(){return Spacebars.call(e.lookup("status"))},function(){return HTML.LI(Spacebars.include(e.lookupTemplate("status")))}),"\n",Blaze.If(function(){return Spacebars.call(e.lookup("flavor"))},function(){return HTML.LI(Blaze._TemplateWith(function(){return{id:Spacebars.call(Spacebars.dot(e.lookup("flavor"),"id"))}},function(){return Spacebars.include(e.lookupTemplate("flavorInline"))}))}))})},"template.serverShowUsage.js":function(){Template.__checkName("serverShowUsage"),Template.serverShowUsage=new Template("Template.serverShowUsage",function(){var e=this;return HTML.LI({class:"tab","data-tab":"serverShowUsage","data-tab-stage":"3"},HTML.DIV({class:"block"},HTML.DIV({class:"block-header"},HTML.Raw('<div class="block-header-left"><h2 class="title">Серверы</h2>\n<span class="divider"></span>\n<span class="description">Обзор</span></div>'),"\n",HTML.DIV({class:"block-header-right"},Blaze._TemplateWith(function(){return Spacebars.call(e.lookup("."))},function(){return Spacebars.include(e.lookupTemplate("serverShowStateInline"))}))),"\n",HTML.DIV({class:"block-content"},Blaze.If(function(){return Spacebars.call(e.templateInstance().subscriptionsReady())},function(){return HTML.DIV({class:["ct-chart"," ","ct-double-octave"]})}))))})},"serverShowControl.coffee.js":["meteor/mrstn",function(e,t,a){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var r=__coffeescriptShare,n;a.import("meteor/mrstn",{App:function(e){n=e}});var o;Template.serverShowControl.helpers({serverHasFloatingIp:function(){function e(){var e,t;return t=this,e=o(this),_.reduce(e,function(e,t,a){if("floating"===t.type)return e=!0},!1)}return e}(),serverResizeVerifyPenfing:function(){function e(){return"VERIFY_RESIZE"===this.status}return e}(),serverHasIp:function(){function e(){var e;return e=o(this),e.length>0}return e}(),serverHasFixedIp:function(){function e(){var e,t;return t=this,e=o(this),_.reduce(e,function(e,t,a){if("fixed"===t.type)return e=!0},!1)}return e}()}),o=function e(t){var a;return a=_.reduce(t.addresses,function(e,a,r){var n;return n=a.map(function(e){return e={MAC:e["OS-EXT-IPS-MAC:mac_addr"],type:e["OS-EXT-IPS:type"],addr:e.addr,version:e.version,networkName:r,server:t.id}}),e.push(n),e},[]),a=_.flatten(a)}}],"serverShowEvents.coffee.js":["meteor/mrstn",function(e,t,a){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var r=__coffeescriptShare,n;a.import("meteor/mrstn",{App:function(e){n=e}});var o;Template.serverShowEvents.rendered=function(){return this.instanceActions=new ReactiveVar([]),this.initialized=new ReactiveVar((!1)),this.server=new ReactiveVar((!1))},o=function e(t){var a;if(a=t.server.get())return(new OpenStack).Servers().instanceActions(a).call(function(e,r){var o;if(200===r.statusCode)return o=r.data.instanceActions,t.instanceActions&&t.initialized&&(t.instanceActions.set(o),t.initialized.set(!0)),sAlert.success("События для "+n.Servers.name(a)+" обновлены")})},Template.serverShowEvents.helpers({instanceWatcher:function(){function e(){var e,t,a;return console.log(this),a=Template.instance(),e=this.id,t=a.server,t&&t.set(e),""}return e}(),instanceActions:function(){function e(){var e;if(e=Template.instance().instanceActions)return e.get()}return e}()}),Template.serverShowEvents.events({"click #updateActions":function(){function e(e,t){return o(t)}return e}()})}],"serverShowOverview.coffee.js":["meteor/mrstn",function(e,t,a){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var r=__coffeescriptShare,n;a.import("meteor/mrstn",{App:function(e){n=e}}),Template.serverShowOverview.helpers({addresses:function(){function e(){var e,t,a;return e=this.addresses,a=this.id,t=Object.keys(e).map(function(t){var r;return r=e[t].map(function(e){var r;return"fixed"===e["OS-EXT-IPS:type"]&&(r={MAC:e["OS-EXT-IPS-MAC:mac_addr"],addr:e.addr,version:e.version,network:t,server:a,floatings:[]},n.FloatingIPs.list({fixed_ip_address:e.addr}).map(function(e){return r.floatings.push({ip:e.floating_ip_address})}),r)}),r.filter(function(e){if(e)return!0})}),[].concat.apply([],t)}return e}(),volume_attachments:function(){function e(){return n.Volumes.listAttachedFor(this.id)}return e}(),isBootable:function(){function e(){return"true"===this.bootable}return e}(),volume:function(){function e(){return n.Volumes.get({id:this.id})}return e}()}),Template.serverShowOverview.events({"click [data-remove-float-ip]":function(){function e(e,t){var a,r;return r=$(e.target).attr("data-server"),a={removeFloatingIp:{address:$(e.target).attr("data-remove-float-ip")}},(new OpenStack).Servers().action(r,a).call()}return e}(),"click [data-remove-fixed-ip]":function(){function e(e,t){var a,r;return r=$(e.target).attr("data-server"),a={removeFixedIp:{address:$(e.target).attr("data-remove-fixed-ip")}},(new OpenStack).Servers().action(r,a).call()}return e}()})}],"serverShowUsage.coffee.js":function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare}}},volumes:{actions:{volumeAttach:{"template.volumeAttach.js":function(){Template.__checkName("volumeAttach"),Template.volumeAttach=new Template("Template.volumeAttach",function(){var e=this;return HTML.DIV({class:"block-content"},Blaze._TemplateWith(function(){return{schema:Spacebars.call(Spacebars.dot(e.lookup("App"),"Volumes","Schemas","attach")),id:Spacebars.call("App.Volumes.attach"),type:Spacebars.call("normal"),class:Spacebars.call("small")}},function(){return Spacebars.include(e.lookupTemplate("autoForm"),function(){return[HTML.H3({class:"subheader"},"Присоединить диск к серверу"),null,null,null,Blaze._TemplateWith(function(){return{name:Spacebars.call("volume_id"),options:Spacebars.call(e.lookup("afOptionsFromSchema")),value:Spacebars.call(e.lookup("id"))}},function(){return Spacebars.include(e.lookupTemplate("afQuickField"))}),Blaze.If(function(){return Spacebars.call(e.lookup("server"))},function(){return Blaze._TemplateWith(function(){return{name:Spacebars.call("volumes.os-attach.instance_uuid"),type:Spacebars.call("hidden"),value:Spacebars.call(e.lookup("server")),options:Spacebars.call("")}},function(){return Spacebars.include(e.lookupTemplate("afQuickField"))})},function(){return Blaze._TemplateWith(function(){return{fields:Spacebars.call("volumes.os-attach.instance_uuid")}},function(){return Spacebars.include(e.lookupTemplate("afQuickFields"))})}),Blaze._TemplateWith(function(){return{fields:Spacebars.call("volumes.os-attach.mountpoint")}},function(){return Spacebars.include(e.lookupTemplate("afQuickFields"))}),HTML.BUTTON({class:["button"," ","btn btn-primary"],type:"submit"},"Присоединить")]})}))})},"volumeAttach.coffee.js":function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.volumeAttach.helpers}},volumeBackupCreate:{"template.create.js":function(){Template.__checkName("volumeBackupCreate"),Template.volumeBackupCreate=new Template("Template.volumeBackupCreate",function(){var e=this;return HTML.FORM({id:"volumeBackupCreate"},HTML.Raw('<input type="text" placeholder="Название" name="name">\n<input type="text" placeholder="Описание" name="description">\n'),Blaze.If(function(){return Spacebars.call(e.lookup("volume_preselect"))},function(){return HTML.INPUT({type:"hidden",name:"volume_id",value:function(){return Spacebars.mustache(e.lookup("id"))}})},function(){return HTML.SELECT({name:"volume_id"},Blaze.Each(function(){return Spacebars.call(e.lookup("volumes"))},function(){return HTML.OPTION({value:function(){return Spacebars.mustache(e.lookup("id"))}},Blaze.If(function(){return Spacebars.call(e.lookup("name"))},function(){
return Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))})},function(){return[Blaze.View("lookup:_id",function(){return Spacebars.mustache(e.lookup("_id"))}),"      "]}))}))}),HTML.Raw('\n<input type="submit" value="Создать">'))})},"create.coffee.js":function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare}},volumeDetach:{"template.volumeDetach.js":function(){Template.__checkName("volumeDetach"),Template.volumeDetach=new Template("Template.volumeDetach",function(){var e=this;return Blaze.If(function(){return Spacebars.call(e.lookup("available"))},function(){return HTML.A({"data-volume-detach":"","data-volume_id":function(){return Spacebars.mustache(e.lookup("volume_id"))},"data-server_id":function(){return Spacebars.mustache(e.lookup("server_id"))}},"отключить")})})},"volumeDetach.coffee.js":function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.volumeDetach.helpers({available:function(){return!(!this.server_id||!this.volume_id)}}),Template.volumeDetach.events({"click [data-volume-detach]":function(e,t){var a,r,n;return r=$(e.target),a=r.data("server_id"),n=r.data("volume_id"),console.log("detach"),(new OpenStack).Volumes().action(n,a).call()}})}},volumeDetachForce:{"template.volumeDetachForce.js":function(){Template.__checkName("volumeDetachForce"),Template.volumeDetachForce=new Template("Template.volumeDetachForce",function(){var e=this;return HTML.A({class:["button"," ","alert"],"data-volume-os-force_detach":function(){return Spacebars.mustache(e.lookup("id"))}},"os-force_detach")})},"volumeDetachForce.coffee.js":function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.volumeDetachForce.events({"click [data-volume-os-force_detach]":function(e,t){var a,r;return r=$(e.target).attr("data-volume-os-force_detach"),a={"os-force_detach":{volume:r}},Meteor.call("volumeAction",a,function(e,t){return console.log(t),e&&console.log(e),202===t.statusCode?sAlert.success("Интерфейс добавлен"):OSResponse.error(t)})}})}},volumeResize:{"template.volumeResize.js":function(){Template.__checkName("volumeResize"),Template.volumeResize=new Template("Template.volumeResize",function(){var e=this;return HTML.DIV({class:"block-content"},Blaze._TemplateWith(function(){return{schema:Spacebars.call(Spacebars.dot(e.lookup("App"),"Volumes","Schemas","extend")),id:Spacebars.call("App.Volumes.extend"),type:Spacebars.call("normal"),class:Spacebars.call("small")}},function(){return Spacebars.include(e.lookupTemplate("autoForm"),function(){return[HTML.H3({class:"subheader"},"Увеличить размер диска"),Blaze.Each(function(){return Spacebars.dataMustache(e.lookup("afFieldNames"),Spacebars.kw({fields:"volumes.os-extend.new_size"}))},function(){return Blaze._TemplateWith(function(){return{name:Spacebars.call(Spacebars.dot(e.lookup("."),"name")),options:Spacebars.call(e.lookup("afOptionsFromSchema"))}},function(){return Spacebars.include(e.lookupTemplate("afQuickField"))})}),Blaze._TemplateWith(function(){return{name:Spacebars.call("volume_id"),options:Spacebars.call(e.lookup("afOptionsFromSchema")),value:Spacebars.call(e.lookup("id"))}},function(){return Spacebars.include(e.lookupTemplate("afQuickField"))}),HTML.BUTTON({class:["button"," ","btn btn-primary"],type:"submit"},"Изменить размер")]})}))})}},volumeUnmanage:{"volumeUnmanage.coffee.js":function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare}}},create:{"template.volumeCreate.js":function(){Template.__checkName("volumeCreate"),Template.volumeCreate=new Template("Template.volumeCreate",function(){var e=this;return HTML.DIV({class:"block"},HTML.Raw('<div class="block-header"><div class="block-header-left"><h2 class="title">Диски</h2>\n<span class="divider"></span>\n<span class="description">Создать</span></div></div>\n'),HTML.DIV({class:"block-content"},Blaze._TemplateWith(function(){return{schema:Spacebars.call(Spacebars.dot(e.lookup("App"),"Volumes","Schemas","create")),id:Spacebars.call("App.Volumes.create"),type:Spacebars.call("normal"),class:Spacebars.call("small")}},function(){return Spacebars.include(e.lookupTemplate("autoForm"),function(){return[HTML.H3({class:"subheader"},"Создать диск"),Blaze.Each(function(){return Spacebars.dataMustache(e.lookup("afFieldNames"),Spacebars.kw({fields:"volume.name,volume.size,bootable"}))},function(){return Blaze._TemplateWith(function(){return{name:Spacebars.call(Spacebars.dot(e.lookup("."),"name")),options:Spacebars.call(e.lookup("afOptionsFromSchema"))}},function(){return Spacebars.include(e.lookupTemplate("afQuickField"))})}),Blaze.If(function(){return Spacebars.dataMustache(e.lookup("afFieldValueIs"),Spacebars.kw({name:"bootable",value:"TRUE"}))},function(){return Blaze._TemplateWith(function(){return{name:Spacebars.call("volume.imageRef")}},function(){return Spacebars.include(e.lookupTemplate("afQuickField"))})}),HTML.BUTTON({class:["button"," ","btn btn-primary"],type:"submit"},"Создать")]})})))})}},edit:{"template.volumeEdit.js":function(){Template.__checkName("volumeEdit"),Template.volumeEdit=new Template("Template.volumeEdit",function(){var e=this;return HTML.Raw('<div class="block"><h1>volumeEdit</h1>\n<form id="volumeEdit"><input id="volume-name" type="text" placeholder="Название">\n<input id="volume-size" type="number" placeholder="Размер, Гб">\n<input type="submit" value="Изменить"></form></div>')})}},list:{"template.volumesList.js":function(){Template.__checkName("volumesList"),Template.volumesList=new Template("Template.volumesList",function(){var e=this;return[Blaze.View("lookup:v",function(){return Spacebars.mustache(e.lookup("v"))}),HTML.DIV({class:"block"},HTML.DIV({class:"block-header"},HTML.Raw('<div class="block-header-left"><h2 class="title">Диски</h2>\n<span class="divider"></span>\n<span class="description">Обзор</span></div>'),"\n",HTML.DIV({class:"block-header-right"},HTML.A({class:"button",href:function(){return Spacebars.mustache(e.lookup("pathFor"),Spacebars.kw({route:"volumeCreate"}))}},"Создать"))),"\n",HTML.DIV({class:"block-content"},Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("App"),"Volumes","blank"))},function(){return Spacebars.include(e.lookupTemplate("volumesListBlank"))},function(){return HTML.TABLE(HTML.TR(HTML.TH("Имя"),"\n",HTML.TH("Статус"),"\n",HTML.TH("Размер"),"\n",HTML.TH("Загрузочный"),"\n",HTML.TH()),"\n",Blaze.Each(function(){return Spacebars.call(Spacebars.dot(e.lookup("App"),"Volumes","list"))},function(){return HTML.TR(HTML.TD(HTML.A({class:"name",href:function(){return Spacebars.mustache(e.lookup("pathFor"),"volumeShow")}},Blaze.View("lookup:App.Volumes.name",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("App"),"Volumes","name"),e.lookup("id"))}))),"\n",HTML.TD(Blaze.View("lookup:status",function(){return Spacebars.mustache(e.lookup("status"))}),"\n",Blaze.Each(function(){return Spacebars.call(e.lookup("attachments"))},function(){return HTML.SMALL(HTML.B("(",Blaze.View("lookup:App.Servers.name",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("App"),"Servers","name"),Spacebars.dot(e.lookup("."),"server_id"))}),":"),"\n",[Blaze.View("lookup:device",function(){return Spacebars.mustache(e.lookup("device"))}),")"])})),"\n",HTML.TD(Blaze.View("lookup:size",function(){return Spacebars.mustache(e.lookup("size"))})," Гб"),"\n",HTML.TD(Blaze.If(function(){return Spacebars.dataMustache(e.lookup("compare"),e.lookup("bootable"),"is","true")},function(){return"Да "},function(){return"Нет"})),"\n",HTML.TD({class:"right"},HTML.A({class:["button"," ","alert"],"data-volume-delete":function(){return Spacebars.mustache(e.lookup("id"))}},"Удалить","\n",null)))}))})))]})},"template.volumesListBlank.js":function(){Template.__checkName("volumesListBlank"),Template.volumesListBlank=new Template("Template.volumesListBlank",function(){var e=this;return HTML.DIV({class:"blank-resource"},HTML.Raw('<img src="https://placehold.it/450x250">\n<h1 class="header">Диски</h1>\n<p class="about">Храните бесценные данные</p>\n'),HTML.A({class:["link"," ","button"," ","alert"],href:function(){return Spacebars.mustache(e.lookup("pathFor"),Spacebars.kw({route:"volumeCreate"}))}},"Добавить"))})},"volumesList.coffee.js":["meteor/mrstn",function(e,t,a){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var r=__coffeescriptShare,n;a.import("meteor/mrstn",{App:function(e){n=e}}),Template.volumesList.events({"click [data-volume-delete]":function(){function e(e,t){return Interactivity.buttonAnimate(t),(new OpenStack).Volumes().delete($(e.target).attr("data-volume-delete")).call(function(){})}return e}()})}]},show:{"template.volumeShow.js":function(){Template.__checkName("volumeShow"),Template.volumeShow=new Template("Template.volumeShow",function(){var e=this;return HTML.DIV({class:"block"},HTML.DIV({class:"block-header"},HTML.DIV({class:"block-header-left"},HTML.Raw('<h2 class="title">Диски</h2>'),"\n",HTML.Raw('<span class="divider"></span>'),"\n",HTML.SPAN({class:"description"},Blaze.View("lookup:App.Volumes.name",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("App"),"Volumes","name"),e.lookup("id"))}))),"\n",HTML.DIV({class:"block-header-right"},Blaze._TemplateWith(function(){return Spacebars.call(e.lookup("."))},function(){return Spacebars.include(e.lookupTemplate("volumeShowState"))}))),"\n",HTML.DIV({class:"block-content"},HTML.DIV({class:"volume-show"},HTML.DIV({class:"description"},HTML.Raw('<h3 class="subheader">Состояние</h3>'),"\n",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("compare"),e.lookup("replication_status"),"is","disabled")},function(){return HTML.P("Репликация отключена")},function(){return Blaze.View("lookup:replication_status",function(){return Spacebars.mustache(e.lookup("replication_status"))})}),"\n",Blaze.Unless(function(){return Spacebars.dataMustache(e.lookup("_"),"isEmpty",e.lookup("volume_image_metadata"))},function(){return Spacebars.With(function(){return Spacebars.call(e.lookup("volume_image_metadata"))},function(){return[HTML.P("Формат диска: ",Blaze.View("lookup:container_format",function(){return Spacebars.mustache(e.lookup("container_format"))})," / ",Blaze.View("lookup:disk_format",function(){return Spacebars.mustache(e.lookup("disk_format"))})),null,HTML.P("Образ: ",Blaze.View("lookup:image_name",function(){return Spacebars.mustache(e.lookup("image_name"))})),null,null,null,null,HTML.P("Размер образа ",Blaze.View("lookup:image_size",function(){return Spacebars.mustache(e.lookup("image_size"))})," Мб")]})}),"\n",Blaze.If(function(){return Spacebars.call(e.lookup("attachments"))},function(){return[HTML.H3({class:"subheader"},"Присоединен"),Blaze.Each(function(){return Spacebars.call(e.lookup("attachments"))},function(){return HTML.P(HTML.B(Blaze.View("lookup:attachment_server",function(){return Spacebars.mustache(e.lookup("attachment_server"))}),": "),"\n",HTML.SPAN(Blaze.View("lookup:device",function(){return Spacebars.mustache(e.lookup("device"))})," "),"\n",HTML.SPAN(Spacebars.include(e.lookupTemplate("volumeDetach"))))})]})),"\n",HTML.DIV({class:"action"},Blaze.If(function(){return Spacebars.dataMustache(e.lookup("compare"),e.lookup("status"),"is","available")},function(){return Spacebars.include(e.lookupTemplate("volumeResize"))}),"\n","","\n","","\n",Blaze.Unless(function(){return Spacebars.call(e.lookup("attachments"))},function(){return Spacebars.include(e.lookupTemplate("volumeAttach"))})),"\n","","\n","","\n","")))})},"template.volumeShowState.js":function(){Template.__checkName("volumeShowState"),Template.volumeShowState=new Template("Template.volumeShowState",function(){var e=this;return HTML.UL({class:"block-header-show-state-inline"},Blaze.If(function(){return Spacebars.call(e.lookup("status"))},function(){return HTML.LI(Blaze.View("lookup:status",function(){return Spacebars.mustache(e.lookup("status"))}),"  ")}),"\n",Blaze.If(function(){return Spacebars.call(e.lookup("isBootable"))},function(){return HTML.LI("Загрузочный")}),"\n",Blaze.If(function(){return Spacebars.call(e.lookup("size"))},function(){return HTML.LI(Blaze.View("lookup:size",function(){return Spacebars.mustache(e.lookup("size"))})," Гб")}))})},"volumeShow.coffee.js":["meteor/mrstn",function(e,t,a){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var r=__coffeescriptShare,n;a.import("meteor/mrstn",{App:function(e){n=e}}),Template.volumeShow.helpers({image_size:function(){function e(){return(this.size/1048576).toFixed(2)}return e}(),attachment_server:function(){function e(){return n.Servers.name(this.server_id)}return e}()})}],"volumeShowState.coffee.js":function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.volumeShowState.helpers({isBootable:function(){return"true"===this.bootable}})}}},_DashboardLayout:{header:{"template.headerDashboard.js":function(){Template.__checkName("dashboardHeader"),Template.dashboardHeader=new Template("Template.dashboardHeader",function(){var e=this;return HTML.HEADER({class:"dashboard"},HTML.Raw('<div class="fa-button-group">   \n<a class="menu fa fa-bars" id="switchAside" href="#"></a></div>\n'),HTML.UL({class:"brand"},HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),Spacebars.kw({route:"home"}))}},HTML.Raw('<li><img class="logo" src="logo.svg">\n<span>VSCall</span></li>'))),"\n",HTML.DIV({class:"topbar"},HTML.UL(Blaze.If(function(){return Spacebars.call(e.lookup("currentUser"))},function(){return HTML.A({class:"username",href:function(){return Spacebars.mustache(e.lookup("pathFor"),Spacebars.kw({route:"profile"}))}},HTML.LI(Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))})))})),"\n",HTML.UL(Blaze.If(function(){return Spacebars.call(e.lookup("currentUser"))},function(){return[Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("App"),"Bills","exist"))},function(){return HTML.LI({class:"billing"},HTML.SPAN({class:"balance"},"Баланс: "),"\n",HTML.SPAN({class:"value"},Blaze.View("lookup:App.Bills.balance",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("App"),"Bills","balance"))})))}),HTML.DIV({class:"fa-button-group"},HTML.A({class:"settings",href:function(){return Spacebars.mustache(e.lookup("pathFor"),Spacebars.kw({route:"accountEdit"}))}},HTML.LI({class:["fa"," ","fa-cogs"]})),"\n",HTML.A({class:"logout",id:"logout"},HTML.LI({class:["fa"," ","fa-sign-out"]})))]},function(){return HTML.DIV({class:"fa-button-group"},HTML.A({class:"logout",href:function(){return Spacebars.mustache(e.lookup("pathFor"),Spacebars.kw({route:"accountSingleSign"}))}},HTML.LI({class:["fa"," ","fa-sign-in"]})))}))))})},"dashboardHeader.coffee.js":["meteor/mrstn",function(e,t,a){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var r=__coffeescriptShare,n;a.import("meteor/mrstn",{App:function(e){n=e}}),Template.dashboardHeader.events({"click #switchAside":function(){function e(){var e;return e=Session.get("asideShow"),void 0===e&&Session.set("asideShow",!0),Session.set("asideShow",!e)}return e}()}),Template.dashboardHeader.helpers({name:function(){function e(){var e,t;return t=Meteor.user(),t.currentProject&&(e=n.Projects.model.findOne({id:t.currentProject}))?e.name:t.emails[0].address}return e}()})}]},layout:{"template.layoutDashboard.js":function(){Template.__checkName("layoutDashboard"),Template.layoutDashboard=new Template("Template.layoutDashboard",function(){var e=this;return Spacebars.include(e.lookupTemplate("dashboardWr"))})},"layoutDashboard.coffee.js":["meteor/mrstn",function(e,t,a){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var r=__coffeescriptShare,n;a.import("meteor/mrstn",{App:function(e){n=e}});var o,s,c,l,i;Template.layoutDashboard.rendered=function(){return c(),l()},Template.layoutDashboard.helpers({loading:function(){function e(){return Session.get("subInUpd")}return e}(),administrative:function(){function e(){return"admin"===Meteor.user().role}return e}()}),Template.layoutDashboard.events({"click #logout":function(){function e(e){return e.preventDefault(),Meteor.logout(function(e){return e?Notice({type:"error",title:"Ошибка",message:e}):Router.go("home")})}return e}(),"click [data-nav-tab]":function(){function e(e){return s($(e.currentTarget).attr("data-nav-stage"))}return e}(),"click [data-nav-tab-btn]":function(){function e(e){var t,a,r;switch(r=o(),t=$(e.currentTarget).attr("data-nav-tab-btn")){case"next":a=r.currentStage+1;break;case"previous":a=r.currentStage-1}switch(t){case"next":if(a<r.maxStage+1)return s(a);break;case"previous":if(a>0)return s(a)}}return e}(),"scroll .content-wr":function(){function e(){return l()}return e}(),"click [data-modal-open]":function(){function e(e,t){var a;return a=t.$(e.target).attr("data-modal-open"),Session.set("activeModal",a)}return e}(),"click [data-modal-close]":function(){function e(e){var t;if(t=$(e.target).attr("data-modal-close"))return $(".modal-bg").fadeOut("fast"),$('[data-modal-name="'+t+'"]').fadeOut("fast",function(){return Session.set("activeModal",!1)})}return e}()}),o=function e(){var t,a;return a=$("li.tab#active[data-tab-stage]"),t={currentStage:parseInt(a.attr("data-tab-stage")),maxStage:$("li.tab[data-tab-stage]").length}},s=function e(t){return i(),$('[data-tab-stage="'+t+'"]').attr("id","active"),$('[data-nav-stage="'+t+'"]').attr("id","active"),$('[data-show-only-for-stage="'+t+'"]').show(),$('[data-show-not-for-stage="'+t+'"]').hide(),$('[data-show-not-for-stage="'+t+'"]').addClass("hidden"),l()},i=function e(){return $("[data-tab]").attr("id",""),$("[data-tab-stage]").attr("id",""),$("[data-nav-stage]").attr("id",""),$("[data-nav-tab]").attr("id",""),$("[data-show-not-for-stage]").show(),$("[data-show-not-for-stage]").removeClass("hidden"),$("[data-show-only-for-stage]").hide()},l=function e(){var t,a,r,n;if(n=$("[data-tab-container]"),n&&(t=$("[data-nav-tab-btn-container]"),t.length>0))return r=n.offset(),a=n.height(),$(window).height()>r.top+a+20?t.addClass("sticky"):t.removeClass("sticky")},c=function e(){var t,a,r,n,o;return a=$(document).height(),o=$(window).height(),r=$("html").height(),t=$(".content-wr").height(),n=Math.max(a,o,r,t),$("#sidebar").height(n)}}]},sidebar:{"template.dashboardSidebar.js":function(){Template.__checkName("dashboardSidebar"),Template.dashboardSidebar=new Template("Template.dashboardSidebar",function(){var e=this;return HTML.ASIDE(HTML.UL({class:"sidebar-list",id:"aside-scroll"},HTML.DIV({class:"sidebar-top-wr"},HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),Spacebars.kw({route:"projectsList"}))}},HTML.Raw("<li>Проекты</li>")),"\n",Blaze.If(function(){return Spacebars.call(e.lookup("currentProject"))},function(){return[HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),Spacebars.kw({route:"serversList"}))}},HTML.LI("Серверы")),HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),Spacebars.kw({route:"volumesList"}))}},HTML.LI("Диски")),HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),Spacebars.kw({route:"networksOverview"}))}},HTML.LI("Сеть")),HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),Spacebars.kw({route:"keypairsList"}))}},HTML.LI("Безопасность"))]}),"\n",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),Spacebars.kw({route:"finances"}))}},HTML.Raw("<li>Финансы</li>")),"\n","","\n","","\n","")),HTML.Raw('\n<ul class="sidebar-list" id="aside-bottom"><a href="http://horizon.vscall.ru/dashboard"><li>Horizon\n<small>Стабильная панель</small></li></a></ul>'))})},"dashboardSidebar.coffee.js":["meteor/mrstn",function(e,t,a){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var r=__coffeescriptShare,n;a.import("meteor/mrstn",{App:function(e){n=e}}),Template.dashboardSidebar.helpers({user:function(){function e(){return Meteor.user()}return e}(),currentProject:function(){function e(){var e;return e=Meteor.user(),!!e&&(e.currentProject||!1)}return e}(),admin:function(){function e(){var e;return e=Meteor.user(),!!e&&"admin"===e.role}return e}()}),Template.dashboardSidebar.rendered=function(){var e;return e=function e(){var t,a,r;return r=$("aside").height(),t=$("#aside-bottom").height(),a=r-t,$("#aside-scroll").height(a)},e(),$(window).resize(function(){return e()})},Template.dashboardSidebar.events({"click a":function(){function e(){return Session.set("asideShow",!1)}return e}()})}]},wrapper:{"template.dashboardWr.js":function(){Template.__checkName("dashboardWr"),Template.dashboardWr=new Template("Template.dashboardWr",function(){var e=this;return[Spacebars.include(e.lookupTemplate("modal")),HTML.DIV({class:"dashboard-template"},Spacebars.include(e.lookupTemplate("dashboardHeader")),"\n",HTML.DIV({class:"dashboard-wr"},Spacebars.include(e.lookupTemplate("dashboardSidebar")),"\n",HTML.DIV({class:["dashboard"," ","main-wr"],id:"dashboard-scroll"},HTML.MAIN(Spacebars.include(e.lookupTemplate("yield"))),"\n",Spacebars.include(e.lookupTemplate("eventsList")))))]})},"dashboardWr.coffee.js":function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.dashboardWr.rendered=function(){var e,t;return Template.instance().$(".dashboard-template").hide(),Template.instance().$(".dashboard-template").fadeIn(250),t={axis:"y",scrollInertia:200,alwaysShowScrollbar:1,theme:"dark-thick",scrollButtons:{enable:!0}},e={axis:"y",scrollInertia:200,alwaysShowScrollbar:0},Template.instance().$("#aside-scroll").mCustomScrollbar(e),Template.instance().$("#dashboard-scroll").mCustomScrollbar(t)}}},"dashboard.coffee.js":function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Meteor.startup(function(){return Session.set("asideShow",!1),$(window).resize(function(){return Session.set("asideShow",!1)})}),Tracker.autorun(function(){var e,t,a;return a=Session.get("asideShow"),e=$(".aside-template"),t=$(".main-wr"),a?(e.addClass("asideShow"),t.addClass("asideShow")):(e.removeClass("asideShow"),t.removeClass("asideShow"))})}},floatingips:{create:{"template.floatingipCreate.js":function(){Template.__checkName("floatingipCreate"),Template.floatingipCreate=new Template("Template.floatingipCreate",function(){var e=this;return HTML.DIV({class:"block"},HTML.Raw('<div class="block-header"><div class="block-header-left"><h2 class="title">IP-адреса</h2>\n<span class="divider"></span>\n<span class="description">Добавить</span></div>\n<div class="block-header-right"></div></div>\n'),HTML.DIV({class:"block-content"},Blaze._TemplateWith(function(){return{schema:Spacebars.call(Spacebars.dot(e.lookup("App"),"FloatingIPs","Schemas","create")),id:Spacebars.call("App.FloatingIPs.create"),type:Spacebars.call("normal"),class:Spacebars.call("small")}},function(){return Spacebars.include(e.lookupTemplate("autoForm"),function(){return[HTML.H3({class:"subheader"},"Выделить Внешний IP-адрес"),Blaze.Each(function(){return Spacebars.dataMustache(e.lookup("afFieldNames"),Spacebars.kw({fields:"floatingip.floating_network_id"}))},function(){return Blaze._TemplateWith(function(){return{name:Spacebars.call(Spacebars.dot(e.lookup("."),"name")),options:Spacebars.call(e.lookup("afOptionsFromSchema"))}},function(){return Spacebars.include(e.lookupTemplate("afQuickField"))})}),HTML.BUTTON({class:["button"," ","btn btn-primary"],type:"submit"},"Выделить")]})})))})}},list:{"template.floatingipsList.js":function(){Template.__checkName("floatingipsList"),Template.floatingipsList=new Template("Template.floatingipsList",function(){var e=this;return HTML.LI({class:"tab","data-tab":"floatingipsList","data-tab-stage":function(){return Spacebars.mustache(e.lookup("stage"))}},HTML.DIV({class:"block"},HTML.Raw('<div class="block-header"><div class="block-header-left"><h2 class="title">IP-адреса</h2>\n<span class="divider"></span>\n<span class="description">Обзор</span></div>\n<div class="block-header-right"><a class="button" data-modal-open="floatingipCreate">Создать</a></div></div>'),"\n",HTML.DIV({class:"block-content"},HTML.TABLE(HTML.TR(HTML.TH("IP-адрес"),"\n",HTML.TH("Плавающий IP"),"\n",HTML.TH("Статус"),"\n",HTML.TH("Роутер"),"\n",HTML.TH()),"\n",Blaze.Each(function(){return Spacebars.call(Spacebars.dot(e.lookup("App"),"FloatingIPs","list"))},function(){return HTML.TR(HTML.TD(Blaze.View("lookup:fixed_ip_address",function(){return Spacebars.mustache(e.lookup("fixed_ip_address"))})),"\n",HTML.TD(Blaze.View("lookup:floating_ip_address",function(){return Spacebars.mustache(e.lookup("floating_ip_address"))})),"\n",HTML.TD(Blaze.View("lookup:status",function(){return Spacebars.mustache(e.lookup("status"))})),"\n",HTML.TD(Blaze.View("lookup:router_id",function(){return Spacebars.mustache(e.lookup("router_id"))})),"\n",HTML.TD({class:"right"},HTML.A({class:["button"," ","alert"],href:"#","data-floatingips-delete":function(){return Spacebars.mustache(e.lookup("id"))}},"Удалить")))})),"\n","","\n","")))})},"floatingipsList.coffee.js":["meteor/mrstn",function(e,t,a){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var r=__coffeescriptShare,n;a.import("meteor/mrstn",{App:function(e){n=e}}),Template.floatingipsList.helpers({floatingips:function(){function e(){return n.FloatingIPs.list().map(function(e){return console.log(e)})}return e}()}),Template.floatingipsList.events({"click [data-floatingips-delete]":function(){function e(e,t){return(new OpenStack).FloatingIPs().delete($(e.target).attr("data-floatingips-delete")).call()}return e}()})}]}},keypairs:{add:{"template.keypairsAdd.js":function(){Template.__checkName("keypairAdd"),Template.keypairAdd=new Template("Template.keypairAdd",function(){var e=this;return HTML.DIV({class:"block"},HTML.Raw('<div class="block-header"><div class="block-header-left"><h2 class="title">Ключи SSH</h2>\n<span class="divider"></span>\n<span class="description">Добавить</span></div>\n<div class="block-header-right"></div></div>\n'),HTML.DIV({class:"block-content"},Blaze._TemplateWith(function(){return{schema:Spacebars.call(Spacebars.dot(e.lookup("App"),"Keypairs","Schemas","create")),id:Spacebars.call("App.Keypairs.create"),type:Spacebars.call("normal"),class:Spacebars.call("small")}},function(){return Spacebars.include(e.lookupTemplate("autoForm"),function(){return[HTML.H3({class:"subheader"},"Создать Ключ доступа"),Blaze.Each(function(){return Spacebars.dataMustache(e.lookup("afFieldNames"),Spacebars.kw({fields:"keypair.name,keypair.public_key"}))},function(){return Blaze._TemplateWith(function(){return{name:Spacebars.call(Spacebars.dot(e.lookup("."),"name")),options:Spacebars.call(e.lookup("afOptionsFromSchema"))}},function(){return Spacebars.include(e.lookupTemplate("afQuickField"))})}),HTML.BUTTON({class:["button"," ","btn btn-primary"],type:"submit"},"Создать")]})})))})}},list:{"template.keypairsList.js":function(){Template.__checkName("keypairsList"),Template.keypairsList=new Template("Template.keypairsList",function(){var e=this;return HTML.DIV({class:"block"},HTML.DIV({class:"block-header"},HTML.Raw('<div class="block-header-left"><h2 class="title">Ключи SSH</h2>\n<span class="divider"></span>\n<span class="description">Обзор</span></div>'),"\n",HTML.DIV({class:"block-header-right"},HTML.A({class:"button",href:function(){return Spacebars.mustache(e.lookup("pathFor"),Spacebars.kw({route:"keypairAdd"}))}},"Добавить"))),"\n",HTML.DIV({class:"block-content"},Blaze.If(function(){return Spacebars.call(e.lookup("keypairs"))},function(){return Spacebars.include(e.lookupTemplate("keypairsNotExist"))},function(){return HTML.TABLE(HTML.TR(HTML.TH("Имя"),"\n",HTML.TH("Добавлено "),"\n",HTML.TH("Действия")),"\n",Blaze.Each(function(){return Spacebars.call(Spacebars.dot(e.lookup("App"),"Keypairs","list"))},function(){return HTML.TR(HTML.TD(HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),Spacebars.kw({route:"keypairShow"}))}},Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))}))),"\n",HTML.TD(Blaze.View("lookup:createdAt",function(){return Spacebars.mustache(e.lookup("createdAt"))})),"\n",HTML.TD(HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),Spacebars.kw({route:"keypairShow"}))}},HTML.I({class:["fa"," ","fa-edit"]})),"\n",HTML.A(HTML.I({class:["fa"," ","fa-trash-o"],"data-delete-key":function(){return Spacebars.mustache(e.lookup("name"))},"data-id":function(){return Spacebars.mustache(e.lookup("_id"))}}))))}))})))})},"template.keypairsNotExist.js":function(){Template.__checkName("keypairsNotExist"),Template.keypairsNotExist=new Template("Template.keypairsNotExist",function(){var e=this;return HTML.DIV({class:"blank-resource"},HTML.Raw('<img src="https://placehold.it/450x250">\n<h1 class="header">Ключи доступа</h1>\n<p class="about">Защитите подключение к ресурсам</p>\n'),HTML.A({class:["link"," ","button"," ","alert"],href:function(){return Spacebars.mustache(e.lookup("pathFor"),Spacebars.kw({route:"keypairCreate"}))}},"Добавить"))})},"keypairsList.coffee.js":function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.keypairsList.events({"click [data-delete-key]":function(e,t){return(new OpenStack).Keypairs().delete(e.target.getAttribute("data-delete-key")).call()}})}},show:{"template.keypairsShow.js":function(){Template.__checkName("keypairShow"),Template.keypairShow=new Template("Template.keypairShow",function(){var e=this;return[HTML.DIV({class:"block"},HTML.DIV({class:"block-header"},HTML.DIV({class:"block-header-left"},HTML.Raw('<h2 class="title">Ключи SSH</h2>'),"\n",HTML.Raw('<span class="divider"></span>'),"\n",HTML.SPAN({class:"description"},Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))}))),"\n",HTML.DIV({class:"block-header-right"},HTML.A({class:"button",href:function(){return Spacebars.mustache(e.lookup("pathFor"),Spacebars.kw({route:"keypairAdd"}))}},"Добавить")))),HTML.DIV({class:"block-content"},HTML.FORM(HTML.Raw("<label>Публичный ключ </label>"),"\n",HTML.TEXTAREA({disabled:"",rows:"4",value:function(){return Spacebars.mustache(e.lookup("publicKey"))}}),"\n",HTML.Raw("<label>Приватный ключ</label>"),"\n",Blaze.If(function(){return Spacebars.call(e.lookup("privateKey"))},function(){return HTML.TEXTAREA({disabled:"",rows:"5",value:function(){return Spacebars.mustache(e.lookup("privateKey"))}})},function(){return HTML.TEXTAREA({disabled:"",rows:"3",value:"Скрыто"})}),"\n","","\n",""))]})}}},networks:{create:{"template.networksCreate.js":function(){Template.__checkName("networkCreate"),Template.networkCreate=new Template("Template.networkCreate",function(){var e=this;return HTML.DIV({class:"block"},HTML.Raw('<div class="block-header"><div class="block-header-left"><h2 class="title">Сети</h2>\n<span class="divider"></span>\n<span class="description">Создать</span></div>\n<div class="block-header-right"></div></div>\n'),HTML.DIV({class:"block-content"},Blaze._TemplateWith(function(){return{schema:Spacebars.call(Spacebars.dot(e.lookup("App"),"Networks","Schemas","create")),id:Spacebars.call("App.Networks.create"),type:Spacebars.call("normal"),class:Spacebars.call("small")}},function(){return Spacebars.include(e.lookupTemplate("autoForm"),function(){return[HTML.H3({class:"subheader"},"Создать Сеть"),Blaze.Each(function(){return Spacebars.dataMustache(e.lookup("afFieldNames"),Spacebars.kw({fields:"network.name,network.admin_state_up"}))},function(){return Blaze._TemplateWith(function(){return{name:Spacebars.call(Spacebars.dot(e.lookup("."),"name")),options:Spacebars.call(e.lookup("afOptionsFromSchema"))}},function(){return Spacebars.include(e.lookupTemplate("afQuickField"))})}),HTML.BUTTON({class:["button"," ","btn btn-primary"],type:"submit"
},"Создать")]})})))})}},list:{"template.networksList.js":function(){Template.__checkName("networksList"),Template.networksList=new Template("Template.networksList",function(){var e=this;return HTML.LI({class:"tab","data-tab":"networksList","data-tab-stage":function(){return Spacebars.mustache(e.lookup("stage"))}},HTML.DIV({class:"block"},HTML.Raw('<div class="block-header"><div class="block-header-left"><h2 class="title">Сети</h2>\n<span class="divider"></span>\n<span class="description">Обзор</span></div>\n<div class="block-header-right"><a class="button" href="#" data-modal-open="networkCreate">Создать</a></div></div>'),"\n",HTML.DIV({class:"block-content"},HTML.TABLE(HTML.TR(HTML.TH("Имя"),"\n",HTML.TH("Внешняя"),"\n",HTML.TH("Активна"),"\n",HTML.TH()),"\n",Blaze.Each(function(){return Spacebars.call(Spacebars.dot(e.lookup("App"),"Networks","list"))},function(){return HTML.TR(HTML.TD(HTML.B(Blaze.View("lookup:App.Networks.name",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("App"),"Networks","name"),e.lookup("id"))})," ")),"\n",HTML.TD("  ","\n",Blaze.If(function(){return Spacebars.call(e.lookup("isExternal"))},function(){return HTML.SPAN("Да")},function(){return HTML.SPAN("Нет")})),"\n",HTML.TD(Blaze.If(function(){return Spacebars.call(e.lookup("admin_state_up"))},function(){return HTML.SPAN("Да")},function(){return HTML.SPAN("Нет")})),"\n",HTML.TD({class:"right"},Blaze.If(function(){return Spacebars.call(e.lookup("router:external"))},function(){return HTML.A({class:"button",href:"#",disabled:"disabled"},"Удалить")},function(){return HTML.A({class:["button"," ","alert"],href:"#","data-network-delete":function(){return Spacebars.mustache(e.lookup("id"))}},"Удалить")}),"\n",null))})))))})},"networksList.coffee.js":["meteor/mrstn",function(e,t,a){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var r=__coffeescriptShare,n;a.import("meteor/mrstn",{App:function(e){n=e}}),Template.networksList.events({"click [data-network-delete]":function(){function e(e,t){return(new OpenStack).Networks().delete($(e.target).attr("data-network-delete")).call()}return e}()})}]},topology:{"template.networksTopology.js":function(){Template.__checkName("networksTopology"),Template.networksTopology=new Template("Template.networksTopology",function(){var e=this;return HTML.LI({class:["tab"," ","block"],id:"active","data-tab":"networksTopology","data-tab-stage":function(){return Spacebars.mustache(e.lookup("stage"))}},HTML.Raw('<div class="col-12"><div id="topology"></div></div>'))})}},edit:{"networkEdit.coffee.js":function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare}}},ports:{list:{"template.portsList.js":function(){Template.__checkName("portsList"),Template.portsList=new Template("Template.portsList",function(){var e=this;return HTML.LI({class:"tab","data-tab":"portsList","data-tab-stage":function(){return Spacebars.mustache(e.lookup("stage"))}},HTML.DIV({class:"block"},HTML.Raw('<div class="block-header"><div class="block-header-left"><h2 class="title">Интерфейсы</h2>\n<span class="divider"></span>\n<span class="description">Обзор</span></div>\n<div class="block-header-right"></div></div>'),"\n",HTML.DIV({class:"block-content"},HTML.TABLE(HTML.TR(HTML.TH("Имя"),"\n",HTML.TH("Статус"),"\n",HTML.TH("Сеть"),"\n",HTML.TH("IP-адреса")),"\n",Blaze.Each(function(){return Spacebars.call(Spacebars.dot(e.lookup("App"),"Ports","list"))},function(){return HTML.TR(HTML.TD(Blaze.View("lookup:App.Ports.name",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("App"),"Ports","name"),e.lookup("id"))})),"\n",HTML.TD(Blaze._TemplateWith(function(){return{status:Spacebars.call(e.lookup("status"))}},function(){return Spacebars.include(e.lookupTemplate("status"))})),"\n",HTML.TD(Blaze.View("lookup:App.Networks.name",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("App"),"Networks","name"),e.lookup("network_id"))})),"\n",HTML.TD(HTML.UL(Blaze.Each(function(){return Spacebars.call(e.lookup("fixed_ips"))},function(){return HTML.LI(Blaze.View("lookup:ip_address",function(){return Spacebars.mustache(e.lookup("ip_address"))})," в подсети ",Blaze.View("lookup:App.Subnets.name",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("App"),"Subnets","name"),e.lookup("subnet_id"))}))}))))})),"\n","")))})}},create:{"portCreate.coffee.js":function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare}}},projects:{create:{"template.projectCreate.js":function(){Template.__checkName("projectCreate"),Template.projectCreate=new Template("Template.projectCreate",function(){var e=this;return HTML.DIV({class:"block"},HTML.Raw('<div class="block-header"><div class="block-header-left"><h2 class="title">Проекты</h2>\n<span class="divider"></span>\n<span class="description">Создать</span></div></div>\n'),HTML.DIV({class:"block-content"},Blaze._TemplateWith(function(){return{schema:Spacebars.call(Spacebars.dot(e.lookup("App"),"Projects","Schemas","create")),id:Spacebars.call("App.Projects.create"),type:Spacebars.call("normal"),class:Spacebars.call("small")}},function(){return Spacebars.include(e.lookupTemplate("autoForm"),function(){return[HTML.H3({class:"subheader"},"Создать Проект"),Blaze.Each(function(){return Spacebars.dataMustache(e.lookup("afFieldNames"),Spacebars.kw({fields:"project.name,project.description"}))},function(){return Blaze._TemplateWith(function(){return{name:Spacebars.call(Spacebars.dot(e.lookup("."),"name")),options:Spacebars.call(e.lookup("afOptionsFromSchema"))}},function(){return Spacebars.include(e.lookupTemplate("afQuickField"))})}),HTML.BUTTON({class:["button"," ","btn btn-primary"],type:"submit"},"Создать")]})}),"\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n",""))})}},list:{"template.projectsList.js":function(){Template.__checkName("projectsList"),Template.projectsList=new Template("Template.projectsList",function(){var e=this;return HTML.DIV({class:"block"},HTML.DIV({class:"block-header"},HTML.Raw('<div class="block-header-left"><h2 class="title">Проекты</h2>\n<span class="divider"></span>\n<span class="description">Обзор</span></div>'),"\n",HTML.DIV({class:"block-header-right"},HTML.A({class:"button",href:function(){return Spacebars.mustache(e.lookup("pathFor"),Spacebars.kw({route:"projectCreate"}))}},"Создать"))),"\n",HTML.DIV({class:"block-content"},"","\n",Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("App"),"Projects","blank"))},function(){return Spacebars.include(e.lookupTemplate("projectsNotExist"))},function(){return HTML.TABLE(HTML.TR(HTML.TH("Имя"),"\n",HTML.TH("Описание"),"\n",HTML.TH(),"\n",HTML.TH()),"\n",null,"\n",null,"\n",null,"\n",null,"\n",null,"\n",Blaze.Each(function(){return Spacebars.call(Spacebars.dot(e.lookup("App"),"Projects","list"))},function(){return HTML.TR(HTML.TD(HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),Spacebars.kw({route:"projectShow"}))}},Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))}))),"\n",HTML.TD(Blaze.View("lookup:description",function(){return Spacebars.mustache(e.lookup("description"))})),"\n",HTML.TD(Blaze.If(function(){return Spacebars.call(e.lookup("enabled"))},function(){return Blaze.If(function(){return Spacebars.call(e.lookup("current"))},function(){return HTML.A({href:"#","data-project-select":function(){return Spacebars.mustache(e.lookup("id"))}},"Выбрано")},function(){return HTML.A({href:"#","data-project-select":function(){return Spacebars.mustache(e.lookup("id"))}},"Выбрать")})},function(){return HTML.SPAN("Заблокирован")})),"\n",HTML.TD(HTML.A({href:"#","data-project-delete":function(){return Spacebars.mustache(e.lookup("id"))}},HTML.DIV({class:["fa"," ","fa-trash-o"]}))))}))})))})},"projectsList.coffee.js":["meteor/mrstn",function(e,t,a){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var r=__coffeescriptShare,n;a.import("meteor/mrstn",{App:function(e){n=e}}),Template.projectsList.events({"click [data-project-select]":function(){function e(e,t){var a;return a=$(e.target).attr("data-project-select"),Meteor.call("App.Users.setCurrentProject",a,function(e,t){if(e&&(console.log(e),sAlert.error(e)),t)return sAlert.success(t.message)})}return e}(),"click [data-project-delete]":function(){function e(e,t){var a;return a=$(e.currentTarget).attr("data-project-delete"),Meteor.call("App.Projects.delete",a,function(e,t){if(e&&(console.log(e),sAlert.error(e)),t&&204===t.statusCode)return n.Projects.model.remove({id:a}),sAlert.success("Проект успешно удален")})}return e}()})}]},no:{"template.projectsNotExist.js":function(){Template.__checkName("projectsNotExist"),Template.projectsNotExist=new Template("Template.projectsNotExist",function(){var e=this;return HTML.Raw('<div class="blank-resource">\n<h1 class="header">Проекты</h1>\n<p class="about">Проекты позволяют организовать ресурсы</p>\n<a class="link button alert" data-modal-open="projectCreate" href="#">Добавить</a></div>')})}},overview:{"template.projectsOverview.js":function(){Template.__checkName("projectsOverview"),Template.projectsOverview=new Template("Template.projectsOverview",function(){var e=this;return HTML.DIV({class:"resource"},HTML.Raw('<ul class="tabs-control"><a href="#" data-nav-tab="serverResource" data-nav-stage="1" id="active"><li>Список</li></a>\n<a href="#" data-nav-tab="projectCreate" data-nav-stage="2"><li>Создать</li></a></ul>\n'),HTML.UL({class:"tabs","data-tab-container":""},Blaze._TemplateWith(function(){return{stage:Spacebars.call(1)}},function(){return Spacebars.include(e.lookupTemplate("projectsList"))}),"\n",Blaze._TemplateWith(function(){return{stage:Spacebars.call(2)}},function(){return Spacebars.include(e.lookupTemplate("projectCreateTab"))})))})},"projectsOverview.coffee.js":function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.projectsOverview.rendered=function(){return $("#titlePage").text("Проекты")},Template.projectsOverview.helpers({projectsObj:function(){return Projects.find()}})}},show:{"template.projectShow.js":function(){Template.__checkName("projectShow"),Template.projectShow=new Template("Template.projectShow",function(){var e=this;return HTML.DIV({class:"block"},HTML.DIV({class:"block-header"},HTML.DIV({class:"block-header-left"},HTML.Raw('<h2 class="title">Проекты</h2>'),"\n",HTML.Raw('<span class="divider"></span>'),"\n",HTML.SPAN({class:"description"},Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))})," "))),"\n",HTML.DIV({class:"block-content"},HTML.Raw("<h1></h1>"),"\n",HTML.P(HTML.B("Владелец: ",Blaze.View("lookup:owner",function(){return Spacebars.mustache(e.lookup("owner"))}))),"\n",Blaze.Each(function(){return Spacebars.call(e.lookup("roles"))},function(){return Blaze.View("lookup:.",function(){return Spacebars.mustache(e.lookup("."))})})))})},"projectShow.coffee.js":["meteor/mrstn",function(e,t,a){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var r=__coffeescriptShare,n;a.import("meteor/mrstn",{App:function(e){n=e}}),Template.projectShow.helpers({roles:function(){function e(){return console.log(this),console.log(n.RoleAssignments.model.find().fetch())}return e}()})}]}},routers:{create:{"template.routerCreate.js":function(){Template.__checkName("routerCreate"),Template.routerCreate=new Template("Template.routerCreate",function(){var e=this;return HTML.DIV({class:"block"},HTML.Raw('<div class="block-header"><div class="block-header-left"><h2 class="title">Маршрутизаторы</h2>\n<span class="divider"></span>\n<span class="description">Создать</span></div>\n<div class="block-header-right"></div></div>\n'),HTML.DIV({class:"block-content"},Blaze._TemplateWith(function(){return{schema:Spacebars.call(Spacebars.dot(e.lookup("App"),"Routers","Schemas","create")),id:Spacebars.call("App.Routers.create"),type:Spacebars.call("normal"),class:Spacebars.call("small")}},function(){return Spacebars.include(e.lookupTemplate("autoForm"),function(){return[HTML.H3({class:"subheader"},"Создать Роутер"),Blaze.Each(function(){return Spacebars.dataMustache(e.lookup("afFieldNames"),Spacebars.kw({fields:"router.name,router.description,admin_state_up,router.network_id"}))},function(){return Blaze._TemplateWith(function(){return{name:Spacebars.call(Spacebars.dot(e.lookup("."),"name")),options:Spacebars.call(e.lookup("afOptionsFromSchema"))}},function(){return Spacebars.include(e.lookupTemplate("afQuickField"))})}),Blaze._TemplateWith(function(){return{name:Spacebars.call("router.admin_state_up")}},function(){return Spacebars.include(e.lookupTemplate("afQuickField"))}),Blaze._TemplateWith(function(){return{name:Spacebars.call("ext")}},function(){return Spacebars.include(e.lookupTemplate("afQuickField"))}),Blaze.If(function(){return Spacebars.dataMustache(e.lookup("afFieldValueIs"),Spacebars.kw({name:"ext",value:"TRUE"}))},function(){return Blaze._TemplateWith(function(){return{name:Spacebars.call("router.external_gateway_info.network_id")}},function(){return Spacebars.include(e.lookupTemplate("afQuickField"))})}),HTML.BUTTON({class:["button"," ","btn btn-primary"],type:"submit"},"Создать")]})})))})}},list:{"template.routersList.js":function(){Template.__checkName("routersList"),Template.routersList=new Template("Template.routersList",function(){var e=this;return HTML.LI({class:"tab","data-tab":"networksRouters","data-tab-stage":function(){return Spacebars.mustache(e.lookup("stage"))}},HTML.DIV({class:"block"},HTML.Raw('<div class="block-header"><div class="block-header-left"><h2 class="title">Маршрутизаторы</h2>\n<span class="divider"></span>\n<span class="description">Обзор</span></div>\n<div class="block-header-right"><a class="button" data-modal-open="routerCreate">Создать</a></div></div>'),"\n",HTML.DIV({class:"block-content"},HTML.TABLE(HTML.TR(HTML.TH("Имя"),"\n",HTML.TH("Статус"),"\n",HTML.TH("IP-адреса"),"\n",HTML.TH()),"\n",Blaze.Each(function(){return Spacebars.call(Spacebars.dot(e.lookup("App"),"Routers","list"))},function(){return HTML.TR(HTML.TD(HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),Spacebars.kw({route:"routerShow"}))}},Blaze.View("lookup:App.Routers.name",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("App"),"Routers","name"),e.lookup("id"))}))),"\n",HTML.TD(Blaze._TemplateWith(function(){return{status:Spacebars.call(e.lookup("status"))}},function(){return Spacebars.include(e.lookupTemplate("status"))})),"\n",HTML.TD(Blaze.Each(function(){return Spacebars.call(Spacebars.dot(e.lookup("external_gateway_info"),"external_fixed_ips"))},function(){return HTML.SPAN(Blaze.View("lookup:ip_address",function(){return Spacebars.mustache(e.lookup("ip_address"))}),"; ",HTML.CharRef({html:"&nbsp;",str:" "}))})),"\n",HTML.TD({class:"right"},HTML.A({class:["button"," ","alert"],href:"#","data-router-delete":function(){return Spacebars.mustache(e.lookup("id"))}},"Удалить")))})))))})},"routersList.coffee.js":["meteor/mrstn",function(e,t,a){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var r=__coffeescriptShare,n;a.import("meteor/mrstn",{App:function(e){n=e}}),Template.routersList.events({"click [data-router-delete]":function(){function e(e,t){return(new OpenStack).Routers().delete($(e.target).attr("data-router-delete")).call()}return e}()})}]},show:{"template.routerShow.js":function(){Template.__checkName("routerShow"),Template.routerShow=new Template("Template.routerShow",function(){var e=this;return HTML.DIV({class:"block"},HTML.DIV({class:"block-header"},HTML.Raw('<div class="block-header-left"><h2 class="title">Маршрутизаторы</h2>\n<span class="divider"></span>\n<span class="description">Обзор</span></div>'),"\n",HTML.DIV({class:"block-header-right"},Blaze._TemplateWith(function(){return Spacebars.call(e.lookup("."))},function(){return Spacebars.include(e.lookupTemplate("routerStateInline"))}))),"\n",HTML.DIV({class:"block-content"},HTML.DIV({class:"block-subheader"},HTML.H3({class:"title"},Blaze.View("lookup:App.Routers.name",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("App"),"Routers","name"),e.lookup("id"))})),"\n",HTML.DIV({class:"description"},Blaze.View("lookup:description",function(){return Spacebars.mustache(e.lookup("description"))}))),"\n",HTML.TABLE(HTML.TR(HTML.TH("Статус"),"\n",HTML.TH("Порт"),"\n",HTML.TH("Локальный IP"),"\n",HTML.TH()),"\n",Blaze.Each(function(){return Spacebars.call(e.lookup("ports"))},function(){return HTML.TR(HTML.TD(Blaze._TemplateWith(function(){return{status:Spacebars.call(e.lookup("status"))}},function(){return Spacebars.include(e.lookupTemplate("status"))}),"\n",null),"\n",HTML.TD(Blaze.View("lookup:App.Ports.name",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("App"),"Ports","name"),e.lookup("id"))})),"\n",HTML.TD(Blaze.Each(function(){return Spacebars.call(e.lookup("fixed_ips"))},function(){return Blaze.View("lookup:ip_address",function(){return Spacebars.mustache(e.lookup("ip_address"))})})),"\n",HTML.TD(HTML.A({class:["button"," ","alert"],id:"removeRouterInterface","data-router":function(){return Spacebars.mustache(e.lookup("device_id"))},"data-port":function(){return Spacebars.mustache(e.lookup("id"))}},"Отключить")))})),"\n",HTML.Raw('<div class="block-subheader"><h4 class="title">Добавить порт</h4>\n</div>'),"\n",Blaze._TemplateWith(function(){return{schema:Spacebars.call(Spacebars.dot(e.lookup("App"),"Routers","Schemas","addRouterInterface")),id:Spacebars.call("App.Routers.addRouterInterface"),type:Spacebars.call("normal")}},function(){return Spacebars.include(e.lookupTemplate("autoForm"),function(){return[Blaze._TemplateWith(function(){return{name:Spacebars.call("router_id"),options:Spacebars.call(e.lookup("afOptionsFromSchema")),value:Spacebars.call(e.lookup("id"))}},function(){return Spacebars.include(e.lookupTemplate("afQuickField"))}),Blaze.Each(function(){return Spacebars.dataMustache(e.lookup("afFieldNames"),Spacebars.kw({fields:"router.subnet_id"}))},function(){return Blaze._TemplateWith(function(){return{name:Spacebars.call(Spacebars.dot(e.lookup("."),"name")),options:Spacebars.call(e.lookup("afOptionsFromSchema"))}},function(){return Spacebars.include(e.lookupTemplate("afQuickField"))})}),HTML.BUTTON({class:["button"," ","btn btn-primary"],type:"submit"},"Создать"),null,null,null,null,null]})})))})},"template.routerStateInline.js":function(){Template.__checkName("routerStateInline"),Template.routerStateInline=new Template("Template.routerStateInline",function(){var e=this;return HTML.UL({class:"block-header-show-state-inline"},HTML.LI(Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("external_gateway_info"),"enable_snat"))},function(){return HTML.SPAN("SNAT")})),"\n",Blaze.Each(function(){return Spacebars.call(Spacebars.dot(e.lookup("external_gateway_info"),"external_fixed_ips"))},function(){return HTML.LI(Blaze.View("lookup:ip_address",function(){return Spacebars.mustache(e.lookup("ip_address"))}))}))})},"routerShow.coffee.js":["meteor/mrstn",function(e,t,a){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var r=__coffeescriptShare,n;a.import("meteor/mrstn",{App:function(e){n=e}}),Template.routerShow.helpers({ports:function(){function e(){var e;return e=this.id,n.Ports.list({device_id:e})}return e}()}),Template.routerShow.events({"click #addRouterInterface":function(){function e(e,t){var a,r;return r=$(e.target).data("router"),a={subnet_id:"37dfdab6-546a-4d4b-b55f-0da1d9da572c"},(new OpenStack).Routers().addRouterInterface(r,a).call()}return e}(),"click #removeRouterInterface":function(){function e(e,t){var a,r;return r=$(e.target).data("router"),a={port_id:$(e.target).data("port")},(new OpenStack).Routers().removeRouterInterface(r,a).call()}return e}()})}]}},subnets:{create:{"template.subnetCreate.js":function(){Template.__checkName("subnetCreate"),Template.subnetCreate=new Template("Template.subnetCreate",function(){var e=this;return HTML.DIV({class:"block"},HTML.Raw('<div class="block-header"><div class="block-header-left"><h2 class="title">Подсети</h2>\n<span class="divider"></span>\n<span class="description">Создать</span></div>\n<div class="block-header-right"></div></div>\n'),HTML.DIV({class:"block-content"},Blaze._TemplateWith(function(){return{schema:Spacebars.call(Spacebars.dot(e.lookup("App"),"Subnets","Schemas","create")),id:Spacebars.call("App.Subnets.create"),type:Spacebars.call("normal"),class:Spacebars.call("small")}},function(){return Spacebars.include(e.lookupTemplate("autoForm"),function(){return[HTML.H3({class:"subheader"},"Создать Подсеть"),Blaze.Each(function(){return Spacebars.dataMustache(e.lookup("afFieldNames"),Spacebars.kw({fields:"subnet.name,subnet.description,subnet.network_id,subnet.subnetpool_id,subnet.ip_version,subnet.admin_state_up,subnet.enable_dhcp"}))},function(){return Blaze._TemplateWith(function(){return{name:Spacebars.call(Spacebars.dot(e.lookup("."),"name")),options:Spacebars.call(e.lookup("afOptionsFromSchema"))}},function(){return Spacebars.include(e.lookupTemplate("afQuickField"))})}),HTML.BUTTON({class:["button"," ","btn btn-primary"],type:"submit"},"Создать")]})}),"\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n",""))})},"subnetCreate.coffee.js":function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare}},edit:{"template.subnetEdit.js":function(){Template.__checkName("subnetEdit"),Template.subnetEdit=new Template("Template.subnetEdit",function(){var e=this;return HTML.Raw('<div class="block"><div class="block-header"><div class="block-header-left"><h2 class="title">Подсети</h2>\n<span class="divider"></span>\n<span class="description">Управление</span></div>\n<div class="block-header-right"></div></div>\n<div class="block-content"></div></div>')})}},list:{"template.subnetsList.js":function(){Template.__checkName("subnetsList"),Template.subnetsList=new Template("Template.subnetsList",function(){var e=this;return HTML.LI({class:"tab","data-tab":"subnetsList","data-tab-stage":function(){return Spacebars.mustache(e.lookup("stage"))}},HTML.DIV({class:"block"},HTML.Raw('<div class="block-header"><div class="block-header-left"><h2 class="title">Подсети</h2>\n<span class="divider"></span>\n<span class="description">Обзор</span></div>\n<div class="block-header-right"><a class="button" data-modal-open="subnetCreate">Создать</a></div></div>'),"\n",HTML.DIV({class:"block-content"},HTML.TABLE(HTML.TR(HTML.TH("Имя"),"\n",HTML.TH("CIDR"),"\n",HTML.TH()),"\n",Blaze.Each(function(){return Spacebars.call(Spacebars.dot(e.lookup("App"),"Subnets","list"))},function(){return HTML.TR(HTML.TD(Blaze.If(function(){return Spacebars.call(e.lookup("name"))},function(){return HTML.B(Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))}))},function(){return HTML.B({class:"monofont"},Blaze.View("lookup:_id",function(){return Spacebars.mustache(e.lookup("_id"))}))})),"\n",HTML.TD(Blaze.View("lookup:cidr",function(){return Spacebars.mustache(e.lookup("cidr"))})),"\n",HTML.TD({class:"right"},HTML.A({class:["button"," ","alert"],href:"#","data-subnet-delete":function(){return Spacebars.mustache(e.lookup("id"))}},"Удалить")))})),"\n","")))})},"subnetsList.coffee.js":["meteor/mrstn",function(e,t,a){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var r=__coffeescriptShare,n;a.import("meteor/mrstn",{App:function(e){n=e}}),Template.subnetsList.events({"click [data-subnet-delete]":function(){function e(e){return(new OpenStack).Subnets().delete($(e.target).attr("data-subnet-delete")).call()}return e}()})}]}},backups:{"template.backupsList.js":function(){Template.__checkName("backupsList"),Template.backupsList=new Template("Template.backupsList",function(){var e=this;return HTML.LI({class:["tab"," ","block"],"data-tab":"backupsList","data-tab-stage":function(){return Spacebars.mustache(e.lookup("stage"))}},Blaze.If(function(){return Spacebars.call(e.lookup("backupsBlank"))},function(){return Spacebars.include(e.lookupTemplate("backupsListBlank"))},function(){return[HTML.H2({class:"header"},"Backups"),HTML.TABLE(HTML.TR(HTML.TH("Имя"),"\n",HTML.TH("Статус"),"\n",HTML.TH("Размер"),"\n",HTML.TH("Загрузочный"),"\n",HTML.TH()),"\n",Blaze.Each(function(){return Spacebars.call(Spacebars.dot(e.lookup("App"),"Backups","list"))},function(){return HTML.TR(HTML.TD(Blaze.If(function(){return Spacebars.call(e.lookup("name"))},function(){return[Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))}),null]},function(){return[Blaze.View("lookup:_id",function(){return Spacebars.mustache(e.lookup("_id"))}),null]})),"\n",HTML.TD(Blaze.View("lookup:status",function(){return Spacebars.mustache(e.lookup("status"))}),"\n",null,"\n",null,"\n",null,"\n",null),"\n",HTML.TD(Blaze.View("lookup:size",function(){return Spacebars.mustache(e.lookup("size"))})," Гб"),"\n",HTML.TD(Blaze.If(function(){return Spacebars.dataMustache(e.lookup("compare"),e.lookup("bootable"),"is","true")},function(){return"Да "},function(){return"Нет"})),"\n",HTML.TD(HTML.A(HTML.I({class:"fa-trash","data-backup-delete":function(){return Spacebars.mustache(e.lookup("id"))}}))))}))]}))})},"template.backupsListBlank.js":function(){Template.__checkName("backupsListBlank"),Template.backupsListBlank=new Template("Template.backupsListBlank",function(){var e=this;return HTML.Raw('<div class="blank-resource"><img src="https://placehold.it/450x250">\n<h1 class="header">Backups</h1>\n<p class="about">Восстановление данных</p>\n\n</div>')})},"backupsList.coffee.js":function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.backupsList.helpers({backupsBlank:function(){return 0===Backups.find().count()},backups:function(){return Backups.find()}}),Template.backupsList.events({"click [data-backup-delete]":function(e,t){return Notice({message:"Запрос на удаление раздела отправлен"}),Meteor.call("backupDelete",$(e.target).attr("data-backup-delete"),function(e,t){return e?Notice(e):Notice(t)})}})}},dashboard:{"template.dashboard.js":function(){Template.__checkName("dashboard"),Template.dashboard=new Template("Template.dashboard",function(){var e=this;return HTML.DIV({class:"dashboard-page"},"\n",Blaze.If(function(){return Spacebars.call(e.lookup("novice"))},function(){return Spacebars.include(e.lookupTemplate("dashboardWelcome"))},function(){return[Blaze.Unless(function(){return Spacebars.dataMustache(e.lookup("_"),"isEmpty",e.lookup("servers"))},function(){return HTML.DIV({class:"db-block-wr"},HTML.DIV({class:"block"},HTML.H2("Серверы"),"\n",HTML.UL(Blaze.Each(function(){return Spacebars.call(Spacebars.dot(e.lookup("App"),"Servers","list"))},function(){return HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),Spacebars.kw({route:"serverShow"}))}},HTML.LI(Blaze.If(function(){return Spacebars.call(e.lookup("name"))},function(){return Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))})},function(){return Blaze.View("lookup:_id",function(){return Spacebars.mustache(e.lookup("_id"))})}),"\n",HTML.SPAN(Spacebars.include(e.lookupTemplate("status")))))}))))}),Blaze.Unless(function(){return Spacebars.dataMustache(e.lookup("_"),"isEmpty",e.lookup("volumes"))},function(){return HTML.DIV({class:"db-block-wr"},HTML.DIV({class:"block"},HTML.H2("Разделы"),"\n",HTML.UL(Blaze.Each(function(){return Spacebars.call(Spacebars.dot(e.lookup("App"),"Volumes","list"))},function(){return HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),Spacebars.kw({route:"volumeShow"}))}},HTML.LI(Blaze.If(function(){return Spacebars.call(e.lookup("name"))},function(){return Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))})},function(){return Blaze.View("lookup:_id",function(){return Spacebars.mustache(e.lookup("_id"))})})))}))))}),Blaze.Unless(function(){return Spacebars.dataMustache(e.lookup("_"),"isEmpty",e.lookup("floatingips"))},function(){return[HTML.DIV({class:"db-block-wr"},HTML.DIV({class:"block"},HTML.H2("IP-адреса"),"\n",HTML.UL(Blaze.Each(function(){return Spacebars.call(Spacebars.dot(e.lookup("App"),"FloatingIPs","list"))},function(){return[null,HTML.A({href:"#"},HTML.LI(Blaze.View("lookup:floating_ip_address",function(){return Spacebars.mustache(e.lookup("floating_ip_address"))}),"  "))]})),"\n",null)),null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]})]}))})},"template.dashboardWelcome.js":function(){Template.__checkName("dashboardWelcome"),Template.dashboardWelcome=new Template("Template.dashboardWelcome",function(){var e=this;return Blaze.Unless(function(){return Spacebars.call(e.lookup("verified"))},function(){return HTML.DIV({class:"dashboard"},HTML.DIV({class:"blank-resource"},HTML.IMG({src:"https://placehold.it/450x250"}),"\n",HTML.H1({class:"header"},"Добро пожаловать!"),"\n",HTML.P({class:"about"},"Осталось всего несколько шагов! Подтвердите свою почту."),"\n",null))},function(){return Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("App"),"Users","novice"))},function(){return HTML.DIV({class:"dashboard"},HTML.DIV({class:"blank-resource"},HTML.IMG({src:"https://placehold.it/450x250"}),"\n",HTML.H1({class:"header"},"Вы на верном пути!"),"\n",HTML.P({class:"about"},"Для начала работы, создайте первый проект"),"\n",HTML.A({class:["link"," ","button"," ","alert"],href:"#","data-modal-open":"projectCreate"},"Создать проект")))},function(){return Blaze.If(function(){return Spacebars.call(e.lookup("projectNotSelected"))},function(){return HTML.DIV({class:"full-width"},Spacebars.include(e.lookupTemplate("projectsList")))},function(){return HTML.DIV({class:"dashboard"},HTML.DIV({class:"blank-resource"},HTML.IMG({src:"https://placehold.it/450x250"}),"\n",HTML.H1({class:"header"},"Осталось совсем немного!"),"\n",HTML.P({class:"about"},"Добавьте первый сервер в проект"),"\n",HTML.A({class:["link"," ","button"," ","alert"],href:function(){return Spacebars.mustache(e.lookup("pathFor"),Spacebars.kw({route:"serverCreate"}))}},"Создать сервер ")))})})})})},"dashboard.coffee.js":["meteor/mrstn",function(e,t,a){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var r=__coffeescriptShare,n;a.import("meteor/mrstn",{App:function(e){n=e}}),Template.dashboard.helpers({admin:function(){function e(){return"admin"===Meteor.user().role}return e}(),novice:function(){function e(){return 0===n.Servers.list().count()}return e}(),consumption:function(){function e(){return null}return e}()})}],"dashboardWelcome.coffee.js":["meteor/mrstn",function(e,t,a){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var r=__coffeescriptShare,n;a.import("meteor/mrstn",{App:function(e){n=e}}),Template.dashboardWelcome.helpers({projectNotSelected:function(){function e(){var e;return e=Meteor.user(),console.log(e,e.currentProject),!e||!e.currentProject}return e}(),verified:function(){function e(){var e;return e=Meteor.user(),!!e&&e.profile.verified}return e}()})}]},events:{"template.eventItem.js":function(){Template.__checkName("eventItem"),Template.eventItem=new Template("Template.eventItem",function(){var e=this;return HTML.LI({"data-event-id":function(){return Spacebars.mustache(e.lookup("_id"))}},Blaze.View("lookup:type",function(){return Spacebars.mustache(e.lookup("type"))}))})},"template.events.js":function(){Template.__checkName("eventsList"),
Template.eventsList=new Template("Template.eventsList",function(){var e=this;return[Blaze.View("lookup:watcher",function(){return Spacebars.mustache(e.lookup("watcher"),Spacebars.dot(e.lookup("App"),"Events","list"))}),HTML.DIV({class:["event-list-template"," ","animated"]},HTML.Raw('<div class="event-title">События</div>'),"\n",HTML.Raw('<div class="divider"></div>'),"\n",HTML.UL({class:"event-list"},Blaze.Each(function(){return Spacebars.call(Spacebars.dot(e.lookup("App"),"Events","list"))},function(){return Spacebars.include(e.lookupTemplate("eventItem"))})))]})},"eventItem.coffee.js":function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.eventItem.rendered=function(){var e,t;return t=this.data,e=this.$("[data-event-id]"),e.addClass("animated fadeInDown"),Meteor.setTimeout(function(){return e.removeClass("fadeInLeft"),e.addClass("fadeOutDown").delay(1e3).queue(function(){return Meteor.call("App.Event.remove",t._id)})},5e3)}},"events.coffee.js":["meteor/mrstn",function(e,t,a){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var r=__coffeescriptShare,n;a.import("meteor/mrstn",{App:function(e){n=e}}),Template.eventsList.helpers({watcher:function(){function e(e){var t,a;return t=e.count(),a=$(".event-list-template"),n.Events.exist()?(a.show("slideInUp"),a.removeClass("slideOutDown"),a.addClass("slideInUp")):(a.removeClass("slideInUp"),a.addClass("slideOutDown")),""}return e}()}),Template.eventsList.rendered=function(){return this.$(".event-list-template").hide()}}]},loader:{"template.dashboard-loader.js":function(){Template.__checkName("dashboardLoader"),Template.dashboardLoader=new Template("Template.dashboardLoader",function(){var e=this;return HTML.DIV({class:"dashboard-loader-template"},HTML.DIV({class:"dashboard-loader-wr"},HTML.DIV({class:"dashboard-loader"},HTML.Raw('<div class="message"><div class="title"><h1>хорошего дня</h1></div>\n</div>'),"\n",HTML.DIV({class:"load-list"},Blaze.Each(function(){return Spacebars.call(Spacebars.dot(e.lookup("App"),"Sync","list"))},function(){return HTML.getTag("dic")({class:function(){return["item ",Spacebars.mustache(e.lookup("state"))]}},HTML.DIV({class:"name"},Blaze.View("lookup:ns",function(){return Spacebars.mustache(e.lookup("ns"))})),"\n",null,"\n",null,"\n",null,"\n",null,"\n",null)})))))})},"dashboard-loader.coffee.js":function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.dashboardLoader.helpers({state:function(){return this.updated?"updated":"updating"}})}},topology:{"template.networksOverview.js":function(){Template.__checkName("networksOverview"),Template.networksOverview=new Template("Template.networksOverview",function(){var e=this;return HTML.DIV({class:"resource"},HTML.Raw('<ul class="tabs-control"><a href="#" data-nav-tab="networksTopology" data-nav-stage="1" id="active"><li>Топология</li></a>\n<a href="#" data-nav-tab="networksList" data-nav-stage="2"><li>Сети</li></a>\n<a href="#" data-nav-tab="subnetsList" data-nav-stage="3"><li>Подсети</li></a>\n<a href="#" data-nav-tab="routersList" data-nav-stage="4"><li>Маршрутизаторы</li></a>\n<a href="#" data-nav-tab="portsList" data-nav-stage="5"><li>Интерфейсы</li></a>\n<a href="#" data-nav-tab="poolList" data-nav-stage="6"><li>IP-адреса</li></a></ul>\n'),HTML.UL({class:"tabs","data-tab-container":""},Blaze._TemplateWith(function(){return{stage:Spacebars.call(1)}},function(){return Spacebars.include(e.lookupTemplate("networksTopology"))}),"\n",Blaze._TemplateWith(function(){return{stage:Spacebars.call(2)}},function(){return Spacebars.include(e.lookupTemplate("networksList"))}),"\n",Blaze._TemplateWith(function(){return{stage:Spacebars.call(3)}},function(){return Spacebars.include(e.lookupTemplate("subnetsList"))}),"\n",Blaze._TemplateWith(function(){return{stage:Spacebars.call(4)}},function(){return Spacebars.include(e.lookupTemplate("routersList"))}),"\n",Blaze._TemplateWith(function(){return{stage:Spacebars.call(5)}},function(){return Spacebars.include(e.lookupTemplate("portsList"))}),"\n",Blaze._TemplateWith(function(){return{stage:Spacebars.call(6)}},function(){return Spacebars.include(e.lookupTemplate("floatingipsList"))})))})},"networkOverview.coffee.js":function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.networksOverview.rendered=function(){}}}},administrative:{resources:{flavors:{"template.administrativeFlavors.js":function(){Template.__checkName("administrativeFlavors"),Template.administrativeFlavors=new Template("Template.administrativeFlavors",function(){var e=this;return HTML.LI({class:"tab","data-tab":"administrativeFlavors","data-tab-stage":function(){return Spacebars.mustache(e.lookup("stage"))}},HTML.DIV({class:"block"},HTML.Raw("<h2>Тарифные планы</h2>"),"\n",HTML.TABLE({class:"pretty-table"},HTML.TR(HTML.TH("actions"),"\n",HTML.TH("status"),"\n",HTML.TH("id"),"\n",HTML.TH("name"),"\n",HTML.TH("vcpus"),"\n",HTML.TH("ram"),"\n",HTML.TH("disk"),"\n",HTML.TH("price")),"\n",Blaze.Each(function(){return Spacebars.call(Spacebars.dot(e.lookup("App"),"Flavors","list"))},function(){return HTML.TR(HTML.TD(HTML.A({id:"resourceAccessSwitch",href:"#"},Blaze.If(function(){return Spacebars.call(e.lookup("enabled"))},function(){return HTML.I({class:["fa"," ","fa-eye-slash"],"data-resource":"Flavors","data-id":function(){return Spacebars.mustache(e.lookup("_id"))}})},function(){return HTML.I({class:["fa"," ","fa-eye"],"data-resource":"Flavors","data-id":function(){return Spacebars.mustache(e.lookup("_id"))}})}))),"\n",HTML.TD(Spacebars.include(e.lookupTemplate("status"))),"\n",HTML.TD(Blaze.View("lookup:id",function(){return Spacebars.mustache(e.lookup("id"))})," "),"\n",HTML.TD(Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))}),"  "),"\n",HTML.TD(Blaze.View("lookup:vcpus",function(){return Spacebars.mustache(e.lookup("vcpus"))}),"  "),"\n",HTML.TD(Blaze.View("lookup:ram",function(){return Spacebars.mustache(e.lookup("ram"))}),"  "),"\n",HTML.TD(Blaze.View("lookup:disk",function(){return Spacebars.mustache(e.lookup("disk"))}),"  "),"\n",HTML.TD(HTML.INPUT({type:"number",placeholder:"placeholder",value:function(){return Spacebars.mustache(e.lookup("price"))},"data-flavor-id":function(){return Spacebars.mustache(e.lookup("_id"))},id:"flavorPrice"})))}))))})},"administrativeFlavors.coffee.js":function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.administrativeFlavors.events({"click #resourceAccessSwitch":function(e,t){return Meteor.call("resourceAccessSwitch",{resourceName:$(e.target).attr("data-resource"),id:$(e.target).attr("data-id")})},"change #flavorPrice":function(e,t){return console.log($(e.target).attr("data-flavor-id")),console.log(e.target.value),Meteor.call("flavorPrice",{id:$(e.target).attr("data-flavor-id"),price:e.target.value})}})}},images:{"template.administrativeImages.js":function(){Template.__checkName("administrativeImages"),Template.administrativeImages=new Template("Template.administrativeImages",function(){var e=this;return HTML.LI({class:"tab","data-tab":"administrativeImages","data-tab-stage":function(){return Spacebars.mustache(e.lookup("stage"))}},HTML.DIV({class:"block"},HTML.Raw("<h2>Образы</h2>"),"\n",HTML.TABLE({class:"images"},null,"\n",null,"\n",null,"\n",null,"\n",Blaze.Each(function(){return Spacebars.call(Spacebars.dot(e.lookup("App"),"Images","list"))},function(){return HTML.TR(HTML.TD(Spacebars.include(e.lookupTemplate("imagePic"))),"\n",null,"\n",HTML.TD(Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))})),"\n",HTML.TD(HTML.FORM({class:"inline",id:"submitImagePic"},HTML.SELECT({name:"picture","data-pic-for-image":function(){return Spacebars.mustache(e.lookup("id"))}},Blaze.Each(function(){return Spacebars.call(e.lookup("pictures"))},function(){return HTML.OPTION({value:function(){return Spacebars.mustache(e.lookup("_id"))}},Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))}))})))),"\n",HTML.TD(HTML.A({id:"resourceAccessSwitch",href:"#"},Blaze.If(function(){return Spacebars.call(e.lookup("enabled"))},function(){return[HTML.I({class:["fa"," ","fa-eye-slash"],"data-resource":"Images","data-id":function(){return Spacebars.mustache(e.lookup("_id"))}}),HTML.SPAN("Скрыть")]},function(){return[HTML.I({class:["fa"," ","fa-eye"],"data-resource":"Images","data-id":function(){return Spacebars.mustache(e.lookup("_id"))}}),HTML.SPAN("Показать")]}))))}),"\n",null,"\n",null,"\n",null,"\n",null,"\n",null,"\n",null)))})},"administrativeImages.coffee.js":function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.administrativeImages.events({"click #resourceAccessSwitch":function(e,t){return Meteor.call("resourceAccessSwitch",{resourceName:$(e.target).attr("data-resource"),id:$(e.target).attr("data-id")})},"change #submitImagePic":function(e,t){var a,r;return r=$(e.target),a={image:r.attr("data-pic-for-image"),picture:r.val()},Meteor.call("imagesAttachPicture",a,function(e,t){if(e&&Notice(e),t)return Notice(t)})}})}},roles:{"template.administrativeRoles.js":function(){Template.__checkName("administrativeRoles"),Template.administrativeRoles=new Template("Template.administrativeRoles",function(){var e=this;return HTML.LI({class:"tab","data-tab":"administrativeRoles","data-tab-stage":function(){return Spacebars.mustache(e.lookup("stage"))}},HTML.DIV({class:"block"},HTML.Raw("<h2>Роли</h2>"),"\n",HTML.TABLE(HTML.TR(HTML.TH("id"),"\n",HTML.TH("name")),"\n",Blaze.Each(function(){return Spacebars.call(e.lookup("roles"))},function(){return HTML.TR(HTML.TD(Blaze.View("lookup:id",function(){return Spacebars.mustache(e.lookup("id"))})," "),"\n",HTML.TD(Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))}),"          "))}),"\n",null,"\n",null,"\n",null,"\n",null,"\n",null,"\n",null)))})}}},gallery:{"template.gallery.js":function(){Template.__checkName("administrativeGallery"),Template.administrativeGallery=new Template("Template.administrativeGallery",function(){var e=this;return HTML.LI({class:"tab","data-tab":"administrativeGallery","data-tab-stage":function(){return Spacebars.mustache(e.lookup("stage"))}},HTML.DIV({class:"block"},HTML.Raw('<h2 class="header">Галерея  </h2>'),"\n",HTML.UL({class:"gallery"},Blaze.Each(function(){return Spacebars.call(e.lookup("pictures"))},function(){return HTML.LI({class:"picture"},HTML.DIV({class:"name"},Blaze.View("lookup:original.name",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("original"),"name"))})),"\n",null,"\n",HTML.IMG({src:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"url"))}}),"\n",HTML.DIV({class:"buttons"},HTML.A({class:["fa"," ","fa-times"],id:"deletePicture","data-picture-delete":function(){return Spacebars.mustache(e.lookup("_id"))}})))}))),HTML.Raw('\n<div class="block"><h2 class="header">Загрузить  </h2>\n<form class="upload"><input id="dropzone" class="fa dropzone" type="file"></form></div>'))})},"gallery.coffee.js":function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.administrativeGallery.helpers({pictures:function(){return Pictures.find()}}),Template.administrativeGallery.events({"click #deletePicture":function(e,t){var a;return e.preventDefault(),a=$(e.target).attr("data-picture-delete"),Pictures.remove({_id:a})},"keypress #namePicture":function(e,t){var a,r;return r=$(e.target),a=r.val()},"change .upload":function(e,t){return FS.Utility.eachFile(e,function(e){return console.log(e),Pictures.insert(e,function(e,t){if(console.log(t),e)return Notice(e)})})}})}},jobsQueue:{"template.administrativeJobsQueue.js":function(){Template.__checkName("administrativeJobsQueue"),Template.administrativeJobsQueue=new Template("Template.administrativeJobsQueue",function(){var e=this;return HTML.LI({class:"tab","data-tab":"administrativeJobsQueue","data-tab-stage":function(){return Spacebars.mustache(e.lookup("stage"))}},HTML.DIV({class:"block"},HTML.Raw("<h3>Jobs Queue: Summary</h3>"),"\n",HTML.Raw('<a class="button" id="jobsRefresh" href="#">Refresh Queue</a>'),"\n",HTML.TABLE(HTML.TR(HTML.TH("queue"),"\n",HTML.TH("ready"),"\n",HTML.TH("compteted"),"\n",HTML.TH("total")),"\n",HTML.TR(HTML.TH(Blaze.View("lookup:queue",function(){return Spacebars.mustache(e.lookup("queue"))})),"\n",HTML.TD(Blaze.View("lookup:ready",function(){return Spacebars.mustache(e.lookup("ready"))})),"\n",HTML.TD(Blaze.View("lookup:compteted",function(){return Spacebars.mustache(e.lookup("compteted"))})),"\n",HTML.TD(Blaze.View("lookup:total",function(){return Spacebars.mustache(e.lookup("total"))})))),"\n",HTML.Raw("<h3>JobsQueue</h3>"),"\n",HTML.TABLE(HTML.TR(HTML.TH("ID"),"\n",HTML.TH("type"),"\n",HTML.TH("status"),"\n",HTML.TH("updated"),"\n",HTML.TH("admin")),"\n",Blaze.Each(function(){return Spacebars.call(e.lookup("JobsQueue"))},function(){return HTML.TR(HTML.TD({class:"monofont"},Blaze.View("lookup:_id",function(){return Spacebars.mustache(e.lookup("_id"))})),"\n",HTML.TD(Blaze.View("lookup:type",function(){return Spacebars.mustache(e.lookup("type"))})),"\n",HTML.TD(Blaze.View("lookup:status",function(){return Spacebars.mustache(e.lookup("status"))})),"\n",HTML.TD(Blaze.View("lookup:updated",function(){return Spacebars.mustache(e.lookup("updated"))})),"\n",HTML.TD(HTML.A({class:["fa"," ","fa-ban"],id:"deleteJob",href:"#","data-job-delete":function(){return[Spacebars.mustache(e.lookup("_id"))," "]}})))}))))})},"administrativeJobsQueue.coffee.js":function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.administrativeJobsQueue.helpers({queue:function(){var e,t,a;return a=JobsQueue.find().count(),e=JobsQueue.find({status:"completed"}).count(),t=JobsQueue.find({status:"ready"}).count(),a-e-t},ready:function(){return JobsQueue.find({status:"ready"}).count()},compteted:function(){return JobsQueue.find({status:"completed"}).count()},total:function(){return JobsQueue.find().count()},JobsQueue:function(){return JobsQueue.find({status:{$not:"completed"}})}}),Template.administrativeJobsQueue.events({"click #deleteJob":function(e,t){var a;return a=$(e.target).attr("data-job-delete"),Meteor.call("jobDelete",a,function(e,t){if(e)return console.log("error",e)})},"click #jobsRefresh":function(){return Meteor.call("jobsRefresh",function(e,t){if(e&&console.log("error",e),t)return t})}})}},testing:{"template.administrativeTesting.js":function(){Template.__checkName("administrativeTesting"),Template.administrativeTesting=new Template("Template.administrativeTesting",function(){var e=this;return HTML.LI({class:"tab","data-tab":"administrativeTesting","data-tab-stage":function(){return Spacebars.mustache(e.lookup("stage"))}},HTML.DIV({class:"block"},HTML.Raw("<h2>Rabbiges: messages from RabbitMQ</h2>"),"\n",HTML.Raw('<h4 class="subheader">only for dev env</h4>'),"\n",HTML.Raw('<input id="rabbiges" type="text" placeholder="insert request id">'),"\n",HTML.Raw('<div class="button" id="deleteAllRabbiges">Destroy All Messages</div>'),"\n",HTML.Raw("<b>Last 10 elements: </b>"),"\n",Blaze.Each(function(){return Spacebars.call(e.lookup("rabbigesList"))},function(){return[HTML.HR(),HTML.PRE({id:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("msg"),"req"))}},Blaze.View("lookup:msg.msg",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("msg"),"msg"))}))]})))})},"administrativeTesting.coffee.js":function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.administrativeTesting.helpers({rabbigesList:function(){return Rabbiges.find()}}),Template.administrativeTesting.events({"click #deleteAllRabbiges":function(){var e;return e=Rabbiges.find(),e.forEach(function(e){return Rabbiges.remove(e._id)})},"keyup #rabbiges":function(e,t){return $(e.target).val()?($("pre").hide(),$("#"+$(e.target).val()).show()):$("pre").show()}})}},"template.administrative.js":function(){Template.__checkName("administrative"),Template.administrative=new Template("Template.administrative",function(){var e=this;return HTML.DIV({class:"resource"},HTML.UL({class:"tabs-control"},HTML.Raw('<a href="#" data-nav-tab="administrativeReview" data-nav-stage="1" id="active"><li>Обзор</li></a>'),"\n",HTML.Raw('<a href="#" data-nav-tab="administrativeTesting" data-nav-stage="2"><li>Тестирование</li></a>'),"\n",HTML.Raw('<a href="#" data-nav-tab="administrativeFlavors" data-nav-stage="3"><li>Планы</li></a>'),"\n",HTML.Raw('<a href="#" data-nav-tab="administrativeImages" data-nav-stage="4"><li>Образы</li></a>'),"\n",HTML.Raw('<a href="#" data-nav-tab="administrativeRoles" data-nav-stage="5"><li>Роли</li></a>'),"\n",HTML.Raw('<a href="#" data-nav-tab="administrativeJobsQueue" data-nav-stage="6"><li>Воркеры</li></a>'),"\n",HTML.Raw('<a href="#" data-nav-tab="administrativeGallery" data-nav-stage="7"><li>Галерея</li></a>'),"\n",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),Spacebars.kw({route:"administrativeEmailsOverview"}))}},HTML.Raw("<li>EMail</li>"))),"\n",HTML.UL({class:"tabs","data-tab-container":""},Blaze._TemplateWith(function(){return{stage:Spacebars.call(1)}},function(){return Spacebars.include(e.lookupTemplate("administrativeReview"))}),"\n",Blaze._TemplateWith(function(){return{stage:Spacebars.call(2)}},function(){return Spacebars.include(e.lookupTemplate("administrativeTesting"))}),"\n",Blaze._TemplateWith(function(){return{stage:Spacebars.call(3)}},function(){return Spacebars.include(e.lookupTemplate("administrativeFlavors"))}),"\n",Blaze._TemplateWith(function(){return{stage:Spacebars.call(4)}},function(){return Spacebars.include(e.lookupTemplate("administrativeImages"))}),"\n",Blaze._TemplateWith(function(){return{stage:Spacebars.call(5)}},function(){return Spacebars.include(e.lookupTemplate("administrativeRoles"))}),"\n",Blaze._TemplateWith(function(){return{stage:Spacebars.call(6)}},function(){return Spacebars.include(e.lookupTemplate("administrativeJobsQueue"))}),"\n",Blaze._TemplateWith(function(){return{stage:Spacebars.call(7)}},function(){return Spacebars.include(e.lookupTemplate("administrativeGallery"))})))})},"template.administrativeReview.js":function(){Template.__checkName("administrativeReview"),Template.administrativeReview=new Template("Template.administrativeReview",function(){var e=this;return HTML.LI({class:"tab","data-tab":"administrativeReview","data-tab-stage":function(){return Spacebars.mustache(e.lookup("stage"))},id:"active"},HTML.DIV({class:"block"},HTML.Raw("<h2>Администрирование</h2>"),"\n",HTML.Raw('<div class="row"><a class="button" id="updateFlavors">Обновить планы</a>\n<a class="button" id="updateImages">Обновить образы</a>\n<a class="button" id="updateRoles">Обновить роли</a>\n<a class="button" id="subnetpoolsSync">Обновить пулы адресов подсетей</a>\n<a class="button" id="verifyAccountGetToken">Верифицировать учетную запись</a></div>'),"\n",HTML.DIV({class:"row"},HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),Spacebars.kw({route:"blog"}))}},"Блог"),"\n",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),Spacebars.kw({route:"postCreate"}))}},"Добавить пост"))))})},"administrative.coffee.js":function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.administrative.rendered=function(){return $("#titlePage").text("Администрирование")},Template.administrative.events({"click #verifyAccountGetToken":function(){return Meteor.call("verifyAccountGetToken",function(e,t){return Accounts.verifyEmail(t,function(e,t){return e?(Notice(e,"error"),!1):(Meteor.call("userVerify",{},function(e,t){if(e&&Notice(e,"error"),t)return Notice(t,"success")}),!0)})})},"click #grantRoleToUserOnProject":function(){return Notification.insert({message:"grantRoleToUserOnProject"}),Meteor.call("grantRoleToUserOnProject")}})}},public:{_PublicLayout:{footer:{"template.footer.js":function(){Template.__checkName("footerPublic"),Template.footerPublic=new Template("Template.footerPublic",function(){var e=this;return HTML.HEADER({class:"footer-public"},HTML.UL(HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),Spacebars.kw({route:"home"}))}},HTML.Raw("<li>Главная</li>")),"\n",Blaze.Unless(function(){return Spacebars.call(e.lookup("currentUser"))},function(){return HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),Spacebars.kw({route:"accountSingleSign"}))}},HTML.LI("Вход / Регистрация"))})))})}},header:{"template.header.js":function(){Template.__checkName("headerPublic"),Template.headerPublic=new Template("Template.headerPublic",function(){var e=this;return HTML.HEADER({class:"header-public"},HTML.UL(HTML.A({class:"brand",href:function(){return Spacebars.mustache(e.lookup("pathFor"),Spacebars.kw({route:"home"}))}},HTML.Raw('<li><img class="logo" src="logo.svg">\n<span class="name">VSCall</span></li>'))),HTML.Raw('\n<ul class="desc"><li>Реактивная Облачная Инфраструктура</li></ul>\n'),HTML.UL(HTML.LI(HTML.A({class:["button"," ","alert"],href:function(){return Spacebars.mustache(e.lookup("pathFor"),Spacebars.kw({route:"accountSingleSign"}))}},"Войти"))))})}},layout:{"template.layout.js":function(){Template.__checkName("layoutPublic"),Template.layoutPublic=new Template("Template.layoutPublic",function(){var e=this;return HTML.DIV({class:"layout-public"},Spacebars.include(e.lookupTemplate("headerPublic")),"\n",HTML.MAIN(Spacebars.include(e.lookupTemplate("yield"))),"\n",Spacebars.include(e.lookupTemplate("footerPublic")))})}}},welcome:{"template.welcome.js":function(){Template.__checkName("welcome"),Template.welcome=new Template("Template.welcome",function(){var e=this;return HTML.DIV({class:"welcome"},HTML.DIV({class:"slider"},HTML.Raw('<div class="ctrl-left"></div>'),"\n",HTML.Raw('<div class="ctrl-right"></div>'),"\n",HTML.DIV({class:"slide-wr",id:"active"},HTML.DIV({class:["slide"," ","first"]},HTML.Raw("<h1>Разместите приложения в облаке VSCall  </h1>"),"\n",HTML.Raw("<p>Облачная инфраструктура для любых задач</p>"),"\n",HTML.A({class:["button"," ","alert"],href:function(){return Spacebars.mustache(e.lookup("pathFor"),Spacebars.kw({route:"accountSingleSign"}))}}," Регистрация")))),HTML.Raw('\n<div class="fullwidth"><div class="header"><h2>Облачные серверы</h2>\n<p>готовы к запуску</p></div></div>\n'),HTML.DIV({class:"welcome-block"}," ","\n",HTML.DIV({class:"flavors"},HTML.Raw('<p class="desc">Оплачивайте только необходимые ресурсы</p>'),"\n",HTML.UL({class:"flavors-list"},Blaze.Each(function(){return Spacebars.call(e.lookup("flavors"))},function(){return HTML.LI({class:"flavor"},HTML.DIV({class:"name"},Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))})),"\n",HTML.HR(),"\n",HTML.DIV({class:"price"},HTML.DIV({class:"value"},Blaze.View("lookup:price",function(){return Spacebars.mustache(e.lookup("price"))})),"\n",HTML.DIV({class:"desc"},HTML.I({class:["fa"," ","fa-rub"]}),"\n","/час")),"\n",HTML.HR(),"\n",HTML.DIV({class:"resources"},HTML.DIV({class:"memory"},HTML.DIV({class:"value"},Blaze.View("lookup:ram",function(){return Spacebars.mustache(e.lookup("ram"))})," MB"),"\n",HTML.DIV({class:"desc"},"Память")),"\n",HTML.DIV({class:"vcpu"},HTML.DIV({class:"value"},Blaze.View("lookup:vcpus",function(){return Spacebars.mustache(e.lookup("vcpus"))})," VCPU"),"\n",HTML.DIV({class:"desc"},"Процессор")),"\n",null,"\n",null,"\n",null),"\n",HTML.A({class:["button"," ","success"],href:function(){return Spacebars.mustache(e.lookup("pathFor"),Spacebars.kw({route:"accountSingleSign"}))}},"Выбрать"))})))),"\n",HTML.DIV({class:"welcome-block"}," ","\n",HTML.DIV({class:"pricelist"},HTML.Raw('<h2 class="header">Выгодные цены</h2>'),"\n",HTML.UL({class:"block-grid-4"},Blaze.Each(function(){return Spacebars.call(e.lookup("vcpu"))},function(){return HTML.LI(HTML.DIV({class:"header"},"Ядро"),"\n",HTML.DIV({class:"desc"},"1 VCPU Intel Xeon E5 v3"),"\n",HTML.DIV({class:"price"},HTML.DIV({class:"value"},Blaze.View("lookup:price",function(){return Spacebars.mustache(e.lookup("price"))})),"\n",HTML.DIV({class:"currency"},Blaze.View("lookup:currency",function(){return Spacebars.mustache(e.lookup("currency"))})),"\n",HTML.DIV({class:"period"},"/ час")))}),"\n",Blaze.Each(function(){return Spacebars.call(e.lookup("memory"))},function(){return HTML.LI(HTML.DIV({class:"header"},"Память"),"\n",HTML.DIV({class:"desc"},"1Gb ECC DDR 4"),"\n",HTML.DIV({class:"price"},HTML.DIV({class:"value"},Blaze.View("lookup:price",function(){return Spacebars.mustache(e.lookup("price"))})),"\n",HTML.DIV({class:"currency"},Blaze.View("lookup:currency",function(){return Spacebars.mustache(e.lookup("currency"))})),"\n",HTML.DIV({class:"period"},"/ час")))}),"\n",Blaze.Each(function(){return Spacebars.call(e.lookup("volume"))},function(){return HTML.LI(HTML.DIV({class:"header"},"Диск"),"\n",HTML.DIV({class:"desc"},"1Gb SAS RAID10"),"\n",HTML.DIV({class:"price"},HTML.DIV({class:"value"},Blaze.View("lookup:price",function(){return Spacebars.mustache(e.lookup("price"))})),"\n",HTML.DIV({class:"currency"},Blaze.View("lookup:currency",function(){return Spacebars.mustache(e.lookup("currency"))})),"\n",HTML.DIV({class:"period"},"/ час")))}),"\n",Blaze.Each(function(){return Spacebars.call(e.lookup("ip"))},function(){return HTML.LI(HTML.DIV({class:"header"},"IP"),"\n",HTML.DIV({class:"desc"},"Внешний IP-адрес"),"\n",HTML.DIV({class:"price"},HTML.DIV({class:"value"},Blaze.View("lookup:price",function(){return Spacebars.mustache(e.lookup("price"))})),"\n",HTML.DIV({class:"currency"},Blaze.View("lookup:currency",function(){return Spacebars.mustache(e.lookup("currency"))})),"\n",HTML.DIV({class:"period"},"/ час")))}),"\n","","\n","","\n","","\n","","\n","","\n","","\n","","\n",""))),HTML.Raw('\n<div class="fullwidth"><div class="header"><h2>Создайте инфраструктуру мечты</h2>\n<p>Панель управлени VSCall позволяет с легкостью управлять ресурсами облака</p></div></div>\n<div class="welcome-block"> \n<div class="about"><ul class="block-grid-3"><li><div class="icon"><i class="fa fa-desktop"></i></div>\n<div class="text"><h3>Серверы</h3>\n<p>Высокая производительность на современных Xeon процессорах и памяти DDR4 </p></div></li>\n<li><div class="icon"><i class="fa fa-table"></i></div>\n<div class="text"><h3>Данные</h3>\n<p>Масштабируйте дисковое пространство, управляйте и изменяйте в реальном времени</p></div></li>\n<li><div class="icon"><i class="fa fa-arrows-alt"></i></div>\n<div class="text"><h3>Сети</h3>\n<p>Объединяйте вычислительные ресурсы в сети, подсети, добавляйте порты и роутеры  </p></div></li></ul></div></div>\n<div class="welcome-block"> \n<div class="newpaper"><div class="new"><a class="header">Капибара веселая</a>\n<div class="time">11 мая 2016, 18:34</div>\n<p class="text">Давно выяснено, что при оценке дизайна и композиции читаемый текст мешает сосредоточиться. Lorem Ipsum используют потому, что тот обеспечивает более или менее стандартное заполнение шаблона, а также реальное распределение букв.\n<a class="label">Дальше</a></p></div>\n<div class="new"><a class="header">Запустимся на раз</a>\n<div class="time">11 мая 2016, 18:34</div>\n<div class="text">Пробелов в абзацах, которое не получается при простой дубликации "Здесь ваш текст.. Здесь ваш текст.. Здесь ваш текст.." Многие программы электронной вёрстки и редакторы HTML используют Lorem Ipsum в качестве текста по умолчанию.\n<a class="label">Дальше</a></div></div>\n<div class="new"><a class="header">Добро пожаловать</a>\n<div class="time">11 мая 2016, 18:34</div>\n<div class="text">Есть много вариантов Lorem Ipsum, но большинство из них имеет не всегда приемлемые модификации, например, юмористические вставки или слова, которые даже отдалённо не напоминают латынь.\n<a class="label">Дальше</a></div></div></div></div>'))})},"welcome.coffee.js":["meteor/mrstn",function(e,t,a){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var r=__coffeescriptShare,n;a.import("meteor/mrstn",{App:function(e){n=e}}),Template.welcome.helpers({posts:function(){function e(){return Posts.find({},{transform:function(){function e(e){var t;return t=e.createdAt,e.createdAt=t.toLocaleDateString(),e}return e}()})}return e}(),memory:function(){function e(){return n.PriceList.list({resource:"memory"})}return e}(),vcpu:function(){function e(){return n.PriceList.list({resource:"vcpus"})}return e}(),volume:function(){function e(){return n.PriceList.list({resource:"disk.usage"})}return e}(),ip:function(){function e(){return n.PriceList.list({resource:"ip.floating"})}return e}(),flavors:function(){function e(){return n.Flavors.model.find({},{sort:{ram:1}}).map(function(e){var t,a,r;return r=n.PriceList.get({resource:"vcpus"}),t=n.PriceList.get({resource:"memory"}),a=t.price*(e.ram/1024),e.price=+(e.vcpus*r.price+a).toFixed(3),e})}return e}()})}]}},accounts:{_AccountsLayout:{"template.layoutAccounts.js":function(){Template.__checkName("layoutAccounts"),Template.layoutAccounts=new Template("Template.layoutAccounts",function(){var e=this;return[Spacebars.include(e.lookupTemplate("sAlert")),Spacebars.include(e.lookupTemplate("yield"))]})}},accountSingleSign:{"template.accountSingleSign.js":function(){Template.__checkName("accountSingleSign"),Template.accountSingleSign=new Template("Template.accountSingleSign",function(){var e=this;return HTML.DIV({class:"accounts-wr"},HTML.HEADER(HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),Spacebars.kw({route:"home"}))}},HTML.Raw('<h2><div class="brand">VSCall</div>\n<div class="divider"></div>\n<div class="subheader">Аккаунт</div></h2>'))),"\n",HTML.MAIN(HTML.DIV({class:"accounts-form"},HTML.DIV({class:"current-action"},Blaze.If(function(){return Spacebars.dataMustache(e.lookup("compare"),e.lookup("state"),"is","")},function(){return HTML.H3("Добро пожаловать!")}),"\n",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("compare"),e.lookup("state"),"is","login")},function(){return HTML.H3("Вход")}),"\n",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("compare"),e.lookup("state"),"is","registration")},function(){return HTML.H3("Регистрация")})),"\n",HTML.FORM({id:"singleSign","data-state":function(){return Spacebars.mustache(e.lookup("state"))}},HTML.DIV({class:"inputs"},HTML.Raw('<input type="email" name="email" placeholder="Введите адрес электронной почты">'),"\n",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("compare"),e.lookup("state"),"is","login")},function(){return HTML.DIV({class:"user-found"},HTML.INPUT({type:"password",name:"password",placeholder:"Введите пароль"}))}),"\n",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("compare"),e.lookup("state"),"is","registration")},function(){return HTML.DIV({class:"user-not-found"},HTML.INPUT({type:"password",name:"password",placeholder:"Введите пароль"}),"\n",HTML.INPUT({type:"text",name:"promo",placeholder:"Промо"}))})),"\n",HTML.DIV({class:"button-group"},Blaze.Unless(function(){return Spacebars.dataMustache(e.lookup("compare"),e.lookup("state"),"is","")},function(){return HTML.A({class:["button"," ","info"," ","wide"],type:"reset","data-reset-state":""},"Отмена ")}),"\n",HTML.BUTTON({class:["button"," ","success"," ","wide"],type:"submit"},Blaze.If(function(){return Spacebars.dataMustache(e.lookup("compare"),e.lookup("state"),"is","")},function(){return"Далее"}),"\n",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("compare"),e.lookup("state"),"is","login")},function(){return"Вход"}),"\n",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("compare"),e.lookup("state"),"is","registration")},function(){return"Регистрация"})))),"\n",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("compare"),e.lookup("state"),"is","");
},function(){return HTML.DIV({class:"account-signup-services"},HTML.UL({class:["links"," ","inline"]},HTML.A({id:"loginWithGoogle"},HTML.LI("Google")),"\n",HTML.A({id:"loginWithGithub"},HTML.LI("Github"))))}),"\n",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("compare"),e.lookup("state"),"is","login")},function(){return HTML.DIV({class:"extra-links"},HTML.A({href:"#","data-account-forget":""},"Восстановить"))}))))})},"accountSingleSign.coffee.js":function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,t,a,r,n;a=function(){return Session.set("accountSingleSignState","")},t=function(e){return Accounts.forgotPassword({email:e},function(t){return t?(console.log(t),sAlert.error(t.message)):sAlert.success("Письмо с данными для восстановления отправлено на "+e.toLowerCase())})},r=function(e,t){return Meteor.loginWithPassword(e.toLowerCase(),t,function(e){return e?(console.log(e),sAlert.error("Ошибка входа ("+e.reason+")")):(sAlert.success("Вход выполнен"),Router.go("dashboard"))})},n=function(e,t,a){return Accounts.createUser({email:e.toLowerCase(),passwordOpenStack:t,password:t,ref:a},function(e){return e?(console.log(e),sAlert(e.reason)):Router.go("dashboard")})},Template.accountSingleSign.onRendered(function(){return a()}),Template.accountSingleSign.events({"click #loginWithGoogle":function(){return Meteor.loginWithGoogle()},"click #loginWithGithub":function(){return Meteor.loginWithGithub()},"change input[name='email']":function(){return a()},"click [data-reset-state]":function(e,t){return e.preventDefault(),$('input[name="email"]').val(""),a()},"click [data-account-forget]":function(){var e;return e=$('input[name="email"]').val().toLowerCase(),t(e)},"submit #singleSign":function(e,t){var a,o,s;if(e.preventDefault(),a=e.target.email.value,""===a?sAlert.error("Введите адрес электронной почты"):Meteor.call("userIsExist",a,function(e,t){return e?sAlert.error("Возникла ошибка при проверке"):t?("login"!==Session.get("accountSingleSignState")&&sAlert.success("Пользователь найден"),Session.set("accountSingleSignState","login")):Session.set("accountSingleSignState","registration")}),e.target.password&&a)switch(o=e.target.password.value,Session.get("accountSingleSignState")){case"login":return r(a.toLowerCase(),o);case"registration":return s=e.target.promo.value,n(a.toLowerCase(),o,s)}}}),Template.accountSingleSign.helpers({state:function(){return Session.get("accountSingleSignState")}})}},edit:{"template.accountEdit.js":function(){Template.__checkName("accountEdit"),Template.accountEdit=new Template("Template.accountEdit",function(){var e=this;return HTML.DIV({class:"block"},HTML.Raw('<h1 class="subheader">Редактирование профиля</h1>\n\n\n\n\n'),HTML.FORM({id:"profileUpdate"},HTML.INPUT({id:"name",type:"text",placeholder:"Имя",value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("profile"),"name"))}}),"\n",Blaze.Each(function(){return Spacebars.call(Spacebars.dot(e.lookup("profile"),"emails"))},function(){return HTML.INPUT({type:"text",value:function(){return Spacebars.mustache(e.lookup("address"))},disabled:""})}),"\n",HTML.INPUT({id:"family",type:"text",placeholder:"Фамилия",value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("profile"),"family"))}}),"\n",HTML.INPUT({id:"username",type:"text",placeholder:"username",value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("profile"),"username"))}}),"\n",HTML.INPUT({id:"phone",type:"text",placeholder:"+7 (000) 000-0000",value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("profile"),"phone"))}}),"\n",HTML.Raw('<input type="submit" value="Обновить профиль">')))})},"accountEdit.coffee.js":function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.accountEdit.rendered=function(){return $("#titlePage").text("Профиль: редактирование")},Template.accountEdit.helpers({user:function(){return Meteor.user()},email:function(){return Meteor.user().emails[0].address},profile:function(){return Meteor.user().profile}}),Template.accountEdit.events({"submit #profileUpdate":function(e,t){return e.preventDefault(),Meteor.call("profileUpdate",{name:t.find("#name").value,family:t.find("#family").value,username:t.find("#username").value,phone:t.find("#phone").value,phodfgne:t.find("#phone").value},function(e,t){if(e&&Notice(e),t)return Notice(t)})}})}},novice:{"template.novice.js":function(){Template.__checkName("novice"),Template.novice=new Template("Template.novice",function(){var e=this;return HTML.DIV({class:"block"},HTML.Raw('<div class="block-header"><div class="block-header-left"><h2 class="title">Регистрация</h2>\n<span class="divider"></span>\n<span class="description">Завершение</span></div></div>\n'),HTML.DIV({class:"block-content"},HTML.DIV({class:"novice"},HTML.Raw("<h1>Добро пожаловать!</h1>"),"\n",HTML.Raw('<div class="header"><div class="desc"><p>Мы подготавливаем панель управления</p>\n<p>Для начала работы необходимо выполнить несколько простых действий</p></div></div>'),"\n",HTML.Raw('<ul class="novice-actions"><li class="inactive" id="noviceRegistration"><div class="icon fa fa-star-o"></div>\n\n<div class="text">Регистрация</div></li>\n<li class="divider fa fa-angle-right">       </li>\n<li class="inactive" id="noviceEmail"><div class="icon fa fa-envelope-o"></div>\n<div class="text">Подтвердить почту</div></li>\n<li class="divider fa fa-angle-right"> </li>\n<li class="inactive" id="noviceProject"><div class="icon fa fa-folder-open-o"></div>\n<div class="text">Создать проект</div></li></ul>'),"\n",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("state"),"email")},function(){return[HTML.A({class:["button"," ","success"],id:"resendEmail"},"Отправить еще раз"),Blaze.If(function(){return Spacebars.call(e.lookup("admin"))},function(){return HTML.A({class:"button",id:"verifyAdmin"},"Подтвердить")})]}),"\n",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("state"),"project")},function(){return[HTML.A({class:["button"," ","alert"],href:function(){return Spacebars.mustache(e.lookup("pathFor"),Spacebars.kw({route:"projectCreate"}))}},"Создать первый проект"),HTML.A({class:["button"," ","info"],href:function(){return Spacebars.mustache(e.lookup("pathFor"),Spacebars.kw({route:"home"}))}},"Пропустить")]}))))})},"novice.coffee.js":["meteor/mrstn",function(e,t,a){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var r=__coffeescriptShare,n;a.import("meteor/mrstn",{App:function(e){n=e}});var o,s;Template.novice.created=function(){return this.current=new ReactiveVar,this.states=new ReactiveVar},Template.novice.rendered=function(){return this.current.set("registration"),o()},Template.novice.helpers({state:function(){function e(e){var t;return o(),t=Template.instance().current.get(),t===e}return e}(),admin:function(){function e(){var e;if(o(),e=Meteor.user(),e.role)return"admin"===e.role}return e}()}),Template.novice.events({"click #verifyAdmin":function(){function e(){return Meteor.call("verifyAdmin",function(e,t){return e?sAlert.error(e):sAlert.success("Верифицировано")})}return e}(),"click #resendEmail":function(){function e(){return Meteor.call("sendVerificationEmail",{},function(e,t){if(console.log(e),console.log(t),e&&sAlert.error(e),t)return sAlert.success(t)})}return e}()}),s=function e(){return!!Meteor.userId()},o=function e(){var t,a,r;if(r=Meteor.user(),a=[{name:"registration",marker:"#noviceRegistration",complete:s()},{name:"email",marker:"#noviceEmail",complete:r.profile.verified},{name:"project",marker:"#noviceProject",complete:!n.Projects.blank()}],a.forEach(function(e,t,a){if(e.complete&&($(e.marker).removeClass("inactive"),$(e.marker).removeClass("pulse"),$(e.marker).addClass("success")),a[t-1]&&a[t-1].complete===!0&&e.complete===!1)return $(e.marker).removeClass("inactive"),$(e.marker).addClass("pulse"),Template.instance().current.set(e.name)}),t=a.find(function(e){return e.complete!==!0&&e}),void 0===t)return Router.go("dashboard")}}]},profile:{"template.profile.js":function(){Template.__checkName("profile"),Template.profile=new Template("Template.profile",function(){var e=this;return HTML.DIV({class:"block"},HTML.Raw('<div class="block-header"><div class="block-header-left"><h2 class="title">Профиль</h2>\n<span class="divider"></span>\n<span class="description">Обзор</span></div>\n<div class="block-header-right"></div></div>\n'),HTML.DIV({class:"block-content"},HTML.UL(HTML.LI("id пользователя: ",Blaze.View("lookup:user.id",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("user"),"id"))})),"\n",HTML.LI("emails:","\n",Blaze.Each(function(){return Spacebars.call(Spacebars.dot(e.lookup("user"),"emails"))},function(){return[Blaze.View("lookup:address",function(){return Spacebars.mustache(e.lookup("address"))}),"; "]})))))})},"profile.coffee.js":function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.profile.rendered=function(){return $("#titlePage").text("Профиль")},Template.profile.helpers({header:function(){return Meteor.user().emails[0].address},email:function(){return Meteor.user().emails[0].address},project:function(){return Meteor.user().profile.default_project_id},profile:function(){return Meteor.user().profile},jsonUser:function(){return JSON.stringify(Meteor.user(),void 0,2)},user:function(){return Meteor.user()}})}},verification:{"template.verification.js":function(){Template.__checkName("accountVerification"),Template.accountVerification=new Template("Template.accountVerification",function(){var e=this;return HTML.DIV({class:"verification"},HTML.Raw('<h1 class="header brand">Добро пожаловать!</h1>\n<p class="info">Для начала работы, подтвердите Ваш EMail. </p>\n'),HTML.UL({class:"variants"},HTML.Raw("<li>Перейдите по ссылке из письма </li>"),"\n",HTML.Raw('<li class="divider">or</li>'),"\n",HTML.LI("Вставьте идентификатор","\n",Blaze.Unless(function(){return Spacebars.call(e.lookup("unverified"))},function(){return HTML.FORM({id:"verifyUser"},HTML.INPUT({type:"text",placeholder:"Код подтверждения"}),"\n",HTML.INPUT({type:"submit",value:"Подтвердить"}))}))))})},"verification.coffee.js":function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.accountVerification.helpers({unverified:function(){return Meteor.user().profile.verified}})}}},common:{loading:{"template.loading.js":function(){Template.__checkName("loading"),Template.loading=new Template("Template.loading",function(){var e=this;return HTML.Raw('<div class="loading-layout-bg"><div class="loading-layout"><h1>Загрузка</h1></div></div>')})}},localTime:{"template.localTime.js":function(){Template.__checkName("localTime"),Template.localTime=new Template("Template.localTime",function(){var e=this;return Blaze.View("lookup:localTime",function(){return Spacebars.mustache(e.lookup("localTime"))})})},"localTime.coffee.js":function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.localTime.helpers({localTime:function(){var e;return e=this.date,e=new Date(e),e.toLocaleString()}})}},modal:{"template.modal.js":function(){Template.__checkName("modal"),Template.modal=new Template("Template.modal",function(){var e=this;return Blaze.If(function(){return Spacebars.call(e.lookup("activeModal"))},function(){return[HTML.DIV({class:"modal-bg"}),HTML.DIV({class:"modal-wr","data-modal-name":function(){return Spacebars.mustache(e.lookup("activeModal"))},"data-modal-close":function(){return Spacebars.mustache(e.lookup("activeModal"))}},HTML.DIV({class:"modal-body"},HTML.DIV({class:"modal"},HTML.DIV({class:"modal-header"},HTML.A({class:["fa"," ","fa-times"],id:"closeModal","data-modal-close":function(){return Spacebars.mustache(e.lookup("activeModal"))}}),"\n",Blaze._TemplateWith(function(){return{template:Spacebars.call(e.lookup("activeModal"))}},function(){return Spacebars.include(function(){return Spacebars.call(Template.__dynamic)})})))))]})})},"modal.coffee.js":function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.modal.helpers({activeModal:function(){return Session.get("activeModal")?$("body").addClass("modal-open"):$("body").removeClass("modal-open"),Session.get("activeModal")}}),Template.modal.rendered=function(){}}},pic:{"template.imagePic.js":function(){Template.__checkName("imagePic"),Template.imagePic=new Template("Template.imagePic",function(){var e=this;return HTML.IMG({src:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("image"),"url"))}})})},"imagePic.coffee.js":["meteor/mrstn",function(e,t,a){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var r=__coffeescriptShare,n;a.import("meteor/mrstn",{App:function(e){n=e}}),Template.imagePic.helpers({image:function(){function e(){return n.Pictures.model.findOne({_id:this.tags[0]})}return e}()})}]},resources:{"template.flavorInline.js":function(){Template.__checkName("flavorInline"),Template.flavorInline=new Template("Template.flavorInline",function(){var e=this;return Spacebars.With(function(){return Spacebars.call(e.lookup("flavor"))},function(){return HTML.SPAN({class:["flavorInline"," ","name"]},Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))}))})})},"template.imageInline.js":function(){Template.__checkName("imageInline"),Template.imageInline=new Template("Template.imageInline",function(){var e=this;return Spacebars.With(function(){return Spacebars.call(e.lookup("image"))},function(){return[HTML.SPAN({class:["imageInline"," ","name"]},Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))})),null,null]})})},"template.projectInline.js":function(){Template.__checkName("projectInline"),Template.projectInline=new Template("Template.projectInline",function(){var e=this;return Spacebars.With(function(){return Spacebars.call(e.lookup("project"))},function(){return HTML.SPAN({class:["projectInline"," ","name"]},Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))}))})})},"template.volumeInline.js":function(){Template.__checkName("volumeInline"),Template.volumeInline=new Template("Template.volumeInline",function(){var e=this;return Spacebars.With(function(){return Spacebars.call(e.lookup("volume"))},function(){return Blaze.If(function(){return Spacebars.call(e.lookup("name"))},function(){return HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),Spacebars.kw({route:"volumeShow"}))}},Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))}))},function(){return HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),Spacebars.kw({route:"volumeShow"}))}},Blaze.View("lookup:_id",function(){return Spacebars.mustache(e.lookup("_id"))}))})})})},"template.volumesInline.js":function(){Template.__checkName("volumesInline"),Template.volumesInline=new Template("Template.volumesInline",function(){var e=this;return Blaze.If(function(){return Spacebars.call(e.lookup("count"))},function(){return HTML.SPAN({class:["volumesInline"," ","volumes-count"]},Blaze.View("lookup:count",function(){return Spacebars.mustache(e.lookup("count"))}))},function(){return HTML.SPAN({class:"volumesInline"},"Нет")})})},"flavorInline.coffee.js":["meteor/mrstn",function(e,t,a){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var r=__coffeescriptShare,n;a.import("meteor/mrstn",{App:function(e){n=e}}),Template.flavorInline.helpers({flavor:function(){function e(){return n.Flavors.get({_id:this.id})||n.Flavors.get({id:this.id})}return e}()})}],"imageInline.coffee.js":["meteor/mrstn",function(e,t,a){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var r=__coffeescriptShare,n;a.import("meteor/mrstn",{App:function(e){n=e}}),Template.imageInline.helpers({pic:function(){function e(){return null}return e}(),image:function(){function e(){return n.Images.get({_id:this.id})||n.Images.get({id:this.id})}return e}()})}],"projectInline.coffee.js":["meteor/mrstn",function(e,t,a){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var r=__coffeescriptShare,n;a.import("meteor/mrstn",{App:function(e){n=e}}),Template.projectInline.helpers({project:function(){function e(){var e;return e=this,n.Projects.model.findOne({$or:[{_id:e.project},{id:e.project}]})}return e}()})}],"volumeInline.coffee.js":["meteor/mrstn",function(e,t,a){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var r=__coffeescriptShare,n;a.import("meteor/mrstn",{App:function(e){n=e}}),Template.volumeInline.helpers({volume:function(){function e(){return n.Volumes.findOne({id:this.id})}return e}()})}],"volumesInline.coffee.js":["meteor/mrstn",function(e,t,a){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var r=__coffeescriptShare,n;a.import("meteor/mrstn",{App:function(e){n=e}}),Template.volumesInline.helpers({count:function(){function e(){return this["os-extended-volumes:volumes_attached"].length}return e}()})}]},status:{"template.status.js":function(){Template.__checkName("status"),Template.status=new Template("Template.status",function(){var e=this;return HTML.SPAN({class:"status"},Blaze.If(function(){return Spacebars.dataMustache(e.lookup("compare"),e.lookup("status"),"is","ACTIVE")},function(){return HTML.SPAN({class:"success"},"Активен")}),"\n",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("compare"),e.lookup("status"),"is","SHUTOFF")},function(){return HTML.SPAN({class:"error"},"Отключен")}),"\n",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("compare"),e.lookup("status"),"is","BUILD")},function(){return HTML.SPAN({class:"warning"},"Создание")}),"\n",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("compare"),e.lookup("status"),"is","BUILDING")},function(){return HTML.SPAN({class:"warning"},"Создание")}),"\n",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("compare"),e.lookup("status"),"is","DELETED")},function(){return HTML.SPAN({class:"error"},"Удален")}),"\n",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("compare"),e.lookup("status"),"is","ERROR")},function(){return HTML.SPAN({class:"error"},"Ошибка")}),"\n",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("compare"),e.lookup("status"),"is","HARD_REBOOT")},function(){return HTML.SPAN({class:"warning"},"Перезагрузка (hard)")}),"\n",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("compare"),e.lookup("status"),"is","MIGRATING")},function(){return HTML.SPAN({class:"warning"},"Миграция")}),"\n",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("compare"),e.lookup("status"),"is","PAUSED")},function(){return HTML.SPAN({class:"warning"},"Пауза")}),"\n",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("compare"),e.lookup("status"),"is","REBOOT")},function(){return HTML.SPAN({class:"warning"},"Перезагрузка")}),"\n",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("compare"),e.lookup("status"),"is","REBUILD")},function(){return HTML.SPAN({class:"warning"},"Перепостроение")}),"\n",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("compare"),e.lookup("status"),"is","RESCUED")},function(){return HTML.SPAN({class:"warning"},"RESCUED")}),"\n",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("compare"),e.lookup("status"),"is","RESIZE")},function(){return HTML.SPAN({class:"warning"},"Изменение размера      ")}),"\n",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("compare"),e.lookup("status"),"is","RESIZED")},function(){return HTML.SPAN({class:"warning"},"RESIZED")}),"\n",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("compare"),e.lookup("status"),"is","REVERT_RESIZE")},function(){return HTML.SPAN({class:"error"},"REVERT_RESIZE")}),"\n",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("compare"),e.lookup("status"),"is","SOFT_DELETED")},function(){return HTML.SPAN({class:"warning"},"SOFT_DELETED")}),"\n",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("compare"),e.lookup("status"),"is","STOPPED")},function(){return HTML.SPAN({class:"warning"},"Остановлен")}),"\n",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("compare"),e.lookup("status"),"is","SUSPENDED")},function(){return HTML.SPAN({class:"error"},"Приостановлено")}),"\n",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("compare"),e.lookup("status"),"is","UNKNOWN")},function(){return HTML.SPAN({class:"error"},"Неизвестно")}),"\n",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("compare"),e.lookup("status"),"is","VERIFY_RESIZE")},function(){return HTML.SPAN({class:"error"},"Подтвердить")}),"\n",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("compare"),e.lookup("status"),"is","PASSWORD")},function(){return HTML.SPAN({class:"error"},"PASSWORD")}),"\n",[" ",Blaze.View("lookup:task",function(){return Spacebars.mustache(e.lookup("task"))})])})},"status.coffee.js":function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare}},"template.notFound.js":function(){Template.__checkName("notFound"),Template.notFound=new Template("Template.notFound",function(){var e=this;return HTML.Raw('<div class="block"><div class="block-content"><h1>Страница не найдена. 404. К сожалению.</h1>\n<p>Кажется, вы попали не туда. Как так?</p></div></div>')})},"template.spinner.js":function(){Template.__checkName("spinner"),Template.spinner=new Template("Template.spinner",function(){var e=this;return HTML.DIV({class:"spinner"},HTML.SVG({viewbox:"0 0 800 600"},HTML.SYMBOL({id:"s-text"},HTML.TEXT({class:"text--line","text-anchor":"middle",x:"50%",y:"95%"},"∞")),"\n",HTML.G({class:"g-ants"},HTML.USE({class:"text-copy","xlink:href":"#s-text"}),"\n",HTML.USE({class:"text-copy","xlink:href":"#s-text"}),"\n",HTML.USE({class:"text-copy","xlink:href":"#s-text"}),"\n",HTML.USE({class:"text-copy","xlink:href":"#s-text"}),"\n",HTML.USE({class:"text-copy","xlink:href":"#s-text"}))))})},"template.main.js":function(){Template.body.addContent(function(){var e=this;return Spacebars.include(e.lookupTemplate("sAlert"))}),Meteor.startup(Template.body.renderToDocument)}},finances:{overview:{"template.financesOverview.js":function(){Template.__checkName("financesOverview"),Template.financesOverview=new Template("Template.financesOverview",function(){var e=this;return HTML.LI({class:["tab"," ","block"],id:"active","data-tab":"financesOverview","data-tab-stage":function(){return Spacebars.mustache(e.lookup("stage"))}},HTML.DIV({class:"block-header"},HTML.Raw('<div class="block-header-left"><h2 class="title">Финансы</h2>\n<span class="divider"></span>\n<span class="description">Обзор</span></div>'),"\n",HTML.DIV({class:"block-header-right"},HTML.A({class:["button"," ","success"],href:function(){return Spacebars.mustache(e.lookup("pathFor"),Spacebars.kw({route:"keypairAdd"}))}},"Внести средства"))),"\n",HTML.DIV({class:"block-content"},HTML.Raw("<h3>Внесение средств</h3>"),"\n","","\n","","\n",HTML.Raw('<form class="inline" id="createDeposit"><input type="number" placeholder="Введите сумму к зачислению, руб." name="price" min="1" max="15000" step="1">\n<input type="submit" value="Добавить"></form>'),"\n",HTML.Raw("<h3>Внесенные платежи</h3>"),"\n",Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("App"),"Deposits","blank"))},function(){return HTML.SMALL({class:"info"},"Платежи не вносились")},function(){return HTML.TABLE(HTML.TR(HTML.TH(),"\n",HTML.TH("Сумма"),"\n",HTML.TH("Дата"),"\n",HTML.TH()),"\n",Blaze.Each(function(){return Spacebars.call(Spacebars.dot(e.lookup("App"),"Deposits","list"))},function(){return[HTML.TR(HTML.TD(Blaze.Unless(function(){return Spacebars.call(e.lookup("executed"))},function(){return HTML.FORM({action:"https://demomoney.yandex.ru/eshop.xml",method:"post"},HTML.INPUT({name:"shopId",value:"59020",type:"hidden"}),"\n",HTML.INPUT({name:"scid",value:"536257",type:"hidden"}),"\n",HTML.INPUT({name:"sum",value:function(){return Spacebars.mustache(e.lookup("price"))},type:"hidden"}),"\n",HTML.INPUT({name:"customerNumber",value:function(){return Spacebars.mustache(e.lookup("userId"))},type:"hidden"}),"\n",HTML.INPUT({name:"paymentType",value:"AC",type:"hidden"}),"\n",HTML.INPUT({name:"orderNumber",value:function(){return Spacebars.mustache(e.lookup("_id"))},type:"hidden"}),"\n",null,"\n",HTML.INPUT({name:"cps_email",value:function(){return Spacebars.mustache(e.lookup("email"))},type:"hidden"}),"\n",HTML.INPUT({class:"success",type:"submit",value:"Оплатить"}))})),"\n",HTML.TD(Blaze.View("lookup:price",function(){return Spacebars.mustache(e.lookup("price"))})," руб."),"\n",HTML.TD(Blaze._TemplateWith(function(){return{date:Spacebars.call(e.lookup("createdAt"))}},function(){return Spacebars.include(e.lookupTemplate("localTime"))})),"\n",HTML.TD(HTML.A({id:"removeDeposit",href:"#","data-deposit":function(){return Spacebars.mustache(e.lookup("_id"))}},"Отменить"))),null]}))}),"\n",HTML.Raw("<h3>История счета</h3>"),"\n",Blaze.Unless(function(){return Spacebars.call(e.lookup("payments"))},function(){return HTML.SMALL({class:"info"},"Истории платежей не найдено")},function(){return HTML.TABLE(HTML.TR(HTML.TH("Дата"),"\n",HTML.TH("Период"),"\n",HTML.TH("Проекты"),"\n",HTML.TH("Использовано"),"\n",HTML.TH("Сумма"),"\n",HTML.TH("Статус")),"\n",Blaze.Each(function(){return Spacebars.call(e.lookup("payments"))},function(){return HTML.TR(HTML.TD(Blaze._TemplateWith(function(){return{date:Spacebars.call(e.lookup("timestamp"))}},function(){return Spacebars.include(e.lookupTemplate("localTime"))})),"\n",HTML.TD(Blaze._TemplateWith(function(){return{date:Spacebars.call(e.lookup("period_end"))}},function(){return Spacebars.include(e.lookupTemplate("localTime"))}),"\n",HTML.BR(),"\n",Blaze._TemplateWith(function(){return{date:Spacebars.call(e.lookup("period_start"))}},function(){return Spacebars.include(e.lookupTemplate("localTime"))})),"\n",HTML.TD(Blaze.Each(function(){return{_sequence:Spacebars.call(e.lookup("projects")),_variable:"project"}},function(){return[Blaze._TemplateWith(function(){return{project:Spacebars.call(e.lookup("project"))}},function(){return Spacebars.include(e.lookupTemplate("projectInline"))}),HTML.BR()]})),"\n",HTML.TD(HTML.DIV({class:"finances-resource-usage"},Blaze.Each(function(){return Spacebars.call(e.lookup("resources"))},function(){return HTML.DIV({class:"usage-item"},Blaze.If(function(){return Spacebars.dataMustache(e.lookup("compare"),e.lookup("resource"),"is","vcpus")},function(){return HTML.DIV({class:"metric"},"VCPUs:")}),"\n",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("compare"),e.lookup("resource"),"is","memory")},function(){return HTML.DIV({class:"metric"},"Память, Гб:")}),"\n",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("compare"),e.lookup("resource"),"is","disk.usage")},function(){return HTML.DIV({class:"metric"},"Диск, Гб:")}),"\n",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("compare"),e.lookup("resource"),"is","ip.floating")},function(){return HTML.DIV({class:"metric"},"IP-адреса:")}),"\n",HTML.DIV({class:"value"}," ",Blaze.View("lookup:usage",function(){return Spacebars.mustache(e.lookup("usage"))})))}))),"\n",HTML.TD(Blaze.View("lookup:total_price",function(){return Spacebars.mustache(e.lookup("total_price"))})),"\n",HTML.TD(Blaze.If(function(){return Spacebars.dataMustache(e.lookup("compare"),e.lookup("state"),"is","executed")},function(){return HTML.SPAN("Исполнен")}),"\n",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("compare"),e.lookup("state"),"is","new")},function(){return HTML.SPAN("Новый")})))}))})))})},"financesOveriview.coffee.js":["meteor/mrstn",function(e,t,a){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var r=__coffeescriptShare,n;a.import("meteor/mrstn",{App:function(e){n=e}}),Template.financesOverview.helpers({userId:function(){function e(){return Meteor.userId()}return e}(),email:function(){function e(){return Meteor.user().emails[0].address}return e}(),deposits:function(){function e(){return n.Deposits.model.find()}return e}(),payments:function(){function e(){return n.Payments.model.find({},{sort:{period_start:-1}}).map(function(e){return e.total_price=e.sum.toFixed(3),e.resources.map(function(e){return"disk.usage"===e.resource&&(e.usage=Math.round(e.usage)),e}),e})}return e}(),total:function(){function e(){var e;return e=Payments.find().fetch(),_.reduce(e,function(e,t){return t.sum?e+t.sum:e},0)}return e}()}),Template.financesOverview.events({"click #removeDeposit":function(){function e(e,t){var a,r;return r=$(e.target),a=r.data("deposit"),Deposits.remove({_id:a})}return e}(),"submit #createDeposit":function(){function e(e,t){var a;return e.preventDefault(),a=$(e.target.price).val(),console.log(a),Deposits.insert({price:a})}return e}()})}]},payment:{"template.payment.js":function(){Template.__checkName("payment"),Template.payment=new Template("Template.payment",function(){var e=this;return HTML.Raw('<h1>Оплата</h1><form action="https://demomoney.yandex.ru/eshop.xml" method="post"><input name="shopId" value="59020" type="hidden">\n<input name="scid" value="536257" type="hidden">\n<input name="sum" value="100.50" type="number" step="1">\n<input name="customerNumber" value="abc000" type="hidden">\n<input name="paymentType" value="AC" type="hidden">\n<input name="orderNumber" value="abc1111111" type="hidden">\n<input name="cps_phone" value="79110000000" type="hidden">\n<input name="cps_email" value="user@domain.com" type="hidden">\n<input type="submit" value="Заплатить"></form>')})},"template.paymentTab.js":function(){Template.__checkName("paymentTab"),Template.paymentTab=new Template("Template.paymentTab",function(){var e=this;return HTML.LI({class:["tab"," ","block"],"data-tab":"paymentTab","data-tab-stage":function(){return Spacebars.mustache(e.lookup("stage"))}},HTML.DIV({class:"col-12"},Spacebars.include(e.lookupTemplate("payment"))))})},"payment.coffee.js":function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.payment.rendered=function(){return $("#titlePage").text("Финансы: платеж")}}},"template.finances.js":function(){Template.__checkName("finances"),Template.finances=new Template("Template.finances",function(){var e=this;return[HTML.DIV({class:"resource"},"","\n","","\n","","\n","","\n","","\n",HTML.UL({class:"tabs","data-tab-container":""},Blaze._TemplateWith(function(){return{stage:Spacebars.call(1)}},function(){return Spacebars.include(e.lookupTemplate("financesOverview"))}),"\n",""))]})},"finances.coffee.js":function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Template.finances.rendered=function(){return $("#titlePage").text("Финансы")}}},"sAlert.coffee.js":function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare;Meteor.startup(function(){return sAlert.config({effect:"stackslide",position:"bottom-right",timeout:5e3,html:!1,onRouteClose:!0,stack:!0,offset:0,beep:!1,onClose:_.noop})})}},"cluster.coffee.js":function(){__coffeescriptShare="object"==typeof __coffeescriptShare?__coffeescriptShare:{};var e=__coffeescriptShare,t,a;t={selfWeight:1},Cluster.connect("mongodb://localhost:3001",t),a={endpoint:"http://localhost:3000",balancer:"http://localhost:3000",uiService:"web"},Cluster.register("web",a),Cluster.allowPublicAccess(["web","server"]),Cluster.discoverConnection("web")}},{extensions:[".js",".json",".html",".jade",".coffee",".scss",".sass"]});require("./client/_to_refactory/emails/templates/list/template.administrativeEmailTemplates.js"),require("./client/_to_refactory/emails/templates/show/template.administrativeEmailTemplateShow.js"),
require("./client/dashboard/servers/actions/addFixedIp/template.addFixedIp.js"),require("./client/dashboard/servers/actions/addFloatingIp/template.addFloatingIp.js"),require("./client/dashboard/servers/actions/console/template.serverConsole.js"),require("./client/dashboard/servers/actions/power/template.serverPower.js"),require("./client/dashboard/servers/actions/resize/template.serverResize.js"),require("./client/dashboard/servers/actions/resize/template.serverResizeVerify.js"),require("./client/dashboard/volumes/actions/volumeAttach/template.volumeAttach.js"),require("./client/dashboard/volumes/actions/volumeBackupCreate/template.create.js"),require("./client/dashboard/volumes/actions/volumeDetach/template.volumeDetach.js"),require("./client/dashboard/volumes/actions/volumeDetachForce/template.volumeDetachForce.js"),require("./client/dashboard/volumes/actions/volumeResize/template.volumeResize.js"),require("./client/_to_refactory/blog/create/template.postCreate.js"),require("./client/_to_refactory/blog/edit/template.postEdit.js"),require("./client/_to_refactory/blog/list/template.blog.js"),require("./client/_to_refactory/blog/preview/template.postPreview.js"),require("./client/_to_refactory/blog/show/template.postShow.js"),require("./client/_to_refactory/emails/overview/template.administrativeEmails.js"),require("./client/_to_refactory/emails/send/template.administrativeEmailSend.js"),require("./client/administrative/resources/flavors/template.administrativeFlavors.js"),require("./client/administrative/resources/images/template.administrativeImages.js"),require("./client/administrative/resources/roles/template.administrativeRoles.js"),require("./client/dashboard/_DashboardLayout/header/template.headerDashboard.js"),require("./client/dashboard/_DashboardLayout/layout/template.layoutDashboard.js"),require("./client/dashboard/_DashboardLayout/sidebar/template.dashboardSidebar.js"),require("./client/dashboard/_DashboardLayout/wrapper/template.dashboardWr.js"),require("./client/dashboard/floatingips/create/template.floatingipCreate.js"),require("./client/dashboard/floatingips/list/template.floatingipsList.js"),require("./client/dashboard/keypairs/add/template.keypairsAdd.js"),require("./client/dashboard/keypairs/list/template.keypairsList.js"),require("./client/dashboard/keypairs/list/template.keypairsNotExist.js"),require("./client/dashboard/keypairs/show/template.keypairsShow.js"),require("./client/dashboard/networks/create/template.networksCreate.js"),require("./client/dashboard/networks/list/template.networksList.js"),require("./client/dashboard/networks/topology/template.networksTopology.js"),require("./client/dashboard/ports/list/template.portsList.js"),require("./client/dashboard/projects/create/template.projectCreate.js"),require("./client/dashboard/projects/list/template.projectsList.js"),require("./client/dashboard/projects/no/template.projectsNotExist.js"),require("./client/dashboard/projects/overview/template.projectsOverview.js"),require("./client/dashboard/projects/show/template.projectShow.js"),require("./client/dashboard/routers/create/template.routerCreate.js"),require("./client/dashboard/routers/list/template.routersList.js"),require("./client/dashboard/routers/show/template.routerShow.js"),require("./client/dashboard/routers/show/template.routerStateInline.js"),require("./client/dashboard/servers/create/template.serverCreate.js"),require("./client/dashboard/servers/create/template.serverCreateEnd.js"),require("./client/dashboard/servers/create/template.serverCreateFlavor.js"),require("./client/dashboard/servers/create/template.serverCreateImage.js"),require("./client/dashboard/servers/create/template.serverCreateNetwork.js"),require("./client/dashboard/servers/list/template.serverListSubNav.js"),require("./client/dashboard/servers/list/template.serversList.js"),require("./client/dashboard/servers/no/template.serversListViewNoServers.js"),require("./client/dashboard/servers/show/template.serverShow.js"),require("./client/dashboard/servers/show/template.serverShowControl.js"),require("./client/dashboard/servers/show/template.serverShowEvents.js"),require("./client/dashboard/servers/show/template.serverShowEventsRequest.js"),require("./client/dashboard/servers/show/template.serverShowOverview.js"),require("./client/dashboard/servers/show/template.serverShowStateInline.js"),require("./client/dashboard/servers/show/template.serverShowUsage.js"),require("./client/dashboard/subnets/create/template.subnetCreate.js"),require("./client/dashboard/subnets/edit/template.subnetEdit.js"),require("./client/dashboard/subnets/list/template.subnetsList.js"),require("./client/dashboard/volumes/create/template.volumeCreate.js"),require("./client/dashboard/volumes/edit/template.volumeEdit.js"),require("./client/dashboard/volumes/list/template.volumesList.js"),require("./client/dashboard/volumes/list/template.volumesListBlank.js"),require("./client/dashboard/volumes/show/template.volumeShow.js"),require("./client/dashboard/volumes/show/template.volumeShowState.js"),require("./client/public/_PublicLayout/footer/template.footer.js"),require("./client/public/_PublicLayout/header/template.header.js"),require("./client/public/_PublicLayout/layout/template.layout.js"),require("./client/_to_refactory/emails/template.administrativeEmailsOverview.js"),require("./client/_to_refactory/marketing/template.marketing.js"),require("./client/_to_refactory/marketing/template.suggestionForm.js"),require("./client/accounts/_AccountsLayout/template.layoutAccounts.js"),require("./client/accounts/accountSingleSign/template.accountSingleSign.js"),require("./client/accounts/edit/template.accountEdit.js"),require("./client/accounts/novice/template.novice.js"),require("./client/accounts/profile/template.profile.js"),require("./client/accounts/verification/template.verification.js"),require("./client/administrative/gallery/template.gallery.js"),require("./client/administrative/jobsQueue/template.administrativeJobsQueue.js"),require("./client/administrative/testing/template.administrativeTesting.js"),require("./client/common/loading/template.loading.js"),require("./client/common/localTime/template.localTime.js"),require("./client/common/modal/template.modal.js"),require("./client/common/pic/template.imagePic.js"),require("./client/common/resources/template.flavorInline.js"),require("./client/common/resources/template.imageInline.js"),require("./client/common/resources/template.projectInline.js"),require("./client/common/resources/template.volumeInline.js"),require("./client/common/resources/template.volumesInline.js"),require("./client/common/status/template.status.js"),require("./client/dashboard/backups/template.backupsList.js"),require("./client/dashboard/backups/template.backupsListBlank.js"),require("./client/dashboard/dashboard/template.dashboard.js"),require("./client/dashboard/dashboard/template.dashboardWelcome.js"),require("./client/dashboard/events/template.eventItem.js"),require("./client/dashboard/events/template.events.js"),require("./client/dashboard/loader/template.dashboard-loader.js"),require("./client/dashboard/topology/template.networksOverview.js"),require("./client/finances/overview/template.financesOverview.js"),require("./client/finances/payment/template.payment.js"),require("./client/finances/payment/template.paymentTab.js"),require("./client/public/welcome/template.welcome.js"),require("./client/administrative/template.administrative.js"),require("./client/administrative/template.administrativeReview.js"),require("./client/common/template.notFound.js"),require("./client/common/template.spinner.js"),require("./client/finances/template.finances.js"),require("./client/common/template.main.js"),require("./client/_to_refactory/emails/templates/list/administrativeEmailTemplates.coffee.js"),require("./client/_to_refactory/emails/templates/show/administrativeEmailTemplateShow.coffee.js"),require("./client/dashboard/servers/actions/addFixedIp/addFixedIp.coffee.js"),require("./client/dashboard/servers/actions/addFloatingIp/addFloatingIp.coffee.js"),require("./client/dashboard/servers/actions/changePassword/changePassword.coffee.js"),require("./client/dashboard/servers/actions/console/serverConsole.coffee.js"),require("./client/dashboard/servers/actions/power/serverPower.coffee.js"),require("./client/dashboard/servers/actions/resize/serverResize.coffee.js"),require("./client/dashboard/servers/actions/resize/serverResizeVerify.coffee.js"),require("./client/dashboard/volumes/actions/volumeAttach/volumeAttach.coffee.js"),require("./client/dashboard/volumes/actions/volumeBackupCreate/create.coffee.js"),require("./client/dashboard/volumes/actions/volumeDetach/volumeDetach.coffee.js"),require("./client/dashboard/volumes/actions/volumeDetachForce/volumeDetachForce.coffee.js"),require("./client/dashboard/volumes/actions/volumeUnmanage/volumeUnmanage.coffee.js"),require("./client/_to_refactory/blog/edit/postEdit.coffee.js"),require("./client/_to_refactory/blog/list/blog.coffee.js"),require("./client/_to_refactory/blog/preview/postPreview.coffee.js"),require("./client/_to_refactory/blog/show/postShow.coffee.js"),require("./client/administrative/resources/flavors/administrativeFlavors.coffee.js"),require("./client/administrative/resources/images/administrativeImages.coffee.js"),require("./client/dashboard/_DashboardLayout/header/dashboardHeader.coffee.js"),require("./client/dashboard/_DashboardLayout/layout/layoutDashboard.coffee.js"),require("./client/dashboard/_DashboardLayout/sidebar/dashboardSidebar.coffee.js"),require("./client/dashboard/_DashboardLayout/wrapper/dashboardWr.coffee.js"),require("./client/dashboard/floatingips/list/floatingipsList.coffee.js"),require("./client/dashboard/keypairs/list/keypairsList.coffee.js"),require("./client/dashboard/networks/edit/networkEdit.coffee.js"),require("./client/dashboard/networks/list/networksList.coffee.js"),require("./client/dashboard/ports/create/portCreate.coffee.js"),require("./client/dashboard/projects/list/projectsList.coffee.js"),require("./client/dashboard/projects/overview/projectsOverview.coffee.js"),require("./client/dashboard/projects/show/projectShow.coffee.js"),require("./client/dashboard/routers/list/routersList.coffee.js"),require("./client/dashboard/routers/show/routerShow.coffee.js"),require("./client/dashboard/servers/create/serverCreate.coffee.js"),require("./client/dashboard/servers/create/serverCreateEnd.coffee.js"),require("./client/dashboard/servers/create/serverCreateFlavor.coffee.js"),require("./client/dashboard/servers/create/serverCreateImage.coffee.js"),require("./client/dashboard/servers/create/serverCreateNetwork.coffee.js"),require("./client/dashboard/servers/list/serversList.coffee.js"),require("./client/dashboard/servers/show/serverShowControl.coffee.js"),require("./client/dashboard/servers/show/serverShowEvents.coffee.js"),require("./client/dashboard/servers/show/serverShowOverview.coffee.js"),require("./client/dashboard/servers/show/serverShowUsage.coffee.js"),require("./client/dashboard/subnets/create/subnetCreate.coffee.js"),require("./client/dashboard/subnets/list/subnetsList.coffee.js"),require("./client/dashboard/volumes/list/volumesList.coffee.js"),require("./client/dashboard/volumes/show/volumeShow.coffee.js"),require("./client/dashboard/volumes/show/volumeShowState.coffee.js"),require("./client/_to_refactory/marketing/marketing.coffee.js"),require("./client/_to_refactory/marketing/suggestionForm.coffee.js"),require("./client/accounts/accountSingleSign/accountSingleSign.coffee.js"),require("./client/accounts/edit/accountEdit.coffee.js"),require("./client/accounts/novice/novice.coffee.js"),require("./client/accounts/profile/profile.coffee.js"),require("./client/accounts/verification/verification.coffee.js"),require("./client/administrative/gallery/gallery.coffee.js"),require("./client/administrative/jobsQueue/administrativeJobsQueue.coffee.js"),require("./client/administrative/testing/administrativeTesting.coffee.js"),require("./client/common/localTime/localTime.coffee.js"),require("./client/common/modal/modal.coffee.js"),require("./client/common/pic/imagePic.coffee.js"),require("./client/common/resources/flavorInline.coffee.js"),require("./client/common/resources/imageInline.coffee.js"),require("./client/common/resources/projectInline.coffee.js"),require("./client/common/resources/volumeInline.coffee.js"),require("./client/common/resources/volumesInline.coffee.js"),require("./client/common/status/status.coffee.js"),require("./client/dashboard/_DashboardLayout/dashboard.coffee.js"),require("./client/dashboard/backups/backupsList.coffee.js"),require("./client/dashboard/dashboard/dashboard.coffee.js"),require("./client/dashboard/dashboard/dashboardWelcome.coffee.js"),require("./client/dashboard/events/eventItem.coffee.js"),require("./client/dashboard/events/events.coffee.js"),require("./client/dashboard/loader/dashboard-loader.coffee.js"),require("./client/dashboard/topology/networkOverview.coffee.js"),require("./client/finances/overview/financesOveriview.coffee.js"),require("./client/finances/payment/payment.coffee.js"),require("./client/public/welcome/welcome.coffee.js"),require("./client/administrative/administrative.coffee.js"),require("./client/finances/finances.coffee.js"),require("./client/sAlert.coffee.js"),require("./cluster.coffee.js");

!function(){var e=Package.meteor.Meteor,r=Package.meteor.global,a=Package.meteor.meteorEnv,t=Package.check.check,n=Package.check.Match,i=Package.modules.meteorInstall,o=Package.modules.Buffer,c=Package.modules.process,l=Package["ecmascript-runtime"].Symbol,s=Package["ecmascript-runtime"].Map,u=Package["ecmascript-runtime"].Set,m=Package["babel-runtime"].meteorBabelHelpers,d=Package.promise.Promise,g,k=i({node_modules:{meteor:{"mdg:validation-error":{"validation-error.js":["babel-runtime/helpers/classCallCheck","babel-runtime/helpers/possibleConstructorReturn","babel-runtime/helpers/inherits",function(r,a,i){var o;i.import("babel-runtime/helpers/classCallCheck",{default:function(e){o=e}});var c;i.import("babel-runtime/helpers/possibleConstructorReturn",{default:function(e){c=e}});var l;i.import("babel-runtime/helpers/inherits",{default:function(e){l=e}});var s=[n.ObjectIncluding({name:String,type:String})];g=function(r){function a(e){var n,i,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g.DEFAULT_MESSAGE;return o(this,a),t(e,s),t(l,String),i=n=c(this,r.call(this,g.ERROR_CODE,l,e)),c(n,i)}return l(a,r),a.is=function(){function r(r){return r instanceof e.Error&&r.error===g.ERROR_CODE}return r}(),a}(e.Error),g.ERROR_CODE="validation-error",g.DEFAULT_MESSAGE="Validation failed"}]}}}},{extensions:[".js",".json"]});k("./node_modules/meteor/mdg:validation-error/validation-error.js"),"undefined"==typeof Package&&(Package={}),function(e,r){for(var a in r)a in e||(e[a]=r[a])}(Package["mdg:validation-error"]={},{ValidationError:g})}();

